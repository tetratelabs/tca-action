apiVersion: v1
items:
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      istio.io/rev: default
      kubectl.kubernetes.io/default-container: details
      kubectl.kubernetes.io/default-logs-container: details
      prometheus.io/path: /stats/prometheus
      prometheus.io/port: "15020"
      prometheus.io/scrape: "true"
      sidecar.istio.io/status: '{"initContainers":["istio-init"],"containers":["istio-proxy"],"volumes":["workload-socket","credential-socket","workload-certs","istio-envoy","istio-data","istio-podinfo","istio-token","istiod-ca-cert"],"imagePullSecrets":null,"revision":"default"}'
    creationTimestamp: "2024-04-08T13:56:20Z"
    generateName: details-v1-cf74bb974-
    labels:
      app: details
      pod-template-hash: cf74bb974
      security.istio.io/tlsMode: istio
      service.istio.io/canonical-name: details
      service.istio.io/canonical-revision: v1
      version: v1
    name: details-v1-cf74bb974-6vjdd
    namespace: bookinfo
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: details-v1-cf74bb974
      uid: a2ed9f55-a3e2-45c8-bec7-1a5e78a7003c
    resourceVersion: "2187846"
    uid: fbb63bd8-a488-415c-aa01-42813e495a36
  spec:
    containers:
    - image: docker.io/istio/examples-bookinfo-details-v1:1.19.1
      imagePullPolicy: IfNotPresent
      name: details
      ports:
      - containerPort: 9080
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-7thkh
        readOnly: true
    - args:
      - proxy
      - sidecar
      - --domain
      - $(POD_NAMESPACE).svc.cluster.local
      - --proxyLogLevel=warning
      - --proxyComponentLogLevel=misc:error
      - --log_output_level=default:info
      env:
      - name: JWT_POLICY
        value: third-party-jwt
      - name: PILOT_CERT_PROVIDER
        value: istiod
      - name: CA_ADDR
        value: istiod.istio-system.svc:15012
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: INSTANCE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      - name: SERVICE_ACCOUNT
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.serviceAccountName
      - name: HOST_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.hostIP
      - name: ISTIO_CPU_LIMIT
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.cpu
      - name: PROXY_CONFIG
        value: |
          {}
      - name: ISTIO_META_POD_PORTS
        value: |-
          [
              {"containerPort":9080,"protocol":"TCP"}
          ]
      - name: ISTIO_META_APP_CONTAINERS
        value: details
      - name: GOMEMLIMIT
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.memory
      - name: GOMAXPROCS
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.cpu
      - name: ISTIO_META_CLUSTER_ID
        value: Kubernetes
      - name: ISTIO_META_NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      - name: ISTIO_META_INTERCEPTION_MODE
        value: REDIRECT
      - name: ISTIO_META_WORKLOAD_NAME
        value: details-v1
      - name: ISTIO_META_OWNER
        value: kubernetes://apis/apps/v1/namespaces/bookinfo/deployments/details-v1
      - name: ISTIO_META_MESH_ID
        value: cluster.local
      - name: TRUST_DOMAIN
        value: cluster.local
      image: docker.io/istio/proxyv2:1.21.0
      imagePullPolicy: IfNotPresent
      name: istio-proxy
      ports:
      - containerPort: 15090
        name: http-envoy-prom
        protocol: TCP
      readinessProbe:
        failureThreshold: 4
        httpGet:
          path: /healthz/ready
          port: 15021
          scheme: HTTP
        periodSeconds: 15
        successThreshold: 1
        timeoutSeconds: 3
      resources:
        limits:
          cpu: "2"
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 128Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: true
        runAsGroup: 1337
        runAsNonRoot: true
        runAsUser: 1337
      startupProbe:
        failureThreshold: 600
        httpGet:
          path: /healthz/ready
          port: 15021
          scheme: HTTP
        periodSeconds: 1
        successThreshold: 1
        timeoutSeconds: 3
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/workload-spiffe-uds
        name: workload-socket
      - mountPath: /var/run/secrets/credential-uds
        name: credential-socket
      - mountPath: /var/run/secrets/workload-spiffe-credentials
        name: workload-certs
      - mountPath: /var/run/secrets/istio
        name: istiod-ca-cert
      - mountPath: /var/lib/istio/data
        name: istio-data
      - mountPath: /etc/istio/proxy
        name: istio-envoy
      - mountPath: /var/run/secrets/tokens
        name: istio-token
      - mountPath: /etc/istio/pod
        name: istio-podinfo
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-7thkh
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - args:
      - istio-iptables
      - -p
      - "15001"
      - -z
      - "15006"
      - -u
      - "1337"
      - -m
      - REDIRECT
      - -i
      - '*'
      - -x
      - ""
      - -b
      - '*'
      - -d
      - 15090,15021,15020
      - --log_output_level=default:info
      image: docker.io/istio/proxyv2:1.21.0
      imagePullPolicy: IfNotPresent
      name: istio-init
      resources:
        limits:
          cpu: "2"
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 128Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          add:
          - NET_ADMIN
          - NET_RAW
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: false
        runAsGroup: 0
        runAsNonRoot: false
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-7thkh
        readOnly: true
    nodeName: envoy-gateway-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: bookinfo-details
    serviceAccountName: bookinfo-details
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - emptyDir: {}
      name: workload-socket
    - emptyDir: {}
      name: credential-socket
    - emptyDir: {}
      name: workload-certs
    - emptyDir:
        medium: Memory
      name: istio-envoy
    - emptyDir: {}
      name: istio-data
    - downwardAPI:
        defaultMode: 420
        items:
        - fieldRef:
            apiVersion: v1
            fieldPath: metadata.labels
          path: labels
        - fieldRef:
            apiVersion: v1
            fieldPath: metadata.annotations
          path: annotations
      name: istio-podinfo
    - name: istio-token
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            audience: istio-ca
            expirationSeconds: 43200
            path: istio-token
    - configMap:
        defaultMode: 420
        name: istio-ca-root-cert
      name: istiod-ca-cert
    - name: kube-api-access-7thkh
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-04-08T13:56:22Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:27Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:27Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-04-08T13:56:20Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://90c4709848db036339c3b33fc13e0a625e0e2a622cf2ad0ebd66a8f6de517188
      image: docker.io/istio/examples-bookinfo-details-v1:1.19.1
      imageID: docker.io/istio/examples-bookinfo-details-v1@sha256:af036442261224913f5a59e4900fbb9288edcd3dfc3c7108bbd61fc3128ed6fe
      lastState:
        terminated:
          containerID: containerd://2334232073fbcc83b76eeafe9577ae7d3d77a4db7ec78ed02322d68d824f8c56
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:56Z"
      name: details
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:46Z"
    - containerID: containerd://f537ee780f3f2c9decac79622a5b118d7447d9769608eb437362a5ff36733408
      image: docker.io/istio/proxyv2:1.21.0
      imageID: docker.io/istio/proxyv2@sha256:1b10ab67aa311bcde7ebc18477d31cc73d8169ad7f3447d86c40a2b056c456e4
      lastState:
        terminated:
          containerID: containerd://e5c6a6d7b35c7d9342f4a30ce70215bf3135d3f5daf94fdc1104415d1e499e90
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:56Z"
      name: istio-proxy
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:47Z"
    hostIP: 172.18.0.2
    initContainerStatuses:
    - containerID: containerd://8f9ed00b0ae8cc452e705c6e2aa300d92a0e0e73a6d87051fd088abe0ecf9985
      image: docker.io/istio/proxyv2:1.21.0
      imageID: docker.io/istio/proxyv2@sha256:1b10ab67aa311bcde7ebc18477d31cc73d8169ad7f3447d86c40a2b056c456e4
      lastState: {}
      name: istio-init
      ready: true
      restartCount: 2
      started: false
      state:
        terminated:
          containerID: containerd://8f9ed00b0ae8cc452e705c6e2aa300d92a0e0e73a6d87051fd088abe0ecf9985
          exitCode: 0
          finishedAt: "2024-04-10T09:29:45Z"
          reason: Completed
          startedAt: "2024-04-10T09:29:45Z"
    phase: Running
    podIP: 10.244.0.19
    podIPs:
    - ip: 10.244.0.19
    qosClass: Burstable
    startTime: "2024-04-08T13:56:20Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      istio.io/rev: default
      kubectl.kubernetes.io/default-container: productpage
      kubectl.kubernetes.io/default-logs-container: productpage
      prometheus.io/path: /stats/prometheus
      prometheus.io/port: "15020"
      prometheus.io/scrape: "true"
      sidecar.istio.io/status: '{"initContainers":["istio-init"],"containers":["istio-proxy"],"volumes":["workload-socket","credential-socket","workload-certs","istio-envoy","istio-data","istio-podinfo","istio-token","istiod-ca-cert"],"imagePullSecrets":null,"revision":"default"}'
    creationTimestamp: "2024-04-08T13:56:20Z"
    generateName: productpage-v1-87d54dd59-
    labels:
      app: productpage
      pod-template-hash: 87d54dd59
      security.istio.io/tlsMode: istio
      service.istio.io/canonical-name: productpage
      service.istio.io/canonical-revision: v1
      version: v1
    name: productpage-v1-87d54dd59-fw7z6
    namespace: bookinfo
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: productpage-v1-87d54dd59
      uid: dcb584cb-dec3-4ff2-8c1e-5a899368b1d1
    resourceVersion: "2187780"
    uid: dfe77e9b-c6e2-4a44-b6b4-715cc5bcd675
  spec:
    containers:
    - image: docker.io/istio/examples-bookinfo-productpage-v1:1.19.1
      imagePullPolicy: IfNotPresent
      name: productpage
      ports:
      - containerPort: 9080
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /tmp
        name: tmp
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-zrqd6
        readOnly: true
    - args:
      - proxy
      - sidecar
      - --domain
      - $(POD_NAMESPACE).svc.cluster.local
      - --proxyLogLevel=warning
      - --proxyComponentLogLevel=misc:error
      - --log_output_level=default:info
      env:
      - name: JWT_POLICY
        value: third-party-jwt
      - name: PILOT_CERT_PROVIDER
        value: istiod
      - name: CA_ADDR
        value: istiod.istio-system.svc:15012
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: INSTANCE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      - name: SERVICE_ACCOUNT
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.serviceAccountName
      - name: HOST_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.hostIP
      - name: ISTIO_CPU_LIMIT
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.cpu
      - name: PROXY_CONFIG
        value: |
          {}
      - name: ISTIO_META_POD_PORTS
        value: |-
          [
              {"containerPort":9080,"protocol":"TCP"}
          ]
      - name: ISTIO_META_APP_CONTAINERS
        value: productpage
      - name: GOMEMLIMIT
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.memory
      - name: GOMAXPROCS
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.cpu
      - name: ISTIO_META_CLUSTER_ID
        value: Kubernetes
      - name: ISTIO_META_NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      - name: ISTIO_META_INTERCEPTION_MODE
        value: REDIRECT
      - name: ISTIO_META_WORKLOAD_NAME
        value: productpage-v1
      - name: ISTIO_META_OWNER
        value: kubernetes://apis/apps/v1/namespaces/bookinfo/deployments/productpage-v1
      - name: ISTIO_META_MESH_ID
        value: cluster.local
      - name: TRUST_DOMAIN
        value: cluster.local
      - name: ISTIO_PROMETHEUS_ANNOTATIONS
        value: '{"scrape":"true","path":"/metrics","port":"9080"}'
      image: docker.io/istio/proxyv2:1.21.0
      imagePullPolicy: IfNotPresent
      name: istio-proxy
      ports:
      - containerPort: 15090
        name: http-envoy-prom
        protocol: TCP
      readinessProbe:
        failureThreshold: 4
        httpGet:
          path: /healthz/ready
          port: 15021
          scheme: HTTP
        periodSeconds: 15
        successThreshold: 1
        timeoutSeconds: 3
      resources:
        limits:
          cpu: "2"
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 128Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: true
        runAsGroup: 1337
        runAsNonRoot: true
        runAsUser: 1337
      startupProbe:
        failureThreshold: 600
        httpGet:
          path: /healthz/ready
          port: 15021
          scheme: HTTP
        periodSeconds: 1
        successThreshold: 1
        timeoutSeconds: 3
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/workload-spiffe-uds
        name: workload-socket
      - mountPath: /var/run/secrets/credential-uds
        name: credential-socket
      - mountPath: /var/run/secrets/workload-spiffe-credentials
        name: workload-certs
      - mountPath: /var/run/secrets/istio
        name: istiod-ca-cert
      - mountPath: /var/lib/istio/data
        name: istio-data
      - mountPath: /etc/istio/proxy
        name: istio-envoy
      - mountPath: /var/run/secrets/tokens
        name: istio-token
      - mountPath: /etc/istio/pod
        name: istio-podinfo
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-zrqd6
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - args:
      - istio-iptables
      - -p
      - "15001"
      - -z
      - "15006"
      - -u
      - "1337"
      - -m
      - REDIRECT
      - -i
      - '*'
      - -x
      - ""
      - -b
      - '*'
      - -d
      - 15090,15021,15020
      - --log_output_level=default:info
      image: docker.io/istio/proxyv2:1.21.0
      imagePullPolicy: IfNotPresent
      name: istio-init
      resources:
        limits:
          cpu: "2"
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 128Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          add:
          - NET_ADMIN
          - NET_RAW
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: false
        runAsGroup: 0
        runAsNonRoot: false
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-zrqd6
        readOnly: true
    nodeName: envoy-gateway-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: bookinfo-productpage
    serviceAccountName: bookinfo-productpage
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - emptyDir: {}
      name: workload-socket
    - emptyDir: {}
      name: credential-socket
    - emptyDir: {}
      name: workload-certs
    - emptyDir:
        medium: Memory
      name: istio-envoy
    - emptyDir: {}
      name: istio-data
    - downwardAPI:
        defaultMode: 420
        items:
        - fieldRef:
            apiVersion: v1
            fieldPath: metadata.labels
          path: labels
        - fieldRef:
            apiVersion: v1
            fieldPath: metadata.annotations
          path: annotations
      name: istio-podinfo
    - name: istio-token
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            audience: istio-ca
            expirationSeconds: 43200
            path: istio-token
    - configMap:
        defaultMode: 420
        name: istio-ca-root-cert
      name: istiod-ca-cert
    - emptyDir: {}
      name: tmp
    - name: kube-api-access-zrqd6
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-04-08T13:56:22Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:23Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:23Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-04-08T13:56:20Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://9668972633a0980f3299910b9f7ae915541dd95c064a25cdeaf40997d8440ecf
      image: docker.io/istio/proxyv2:1.21.0
      imageID: docker.io/istio/proxyv2@sha256:1b10ab67aa311bcde7ebc18477d31cc73d8169ad7f3447d86c40a2b056c456e4
      lastState:
        terminated:
          containerID: containerd://49baa5f8e5b216d420ac0fbf9f0c0494bec5fcbb8cbaa2fe5080be3661258e48
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:57Z"
      name: istio-proxy
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:47Z"
    - containerID: containerd://a11571521b34ace23ad0f8912dd05b0904674265d4e79eb20f6ea59ffbca72b3
      image: docker.io/istio/examples-bookinfo-productpage-v1:1.19.1
      imageID: docker.io/istio/examples-bookinfo-productpage-v1@sha256:b474d12a5d5e96ed470029d0394aedd324b608467af9d648b06360e967a56898
      lastState:
        terminated:
          containerID: containerd://1b5c697122dce4bc4cc1e6a6054cc623bbf8a682d4afdc1f8b52f0fdb94b7a8d
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:57Z"
      name: productpage
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:46Z"
    hostIP: 172.18.0.2
    initContainerStatuses:
    - containerID: containerd://50732c7c288d8b46fea1ff12e3e012e5b0a9e4ed93cafd0608fae63102900251
      image: docker.io/istio/proxyv2:1.21.0
      imageID: docker.io/istio/proxyv2@sha256:1b10ab67aa311bcde7ebc18477d31cc73d8169ad7f3447d86c40a2b056c456e4
      lastState: {}
      name: istio-init
      ready: true
      restartCount: 2
      started: false
      state:
        terminated:
          containerID: containerd://50732c7c288d8b46fea1ff12e3e012e5b0a9e4ed93cafd0608fae63102900251
          exitCode: 0
          finishedAt: "2024-04-10T09:29:45Z"
          reason: Completed
          startedAt: "2024-04-10T09:29:45Z"
    phase: Running
    podIP: 10.244.0.15
    podIPs:
    - ip: 10.244.0.15
    qosClass: Burstable
    startTime: "2024-04-08T13:56:20Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      istio.io/rev: default
      kubectl.kubernetes.io/default-container: ratings
      kubectl.kubernetes.io/default-logs-container: ratings
      prometheus.io/path: /stats/prometheus
      prometheus.io/port: "15020"
      prometheus.io/scrape: "true"
      sidecar.istio.io/status: '{"initContainers":["istio-init"],"containers":["istio-proxy"],"volumes":["workload-socket","credential-socket","workload-certs","istio-envoy","istio-data","istio-podinfo","istio-token","istiod-ca-cert"],"imagePullSecrets":null,"revision":"default"}'
    creationTimestamp: "2024-04-08T13:56:20Z"
    generateName: ratings-v1-7c4bbf97db-
    labels:
      app: ratings
      pod-template-hash: 7c4bbf97db
      security.istio.io/tlsMode: istio
      service.istio.io/canonical-name: ratings
      service.istio.io/canonical-revision: v1
      version: v1
    name: ratings-v1-7c4bbf97db-vk2pf
    namespace: bookinfo
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: ratings-v1-7c4bbf97db
      uid: 1fc7c081-52fe-45ab-bd29-a95f8935768f
    resourceVersion: "2187842"
    uid: bafe047c-159d-4fd4-a1f7-e785d0682600
  spec:
    containers:
    - image: docker.io/istio/examples-bookinfo-ratings-v1:1.19.1
      imagePullPolicy: IfNotPresent
      name: ratings
      ports:
      - containerPort: 9080
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-99p5z
        readOnly: true
    - args:
      - proxy
      - sidecar
      - --domain
      - $(POD_NAMESPACE).svc.cluster.local
      - --proxyLogLevel=warning
      - --proxyComponentLogLevel=misc:error
      - --log_output_level=default:info
      env:
      - name: JWT_POLICY
        value: third-party-jwt
      - name: PILOT_CERT_PROVIDER
        value: istiod
      - name: CA_ADDR
        value: istiod.istio-system.svc:15012
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: INSTANCE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      - name: SERVICE_ACCOUNT
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.serviceAccountName
      - name: HOST_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.hostIP
      - name: ISTIO_CPU_LIMIT
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.cpu
      - name: PROXY_CONFIG
        value: |
          {}
      - name: ISTIO_META_POD_PORTS
        value: |-
          [
              {"containerPort":9080,"protocol":"TCP"}
          ]
      - name: ISTIO_META_APP_CONTAINERS
        value: ratings
      - name: GOMEMLIMIT
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.memory
      - name: GOMAXPROCS
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.cpu
      - name: ISTIO_META_CLUSTER_ID
        value: Kubernetes
      - name: ISTIO_META_NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      - name: ISTIO_META_INTERCEPTION_MODE
        value: REDIRECT
      - name: ISTIO_META_WORKLOAD_NAME
        value: ratings-v1
      - name: ISTIO_META_OWNER
        value: kubernetes://apis/apps/v1/namespaces/bookinfo/deployments/ratings-v1
      - name: ISTIO_META_MESH_ID
        value: cluster.local
      - name: TRUST_DOMAIN
        value: cluster.local
      image: docker.io/istio/proxyv2:1.21.0
      imagePullPolicy: IfNotPresent
      name: istio-proxy
      ports:
      - containerPort: 15090
        name: http-envoy-prom
        protocol: TCP
      readinessProbe:
        failureThreshold: 4
        httpGet:
          path: /healthz/ready
          port: 15021
          scheme: HTTP
        periodSeconds: 15
        successThreshold: 1
        timeoutSeconds: 3
      resources:
        limits:
          cpu: "2"
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 128Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: true
        runAsGroup: 1337
        runAsNonRoot: true
        runAsUser: 1337
      startupProbe:
        failureThreshold: 600
        httpGet:
          path: /healthz/ready
          port: 15021
          scheme: HTTP
        periodSeconds: 1
        successThreshold: 1
        timeoutSeconds: 3
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/workload-spiffe-uds
        name: workload-socket
      - mountPath: /var/run/secrets/credential-uds
        name: credential-socket
      - mountPath: /var/run/secrets/workload-spiffe-credentials
        name: workload-certs
      - mountPath: /var/run/secrets/istio
        name: istiod-ca-cert
      - mountPath: /var/lib/istio/data
        name: istio-data
      - mountPath: /etc/istio/proxy
        name: istio-envoy
      - mountPath: /var/run/secrets/tokens
        name: istio-token
      - mountPath: /etc/istio/pod
        name: istio-podinfo
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-99p5z
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - args:
      - istio-iptables
      - -p
      - "15001"
      - -z
      - "15006"
      - -u
      - "1337"
      - -m
      - REDIRECT
      - -i
      - '*'
      - -x
      - ""
      - -b
      - '*'
      - -d
      - 15090,15021,15020
      - --log_output_level=default:info
      image: docker.io/istio/proxyv2:1.21.0
      imagePullPolicy: IfNotPresent
      name: istio-init
      resources:
        limits:
          cpu: "2"
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 128Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          add:
          - NET_ADMIN
          - NET_RAW
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: false
        runAsGroup: 0
        runAsNonRoot: false
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-99p5z
        readOnly: true
    nodeName: envoy-gateway-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: bookinfo-ratings
    serviceAccountName: bookinfo-ratings
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - emptyDir: {}
      name: workload-socket
    - emptyDir: {}
      name: credential-socket
    - emptyDir: {}
      name: workload-certs
    - emptyDir:
        medium: Memory
      name: istio-envoy
    - emptyDir: {}
      name: istio-data
    - downwardAPI:
        defaultMode: 420
        items:
        - fieldRef:
            apiVersion: v1
            fieldPath: metadata.labels
          path: labels
        - fieldRef:
            apiVersion: v1
            fieldPath: metadata.annotations
          path: annotations
      name: istio-podinfo
    - name: istio-token
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            audience: istio-ca
            expirationSeconds: 43200
            path: istio-token
    - configMap:
        defaultMode: 420
        name: istio-ca-root-cert
      name: istiod-ca-cert
    - name: kube-api-access-99p5z
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-04-08T13:56:22Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:27Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:27Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-04-08T13:56:20Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://cff6a6bd2dae147e11f0a9aa60ddda8d4ac2b7050486228be6de23b4d1267b90
      image: docker.io/istio/proxyv2:1.21.0
      imageID: docker.io/istio/proxyv2@sha256:1b10ab67aa311bcde7ebc18477d31cc73d8169ad7f3447d86c40a2b056c456e4
      lastState:
        terminated:
          containerID: containerd://dc6871ba519802b5b95cfffe3cabe124e04a2d9016143d0dc498b36fcbc81a96
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:56Z"
      name: istio-proxy
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:47Z"
    - containerID: containerd://942996b7cee171e35f65fb09c9039c9e7e79d151cfcd7d4bd77c04a5b32a4fcf
      image: docker.io/istio/examples-bookinfo-ratings-v1:1.19.1
      imageID: docker.io/istio/examples-bookinfo-ratings-v1@sha256:d0c90519c34043b4f25eebe0b00cc8ff84e3810295d1ae01e524713b76e7a80f
      lastState:
        terminated:
          containerID: containerd://55917f0349b1542713fbb3b757518f7153e1de9d89b7d60d0e4c1abb02d459d9
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:56Z"
      name: ratings
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:46Z"
    hostIP: 172.18.0.2
    initContainerStatuses:
    - containerID: containerd://664d3ca6ebbe60720f4fe8c7bca78715d740bab4fe56bb9fa387fbedfee0b493
      image: docker.io/istio/proxyv2:1.21.0
      imageID: docker.io/istio/proxyv2@sha256:1b10ab67aa311bcde7ebc18477d31cc73d8169ad7f3447d86c40a2b056c456e4
      lastState: {}
      name: istio-init
      ready: true
      restartCount: 2
      started: false
      state:
        terminated:
          containerID: containerd://664d3ca6ebbe60720f4fe8c7bca78715d740bab4fe56bb9fa387fbedfee0b493
          exitCode: 0
          finishedAt: "2024-04-10T09:29:45Z"
          reason: Completed
          startedAt: "2024-04-10T09:29:45Z"
    phase: Running
    podIP: 10.244.0.17
    podIPs:
    - ip: 10.244.0.17
    qosClass: Burstable
    startTime: "2024-04-08T13:56:20Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      istio.io/rev: default
      kubectl.kubernetes.io/default-container: reviews
      kubectl.kubernetes.io/default-logs-container: reviews
      prometheus.io/path: /stats/prometheus
      prometheus.io/port: "15020"
      prometheus.io/scrape: "true"
      sidecar.istio.io/status: '{"initContainers":["istio-init"],"containers":["istio-proxy"],"volumes":["workload-socket","credential-socket","workload-certs","istio-envoy","istio-data","istio-podinfo","istio-token","istiod-ca-cert"],"imagePullSecrets":null,"revision":"default"}'
    creationTimestamp: "2024-04-08T13:56:20Z"
    generateName: reviews-v1-5fd6d4f8f8-
    labels:
      app: reviews
      pod-template-hash: 5fd6d4f8f8
      security.istio.io/tlsMode: istio
      service.istio.io/canonical-name: reviews
      service.istio.io/canonical-revision: v1
      version: v1
    name: reviews-v1-5fd6d4f8f8-rwhng
    namespace: bookinfo
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: reviews-v1-5fd6d4f8f8
      uid: c0cc7553-9b09-4adf-8f31-0cd2f957506f
    resourceVersion: "2187803"
    uid: ebd55dfb-c4df-42e5-88d7-94d631a62726
  spec:
    containers:
    - env:
      - name: LOG_DIR
        value: /tmp/logs
      image: docker.io/istio/examples-bookinfo-reviews-v1:1.19.1
      imagePullPolicy: IfNotPresent
      name: reviews
      ports:
      - containerPort: 9080
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /tmp
        name: tmp
      - mountPath: /opt/ibm/wlp/output
        name: wlp-output
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-5rgwq
        readOnly: true
    - args:
      - proxy
      - sidecar
      - --domain
      - $(POD_NAMESPACE).svc.cluster.local
      - --proxyLogLevel=warning
      - --proxyComponentLogLevel=misc:error
      - --log_output_level=default:info
      env:
      - name: JWT_POLICY
        value: third-party-jwt
      - name: PILOT_CERT_PROVIDER
        value: istiod
      - name: CA_ADDR
        value: istiod.istio-system.svc:15012
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: INSTANCE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      - name: SERVICE_ACCOUNT
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.serviceAccountName
      - name: HOST_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.hostIP
      - name: ISTIO_CPU_LIMIT
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.cpu
      - name: PROXY_CONFIG
        value: |
          {}
      - name: ISTIO_META_POD_PORTS
        value: |-
          [
              {"containerPort":9080,"protocol":"TCP"}
          ]
      - name: ISTIO_META_APP_CONTAINERS
        value: reviews
      - name: GOMEMLIMIT
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.memory
      - name: GOMAXPROCS
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.cpu
      - name: ISTIO_META_CLUSTER_ID
        value: Kubernetes
      - name: ISTIO_META_NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      - name: ISTIO_META_INTERCEPTION_MODE
        value: REDIRECT
      - name: ISTIO_META_WORKLOAD_NAME
        value: reviews-v1
      - name: ISTIO_META_OWNER
        value: kubernetes://apis/apps/v1/namespaces/bookinfo/deployments/reviews-v1
      - name: ISTIO_META_MESH_ID
        value: cluster.local
      - name: TRUST_DOMAIN
        value: cluster.local
      image: docker.io/istio/proxyv2:1.21.0
      imagePullPolicy: IfNotPresent
      name: istio-proxy
      ports:
      - containerPort: 15090
        name: http-envoy-prom
        protocol: TCP
      readinessProbe:
        failureThreshold: 4
        httpGet:
          path: /healthz/ready
          port: 15021
          scheme: HTTP
        periodSeconds: 15
        successThreshold: 1
        timeoutSeconds: 3
      resources:
        limits:
          cpu: "2"
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 128Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: true
        runAsGroup: 1337
        runAsNonRoot: true
        runAsUser: 1337
      startupProbe:
        failureThreshold: 600
        httpGet:
          path: /healthz/ready
          port: 15021
          scheme: HTTP
        periodSeconds: 1
        successThreshold: 1
        timeoutSeconds: 3
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/workload-spiffe-uds
        name: workload-socket
      - mountPath: /var/run/secrets/credential-uds
        name: credential-socket
      - mountPath: /var/run/secrets/workload-spiffe-credentials
        name: workload-certs
      - mountPath: /var/run/secrets/istio
        name: istiod-ca-cert
      - mountPath: /var/lib/istio/data
        name: istio-data
      - mountPath: /etc/istio/proxy
        name: istio-envoy
      - mountPath: /var/run/secrets/tokens
        name: istio-token
      - mountPath: /etc/istio/pod
        name: istio-podinfo
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-5rgwq
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - args:
      - istio-iptables
      - -p
      - "15001"
      - -z
      - "15006"
      - -u
      - "1337"
      - -m
      - REDIRECT
      - -i
      - '*'
      - -x
      - ""
      - -b
      - '*'
      - -d
      - 15090,15021,15020
      - --log_output_level=default:info
      image: docker.io/istio/proxyv2:1.21.0
      imagePullPolicy: IfNotPresent
      name: istio-init
      resources:
        limits:
          cpu: "2"
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 128Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          add:
          - NET_ADMIN
          - NET_RAW
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: false
        runAsGroup: 0
        runAsNonRoot: false
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-5rgwq
        readOnly: true
    nodeName: envoy-gateway-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: bookinfo-reviews
    serviceAccountName: bookinfo-reviews
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - emptyDir: {}
      name: workload-socket
    - emptyDir: {}
      name: credential-socket
    - emptyDir: {}
      name: workload-certs
    - emptyDir:
        medium: Memory
      name: istio-envoy
    - emptyDir: {}
      name: istio-data
    - downwardAPI:
        defaultMode: 420
        items:
        - fieldRef:
            apiVersion: v1
            fieldPath: metadata.labels
          path: labels
        - fieldRef:
            apiVersion: v1
            fieldPath: metadata.annotations
          path: annotations
      name: istio-podinfo
    - name: istio-token
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            audience: istio-ca
            expirationSeconds: 43200
            path: istio-token
    - configMap:
        defaultMode: 420
        name: istio-ca-root-cert
      name: istiod-ca-cert
    - emptyDir: {}
      name: wlp-output
    - emptyDir: {}
      name: tmp
    - name: kube-api-access-5rgwq
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-04-08T13:56:22Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:24Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:24Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-04-08T13:56:20Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://db0a207aba2004f17b59e60a712a4e73de3b2175a69ab5f916812440d08f39d9
      image: docker.io/istio/proxyv2:1.21.0
      imageID: docker.io/istio/proxyv2@sha256:1b10ab67aa311bcde7ebc18477d31cc73d8169ad7f3447d86c40a2b056c456e4
      lastState:
        terminated:
          containerID: containerd://0e850efaa3826a678ffd7536995685f645325fb840e935e3ee5c33bdda988b59
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:57Z"
      name: istio-proxy
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:46Z"
    - containerID: containerd://e54af136f6306343dbd8026d2b25c0a3d857b27977787ddf1f8003835e0177fd
      image: docker.io/istio/examples-bookinfo-reviews-v1:1.19.1
      imageID: docker.io/istio/examples-bookinfo-reviews-v1@sha256:74badb03994883eb377030bbba4a28a8a8d43e640e149e3516181e2c49607336
      lastState:
        terminated:
          containerID: containerd://e12a076319b27d83c07baf6cfbff126f0e4e34b7a064f80200e5b84d61517235
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:57Z"
      name: reviews
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:46Z"
    hostIP: 172.18.0.2
    initContainerStatuses:
    - containerID: containerd://6abb76bdceedd422a3354f548bfe9d2be598ab5cf3550f07c78335ccd035860b
      image: docker.io/istio/proxyv2:1.21.0
      imageID: docker.io/istio/proxyv2@sha256:1b10ab67aa311bcde7ebc18477d31cc73d8169ad7f3447d86c40a2b056c456e4
      lastState: {}
      name: istio-init
      ready: true
      restartCount: 2
      started: false
      state:
        terminated:
          containerID: containerd://6abb76bdceedd422a3354f548bfe9d2be598ab5cf3550f07c78335ccd035860b
          exitCode: 0
          finishedAt: "2024-04-10T09:29:45Z"
          reason: Completed
          startedAt: "2024-04-10T09:29:45Z"
    phase: Running
    podIP: 10.244.0.16
    podIPs:
    - ip: 10.244.0.16
    qosClass: Burstable
    startTime: "2024-04-08T13:56:20Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      istio.io/rev: default
      kubectl.kubernetes.io/default-container: reviews
      kubectl.kubernetes.io/default-logs-container: reviews
      prometheus.io/path: /stats/prometheus
      prometheus.io/port: "15020"
      prometheus.io/scrape: "true"
      sidecar.istio.io/status: '{"initContainers":["istio-init"],"containers":["istio-proxy"],"volumes":["workload-socket","credential-socket","workload-certs","istio-envoy","istio-data","istio-podinfo","istio-token","istiod-ca-cert"],"imagePullSecrets":null,"revision":"default"}'
    creationTimestamp: "2024-04-08T13:56:20Z"
    generateName: reviews-v2-6f9b55c5db-
    labels:
      app: reviews
      pod-template-hash: 6f9b55c5db
      security.istio.io/tlsMode: istio
      service.istio.io/canonical-name: reviews
      service.istio.io/canonical-revision: v2
      version: v2
    name: reviews-v2-6f9b55c5db-ggqhl
    namespace: bookinfo
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: reviews-v2-6f9b55c5db
      uid: 931d7daa-2eb2-464b-b7fa-03b98ea8bbe2
    resourceVersion: "2187772"
    uid: ae7bb66f-82c8-48d7-8c16-435ae6b63042
  spec:
    containers:
    - env:
      - name: LOG_DIR
        value: /tmp/logs
      image: docker.io/istio/examples-bookinfo-reviews-v2:1.19.1
      imagePullPolicy: IfNotPresent
      name: reviews
      ports:
      - containerPort: 9080
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /tmp
        name: tmp
      - mountPath: /opt/ibm/wlp/output
        name: wlp-output
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-gzcw4
        readOnly: true
    - args:
      - proxy
      - sidecar
      - --domain
      - $(POD_NAMESPACE).svc.cluster.local
      - --proxyLogLevel=warning
      - --proxyComponentLogLevel=misc:error
      - --log_output_level=default:info
      env:
      - name: JWT_POLICY
        value: third-party-jwt
      - name: PILOT_CERT_PROVIDER
        value: istiod
      - name: CA_ADDR
        value: istiod.istio-system.svc:15012
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: INSTANCE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      - name: SERVICE_ACCOUNT
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.serviceAccountName
      - name: HOST_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.hostIP
      - name: ISTIO_CPU_LIMIT
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.cpu
      - name: PROXY_CONFIG
        value: |
          {}
      - name: ISTIO_META_POD_PORTS
        value: |-
          [
              {"containerPort":9080,"protocol":"TCP"}
          ]
      - name: ISTIO_META_APP_CONTAINERS
        value: reviews
      - name: GOMEMLIMIT
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.memory
      - name: GOMAXPROCS
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.cpu
      - name: ISTIO_META_CLUSTER_ID
        value: Kubernetes
      - name: ISTIO_META_NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      - name: ISTIO_META_INTERCEPTION_MODE
        value: REDIRECT
      - name: ISTIO_META_WORKLOAD_NAME
        value: reviews-v2
      - name: ISTIO_META_OWNER
        value: kubernetes://apis/apps/v1/namespaces/bookinfo/deployments/reviews-v2
      - name: ISTIO_META_MESH_ID
        value: cluster.local
      - name: TRUST_DOMAIN
        value: cluster.local
      image: docker.io/istio/proxyv2:1.21.0
      imagePullPolicy: IfNotPresent
      name: istio-proxy
      ports:
      - containerPort: 15090
        name: http-envoy-prom
        protocol: TCP
      readinessProbe:
        failureThreshold: 4
        httpGet:
          path: /healthz/ready
          port: 15021
          scheme: HTTP
        periodSeconds: 15
        successThreshold: 1
        timeoutSeconds: 3
      resources:
        limits:
          cpu: "2"
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 128Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: true
        runAsGroup: 1337
        runAsNonRoot: true
        runAsUser: 1337
      startupProbe:
        failureThreshold: 600
        httpGet:
          path: /healthz/ready
          port: 15021
          scheme: HTTP
        periodSeconds: 1
        successThreshold: 1
        timeoutSeconds: 3
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/workload-spiffe-uds
        name: workload-socket
      - mountPath: /var/run/secrets/credential-uds
        name: credential-socket
      - mountPath: /var/run/secrets/workload-spiffe-credentials
        name: workload-certs
      - mountPath: /var/run/secrets/istio
        name: istiod-ca-cert
      - mountPath: /var/lib/istio/data
        name: istio-data
      - mountPath: /etc/istio/proxy
        name: istio-envoy
      - mountPath: /var/run/secrets/tokens
        name: istio-token
      - mountPath: /etc/istio/pod
        name: istio-podinfo
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-gzcw4
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - args:
      - istio-iptables
      - -p
      - "15001"
      - -z
      - "15006"
      - -u
      - "1337"
      - -m
      - REDIRECT
      - -i
      - '*'
      - -x
      - ""
      - -b
      - '*'
      - -d
      - 15090,15021,15020
      - --log_output_level=default:info
      image: docker.io/istio/proxyv2:1.21.0
      imagePullPolicy: IfNotPresent
      name: istio-init
      resources:
        limits:
          cpu: "2"
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 128Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          add:
          - NET_ADMIN
          - NET_RAW
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: false
        runAsGroup: 0
        runAsNonRoot: false
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-gzcw4
        readOnly: true
    nodeName: envoy-gateway-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: bookinfo-reviews
    serviceAccountName: bookinfo-reviews
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - emptyDir: {}
      name: workload-socket
    - emptyDir: {}
      name: credential-socket
    - emptyDir: {}
      name: workload-certs
    - emptyDir:
        medium: Memory
      name: istio-envoy
    - emptyDir: {}
      name: istio-data
    - downwardAPI:
        defaultMode: 420
        items:
        - fieldRef:
            apiVersion: v1
            fieldPath: metadata.labels
          path: labels
        - fieldRef:
            apiVersion: v1
            fieldPath: metadata.annotations
          path: annotations
      name: istio-podinfo
    - name: istio-token
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            audience: istio-ca
            expirationSeconds: 43200
            path: istio-token
    - configMap:
        defaultMode: 420
        name: istio-ca-root-cert
      name: istiod-ca-cert
    - emptyDir: {}
      name: wlp-output
    - emptyDir: {}
      name: tmp
    - name: kube-api-access-gzcw4
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-04-08T13:56:22Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:22Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:22Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-04-08T13:56:20Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://848a0054b8aea69bb941353e492776579a3f89d72d8344d7985eb1586dfef17e
      image: docker.io/istio/proxyv2:1.21.0
      imageID: docker.io/istio/proxyv2@sha256:1b10ab67aa311bcde7ebc18477d31cc73d8169ad7f3447d86c40a2b056c456e4
      lastState:
        terminated:
          containerID: containerd://5abf365d48bad5162686eb41df7d85d4b25b8c5357a40840a8e8fe032d98b23d
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:56Z"
      name: istio-proxy
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:46Z"
    - containerID: containerd://390d32e2686ab6a6ed30299874b3747296bb0b931b4d43e49d8d55bd29e9ca30
      image: docker.io/istio/examples-bookinfo-reviews-v2:1.19.1
      imageID: docker.io/istio/examples-bookinfo-reviews-v2@sha256:bccbc74ff5ff63ce8423de2f5b9a5892517c5666c0d463eda7630187655ef443
      lastState:
        terminated:
          containerID: containerd://a5f7fc0d9d34c68667de797dcb94368b7e70608e54d11c1a728bc1aee742b7fd
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:56Z"
      name: reviews
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:46Z"
    hostIP: 172.18.0.2
    initContainerStatuses:
    - containerID: containerd://44f95e9d5ab42c87920625da5bae6de318d2f005f65dabce12b285450b18cce8
      image: docker.io/istio/proxyv2:1.21.0
      imageID: docker.io/istio/proxyv2@sha256:1b10ab67aa311bcde7ebc18477d31cc73d8169ad7f3447d86c40a2b056c456e4
      lastState: {}
      name: istio-init
      ready: true
      restartCount: 2
      started: false
      state:
        terminated:
          containerID: containerd://44f95e9d5ab42c87920625da5bae6de318d2f005f65dabce12b285450b18cce8
          exitCode: 0
          finishedAt: "2024-04-10T09:29:45Z"
          reason: Completed
          startedAt: "2024-04-10T09:29:45Z"
    phase: Running
    podIP: 10.244.0.13
    podIPs:
    - ip: 10.244.0.13
    qosClass: Burstable
    startTime: "2024-04-08T13:56:20Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      istio.io/rev: default
      kubectl.kubernetes.io/default-container: reviews
      kubectl.kubernetes.io/default-logs-container: reviews
      prometheus.io/path: /stats/prometheus
      prometheus.io/port: "15020"
      prometheus.io/scrape: "true"
      sidecar.istio.io/status: '{"initContainers":["istio-init"],"containers":["istio-proxy"],"volumes":["workload-socket","credential-socket","workload-certs","istio-envoy","istio-data","istio-podinfo","istio-token","istiod-ca-cert"],"imagePullSecrets":null,"revision":"default"}'
    creationTimestamp: "2024-04-08T13:56:20Z"
    generateName: reviews-v3-7d99fd7978-
    labels:
      app: reviews
      pod-template-hash: 7d99fd7978
      security.istio.io/tlsMode: istio
      service.istio.io/canonical-name: reviews
      service.istio.io/canonical-revision: v3
      version: v3
    name: reviews-v3-7d99fd7978-sj9d6
    namespace: bookinfo
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: reviews-v3-7d99fd7978
      uid: 45143b66-f4a3-4a01-95c1-7edae4924808
    resourceVersion: "2187872"
    uid: 7cb96f2e-0ba8-47b0-852a-6ad3a1c6391a
  spec:
    containers:
    - env:
      - name: LOG_DIR
        value: /tmp/logs
      image: docker.io/istio/examples-bookinfo-reviews-v3:1.19.1
      imagePullPolicy: IfNotPresent
      name: reviews
      ports:
      - containerPort: 9080
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /tmp
        name: tmp
      - mountPath: /opt/ibm/wlp/output
        name: wlp-output
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-5nvtr
        readOnly: true
    - args:
      - proxy
      - sidecar
      - --domain
      - $(POD_NAMESPACE).svc.cluster.local
      - --proxyLogLevel=warning
      - --proxyComponentLogLevel=misc:error
      - --log_output_level=default:info
      env:
      - name: JWT_POLICY
        value: third-party-jwt
      - name: PILOT_CERT_PROVIDER
        value: istiod
      - name: CA_ADDR
        value: istiod.istio-system.svc:15012
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: INSTANCE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      - name: SERVICE_ACCOUNT
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.serviceAccountName
      - name: HOST_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.hostIP
      - name: ISTIO_CPU_LIMIT
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.cpu
      - name: PROXY_CONFIG
        value: |
          {}
      - name: ISTIO_META_POD_PORTS
        value: |-
          [
              {"containerPort":9080,"protocol":"TCP"}
          ]
      - name: ISTIO_META_APP_CONTAINERS
        value: reviews
      - name: GOMEMLIMIT
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.memory
      - name: GOMAXPROCS
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.cpu
      - name: ISTIO_META_CLUSTER_ID
        value: Kubernetes
      - name: ISTIO_META_NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      - name: ISTIO_META_INTERCEPTION_MODE
        value: REDIRECT
      - name: ISTIO_META_WORKLOAD_NAME
        value: reviews-v3
      - name: ISTIO_META_OWNER
        value: kubernetes://apis/apps/v1/namespaces/bookinfo/deployments/reviews-v3
      - name: ISTIO_META_MESH_ID
        value: cluster.local
      - name: TRUST_DOMAIN
        value: cluster.local
      image: docker.io/istio/proxyv2:1.21.0
      imagePullPolicy: IfNotPresent
      name: istio-proxy
      ports:
      - containerPort: 15090
        name: http-envoy-prom
        protocol: TCP
      readinessProbe:
        failureThreshold: 4
        httpGet:
          path: /healthz/ready
          port: 15021
          scheme: HTTP
        periodSeconds: 15
        successThreshold: 1
        timeoutSeconds: 3
      resources:
        limits:
          cpu: "2"
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 128Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: true
        runAsGroup: 1337
        runAsNonRoot: true
        runAsUser: 1337
      startupProbe:
        failureThreshold: 600
        httpGet:
          path: /healthz/ready
          port: 15021
          scheme: HTTP
        periodSeconds: 1
        successThreshold: 1
        timeoutSeconds: 3
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/workload-spiffe-uds
        name: workload-socket
      - mountPath: /var/run/secrets/credential-uds
        name: credential-socket
      - mountPath: /var/run/secrets/workload-spiffe-credentials
        name: workload-certs
      - mountPath: /var/run/secrets/istio
        name: istiod-ca-cert
      - mountPath: /var/lib/istio/data
        name: istio-data
      - mountPath: /etc/istio/proxy
        name: istio-envoy
      - mountPath: /var/run/secrets/tokens
        name: istio-token
      - mountPath: /etc/istio/pod
        name: istio-podinfo
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-5nvtr
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - args:
      - istio-iptables
      - -p
      - "15001"
      - -z
      - "15006"
      - -u
      - "1337"
      - -m
      - REDIRECT
      - -i
      - '*'
      - -x
      - ""
      - -b
      - '*'
      - -d
      - 15090,15021,15020
      - --log_output_level=default:info
      image: docker.io/istio/proxyv2:1.21.0
      imagePullPolicy: IfNotPresent
      name: istio-init
      resources:
        limits:
          cpu: "2"
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 128Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          add:
          - NET_ADMIN
          - NET_RAW
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: false
        runAsGroup: 0
        runAsNonRoot: false
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-5nvtr
        readOnly: true
    nodeName: envoy-gateway-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: bookinfo-reviews
    serviceAccountName: bookinfo-reviews
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - emptyDir: {}
      name: workload-socket
    - emptyDir: {}
      name: credential-socket
    - emptyDir: {}
      name: workload-certs
    - emptyDir:
        medium: Memory
      name: istio-envoy
    - emptyDir: {}
      name: istio-data
    - downwardAPI:
        defaultMode: 420
        items:
        - fieldRef:
            apiVersion: v1
            fieldPath: metadata.labels
          path: labels
        - fieldRef:
            apiVersion: v1
            fieldPath: metadata.annotations
          path: annotations
      name: istio-podinfo
    - name: istio-token
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            audience: istio-ca
            expirationSeconds: 43200
            path: istio-token
    - configMap:
        defaultMode: 420
        name: istio-ca-root-cert
      name: istiod-ca-cert
    - emptyDir: {}
      name: wlp-output
    - emptyDir: {}
      name: tmp
    - name: kube-api-access-5nvtr
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-04-08T13:56:22Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:32Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:32Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-04-08T13:56:20Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://3cbf75dc3ad29ba04a85625e8f581714523841ca2473d1532c4557423a1a95f5
      image: docker.io/istio/proxyv2:1.21.0
      imageID: docker.io/istio/proxyv2@sha256:1b10ab67aa311bcde7ebc18477d31cc73d8169ad7f3447d86c40a2b056c456e4
      lastState:
        terminated:
          containerID: containerd://0c59a5aaa9c009f62e1cb570529df599a7ea4eca8954b96f279a0cf7f1c03539
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:57Z"
      name: istio-proxy
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:46Z"
    - containerID: containerd://044418185a9285dce9486bd19452c2a72ac395bf44b424b1d0b2140f63da131e
      image: docker.io/istio/examples-bookinfo-reviews-v3:1.19.1
      imageID: docker.io/istio/examples-bookinfo-reviews-v3@sha256:28deb5912675d11b4e311412a78a784d3d2ee647aad15eb7baf5c42f7300181f
      lastState:
        terminated:
          containerID: containerd://1d68a021d8630989074c07e924f645276df6952faf2613a45e4653706b7fb96d
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:57Z"
      name: reviews
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:46Z"
    hostIP: 172.18.0.2
    initContainerStatuses:
    - containerID: containerd://8af6bd9da52ceef270cc5b33895e5c43a18629ca96d99bd29fe6206ebf512735
      image: docker.io/istio/proxyv2:1.21.0
      imageID: docker.io/istio/proxyv2@sha256:1b10ab67aa311bcde7ebc18477d31cc73d8169ad7f3447d86c40a2b056c456e4
      lastState: {}
      name: istio-init
      ready: true
      restartCount: 2
      started: false
      state:
        terminated:
          containerID: containerd://8af6bd9da52ceef270cc5b33895e5c43a18629ca96d99bd29fe6206ebf512735
          exitCode: 0
          finishedAt: "2024-04-10T09:29:45Z"
          reason: Completed
          startedAt: "2024-04-10T09:29:45Z"
    phase: Running
    podIP: 10.244.0.18
    podIPs:
    - ip: 10.244.0.18
    qosClass: Burstable
    startTime: "2024-04-08T13:56:20Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      istio.io/rev: default
      kubectl.kubernetes.io/default-container: httpbin
      kubectl.kubernetes.io/default-logs-container: httpbin
      prometheus.io/path: /stats/prometheus
      prometheus.io/port: "15020"
      prometheus.io/scrape: "true"
      sidecar.istio.io/status: '{"initContainers":["istio-init"],"containers":["istio-proxy"],"volumes":["workload-socket","credential-socket","workload-certs","istio-envoy","istio-data","istio-podinfo","istio-token","istiod-ca-cert"],"imagePullSecrets":null,"revision":"default"}'
    creationTimestamp: "2024-04-07T13:02:32Z"
    generateName: httpbin-86b8ffc5ff-
    labels:
      app: httpbin
      pod-template-hash: 86b8ffc5ff
      security.istio.io/tlsMode: istio
      service.istio.io/canonical-name: httpbin
      service.istio.io/canonical-revision: v1
      version: v1
    name: httpbin-86b8ffc5ff-nlp5t
    namespace: default
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: httpbin-86b8ffc5ff
      uid: 1f817831-e149-4d57-a9ce-64c26e85a606
    resourceVersion: "2187836"
    uid: bb024394-e9af-4fe7-8582-2acff414cc97
  spec:
    containers:
    - command:
      - gunicorn
      - -b
      - 0.0.0.0:8080
      - httpbin:app
      - -k
      - gevent
      env:
      - name: WORKON_HOME
        value: /tmp
      image: docker.io/kong/httpbin
      imagePullPolicy: IfNotPresent
      name: httpbin
      ports:
      - containerPort: 8080
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-k5rfr
        readOnly: true
    - args:
      - proxy
      - sidecar
      - --domain
      - $(POD_NAMESPACE).svc.cluster.local
      - --proxyLogLevel=warning
      - --proxyComponentLogLevel=misc:error
      - --log_output_level=default:info
      env:
      - name: JWT_POLICY
        value: third-party-jwt
      - name: PILOT_CERT_PROVIDER
        value: istiod
      - name: CA_ADDR
        value: istiod.istio-system.svc:15012
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: INSTANCE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      - name: SERVICE_ACCOUNT
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.serviceAccountName
      - name: HOST_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.hostIP
      - name: ISTIO_CPU_LIMIT
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.cpu
      - name: PROXY_CONFIG
        value: |
          {}
      - name: ISTIO_META_POD_PORTS
        value: |-
          [
              {"containerPort":8080,"protocol":"TCP"}
          ]
      - name: ISTIO_META_APP_CONTAINERS
        value: httpbin
      - name: GOMEMLIMIT
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.memory
      - name: GOMAXPROCS
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.cpu
      - name: ISTIO_META_CLUSTER_ID
        value: Kubernetes
      - name: ISTIO_META_NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      - name: ISTIO_META_INTERCEPTION_MODE
        value: REDIRECT
      - name: ISTIO_META_WORKLOAD_NAME
        value: httpbin
      - name: ISTIO_META_OWNER
        value: kubernetes://apis/apps/v1/namespaces/default/deployments/httpbin
      - name: ISTIO_META_MESH_ID
        value: cluster.local
      - name: TRUST_DOMAIN
        value: cluster.local
      image: docker.io/istio/proxyv2:1.21.0
      imagePullPolicy: IfNotPresent
      name: istio-proxy
      ports:
      - containerPort: 15090
        name: http-envoy-prom
        protocol: TCP
      readinessProbe:
        failureThreshold: 4
        httpGet:
          path: /healthz/ready
          port: 15021
          scheme: HTTP
        periodSeconds: 15
        successThreshold: 1
        timeoutSeconds: 3
      resources:
        limits:
          cpu: "2"
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 128Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: true
        runAsGroup: 1337
        runAsNonRoot: true
        runAsUser: 1337
      startupProbe:
        failureThreshold: 600
        httpGet:
          path: /healthz/ready
          port: 15021
          scheme: HTTP
        periodSeconds: 1
        successThreshold: 1
        timeoutSeconds: 3
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/workload-spiffe-uds
        name: workload-socket
      - mountPath: /var/run/secrets/credential-uds
        name: credential-socket
      - mountPath: /var/run/secrets/workload-spiffe-credentials
        name: workload-certs
      - mountPath: /var/run/secrets/istio
        name: istiod-ca-cert
      - mountPath: /var/lib/istio/data
        name: istio-data
      - mountPath: /etc/istio/proxy
        name: istio-envoy
      - mountPath: /var/run/secrets/tokens
        name: istio-token
      - mountPath: /etc/istio/pod
        name: istio-podinfo
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-k5rfr
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - args:
      - istio-iptables
      - -p
      - "15001"
      - -z
      - "15006"
      - -u
      - "1337"
      - -m
      - REDIRECT
      - -i
      - '*'
      - -x
      - ""
      - -b
      - '*'
      - -d
      - 15090,15021,15020
      - --log_output_level=default:info
      image: docker.io/istio/proxyv2:1.21.0
      imagePullPolicy: IfNotPresent
      name: istio-init
      resources:
        limits:
          cpu: "2"
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 128Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          add:
          - NET_ADMIN
          - NET_RAW
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: false
        runAsGroup: 0
        runAsNonRoot: false
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-k5rfr
        readOnly: true
    nodeName: envoy-gateway-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: httpbin
    serviceAccountName: httpbin
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - emptyDir: {}
      name: workload-socket
    - emptyDir: {}
      name: credential-socket
    - emptyDir: {}
      name: workload-certs
    - emptyDir:
        medium: Memory
      name: istio-envoy
    - emptyDir: {}
      name: istio-data
    - downwardAPI:
        defaultMode: 420
        items:
        - fieldRef:
            apiVersion: v1
            fieldPath: metadata.labels
          path: labels
        - fieldRef:
            apiVersion: v1
            fieldPath: metadata.annotations
          path: annotations
      name: istio-podinfo
    - name: istio-token
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            audience: istio-ca
            expirationSeconds: 43200
            path: istio-token
    - configMap:
        defaultMode: 420
        name: istio-ca-root-cert
      name: istiod-ca-cert
    - name: kube-api-access-k5rfr
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-04-07T13:02:33Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:27Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:27Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-04-07T13:02:32Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://b3f54804562e7f71fae6149b44f18d4c96c89722cf05a8c614006e22d7eb60c0
      image: docker.io/kong/httpbin:latest
      imageID: docker.io/kong/httpbin@sha256:b9bfd44e6aca835b6622fc0ebb03372792ac3fb5c36477c3c970691a7e30bb20
      lastState:
        terminated:
          containerID: containerd://78f9f936bce86081ea597c1b94b10be0a8841a035efa3f2c5b35e352d9ee9b8b
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:57Z"
      name: httpbin
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:46Z"
    - containerID: containerd://a47ea7ffb467a5130690a48f26537eeb7b2dbfd35b21ce7454f0c7f23b3fd072
      image: docker.io/istio/proxyv2:1.21.0
      imageID: docker.io/istio/proxyv2@sha256:1b10ab67aa311bcde7ebc18477d31cc73d8169ad7f3447d86c40a2b056c456e4
      lastState:
        terminated:
          containerID: containerd://e27bb2c10f56e8b531d2e222107c60da02557c3962684f281838c54137e0a72f
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:57Z"
      name: istio-proxy
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:46Z"
    hostIP: 172.18.0.2
    initContainerStatuses:
    - containerID: containerd://d2ca7ccc3fcf75ba98bbe9c1492462480276b53274c0abbe2c98e92d75abbf08
      image: docker.io/istio/proxyv2:1.21.0
      imageID: docker.io/istio/proxyv2@sha256:1b10ab67aa311bcde7ebc18477d31cc73d8169ad7f3447d86c40a2b056c456e4
      lastState: {}
      name: istio-init
      ready: true
      restartCount: 2
      started: false
      state:
        terminated:
          containerID: containerd://d2ca7ccc3fcf75ba98bbe9c1492462480276b53274c0abbe2c98e92d75abbf08
          exitCode: 0
          finishedAt: "2024-04-10T09:29:45Z"
          reason: Completed
          startedAt: "2024-04-10T09:29:45Z"
    phase: Running
    podIP: 10.244.0.12
    podIPs:
    - ip: 10.244.0.12
    qosClass: Burstable
    startTime: "2024-04-07T13:02:32Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      istio.io/rev: default
      kubectl.kubernetes.io/default-container: sleep
      kubectl.kubernetes.io/default-logs-container: sleep
      prometheus.io/path: /stats/prometheus
      prometheus.io/port: "15020"
      prometheus.io/scrape: "true"
      sidecar.istio.io/status: '{"initContainers":["istio-init"],"containers":["istio-proxy"],"volumes":["workload-socket","credential-socket","workload-certs","istio-envoy","istio-data","istio-podinfo","istio-token","istiod-ca-cert"],"imagePullSecrets":null,"revision":"default"}'
    creationTimestamp: "2024-04-07T13:02:32Z"
    generateName: sleep-7656cf8794-
    labels:
      app: sleep
      pod-template-hash: 7656cf8794
      security.istio.io/tlsMode: istio
      service.istio.io/canonical-name: sleep
      service.istio.io/canonical-revision: latest
    name: sleep-7656cf8794-rpxg9
    namespace: default
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: sleep-7656cf8794
      uid: 87bf24f5-f901-4a30-bc81-dbf4fc87349a
    resourceVersion: "2187851"
    uid: 4255368c-af4e-47b2-b2ea-e5d2d1bc9e24
  spec:
    containers:
    - command:
      - /bin/sleep
      - infinity
      image: curlimages/curl
      imagePullPolicy: IfNotPresent
      name: sleep
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/sleep/tls
        name: secret-volume
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-88j79
        readOnly: true
    - args:
      - proxy
      - sidecar
      - --domain
      - $(POD_NAMESPACE).svc.cluster.local
      - --proxyLogLevel=warning
      - --proxyComponentLogLevel=misc:error
      - --log_output_level=default:info
      env:
      - name: JWT_POLICY
        value: third-party-jwt
      - name: PILOT_CERT_PROVIDER
        value: istiod
      - name: CA_ADDR
        value: istiod.istio-system.svc:15012
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: INSTANCE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      - name: SERVICE_ACCOUNT
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.serviceAccountName
      - name: HOST_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.hostIP
      - name: ISTIO_CPU_LIMIT
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.cpu
      - name: PROXY_CONFIG
        value: |
          {}
      - name: ISTIO_META_POD_PORTS
        value: |-
          [
          ]
      - name: ISTIO_META_APP_CONTAINERS
        value: sleep
      - name: GOMEMLIMIT
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.memory
      - name: GOMAXPROCS
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.cpu
      - name: ISTIO_META_CLUSTER_ID
        value: Kubernetes
      - name: ISTIO_META_NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      - name: ISTIO_META_INTERCEPTION_MODE
        value: REDIRECT
      - name: ISTIO_META_WORKLOAD_NAME
        value: sleep
      - name: ISTIO_META_OWNER
        value: kubernetes://apis/apps/v1/namespaces/default/deployments/sleep
      - name: ISTIO_META_MESH_ID
        value: cluster.local
      - name: TRUST_DOMAIN
        value: cluster.local
      image: docker.io/istio/proxyv2:1.21.0
      imagePullPolicy: IfNotPresent
      name: istio-proxy
      ports:
      - containerPort: 15090
        name: http-envoy-prom
        protocol: TCP
      readinessProbe:
        failureThreshold: 4
        httpGet:
          path: /healthz/ready
          port: 15021
          scheme: HTTP
        periodSeconds: 15
        successThreshold: 1
        timeoutSeconds: 3
      resources:
        limits:
          cpu: "2"
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 128Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: true
        runAsGroup: 1337
        runAsNonRoot: true
        runAsUser: 1337
      startupProbe:
        failureThreshold: 600
        httpGet:
          path: /healthz/ready
          port: 15021
          scheme: HTTP
        periodSeconds: 1
        successThreshold: 1
        timeoutSeconds: 3
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/workload-spiffe-uds
        name: workload-socket
      - mountPath: /var/run/secrets/credential-uds
        name: credential-socket
      - mountPath: /var/run/secrets/workload-spiffe-credentials
        name: workload-certs
      - mountPath: /var/run/secrets/istio
        name: istiod-ca-cert
      - mountPath: /var/lib/istio/data
        name: istio-data
      - mountPath: /etc/istio/proxy
        name: istio-envoy
      - mountPath: /var/run/secrets/tokens
        name: istio-token
      - mountPath: /etc/istio/pod
        name: istio-podinfo
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-88j79
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - args:
      - istio-iptables
      - -p
      - "15001"
      - -z
      - "15006"
      - -u
      - "1337"
      - -m
      - REDIRECT
      - -i
      - '*'
      - -x
      - ""
      - -b
      - '*'
      - -d
      - 15090,15021,15020
      - --log_output_level=default:info
      image: docker.io/istio/proxyv2:1.21.0
      imagePullPolicy: IfNotPresent
      name: istio-init
      resources:
        limits:
          cpu: "2"
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 128Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          add:
          - NET_ADMIN
          - NET_RAW
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: false
        runAsGroup: 0
        runAsNonRoot: false
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-88j79
        readOnly: true
    nodeName: envoy-gateway-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: sleep
    serviceAccountName: sleep
    terminationGracePeriodSeconds: 0
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - emptyDir: {}
      name: workload-socket
    - emptyDir: {}
      name: credential-socket
    - emptyDir: {}
      name: workload-certs
    - emptyDir:
        medium: Memory
      name: istio-envoy
    - emptyDir: {}
      name: istio-data
    - downwardAPI:
        defaultMode: 420
        items:
        - fieldRef:
            apiVersion: v1
            fieldPath: metadata.labels
          path: labels
        - fieldRef:
            apiVersion: v1
            fieldPath: metadata.annotations
          path: annotations
      name: istio-podinfo
    - name: istio-token
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            audience: istio-ca
            expirationSeconds: 43200
            path: istio-token
    - configMap:
        defaultMode: 420
        name: istio-ca-root-cert
      name: istiod-ca-cert
    - name: secret-volume
      secret:
        defaultMode: 420
        optional: true
        secretName: sleep-secret
    - name: kube-api-access-88j79
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-04-07T13:02:33Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:27Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:27Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-04-07T13:02:32Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://066caf796f9ddb03a52f9a5eaeece1d611dc85544d1750d4b75c816fdfe94de6
      image: docker.io/istio/proxyv2:1.21.0
      imageID: docker.io/istio/proxyv2@sha256:1b10ab67aa311bcde7ebc18477d31cc73d8169ad7f3447d86c40a2b056c456e4
      lastState:
        terminated:
          containerID: containerd://6af8958c79cd6699b1df686ecfc57e104b782b0e3fbeb1667f64ff578b9d0b7c
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:57Z"
      name: istio-proxy
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:46Z"
    - containerID: containerd://fa1cc942e3b1c49c7dcba12a4f876e9f936466926974422a01ec9bb2acf2903b
      image: docker.io/curlimages/curl:latest
      imageID: docker.io/curlimages/curl@sha256:c3b8bee303c6c6beed656cfc921218c529d65aa61114eb9e27c62047a1271b9b
      lastState:
        terminated:
          containerID: containerd://4953b0f5fa86a2b64b41dbc46f43db7d258077f0597c08969f2b3518d0979441
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:57Z"
      name: sleep
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:46Z"
    hostIP: 172.18.0.2
    initContainerStatuses:
    - containerID: containerd://677c095d77695e2ac48194c64c25752322cc0f766a6b8dea80333c14c4a6f2ec
      image: docker.io/istio/proxyv2:1.21.0
      imageID: docker.io/istio/proxyv2@sha256:1b10ab67aa311bcde7ebc18477d31cc73d8169ad7f3447d86c40a2b056c456e4
      lastState: {}
      name: istio-init
      ready: true
      restartCount: 2
      started: false
      state:
        terminated:
          containerID: containerd://677c095d77695e2ac48194c64c25752322cc0f766a6b8dea80333c14c4a6f2ec
          exitCode: 0
          finishedAt: "2024-04-10T09:29:45Z"
          reason: Completed
          startedAt: "2024-04-10T09:29:45Z"
    phase: Running
    podIP: 10.244.0.20
    podIPs:
    - ip: 10.244.0.20
    qosClass: Burstable
    startTime: "2024-04-07T13:02:32Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      istio.io/rev: default
      prometheus.io/path: /stats/prometheus
      prometheus.io/port: "15020"
      prometheus.io/scrape: "true"
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2024-04-07T12:57:01Z"
    generateName: istio-ingressgateway-845c5b6988-
    labels:
      app: istio-ingressgateway
      chart: gateways
      heritage: Tiller
      install.operator.istio.io/owning-resource: unknown
      istio: ingressgateway
      istio.io/rev: default
      operator.istio.io/component: IngressGateways
      pod-template-hash: 845c5b6988
      release: istio
      service.istio.io/canonical-name: istio-ingressgateway
      service.istio.io/canonical-revision: latest
      sidecar.istio.io/inject: "false"
    name: istio-ingressgateway-845c5b6988-flrgs
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: istio-ingressgateway-845c5b6988
      uid: 50dea122-b494-4374-a9e3-723e3ebf03fb
    resourceVersion: "2187809"
    uid: 3bbe73de-0806-4e72-803a-75fcba0580f8
  spec:
    affinity:
      nodeAffinity: {}
    containers:
    - args:
      - proxy
      - router
      - --domain
      - $(POD_NAMESPACE).svc.cluster.local
      - --proxyLogLevel=warning
      - --proxyComponentLogLevel=misc:error
      - --log_output_level=default:info
      env:
      - name: JWT_POLICY
        value: third-party-jwt
      - name: PILOT_CERT_PROVIDER
        value: istiod
      - name: CA_ADDR
        value: istiod.istio-system.svc:15012
      - name: NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: INSTANCE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      - name: HOST_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.hostIP
      - name: ISTIO_CPU_LIMIT
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.cpu
      - name: SERVICE_ACCOUNT
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.serviceAccountName
      - name: ISTIO_META_WORKLOAD_NAME
        value: istio-ingressgateway
      - name: ISTIO_META_OWNER
        value: kubernetes://apis/apps/v1/namespaces/istio-system/deployments/istio-ingressgateway
      - name: ISTIO_META_MESH_ID
        value: cluster.local
      - name: TRUST_DOMAIN
        value: cluster.local
      - name: ISTIO_META_UNPRIVILEGED_POD
        value: "true"
      - name: ISTIO_META_CLUSTER_ID
        value: Kubernetes
      - name: ISTIO_META_NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      image: docker.io/istio/proxyv2:1.21.0
      imagePullPolicy: IfNotPresent
      name: istio-proxy
      ports:
      - containerPort: 15021
        protocol: TCP
      - containerPort: 8080
        protocol: TCP
      - containerPort: 8443
        protocol: TCP
      - containerPort: 15090
        name: http-envoy-prom
        protocol: TCP
      readinessProbe:
        failureThreshold: 30
        httpGet:
          path: /healthz/ready
          port: 15021
          scheme: HTTP
        initialDelaySeconds: 1
        periodSeconds: 2
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        limits:
          cpu: "2"
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 128Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/workload-spiffe-uds
        name: workload-socket
      - mountPath: /var/run/secrets/credential-uds
        name: credential-socket
      - mountPath: /var/run/secrets/workload-spiffe-credentials
        name: workload-certs
      - mountPath: /etc/istio/proxy
        name: istio-envoy
      - mountPath: /etc/istio/config
        name: config-volume
      - mountPath: /var/run/secrets/istio
        name: istiod-ca-cert
      - mountPath: /var/run/secrets/tokens
        name: istio-token
        readOnly: true
      - mountPath: /var/lib/istio/data
        name: istio-data
      - mountPath: /etc/istio/pod
        name: podinfo
      - mountPath: /etc/istio/ingressgateway-certs
        name: ingressgateway-certs
        readOnly: true
      - mountPath: /etc/istio/ingressgateway-ca-certs
        name: ingressgateway-ca-certs
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-b4nbb
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: envoy-gateway-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      runAsGroup: 1337
      runAsNonRoot: true
      runAsUser: 1337
    serviceAccount: istio-ingressgateway-service-account
    serviceAccountName: istio-ingressgateway-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - emptyDir: {}
      name: workload-socket
    - emptyDir: {}
      name: credential-socket
    - emptyDir: {}
      name: workload-certs
    - configMap:
        defaultMode: 420
        name: istio-ca-root-cert
      name: istiod-ca-cert
    - downwardAPI:
        defaultMode: 420
        items:
        - fieldRef:
            apiVersion: v1
            fieldPath: metadata.labels
          path: labels
        - fieldRef:
            apiVersion: v1
            fieldPath: metadata.annotations
          path: annotations
      name: podinfo
    - emptyDir: {}
      name: istio-envoy
    - emptyDir: {}
      name: istio-data
    - name: istio-token
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            audience: istio-ca
            expirationSeconds: 43200
            path: istio-token
    - configMap:
        defaultMode: 420
        name: istio
        optional: true
      name: config-volume
    - name: ingressgateway-certs
      secret:
        defaultMode: 420
        optional: true
        secretName: istio-ingressgateway-certs
    - name: ingressgateway-ca-certs
      secret:
        defaultMode: 420
        optional: true
        secretName: istio-ingressgateway-ca-certs
    - name: kube-api-access-b4nbb
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-04-07T12:57:01Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:24Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:24Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-04-07T12:57:01Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://c1291bd8f65e504b6a0ecfc916cefbae40a8c8b378da24e8dd988ece2831e246
      image: docker.io/istio/proxyv2:1.21.0
      imageID: docker.io/istio/proxyv2@sha256:1b10ab67aa311bcde7ebc18477d31cc73d8169ad7f3447d86c40a2b056c456e4
      lastState:
        terminated:
          containerID: containerd://8c84d99ed1b62c48c30d98061bd788aa007616ed5df8cb57d008fcd81a610958
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:56Z"
      name: istio-proxy
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:45Z"
    hostIP: 172.18.0.2
    phase: Running
    podIP: 10.244.0.9
    podIPs:
    - ip: 10.244.0.9
    qosClass: Burstable
    startTime: "2024-04-07T12:57:01Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      ambient.istio.io/redirection: disabled
      prometheus.io/port: "15014"
      prometheus.io/scrape: "true"
      sidecar.istio.io/inject: "false"
    creationTimestamp: "2024-04-07T12:56:57Z"
    generateName: istiod-5c586775f7-
    labels:
      app: istiod
      install.operator.istio.io/owning-resource: unknown
      istio: pilot
      istio.io/rev: default
      operator.istio.io/component: Pilot
      pod-template-hash: 5c586775f7
      sidecar.istio.io/inject: "false"
    name: istiod-5c586775f7-stw2d
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: istiod-5c586775f7
      uid: cd4dc23f-0db1-4e20-a011-bb19da74cc76
    resourceVersion: "2187761"
    uid: 471747eb-64a4-4439-92f4-0783ef8ba71b
  spec:
    containers:
    - args:
      - discovery
      - --monitoringAddr=:15014
      - --log_output_level=default:info
      - --domain
      - cluster.local
      - --keepaliveMaxServerConnectionAge
      - 30m
      env:
      - name: REVISION
        value: default
      - name: JWT_POLICY
        value: third-party-jwt
      - name: PILOT_CERT_PROVIDER
        value: istiod
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: SERVICE_ACCOUNT
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.serviceAccountName
      - name: KUBECONFIG
        value: /var/run/secrets/remote/config
      - name: PILOT_TRACE_SAMPLING
        value: "1"
      - name: PILOT_ENABLE_ANALYSIS
        value: "false"
      - name: CLUSTER_ID
        value: Kubernetes
      - name: GOMEMLIMIT
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.memory
      - name: GOMAXPROCS
        valueFrom:
          resourceFieldRef:
            divisor: "0"
            resource: limits.cpu
      - name: PLATFORM
      image: docker.io/istio/pilot:1.21.0
      imagePullPolicy: IfNotPresent
      name: discovery
      ports:
      - containerPort: 8080
        protocol: TCP
      - containerPort: 15010
        protocol: TCP
      - containerPort: 15017
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /ready
          port: 8080
          scheme: HTTP
        initialDelaySeconds: 1
        periodSeconds: 3
        successThreshold: 1
        timeoutSeconds: 5
      resources:
        requests:
          cpu: 500m
          memory: 2Gi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: true
        runAsNonRoot: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/tokens
        name: istio-token
        readOnly: true
      - mountPath: /var/run/secrets/istio-dns
        name: local-certs
      - mountPath: /etc/cacerts
        name: cacerts
        readOnly: true
      - mountPath: /var/run/secrets/remote
        name: istio-kubeconfig
        readOnly: true
      - mountPath: /var/run/secrets/istiod/tls
        name: istio-csr-dns-cert
        readOnly: true
      - mountPath: /var/run/secrets/istiod/ca
        name: istio-csr-ca-configmap
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-99cwr
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: envoy-gateway-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: istiod
    serviceAccountName: istiod
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - emptyDir:
        medium: Memory
      name: local-certs
    - name: istio-token
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            audience: istio-ca
            expirationSeconds: 43200
            path: istio-token
    - name: cacerts
      secret:
        defaultMode: 420
        optional: true
        secretName: cacerts
    - name: istio-kubeconfig
      secret:
        defaultMode: 420
        optional: true
        secretName: istio-kubeconfig
    - name: istio-csr-dns-cert
      secret:
        defaultMode: 420
        optional: true
        secretName: istiod-tls
    - configMap:
        defaultMode: 420
        name: istio-ca-root-cert
        optional: true
      name: istio-csr-ca-configmap
    - name: kube-api-access-99cwr
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-04-07T12:56:57Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:20Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:20Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-04-07T12:56:57Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://82e9bf16e0d9b6e325c42b5400db5d4b9f265d4ed01aeea4f7f7e05c395ed7d8
      image: docker.io/istio/pilot:1.21.0
      imageID: docker.io/istio/pilot@sha256:62063a0fc8ee7741e6a186e1efbf6ac2b83c8087ab674f25b8d241d09c0c30e2
      lastState:
        terminated:
          containerID: containerd://99ba792cef9e75985cccdf6de9f15f787f025f4604a9cc3f9dd39eba9fe70ded
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:56Z"
      name: discovery
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:45Z"
    hostIP: 172.18.0.2
    phase: Running
    podIP: 10.244.0.10
    podIPs:
    - ip: 10.244.0.10
    qosClass: Burstable
    startTime: "2024-04-07T12:56:57Z"
- apiVersion: v1
  kind: Pod
  metadata:
    creationTimestamp: "2024-03-09T04:15:06Z"
    generateName: coredns-5dd5756b68-
    labels:
      k8s-app: kube-dns
      pod-template-hash: 5dd5756b68
    name: coredns-5dd5756b68-kqtwn
    namespace: kube-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: coredns-5dd5756b68
      uid: 0c6314f2-7e86-43f5-aeee-66f1595e56ed
    resourceVersion: "2187751"
    uid: b5f75e9a-f9fe-4192-8dc8-f2933bb2d148
  spec:
    affinity:
      podAntiAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - podAffinityTerm:
            labelSelector:
              matchExpressions:
              - key: k8s-app
                operator: In
                values:
                - kube-dns
            topologyKey: kubernetes.io/hostname
          weight: 100
    containers:
    - args:
      - -conf
      - /etc/coredns/Corefile
      image: registry.k8s.io/coredns/coredns:v1.10.1
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 5
        httpGet:
          path: /health
          port: 8080
          scheme: HTTP
        initialDelaySeconds: 60
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      name: coredns
      ports:
      - containerPort: 53
        name: dns
        protocol: UDP
      - containerPort: 53
        name: dns-tcp
        protocol: TCP
      - containerPort: 9153
        name: metrics
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /ready
          port: 8181
          scheme: HTTP
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        limits:
          memory: 170Mi
        requests:
          cpu: 100m
          memory: 70Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          add:
          - NET_BIND_SERVICE
          drop:
          - all
        readOnlyRootFilesystem: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/coredns
        name: config-volume
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-wtblj
        readOnly: true
    dnsPolicy: Default
    enableServiceLinks: true
    nodeName: envoy-gateway-control-plane
    nodeSelector:
      kubernetes.io/os: linux
    preemptionPolicy: PreemptLowerPriority
    priority: 2000000000
    priorityClassName: system-cluster-critical
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: coredns
    serviceAccountName: coredns
    terminationGracePeriodSeconds: 30
    tolerations:
    - key: CriticalAddonsOnly
      operator: Exists
    - effect: NoSchedule
      key: node-role.kubernetes.io/control-plane
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        items:
        - key: Corefile
          path: Corefile
        name: coredns
      name: config-volume
    - name: kube-api-access-wtblj
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-03-09T04:15:08Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:17Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:17Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-03-09T04:15:08Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://229528a1f3ae25430805e49815ecee02628f2460af2e420d3179fd52d6f9afd6
      image: registry.k8s.io/coredns/coredns:v1.10.1
      imageID: sha256:97e04611ad43405a2e5863ae17c6f1bc9181bdefdaa78627c432ef754a4eb108
      lastState:
        terminated:
          containerID: containerd://a47fa06f456a2571ec4000e29fb3335f04923961c82ae08f38be8db7dcd65f9c
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:56Z"
      name: coredns
      ready: true
      restartCount: 10
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:45Z"
    hostIP: 172.18.0.2
    phase: Running
    podIP: 10.244.0.4
    podIPs:
    - ip: 10.244.0.4
    qosClass: Burstable
    startTime: "2024-03-09T04:15:08Z"
- apiVersion: v1
  kind: Pod
  metadata:
    creationTimestamp: "2024-03-09T04:15:06Z"
    generateName: coredns-5dd5756b68-
    labels:
      k8s-app: kube-dns
      pod-template-hash: 5dd5756b68
    name: coredns-5dd5756b68-qwfvk
    namespace: kube-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: coredns-5dd5756b68
      uid: 0c6314f2-7e86-43f5-aeee-66f1595e56ed
    resourceVersion: "2187746"
    uid: aed53ea1-02ad-4694-9dea-3da63ee75a05
  spec:
    affinity:
      podAntiAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - podAffinityTerm:
            labelSelector:
              matchExpressions:
              - key: k8s-app
                operator: In
                values:
                - kube-dns
            topologyKey: kubernetes.io/hostname
          weight: 100
    containers:
    - args:
      - -conf
      - /etc/coredns/Corefile
      image: registry.k8s.io/coredns/coredns:v1.10.1
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 5
        httpGet:
          path: /health
          port: 8080
          scheme: HTTP
        initialDelaySeconds: 60
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      name: coredns
      ports:
      - containerPort: 53
        name: dns
        protocol: UDP
      - containerPort: 53
        name: dns-tcp
        protocol: TCP
      - containerPort: 9153
        name: metrics
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /ready
          port: 8181
          scheme: HTTP
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        limits:
          memory: 170Mi
        requests:
          cpu: 100m
          memory: 70Mi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          add:
          - NET_BIND_SERVICE
          drop:
          - all
        readOnlyRootFilesystem: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/coredns
        name: config-volume
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-2ldlz
        readOnly: true
    dnsPolicy: Default
    enableServiceLinks: true
    nodeName: envoy-gateway-control-plane
    nodeSelector:
      kubernetes.io/os: linux
    preemptionPolicy: PreemptLowerPriority
    priority: 2000000000
    priorityClassName: system-cluster-critical
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: coredns
    serviceAccountName: coredns
    terminationGracePeriodSeconds: 30
    tolerations:
    - key: CriticalAddonsOnly
      operator: Exists
    - effect: NoSchedule
      key: node-role.kubernetes.io/control-plane
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        items:
        - key: Corefile
          path: Corefile
        name: coredns
      name: config-volume
    - name: kube-api-access-2ldlz
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-03-09T04:15:08Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:17Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:17Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-03-09T04:15:08Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://a377b1b2cb1a97536d23c6d314c952a74a0d2965487fe7091fd3f9803b65bc66
      image: registry.k8s.io/coredns/coredns:v1.10.1
      imageID: sha256:97e04611ad43405a2e5863ae17c6f1bc9181bdefdaa78627c432ef754a4eb108
      lastState:
        terminated:
          containerID: containerd://869e570d5645a8ee64dfc0839ca490fa566f6932a16267dca67e56587d5a9d71
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:56Z"
      name: coredns
      ready: true
      restartCount: 10
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:45Z"
    hostIP: 172.18.0.2
    phase: Running
    podIP: 10.244.0.8
    podIPs:
    - ip: 10.244.0.8
    qosClass: Burstable
    startTime: "2024-03-09T04:15:08Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubeadm.kubernetes.io/etcd.advertise-client-urls: https://172.18.0.2:2379
      kubernetes.io/config.hash: 7eb960af3076b8e713c9ed3512be1b2f
      kubernetes.io/config.mirror: 7eb960af3076b8e713c9ed3512be1b2f
      kubernetes.io/config.seen: "2024-03-09T04:14:53.043475761Z"
      kubernetes.io/config.source: file
    creationTimestamp: "2024-03-09T04:14:53Z"
    labels:
      component: etcd
      tier: control-plane
    name: etcd-envoy-gateway-control-plane
    namespace: kube-system
    ownerReferences:
    - apiVersion: v1
      controller: true
      kind: Node
      name: envoy-gateway-control-plane
      uid: b4a26920-00d0-4021-bf10-5d564cc77c57
    resourceVersion: "2187477"
    uid: d0bbaeaf-8a2c-4f3a-b46c-3c1cb5d0b0b4
  spec:
    containers:
    - command:
      - etcd
      - --advertise-client-urls=https://172.18.0.2:2379
      - --cert-file=/etc/kubernetes/pki/etcd/server.crt
      - --client-cert-auth=true
      - --data-dir=/var/lib/etcd
      - --experimental-initial-corrupt-check=true
      - --experimental-watch-progress-notify-interval=5s
      - --initial-advertise-peer-urls=https://172.18.0.2:2380
      - --initial-cluster=envoy-gateway-control-plane=https://172.18.0.2:2380
      - --key-file=/etc/kubernetes/pki/etcd/server.key
      - --listen-client-urls=https://127.0.0.1:2379,https://172.18.0.2:2379
      - --listen-metrics-urls=http://127.0.0.1:2381
      - --listen-peer-urls=https://172.18.0.2:2380
      - --name=envoy-gateway-control-plane
      - --peer-cert-file=/etc/kubernetes/pki/etcd/peer.crt
      - --peer-client-cert-auth=true
      - --peer-key-file=/etc/kubernetes/pki/etcd/peer.key
      - --peer-trusted-ca-file=/etc/kubernetes/pki/etcd/ca.crt
      - --snapshot-count=10000
      - --trusted-ca-file=/etc/kubernetes/pki/etcd/ca.crt
      image: registry.k8s.io/etcd:3.5.9-0
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 8
        httpGet:
          host: 127.0.0.1
          path: /health?exclude=NOSPACE&serializable=true
          port: 2381
          scheme: HTTP
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 15
      name: etcd
      resources:
        requests:
          cpu: 100m
          memory: 100Mi
      startupProbe:
        failureThreshold: 24
        httpGet:
          host: 127.0.0.1
          path: /health?serializable=false
          port: 2381
          scheme: HTTP
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 15
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/lib/etcd
        name: etcd-data
      - mountPath: /etc/kubernetes/pki/etcd
        name: etcd-certs
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostNetwork: true
    nodeName: envoy-gateway-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      seccompProfile:
        type: RuntimeDefault
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/pki/etcd
        type: DirectoryOrCreate
      name: etcd-certs
    - hostPath:
        path: /var/lib/etcd
        type: DirectoryOrCreate
      name: etcd-data
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:40Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:53Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:53Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:40Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://67a0bc24cb29ad099d7f182c41bc64fc7537c82b8366d5a16327b3e4d2c6b54f
      image: registry.k8s.io/etcd:3.5.9-0
      imageID: sha256:9cdd6470f48c8b127530b7ce6ea4b3524137984481e48bcde619735890840ace
      lastState:
        terminated:
          containerID: containerd://dc75705910e9a4a9c7eacbb5e395463d22fd6a00ac4b88eeef83108c4fada924
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:51Z"
      name: etcd
      ready: true
      restartCount: 10
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:40Z"
    hostIP: 172.18.0.2
    phase: Running
    podIP: 172.18.0.2
    podIPs:
    - ip: 172.18.0.2
    qosClass: Burstable
    startTime: "2024-04-10T09:29:40Z"
- apiVersion: v1
  kind: Pod
  metadata:
    creationTimestamp: "2024-03-09T04:15:06Z"
    generateName: kindnet-
    labels:
      app: kindnet
      controller-revision-hash: 7d9466d649
      k8s-app: kindnet
      pod-template-generation: "1"
      tier: node
    name: kindnet-dggdr
    namespace: kube-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: DaemonSet
      name: kindnet
      uid: e737ab9b-3b0d-4257-b021-f1064717a587
    resourceVersion: "2187135"
    uid: 8e5cbe31-98c4-4a9b-b7d5-778ffeecc6d8
  spec:
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchFields:
            - key: metadata.name
              operator: In
              values:
              - envoy-gateway-control-plane
    containers:
    - env:
      - name: HOST_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.hostIP
      - name: POD_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      - name: POD_SUBNET
        value: 10.244.0.0/16
      - name: CONTROL_PLANE_ENDPOINT
        value: envoy-gateway-control-plane:6443
      image: docker.io/kindest/kindnetd:v20230511-dc714da8
      imagePullPolicy: IfNotPresent
      name: kindnet-cni
      resources:
        limits:
          cpu: 100m
          memory: 50Mi
        requests:
          cpu: 100m
          memory: 50Mi
      securityContext:
        capabilities:
          add:
          - NET_RAW
          - NET_ADMIN
        privileged: false
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/cni/net.d
        name: cni-cfg
      - mountPath: /run/xtables.lock
        name: xtables-lock
      - mountPath: /lib/modules
        name: lib-modules
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-vfflm
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostNetwork: true
    nodeName: envoy-gateway-control-plane
    nodeSelector:
      kubernetes.io/os: linux
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: kindnet
    serviceAccountName: kindnet
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/disk-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/memory-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/pid-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/unschedulable
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/network-unavailable
      operator: Exists
    volumes:
    - hostPath:
        path: /etc/cni/net.d
        type: ""
      name: cni-cfg
    - hostPath:
        path: /run/xtables.lock
        type: FileOrCreate
      name: xtables-lock
    - hostPath:
        path: /lib/modules
        type: ""
      name: lib-modules
    - name: kube-api-access-vfflm
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-03-09T04:15:06Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:46Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:46Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-03-09T04:15:06Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://e05cda6e840c6a4c65173f15c938b1ea288cfde23b9332606892a264126709cc
      image: docker.io/kindest/kindnetd:v20230511-dc714da8
      imageID: sha256:b18bf71b941bae2e12db1c07e567ad14e4febbc778310a0fc64487f1ac877d79
      lastState:
        terminated:
          containerID: containerd://0200a7242e84fdb28c12421900a8148f94ba37691ab3b4cd796ea714ff4172a4
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:56Z"
      name: kindnet-cni
      ready: true
      restartCount: 10
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:45Z"
    hostIP: 172.18.0.2
    phase: Running
    podIP: 172.18.0.2
    podIPs:
    - ip: 172.18.0.2
    qosClass: Guaranteed
    startTime: "2024-03-09T04:15:06Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubeadm.kubernetes.io/kube-apiserver.advertise-address.endpoint: 172.18.0.2:6443
      kubernetes.io/config.hash: 88284de768d857c5e4a3be26ee707c44
      kubernetes.io/config.mirror: 88284de768d857c5e4a3be26ee707c44
      kubernetes.io/config.seen: "2024-03-09T04:14:53.043479470Z"
      kubernetes.io/config.source: file
    creationTimestamp: "2024-03-09T04:14:53Z"
    labels:
      component: kube-apiserver
      tier: control-plane
    name: kube-apiserver-envoy-gateway-control-plane
    namespace: kube-system
    ownerReferences:
    - apiVersion: v1
      controller: true
      kind: Node
      name: envoy-gateway-control-plane
      uid: b4a26920-00d0-4021-bf10-5d564cc77c57
    resourceVersion: "2187408"
    uid: b9028306-975d-4923-bc61-260b5f6ef120
  spec:
    containers:
    - command:
      - kube-apiserver
      - --advertise-address=172.18.0.2
      - --allow-privileged=true
      - --authorization-mode=Node,RBAC
      - --client-ca-file=/etc/kubernetes/pki/ca.crt
      - --enable-admission-plugins=NodeRestriction
      - --enable-bootstrap-token-auth=true
      - --etcd-cafile=/etc/kubernetes/pki/etcd/ca.crt
      - --etcd-certfile=/etc/kubernetes/pki/apiserver-etcd-client.crt
      - --etcd-keyfile=/etc/kubernetes/pki/apiserver-etcd-client.key
      - --etcd-servers=https://127.0.0.1:2379
      - --kubelet-client-certificate=/etc/kubernetes/pki/apiserver-kubelet-client.crt
      - --kubelet-client-key=/etc/kubernetes/pki/apiserver-kubelet-client.key
      - --kubelet-preferred-address-types=InternalIP,ExternalIP,Hostname
      - --proxy-client-cert-file=/etc/kubernetes/pki/front-proxy-client.crt
      - --proxy-client-key-file=/etc/kubernetes/pki/front-proxy-client.key
      - --requestheader-allowed-names=front-proxy-client
      - --requestheader-client-ca-file=/etc/kubernetes/pki/front-proxy-ca.crt
      - --requestheader-extra-headers-prefix=X-Remote-Extra-
      - --requestheader-group-headers=X-Remote-Group
      - --requestheader-username-headers=X-Remote-User
      - --runtime-config=
      - --secure-port=6443
      - --service-account-issuer=https://kubernetes.default.svc.cluster.local
      - --service-account-key-file=/etc/kubernetes/pki/sa.pub
      - --service-account-signing-key-file=/etc/kubernetes/pki/sa.key
      - --service-cluster-ip-range=10.96.0.0/16
      - --tls-cert-file=/etc/kubernetes/pki/apiserver.crt
      - --tls-private-key-file=/etc/kubernetes/pki/apiserver.key
      image: registry.k8s.io/kube-apiserver:v1.28.0
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 8
        httpGet:
          host: 172.18.0.2
          path: /livez
          port: 6443
          scheme: HTTPS
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 15
      name: kube-apiserver
      readinessProbe:
        failureThreshold: 3
        httpGet:
          host: 172.18.0.2
          path: /readyz
          port: 6443
          scheme: HTTPS
        periodSeconds: 1
        successThreshold: 1
        timeoutSeconds: 15
      resources:
        requests:
          cpu: 250m
      startupProbe:
        failureThreshold: 24
        httpGet:
          host: 172.18.0.2
          path: /livez
          port: 6443
          scheme: HTTPS
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 15
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/ssl/certs
        name: ca-certs
        readOnly: true
      - mountPath: /etc/ca-certificates
        name: etc-ca-certificates
        readOnly: true
      - mountPath: /etc/kubernetes/pki
        name: k8s-certs
        readOnly: true
      - mountPath: /usr/local/share/ca-certificates
        name: usr-local-share-ca-certificates
        readOnly: true
      - mountPath: /usr/share/ca-certificates
        name: usr-share-ca-certificates
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostNetwork: true
    nodeName: envoy-gateway-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      seccompProfile:
        type: RuntimeDefault
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      operator: Exists
    volumes:
    - hostPath:
        path: /etc/ssl/certs
        type: DirectoryOrCreate
      name: ca-certs
    - hostPath:
        path: /etc/ca-certificates
        type: DirectoryOrCreate
      name: etc-ca-certificates
    - hostPath:
        path: /etc/kubernetes/pki
        type: DirectoryOrCreate
      name: k8s-certs
    - hostPath:
        path: /usr/local/share/ca-certificates
        type: DirectoryOrCreate
      name: usr-local-share-ca-certificates
    - hostPath:
        path: /usr/share/ca-certificates
        type: DirectoryOrCreate
      name: usr-share-ca-certificates
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:40Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:52Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:52Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:40Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://9afe3e7873785a16bfb844d50aaf246670f8888d00e23449f6ae5ff7bf41529a
      image: registry.k8s.io/kube-apiserver:v1.28.0
      imageID: docker.io/library/import-2023-08-15@sha256:4197a19748a68f8dec194ed163d6174ec4fe5326279ff4bfff138e57f8cde67e
      lastState:
        terminated:
          containerID: containerd://a297633d3ad3400d463ffe8c20bda53683dacc4b9018d012377122c00530b665
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:51Z"
      name: kube-apiserver
      ready: true
      restartCount: 10
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:40Z"
    hostIP: 172.18.0.2
    phase: Running
    podIP: 172.18.0.2
    podIPs:
    - ip: 172.18.0.2
    qosClass: Burstable
    startTime: "2024-04-10T09:29:40Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/config.hash: 891ccdcb58b3a5107535d992f12eaf4a
      kubernetes.io/config.mirror: 891ccdcb58b3a5107535d992f12eaf4a
      kubernetes.io/config.seen: "2024-03-09T04:14:53.043480178Z"
      kubernetes.io/config.source: file
    creationTimestamp: "2024-03-09T04:14:53Z"
    labels:
      component: kube-controller-manager
      tier: control-plane
    name: kube-controller-manager-envoy-gateway-control-plane
    namespace: kube-system
    ownerReferences:
    - apiVersion: v1
      controller: true
      kind: Node
      name: envoy-gateway-control-plane
      uid: b4a26920-00d0-4021-bf10-5d564cc77c57
    resourceVersion: "2187518"
    uid: 364e578a-4e31-4034-aac5-a44a6512763d
  spec:
    containers:
    - command:
      - kube-controller-manager
      - --allocate-node-cidrs=true
      - --authentication-kubeconfig=/etc/kubernetes/controller-manager.conf
      - --authorization-kubeconfig=/etc/kubernetes/controller-manager.conf
      - --bind-address=127.0.0.1
      - --client-ca-file=/etc/kubernetes/pki/ca.crt
      - --cluster-cidr=10.244.0.0/16
      - --cluster-name=envoy-gateway
      - --cluster-signing-cert-file=/etc/kubernetes/pki/ca.crt
      - --cluster-signing-key-file=/etc/kubernetes/pki/ca.key
      - --controllers=*,bootstrapsigner,tokencleaner
      - --enable-hostpath-provisioner=true
      - --kubeconfig=/etc/kubernetes/controller-manager.conf
      - --leader-elect=true
      - --requestheader-client-ca-file=/etc/kubernetes/pki/front-proxy-ca.crt
      - --root-ca-file=/etc/kubernetes/pki/ca.crt
      - --service-account-private-key-file=/etc/kubernetes/pki/sa.key
      - --service-cluster-ip-range=10.96.0.0/16
      - --use-service-account-credentials=true
      image: registry.k8s.io/kube-controller-manager:v1.28.0
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 8
        httpGet:
          host: 127.0.0.1
          path: /healthz
          port: 10257
          scheme: HTTPS
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 15
      name: kube-controller-manager
      resources:
        requests:
          cpu: 200m
      startupProbe:
        failureThreshold: 24
        httpGet:
          host: 127.0.0.1
          path: /healthz
          port: 10257
          scheme: HTTPS
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 15
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/ssl/certs
        name: ca-certs
        readOnly: true
      - mountPath: /etc/ca-certificates
        name: etc-ca-certificates
        readOnly: true
      - mountPath: /usr/libexec/kubernetes/kubelet-plugins/volume/exec
        name: flexvolume-dir
      - mountPath: /etc/kubernetes/pki
        name: k8s-certs
        readOnly: true
      - mountPath: /etc/kubernetes/controller-manager.conf
        name: kubeconfig
        readOnly: true
      - mountPath: /usr/local/share/ca-certificates
        name: usr-local-share-ca-certificates
        readOnly: true
      - mountPath: /usr/share/ca-certificates
        name: usr-share-ca-certificates
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostNetwork: true
    nodeName: envoy-gateway-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      seccompProfile:
        type: RuntimeDefault
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      operator: Exists
    volumes:
    - hostPath:
        path: /etc/ssl/certs
        type: DirectoryOrCreate
      name: ca-certs
    - hostPath:
        path: /etc/ca-certificates
        type: DirectoryOrCreate
      name: etc-ca-certificates
    - hostPath:
        path: /usr/libexec/kubernetes/kubelet-plugins/volume/exec
        type: DirectoryOrCreate
      name: flexvolume-dir
    - hostPath:
        path: /etc/kubernetes/pki
        type: DirectoryOrCreate
      name: k8s-certs
    - hostPath:
        path: /etc/kubernetes/controller-manager.conf
        type: FileOrCreate
      name: kubeconfig
    - hostPath:
        path: /usr/local/share/ca-certificates
        type: DirectoryOrCreate
      name: usr-local-share-ca-certificates
    - hostPath:
        path: /usr/share/ca-certificates
        type: DirectoryOrCreate
      name: usr-share-ca-certificates
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:40Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:55Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:55Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:40Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://e338a06826407e15df85c295d76e821d479b05e81fe1259369f42f153aa233f0
      image: registry.k8s.io/kube-controller-manager:v1.28.0
      imageID: docker.io/library/import-2023-08-15@sha256:14e023d3f2c7564eeb686b259e72d328abb8b886259ebd5823cbcc3d730f8e4a
      lastState:
        terminated:
          containerID: containerd://5db99df90ce7de815118bde5b20878139f17dc3adbdef396cc12347c789d504d
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:51Z"
      name: kube-controller-manager
      ready: true
      restartCount: 17
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:40Z"
    hostIP: 172.18.0.2
    phase: Running
    podIP: 172.18.0.2
    podIPs:
    - ip: 172.18.0.2
    qosClass: Burstable
    startTime: "2024-04-10T09:29:40Z"
- apiVersion: v1
  kind: Pod
  metadata:
    creationTimestamp: "2024-03-09T04:15:06Z"
    generateName: kube-proxy-
    labels:
      controller-revision-hash: 5468d454c4
      k8s-app: kube-proxy
      pod-template-generation: "1"
    name: kube-proxy-lnw96
    namespace: kube-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: DaemonSet
      name: kube-proxy
      uid: 2b9925fe-993d-4c15-ac78-ca1fa3128da6
    resourceVersion: "2187142"
    uid: afe29a29-c17b-4eca-b350-f2b48d77ca62
  spec:
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchFields:
            - key: metadata.name
              operator: In
              values:
              - envoy-gateway-control-plane
    containers:
    - command:
      - /usr/local/bin/kube-proxy
      - --config=/var/lib/kube-proxy/config.conf
      - --hostname-override=$(NODE_NAME)
      env:
      - name: NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      image: registry.k8s.io/kube-proxy:v1.28.0
      imagePullPolicy: IfNotPresent
      name: kube-proxy
      resources: {}
      securityContext:
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/lib/kube-proxy
        name: kube-proxy
      - mountPath: /run/xtables.lock
        name: xtables-lock
      - mountPath: /lib/modules
        name: lib-modules
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-2clfk
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostNetwork: true
    nodeName: envoy-gateway-control-plane
    nodeSelector:
      kubernetes.io/os: linux
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: kube-proxy
    serviceAccountName: kube-proxy
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/disk-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/memory-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/pid-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/unschedulable
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/network-unavailable
      operator: Exists
    volumes:
    - configMap:
        defaultMode: 420
        name: kube-proxy
      name: kube-proxy
    - hostPath:
        path: /run/xtables.lock
        type: FileOrCreate
      name: xtables-lock
    - hostPath:
        path: /lib/modules
        type: ""
      name: lib-modules
    - name: kube-api-access-2clfk
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-03-09T04:15:06Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:46Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:46Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-03-09T04:15:06Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://59bbe8d836b390f8200a5fbd4a9fdec4cf112930472c48cef7d0eff109ca8bec
      image: registry.k8s.io/kube-proxy:v1.28.0
      imageID: docker.io/library/import-2023-08-15@sha256:27bd3d6ba103794e9f033a9bf58d1a8d1b87cf3d2105fadaf2153e954f68e31c
      lastState:
        terminated:
          containerID: containerd://b1c4f10aabf8efa759f32e0b6da3f75ddb6c71d0dbdc87ae54198c73258dba47
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:56Z"
      name: kube-proxy
      ready: true
      restartCount: 10
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:45Z"
    hostIP: 172.18.0.2
    phase: Running
    podIP: 172.18.0.2
    podIPs:
    - ip: 172.18.0.2
    qosClass: BestEffort
    startTime: "2024-03-09T04:15:06Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/config.hash: 79c42c4f6e54c6904a35a192e62946bd
      kubernetes.io/config.mirror: 79c42c4f6e54c6904a35a192e62946bd
      kubernetes.io/config.seen: "2024-03-09T04:14:53.043481886Z"
      kubernetes.io/config.source: file
    creationTimestamp: "2024-03-09T04:14:53Z"
    labels:
      component: kube-scheduler
      tier: control-plane
    name: kube-scheduler-envoy-gateway-control-plane
    namespace: kube-system
    ownerReferences:
    - apiVersion: v1
      controller: true
      kind: Node
      name: envoy-gateway-control-plane
      uid: b4a26920-00d0-4021-bf10-5d564cc77c57
    resourceVersion: "2187548"
    uid: 295cb0ad-f61d-4277-8ec1-0c557db5a90f
  spec:
    containers:
    - command:
      - kube-scheduler
      - --authentication-kubeconfig=/etc/kubernetes/scheduler.conf
      - --authorization-kubeconfig=/etc/kubernetes/scheduler.conf
      - --bind-address=127.0.0.1
      - --kubeconfig=/etc/kubernetes/scheduler.conf
      - --leader-elect=true
      image: registry.k8s.io/kube-scheduler:v1.28.0
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 8
        httpGet:
          host: 127.0.0.1
          path: /healthz
          port: 10259
          scheme: HTTPS
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 15
      name: kube-scheduler
      resources:
        requests:
          cpu: 100m
      startupProbe:
        failureThreshold: 24
        httpGet:
          host: 127.0.0.1
          path: /healthz
          port: 10259
          scheme: HTTPS
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 15
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/kubernetes/scheduler.conf
        name: kubeconfig
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostNetwork: true
    nodeName: envoy-gateway-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      seccompProfile:
        type: RuntimeDefault
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/scheduler.conf
        type: FileOrCreate
      name: kubeconfig
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:40Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:58Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:58Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:40Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://4357e7dc914bed9fc2c9db279490b3ea17cf144a6bd6700d4a2c49d382ae2c96
      image: registry.k8s.io/kube-scheduler:v1.28.0
      imageID: docker.io/library/import-2023-08-15@sha256:dbead5eb4d91ca3affd5ff2a10b8098f8825c5216d504ad5bd644d0872291ad7
      lastState:
        terminated:
          containerID: containerd://dc5651d2b0ad8849b951369d94923d98ccea840bfbe3da765aebb7da18d0ce00
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:51Z"
      name: kube-scheduler
      ready: true
      restartCount: 18
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:40Z"
    hostIP: 172.18.0.2
    phase: Running
    podIP: 172.18.0.2
    podIPs:
    - ip: 172.18.0.2
    qosClass: Burstable
    startTime: "2024-04-10T09:29:40Z"
- apiVersion: v1
  kind: Pod
  metadata:
    creationTimestamp: "2024-03-09T04:15:06Z"
    generateName: local-path-provisioner-6f8956fb48-
    labels:
      app: local-path-provisioner
      pod-template-hash: 6f8956fb48
    name: local-path-provisioner-6f8956fb48-hfzqd
    namespace: local-path-storage
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: local-path-provisioner-6f8956fb48
      uid: 023a97e9-2591-4324-ac34-6ed17b4adb8f
    resourceVersion: "2187857"
    uid: 48e6c890-7b76-43cd-9db2-8ffa2fa2403f
  spec:
    containers:
    - command:
      - local-path-provisioner
      - --debug
      - start
      - --helper-image
      - docker.io/kindest/local-path-helper:v20230510-486859a6
      - --config
      - /etc/config/config.json
      env:
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      image: docker.io/kindest/local-path-provisioner:v20230511-dc714da8
      imagePullPolicy: IfNotPresent
      name: local-path-provisioner
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/config/
        name: config-volume
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-sxmnm
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: envoy-gateway-control-plane
    nodeSelector:
      kubernetes.io/os: linux
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: local-path-provisioner-service-account
    serviceAccountName: local-path-provisioner-service-account
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoSchedule
      key: node-role.kubernetes.io/control-plane
      operator: Equal
    - effect: NoSchedule
      key: node-role.kubernetes.io/master
      operator: Equal
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: local-path-config
      name: config-volume
    - name: kube-api-access-sxmnm
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-03-09T04:15:08Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:27Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:27Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-03-09T04:15:08Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://7a939e7a72666cadaa1374ffd89b13d63ced94d56937892c4f967ac816702822
      image: docker.io/kindest/local-path-provisioner:v20230511-dc714da8
      imageID: sha256:eec7db0a07d0d8ab2c4a6cd646f8da1572570cf4632f1603b2904f659d1657d5
      lastState:
        terminated:
          containerID: containerd://0f4c0506c752d6d232cf98febc24258083f66fa0fb6e8e6f18af63ab5cf68143
          exitCode: 1
          finishedAt: "2024-04-10T09:30:15Z"
          reason: Error
          startedAt: "2024-04-10T09:29:45Z"
      name: local-path-provisioner
      ready: true
      restartCount: 19
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:30:27Z"
    hostIP: 172.18.0.2
    phase: Running
    podIP: 10.244.0.2
    podIPs:
    - ip: 10.244.0.2
    qosClass: BestEffort
    startTime: "2024-03-09T04:15:08Z"
- apiVersion: v1
  kind: Pod
  metadata:
    creationTimestamp: "2024-03-14T05:47:50Z"
    generateName: my-nginx-6955f58bc9-
    labels:
      pod-template-hash: 6955f58bc9
      run: my-nginx
    name: my-nginx-6955f58bc9-x4vdz
    namespace: mesh-external
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: my-nginx-6955f58bc9
      uid: c8288d58-22be-467e-a2c6-39ab79b51543
    resourceVersion: "2187165"
    uid: 5ae79c56-ae58-4431-849d-8c596ed377d7
  spec:
    containers:
    - image: nginx
      imagePullPolicy: Always
      name: my-nginx
      ports:
      - containerPort: 443
        protocol: TCP
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/nginx
        name: nginx-config
        readOnly: true
      - mountPath: /etc/nginx-server-certs
        name: nginx-server-certs
        readOnly: true
      - mountPath: /etc/nginx-ca-certs
        name: nginx-ca-certs
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-rn7ss
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: envoy-gateway-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: nginx-configmap
      name: nginx-config
    - name: nginx-server-certs
      secret:
        defaultMode: 420
        secretName: nginx-server-certs
    - name: nginx-ca-certs
      secret:
        defaultMode: 420
        secretName: nginx-ca-certs
    - name: kube-api-access-rn7ss
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-03-14T05:47:50Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:48Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:48Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-03-14T05:47:50Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://8089f49883b6b358f6950e208da2f025be698c7d85ba56e2eb3812762cd7107c
      image: docker.io/library/nginx:latest
      imageID: docker.io/library/nginx@sha256:6db391d1c0cfb30588ba0bf72ea999404f2764febf0f1f196acd5867ac7efa7e
      lastState:
        terminated:
          containerID: containerd://de7490e357a991c588c79a4cc166198ca1c359ef7514fb91ae39dcbde7bdc20c
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:59:15Z"
      name: my-nginx
      ready: true
      restartCount: 9
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:48Z"
    hostIP: 172.18.0.2
    phase: Running
    podIP: 10.244.0.14
    podIPs:
    - ip: 10.244.0.14
    qosClass: BestEffort
    startTime: "2024-03-14T05:47:50Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      prometheus.io/port: "7472"
      prometheus.io/scrape: "true"
    creationTimestamp: "2024-03-09T04:15:06Z"
    generateName: controller-5c6b6c8447-
    labels:
      app: metallb
      component: controller
      pod-template-hash: 5c6b6c8447
    name: controller-5c6b6c8447-9q5nb
    namespace: metallb-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: controller-5c6b6c8447
      uid: e351d1cb-2f43-4341-81bb-295511a2afb3
    resourceVersion: "2187916"
    uid: 9f27a401-77ca-4289-a42d-24cec7ff792e
  spec:
    containers:
    - args:
      - --port=7472
      - --log-level=info
      env:
      - name: METALLB_ML_SECRET_NAME
        value: memberlist
      - name: METALLB_DEPLOYMENT
        value: controller
      image: quay.io/metallb/controller:v0.13.10
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /metrics
          port: monitoring
          scheme: HTTP
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: controller
      ports:
      - containerPort: 7472
        name: monitoring
        protocol: TCP
      - containerPort: 9443
        name: webhook-server
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /metrics
          port: monitoring
          scheme: HTTP
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources: {}
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - all
        readOnlyRootFilesystem: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /tmp/k8s-webhook-server/serving-certs
        name: cert
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-z7ljm
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: envoy-gateway-control-plane
    nodeSelector:
      kubernetes.io/os: linux
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 65534
      runAsNonRoot: true
      runAsUser: 65534
    serviceAccount: controller
    serviceAccountName: controller
    terminationGracePeriodSeconds: 0
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: cert
      secret:
        defaultMode: 420
        secretName: webhook-server-cert
    - name: kube-api-access-z7ljm
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-03-09T04:15:08Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:47Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:47Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-03-09T04:15:08Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://0131eec0ff5d3edf17e869b1e645d0ca0492df5823e68cb4cbcfe57b94a36175
      image: quay.io/metallb/controller:v0.13.10
      imageID: quay.io/metallb/controller@sha256:1b33357b3595468aac9d5b9115fc4d35fc475124551180956083294cdeeb94b6
      lastState:
        terminated:
          containerID: containerd://bcdca91eb538338a5ae258734daee5c0d2c3269c3321575684e2dd4f63cef439
          exitCode: 1
          finishedAt: "2024-04-10T09:30:15Z"
          reason: Error
          startedAt: "2024-04-10T09:29:45Z"
      name: controller
      ready: true
      restartCount: 24
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:30:33Z"
    hostIP: 172.18.0.2
    phase: Running
    podIP: 10.244.0.5
    podIPs:
    - ip: 10.244.0.5
    qosClass: BestEffort
    startTime: "2024-03-09T04:15:08Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      prometheus.io/port: "7472"
      prometheus.io/scrape: "true"
    creationTimestamp: "2024-03-09T04:15:08Z"
    generateName: speaker-
    labels:
      app: metallb
      component: speaker
      controller-revision-hash: 56cd7d8b6
      pod-template-generation: "1"
    name: speaker-mpgvx
    namespace: metallb-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: DaemonSet
      name: speaker
      uid: 2b5a9886-1c10-4ca5-ad30-9b24d98d1e34
    resourceVersion: "2187868"
    uid: 5cf58f1e-9f46-48c7-bff2-fae0d091f450
  spec:
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchFields:
            - key: metadata.name
              operator: In
              values:
              - envoy-gateway-control-plane
    containers:
    - args:
      - --port=7472
      - --log-level=info
      env:
      - name: METALLB_NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      - name: METALLB_HOST
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.hostIP
      - name: METALLB_ML_BIND_ADDR
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      - name: METALLB_ML_LABELS
        value: app=metallb,component=speaker
      - name: METALLB_ML_SECRET_KEY_PATH
        value: /etc/ml_secret_key
      image: quay.io/metallb/speaker:v0.13.10
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /metrics
          port: monitoring
          scheme: HTTP
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: speaker
      ports:
      - containerPort: 7472
        hostPort: 7472
        name: monitoring
        protocol: TCP
      - containerPort: 7946
        hostPort: 7946
        name: memberlist-tcp
        protocol: TCP
      - containerPort: 7946
        hostPort: 7946
        name: memberlist-udp
        protocol: UDP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /metrics
          port: monitoring
          scheme: HTTP
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources: {}
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          add:
          - NET_RAW
          drop:
          - ALL
        readOnlyRootFilesystem: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/ml_secret_key
        name: memberlist
        readOnly: true
      - mountPath: /etc/metallb
        name: metallb-excludel2
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-ffxgz
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostNetwork: true
    nodeName: envoy-gateway-control-plane
    nodeSelector:
      kubernetes.io/os: linux
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: speaker
    serviceAccountName: speaker
    terminationGracePeriodSeconds: 2
    tolerations:
    - effect: NoSchedule
      key: node-role.kubernetes.io/master
      operator: Exists
    - effect: NoSchedule
      key: node-role.kubernetes.io/control-plane
      operator: Exists
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/disk-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/memory-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/pid-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/unschedulable
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/network-unavailable
      operator: Exists
    volumes:
    - name: memberlist
      secret:
        defaultMode: 420
        secretName: memberlist
    - configMap:
        defaultMode: 256
        name: metallb-excludel2
      name: metallb-excludel2
    - name: kube-api-access-ffxgz
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-03-09T04:15:08Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:31Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:31Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-03-09T04:15:08Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://9b1c3f9f69381b21ffcd464ec0946c7dcc82e56c72f8a36714d7c43c31d44277
      image: quay.io/metallb/speaker:v0.13.10
      imageID: quay.io/metallb/speaker@sha256:00406ccb1fa08d48cc0ed0b43db7b3cbc3ccc1c4da0e38fca648e64639b06c3c
      lastState:
        terminated:
          containerID: containerd://8c0809fa2950fa53c70546bd29d504bbebf9b5c4c4bd3e13e7b927d572aff14b
          exitCode: 1
          finishedAt: "2024-04-10T09:29:56Z"
          reason: Error
          startedAt: "2024-04-10T09:29:45Z"
      name: speaker
      ready: true
      restartCount: 24
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:30:16Z"
    hostIP: 172.18.0.2
    phase: Running
    podIP: 172.18.0.2
    podIPs:
    - ip: 172.18.0.2
    qosClass: BestEffort
    startTime: "2024-03-09T04:15:08Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      checksum/config: 3dcffc73f44839fc08e300304a6ad8f1455fdf042a601f5057f7ef759870283f
      kubectl.kubernetes.io/restartedAt: "2024-04-06T21:21:11+08:00"
    creationTimestamp: "2024-04-06T13:21:11Z"
    generateName: otel-collector-794698855-
    labels:
      app.kubernetes.io/instance: otel-collector
      app.kubernetes.io/name: opentelemetry-collector
      component: standalone-collector
      pod-template-hash: "794698855"
    name: otel-collector-794698855-59kg2
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: otel-collector-794698855
      uid: 00196434-7f55-43a6-9f28-d907b8d1b8b2
    resourceVersion: "2187158"
    uid: 512334a7-ef53-4ab3-b4a8-dfe87b0515dd
  spec:
    containers:
    - command:
      - /otelcol-contrib
      - --config=/conf/relay.yaml
      env:
      - name: MY_POD_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      image: otel/opentelemetry-collector-contrib:0.97.0
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /
          port: 13133
          scheme: HTTP
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: opentelemetry-collector
      ports:
      - containerPort: 6831
        name: jaeger-compact
        protocol: UDP
      - containerPort: 14250
        name: jaeger-grpc
        protocol: TCP
      - containerPort: 14268
        name: jaeger-thrift
        protocol: TCP
      - containerPort: 4317
        name: otlp
        protocol: TCP
      - containerPort: 4318
        name: otlp-http
        protocol: TCP
      - containerPort: 9411
        name: zipkin
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /
          port: 13133
          scheme: HTTP
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources: {}
      securityContext: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /conf
        name: opentelemetry-collector-configmap
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-b2xb6
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: envoy-gateway-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: otel-collector
    serviceAccountName: otel-collector
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        items:
        - key: relay
          path: relay.yaml
        name: otel-collector
      name: opentelemetry-collector-configmap
    - name: kube-api-access-b2xb6
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-04-06T13:21:11Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:47Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:47Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-04-06T13:21:11Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://9d78ff311b794976bc1ef017a0a4cb54cf7c43582f537dbdddc9333798aeb625
      image: docker.io/otel/opentelemetry-collector-contrib:0.97.0
      imageID: docker.io/otel/opentelemetry-collector-contrib@sha256:42a27d048c35720cf590243223543671e9d9f1ad8537d5a35c4b748fc8ebe873
      lastState:
        terminated:
          containerID: containerd://f6ddbb47db9bb566c0b9f38afbfc4c852930202ec559ca98b900690cf4a89c54
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:56Z"
      name: opentelemetry-collector
      ready: true
      restartCount: 4
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:45Z"
    hostIP: 172.18.0.2
    phase: Running
    podIP: 10.244.0.11
    podIPs:
    - ip: 10.244.0.11
    qosClass: BestEffort
    startTime: "2024-04-06T13:21:11Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      checksum/config: 6afea56de517c4ed37099c29f47626b0ca3e33442caff9a6ca640b6ba30a94ef
      checksum/dashboards-json-config: 01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b
      checksum/sc-dashboard-provider-config: 01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b
      kubectl.kubernetes.io/default-container: grafana
      kubectl.kubernetes.io/restartedAt: "2024-04-07T22:09:07+08:00"
    creationTimestamp: "2024-04-07T14:09:07Z"
    generateName: grafana-7f9cd94f8c-
    labels:
      app: grafana
      app.kubernetes.io/instance: istio-monitoring-demo
      app.kubernetes.io/name: grafana
      pod-template-hash: 7f9cd94f8c
      sidecar.istio.io/inject: "false"
    name: grafana-7f9cd94f8c-wnt7w
    namespace: tis
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: grafana-7f9cd94f8c
      uid: 0f0033d9-58ef-45dc-a7c5-88e1cece3c3c
    resourceVersion: "2187561"
    uid: 56fce9e9-29be-47b0-b7fb-e2dc1ad0e1de
  spec:
    automountServiceAccountToken: true
    containers:
    - env:
      - name: POD_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      - name: GF_PATHS_DATA
        value: /var/lib/grafana/
      - name: GF_PATHS_LOGS
        value: /var/log/grafana
      - name: GF_PATHS_PLUGINS
        value: /var/lib/grafana/plugins
      - name: GF_PATHS_PROVISIONING
        value: /etc/grafana/provisioning
      - name: GF_AUTH_ANONYMOUS_ENABLED
        value: "true"
      - name: GF_AUTH_ANONYMOUS_ORG_ROLE
        value: Admin
      - name: GF_AUTH_BASIC_ENABLED
        value: "false"
      - name: GF_SECURITY_ADMIN_PASSWORD
        value: admin
      - name: GF_SECURITY_ADMIN_USER
        value: admin
      image: docker.io/grafana/grafana:10.0.2
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 10
        httpGet:
          path: /api/health
          port: 3000
          scheme: HTTP
        initialDelaySeconds: 60
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 30
      name: grafana
      ports:
      - containerPort: 3000
        name: grafana
        protocol: TCP
      - containerPort: 9094
        name: gossip-tcp
        protocol: TCP
      - containerPort: 9094
        name: gossip-udp
        protocol: UDP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /api/health
          port: 3000
          scheme: HTTP
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources: {}
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/grafana/grafana.ini
        name: config
        subPath: grafana.ini
      - mountPath: /var/lib/grafana
        name: storage
      - mountPath: /etc/grafana/provisioning/datasources/datasources.yaml
        name: config
        subPath: datasources.yaml
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-2smhk
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: envoy-gateway-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 472
      runAsGroup: 472
      runAsNonRoot: true
      runAsUser: 472
    serviceAccount: grafana
    serviceAccountName: grafana
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: grafana
      name: config
    - emptyDir: {}
      name: storage
    - name: kube-api-access-2smhk
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-04-07T14:09:07Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:58Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:58Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-04-07T14:09:07Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://e6ba733067069e465bc479d233896dcbcff263261e862f4e8ca58fbe48bd315c
      image: docker.io/grafana/grafana:10.0.2
      imageID: docker.io/grafana/grafana@sha256:2aa6e216f8674425d587bab7b692a941a579252f51de2f97a2a8c837e0f5e63a
      lastState:
        terminated:
          containerID: containerd://31380d94668f51d1d4f6648a32b72a4a9baf9aa4ff1df71e699e8b8a85f02635
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:55Z"
      name: grafana
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:45Z"
    hostIP: 172.18.0.2
    phase: Running
    podIP: 10.244.0.22
    podIPs:
    - ip: 10.244.0.22
    qosClass: BestEffort
    startTime: "2024-04-07T14:09:07Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubectl.kubernetes.io/restartedAt: "2024-04-07T22:09:07+08:00"
    creationTimestamp: "2024-04-07T14:09:07Z"
    generateName: istio-monitoring-demo-kube-state-metrics-cdc747ff9-
    labels:
      app.kubernetes.io/component: metrics
      app.kubernetes.io/instance: istio-monitoring-demo
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: kube-state-metrics
      app.kubernetes.io/part-of: kube-state-metrics
      app.kubernetes.io/version: 2.10.0
      helm.sh/chart: kube-state-metrics-5.14.0
      pod-template-hash: cdc747ff9
      sidecar.istio.io/inject: "false"
    name: istio-monitoring-demo-kube-state-metrics-cdc747ff9-zkqwh
    namespace: tis
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: istio-monitoring-demo-kube-state-metrics-cdc747ff9
      uid: 8c80a828-1a8d-4b9e-a6b1-e741da88b5bd
    resourceVersion: "2187818"
    uid: 0c71d236-abd9-438c-889f-23a139b3810d
  spec:
    containers:
    - args:
      - --port=8080
      - --resources=certificatesigningrequests,configmaps,cronjobs,daemonsets,deployments,endpoints,horizontalpodautoscalers,ingresses,jobs,leases,limitranges,mutatingwebhookconfigurations,namespaces,networkpolicies,nodes,persistentvolumeclaims,persistentvolumes,poddisruptionbudgets,pods,replicasets,replicationcontrollers,resourcequotas,secrets,services,statefulsets,storageclasses,validatingwebhookconfigurations,volumeattachments
      image: registry.k8s.io/kube-state-metrics/kube-state-metrics:v2.10.0
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /healthz
          port: 8080
          scheme: HTTP
        initialDelaySeconds: 5
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      name: kube-state-metrics
      ports:
      - containerPort: 8080
        name: http
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /
          port: 8080
          scheme: HTTP
        initialDelaySeconds: 5
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      resources: {}
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-z4zq2
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: envoy-gateway-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 65534
      runAsGroup: 65534
      runAsNonRoot: true
      runAsUser: 65534
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: istio-monitoring-demo-kube-state-metrics
    serviceAccountName: istio-monitoring-demo-kube-state-metrics
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: kube-api-access-z4zq2
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-04-07T14:09:07Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:24Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:30:24Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-04-07T14:09:07Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://366044c6bb1fb82b8edb10c7a7f11c2b312732bcf296685a61d6cc2dd005ba69
      image: registry.k8s.io/kube-state-metrics/kube-state-metrics:v2.10.0
      imageID: registry.k8s.io/kube-state-metrics/kube-state-metrics@sha256:ec5d6f6be2280212da0e55572b67d76f29c0342b3b6d24cc47b32d80ee3374a4
      lastState:
        terminated:
          containerID: containerd://0812764aca0b3f91b8858fff7899eef9e00ac413156b7b9217bd018acfe7beb4
          exitCode: 2
          finishedAt: "2024-04-10T09:30:10Z"
          reason: Error
          startedAt: "2024-04-10T09:29:45Z"
      name: kube-state-metrics
      ready: true
      restartCount: 4
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:30:10Z"
    hostIP: 172.18.0.2
    phase: Running
    podIP: 10.244.0.21
    podIPs:
    - ip: 10.244.0.21
    qosClass: BestEffort
    startTime: "2024-04-07T14:09:07Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubectl.kubernetes.io/restartedAt: "2024-04-07T22:39:01+08:00"
    creationTimestamp: "2024-04-07T14:39:01Z"
    generateName: prometheus-d6556fbbb-
    labels:
      app: prometheus
      chart: prometheus-19.6.1
      component: server
      heritage: Helm
      pod-template-hash: d6556fbbb
      release: istio-monitoring-demo
      sidecar.istio.io/inject: "false"
    name: prometheus-d6556fbbb-z9mk2
    namespace: tis
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: prometheus-d6556fbbb
      uid: d367cf36-abb6-4d8b-86c2-56b7c435fdf2
    resourceVersion: "2187166"
    uid: 56103f69-f3ab-4a88-9adf-ebe51b957a53
  spec:
    containers:
    - args:
      - --volume-dir=/etc/config
      - --webhook-url=http://127.0.0.1:9090/-/reload
      image: jimmidyson/configmap-reload:v0.8.0
      imagePullPolicy: IfNotPresent
      name: prometheus-server-configmap-reload
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/config
        name: config-volume
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-hv7lf
        readOnly: true
    - args:
      - --storage.tsdb.retention.time=15d
      - --config.file=/etc/config/prometheus.yml
      - --storage.tsdb.path=/data
      - --web.console.libraries=/etc/prometheus/console_libraries
      - --web.console.templates=/etc/prometheus/consoles
      - --web.enable-lifecycle
      image: prom/prometheus:v2.41.0
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /-/healthy
          port: 9090
          scheme: HTTP
        initialDelaySeconds: 30
        periodSeconds: 15
        successThreshold: 1
        timeoutSeconds: 10
      name: prometheus-server
      ports:
      - containerPort: 9090
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /-/ready
          port: 9090
          scheme: HTTP
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 4
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/config
        name: config-volume
      - mountPath: /data
        name: storage-volume
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-hv7lf
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: envoy-gateway-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 65534
      runAsGroup: 65534
      runAsNonRoot: true
      runAsUser: 65534
    serviceAccount: prometheus
    serviceAccountName: prometheus
    terminationGracePeriodSeconds: 300
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: prometheus
      name: config-volume
    - emptyDir: {}
      name: storage-volume
    - name: kube-api-access-hv7lf
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2024-04-07T14:39:01Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:48Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-10T09:29:48Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2024-04-07T14:39:01Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://0f880f9a6f9b736c3f382b80a96db48733bba925a2da952ecc0a46c52fd70ee3
      image: docker.io/prom/prometheus:v2.41.0
      imageID: docker.io/prom/prometheus@sha256:1a3e9a878e50cd339ae7cf5718fda08381dda2d4ccd28e94bbaa3190d1a566c2
      lastState:
        terminated:
          containerID: containerd://6a3af9583737185463089a117999530cb1b733e1a4a84248308bfdb1526d3a9f
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:56Z"
      name: prometheus-server
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:46Z"
    - containerID: containerd://d5a3eb4fda823228f22284bb557992d0a2a000eb9e7b7cf29520a62e0d49a67a
      image: docker.io/jimmidyson/configmap-reload:v0.8.0
      imageID: docker.io/jimmidyson/configmap-reload@sha256:5af9d3041d12a3e63f115125f89b66d2ba981fe82e64302ac370c5496055059c
      lastState:
        terminated:
          containerID: containerd://6188f1fb65a1fdeaa0488d0d4e5fc50c250f0a3ce293d7561d6ec5073b2a0d37
          exitCode: 255
          finishedAt: "2024-04-10T09:29:37Z"
          reason: Unknown
          startedAt: "2024-04-10T08:58:56Z"
      name: prometheus-server-configmap-reload
      ready: true
      restartCount: 2
      started: true
      state:
        running:
          startedAt: "2024-04-10T09:29:45Z"
    hostIP: 172.18.0.2
    phase: Running
    podIP: 10.244.0.23
    podIPs:
    - ip: 10.244.0.23
    qosClass: BestEffort
    startTime: "2024-04-07T14:39:01Z"
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"app":"details","service":"details"},"name":"details","namespace":"bookinfo"},"spec":{"ports":[{"name":"http","port":9080}],"selector":{"app":"details"}}}
    creationTimestamp: "2024-04-08T13:56:20Z"
    labels:
      app: details
      service: details
    name: details
    namespace: bookinfo
    resourceVersion: "2037494"
    uid: d6f532c2-5002-4b89-aec1-e02e97cc1f67
  spec:
    clusterIP: 10.96.185.99
    clusterIPs:
    - 10.96.185.99
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 9080
      protocol: TCP
      targetPort: 9080
    selector:
      app: details
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"app":"productpage","service":"productpage"},"name":"productpage","namespace":"bookinfo"},"spec":{"ports":[{"name":"http","port":9080}],"selector":{"app":"productpage"}}}
    creationTimestamp: "2024-04-08T13:56:20Z"
    labels:
      app: productpage
      service: productpage
    name: productpage
    namespace: bookinfo
    resourceVersion: "2037564"
    uid: f9a844b7-165f-427e-86b5-2acbc9b0707b
  spec:
    clusterIP: 10.96.4.211
    clusterIPs:
    - 10.96.4.211
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 9080
      protocol: TCP
      targetPort: 9080
    selector:
      app: productpage
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"app":"ratings","service":"ratings"},"name":"ratings","namespace":"bookinfo"},"spec":{"ports":[{"name":"http","port":9080}],"selector":{"app":"ratings"}}}
    creationTimestamp: "2024-04-08T13:56:20Z"
    labels:
      app: ratings
      service: ratings
    name: ratings
    namespace: bookinfo
    resourceVersion: "2037503"
    uid: 3fd6b57e-ef5f-430e-a56a-1c909203086c
  spec:
    clusterIP: 10.96.74.83
    clusterIPs:
    - 10.96.74.83
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 9080
      protocol: TCP
      targetPort: 9080
    selector:
      app: ratings
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"app":"reviews","service":"reviews"},"name":"reviews","namespace":"bookinfo"},"spec":{"ports":[{"name":"http","port":9080}],"selector":{"app":"reviews"}}}
    creationTimestamp: "2024-04-08T13:56:20Z"
    labels:
      app: reviews
      service: reviews
    name: reviews
    namespace: bookinfo
    resourceVersion: "2037513"
    uid: df9d37bc-b12b-4b5a-be4c-58033c0e9390
  spec:
    clusterIP: 10.96.197.111
    clusterIPs:
    - 10.96.197.111
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 9080
      protocol: TCP
      targetPort: 9080
    selector:
      app: reviews
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"app":"httpbin","service":"httpbin"},"name":"httpbin","namespace":"default"},"spec":{"ports":[{"name":"http","port":8000,"targetPort":8080}],"selector":{"app":"httpbin"}}}
    creationTimestamp: "2024-04-06T11:43:19Z"
    labels:
      app: httpbin
      service: httpbin
    name: httpbin
    namespace: default
    resourceVersion: "1784375"
    uid: 57aa75d6-e42f-4ba8-9dbb-5ad0a2afaeac
  spec:
    clusterIP: 10.96.196.21
    clusterIPs:
    - 10.96.196.21
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 8000
      protocol: TCP
      targetPort: 8080
    selector:
      app: httpbin
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    creationTimestamp: "2024-03-19T15:05:16Z"
    labels:
      component: apiserver
      provider: kubernetes
    name: kubernetes
    namespace: default
    resourceVersion: "717168"
    uid: 368ba136-2d34-4d9c-ae00-baccc31ceabf
  spec:
    clusterIP: 10.96.0.1
    clusterIPs:
    - 10.96.0.1
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: https
      port: 443
      protocol: TCP
      targetPort: 6443
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"app":"sleep","service":"sleep"},"name":"sleep","namespace":"default"},"spec":{"ports":[{"name":"http","port":80}],"selector":{"app":"sleep"}}}
    creationTimestamp: "2024-03-22T05:39:51Z"
    labels:
      app: sleep
      service: sleep
    name: sleep
    namespace: default
    resourceVersion: "835592"
    uid: 02842fdf-1661-4716-81d0-ef43ad45a844
  spec:
    clusterIP: 10.96.59.168
    clusterIPs:
    - 10.96.59.168
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 80
      protocol: TCP
      targetPort: 80
    selector:
      app: sleep
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      metallb.universe.tf/ip-allocated-from-pool: kube-services
    creationTimestamp: "2024-04-07T12:57:01Z"
    labels:
      app: istio-ingressgateway
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio: ingressgateway
      istio.io/rev: default
      operator.istio.io/component: IngressGateways
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: istio-ingressgateway
    namespace: istio-system
    resourceVersion: "1904633"
    uid: 0b70be3a-51b9-4a45-a7b4-c8aedaa591ed
  spec:
    allocateLoadBalancerNodePorts: true
    clusterIP: 10.96.70.218
    clusterIPs:
    - 10.96.70.218
    externalTrafficPolicy: Cluster
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: status-port
      nodePort: 30963
      port: 15021
      protocol: TCP
      targetPort: 15021
    - name: http2
      nodePort: 31505
      port: 80
      protocol: TCP
      targetPort: 8080
    - name: https
      nodePort: 31150
      port: 443
      protocol: TCP
      targetPort: 8443
    selector:
      app: istio-ingressgateway
      istio: ingressgateway
    sessionAffinity: None
    type: LoadBalancer
  status:
    loadBalancer:
      ingress:
      - ip: 172.18.255.200
- apiVersion: v1
  kind: Service
  metadata:
    creationTimestamp: "2024-04-07T12:56:57Z"
    labels:
      app: istiod
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio: pilot
      istio.io/rev: default
      operator.istio.io/component: Pilot
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: istiod
    namespace: istio-system
    resourceVersion: "1904570"
    uid: d73216ac-2e11-4424-a943-5e44ae03fa99
  spec:
    clusterIP: 10.96.201.22
    clusterIPs:
    - 10.96.201.22
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: grpc-xds
      port: 15010
      protocol: TCP
      targetPort: 15010
    - name: https-dns
      port: 15012
      protocol: TCP
      targetPort: 15012
    - name: https-webhook
      port: 443
      protocol: TCP
      targetPort: 15017
    - name: http-monitoring
      port: 15014
      protocol: TCP
      targetPort: 15014
    selector:
      app: istiod
      istio: pilot
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      prometheus.io/port: "9153"
      prometheus.io/scrape: "true"
    creationTimestamp: "2024-03-09T04:14:53Z"
    labels:
      k8s-app: kube-dns
      kubernetes.io/cluster-service: "true"
      kubernetes.io/name: CoreDNS
    name: kube-dns
    namespace: kube-system
    resourceVersion: "267"
    uid: 690eace9-290d-48f1-8c16-70d5346e4623
  spec:
    clusterIP: 10.96.0.10
    clusterIPs:
    - 10.96.0.10
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: dns
      port: 53
      protocol: UDP
      targetPort: 53
    - name: dns-tcp
      port: 53
      protocol: TCP
      targetPort: 53
    - name: metrics
      port: 9153
      protocol: TCP
      targetPort: 9153
    selector:
      k8s-app: kube-dns
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"run":"my-nginx"},"name":"my-nginx","namespace":"mesh-external"},"spec":{"ports":[{"port":443,"protocol":"TCP"}],"selector":{"run":"my-nginx"}}}
    creationTimestamp: "2024-03-14T05:47:50Z"
    labels:
      run: my-nginx
    name: my-nginx
    namespace: mesh-external
    resourceVersion: "418497"
    uid: e91e8060-3fc6-4957-b09f-37dcf90aa62f
  spec:
    clusterIP: 10.96.82.52
    clusterIPs:
    - 10.96.82.52
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - port: 443
      protocol: TCP
      targetPort: 443
    selector:
      run: my-nginx
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"name":"webhook-service","namespace":"metallb-system"},"spec":{"ports":[{"port":443,"targetPort":9443}],"selector":{"component":"controller"}}}
    creationTimestamp: "2024-03-09T04:14:55Z"
    name: webhook-service
    namespace: metallb-system
    resourceVersion: "352"
    uid: aed11775-c21d-49b9-a237-2117ec09360d
  spec:
    clusterIP: 10.96.245.75
    clusterIPs:
    - 10.96.245.75
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - port: 443
      protocol: TCP
      targetPort: 9443
    selector:
      component: controller
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: otel-collector
      meta.helm.sh/release-namespace: monitoring
    creationTimestamp: "2024-04-06T07:43:36Z"
    labels:
      app.kubernetes.io/instance: otel-collector
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: opentelemetry-collector
      app.kubernetes.io/version: 0.97.0
      component: standalone-collector
      helm.sh/chart: opentelemetry-collector-0.86.0
    name: otel-collector
    namespace: monitoring
    resourceVersion: "1759840"
    uid: f99a381d-c49e-4ca9-b313-bc5440da4907
  spec:
    clusterIP: 10.96.229.64
    clusterIPs:
    - 10.96.229.64
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: jaeger-compact
      port: 6831
      protocol: UDP
      targetPort: 6831
    - name: jaeger-grpc
      port: 14250
      protocol: TCP
      targetPort: 14250
    - name: jaeger-thrift
      port: 14268
      protocol: TCP
      targetPort: 14268
    - appProtocol: grpc
      name: otlp
      port: 4317
      protocol: TCP
      targetPort: 4317
    - name: otlp-http
      port: 4318
      protocol: TCP
      targetPort: 4318
    - name: zipkin
      port: 9411
      protocol: TCP
      targetPort: 9411
    selector:
      app.kubernetes.io/instance: otel-collector
      app.kubernetes.io/name: opentelemetry-collector
      component: standalone-collector
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T13:10:01Z"
    labels:
      app.kubernetes.io/instance: istio-monitoring-demo
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: grafana
      app.kubernetes.io/version: 10.0.2
      helm.sh/chart: grafana-6.58.4
    name: grafana
    namespace: tis
    resourceVersion: "1906720"
    uid: 251a81f5-9fc3-4c9f-9225-85e19ff642ae
  spec:
    clusterIP: 10.96.186.246
    clusterIPs:
    - 10.96.186.246
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: service
      port: 3000
      protocol: TCP
      targetPort: 3000
    selector:
      app.kubernetes.io/instance: istio-monitoring-demo
      app.kubernetes.io/name: grafana
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
      prometheus.io/scrape: "true"
    creationTimestamp: "2024-04-07T13:10:01Z"
    labels:
      app.kubernetes.io/component: metrics
      app.kubernetes.io/instance: istio-monitoring-demo
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: kube-state-metrics
      app.kubernetes.io/part-of: kube-state-metrics
      app.kubernetes.io/version: 2.10.0
      helm.sh/chart: kube-state-metrics-5.14.0
      sidecar.istio.io/inject: "false"
    name: istio-monitoring-demo-kube-state-metrics
    namespace: tis
    resourceVersion: "1906718"
    uid: 1a1f7c32-331c-45dc-a421-a5ea10fffd0e
  spec:
    clusterIP: 10.96.246.69
    clusterIPs:
    - 10.96.246.69
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 8080
      protocol: TCP
      targetPort: 8080
    selector:
      app.kubernetes.io/instance: istio-monitoring-demo
      app.kubernetes.io/name: kube-state-metrics
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T13:10:01Z"
    labels:
      app: prometheus
      app.kubernetes.io/managed-by: Helm
      chart: prometheus-19.6.1
      component: server
      heritage: Helm
      release: istio-monitoring-demo
    name: prometheus
    namespace: tis
    resourceVersion: "1906726"
    uid: bd82c176-2044-40b9-a6dd-b1f860c864f3
  spec:
    clusterIP: 10.96.209.202
    clusterIPs:
    - 10.96.209.202
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 9090
      protocol: TCP
      targetPort: 9090
    selector:
      app: prometheus
      component: server
      release: istio-monitoring-demo
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: apps/v1
  kind: DaemonSet
  metadata:
    annotations:
      deprecated.daemonset.template.generation: "1"
    creationTimestamp: "2024-03-09T04:14:54Z"
    generation: 1
    labels:
      app: kindnet
      k8s-app: kindnet
      tier: node
    name: kindnet
    namespace: kube-system
    resourceVersion: "490"
    uid: e737ab9b-3b0d-4257-b021-f1064717a587
  spec:
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: kindnet
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: kindnet
          k8s-app: kindnet
          tier: node
      spec:
        containers:
        - env:
          - name: HOST_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.hostIP
          - name: POD_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          - name: POD_SUBNET
            value: 10.244.0.0/16
          - name: CONTROL_PLANE_ENDPOINT
            value: envoy-gateway-control-plane:6443
          image: docker.io/kindest/kindnetd:v20230511-dc714da8
          imagePullPolicy: IfNotPresent
          name: kindnet-cni
          resources:
            limits:
              cpu: 100m
              memory: 50Mi
            requests:
              cpu: 100m
              memory: 50Mi
          securityContext:
            capabilities:
              add:
              - NET_RAW
              - NET_ADMIN
            privileged: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/cni/net.d
            name: cni-cfg
          - mountPath: /run/xtables.lock
            name: xtables-lock
          - mountPath: /lib/modules
            name: lib-modules
            readOnly: true
        dnsPolicy: ClusterFirst
        hostNetwork: true
        nodeSelector:
          kubernetes.io/os: linux
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: kindnet
        serviceAccountName: kindnet
        terminationGracePeriodSeconds: 30
        tolerations:
        - operator: Exists
        volumes:
        - hostPath:
            path: /etc/cni/net.d
            type: ""
          name: cni-cfg
        - hostPath:
            path: /run/xtables.lock
            type: FileOrCreate
          name: xtables-lock
        - hostPath:
            path: /lib/modules
            type: ""
          name: lib-modules
    updateStrategy:
      rollingUpdate:
        maxSurge: 0
        maxUnavailable: 1
      type: RollingUpdate
  status:
    currentNumberScheduled: 1
    desiredNumberScheduled: 1
    numberAvailable: 1
    numberMisscheduled: 0
    numberReady: 1
    observedGeneration: 1
    updatedNumberScheduled: 1
- apiVersion: apps/v1
  kind: DaemonSet
  metadata:
    annotations:
      deprecated.daemonset.template.generation: "1"
    creationTimestamp: "2024-03-09T04:14:53Z"
    generation: 1
    labels:
      k8s-app: kube-proxy
    name: kube-proxy
    namespace: kube-system
    resourceVersion: "488"
    uid: 2b9925fe-993d-4c15-ac78-ca1fa3128da6
  spec:
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        k8s-app: kube-proxy
    template:
      metadata:
        creationTimestamp: null
        labels:
          k8s-app: kube-proxy
      spec:
        containers:
        - command:
          - /usr/local/bin/kube-proxy
          - --config=/var/lib/kube-proxy/config.conf
          - --hostname-override=$(NODE_NAME)
          env:
          - name: NODE_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: spec.nodeName
          image: registry.k8s.io/kube-proxy:v1.28.0
          imagePullPolicy: IfNotPresent
          name: kube-proxy
          resources: {}
          securityContext:
            privileged: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/lib/kube-proxy
            name: kube-proxy
          - mountPath: /run/xtables.lock
            name: xtables-lock
          - mountPath: /lib/modules
            name: lib-modules
            readOnly: true
        dnsPolicy: ClusterFirst
        hostNetwork: true
        nodeSelector:
          kubernetes.io/os: linux
        priorityClassName: system-node-critical
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: kube-proxy
        serviceAccountName: kube-proxy
        terminationGracePeriodSeconds: 30
        tolerations:
        - operator: Exists
        volumes:
        - configMap:
            defaultMode: 420
            name: kube-proxy
          name: kube-proxy
        - hostPath:
            path: /run/xtables.lock
            type: FileOrCreate
          name: xtables-lock
        - hostPath:
            path: /lib/modules
            type: ""
          name: lib-modules
    updateStrategy:
      rollingUpdate:
        maxSurge: 0
        maxUnavailable: 1
      type: RollingUpdate
  status:
    currentNumberScheduled: 1
    desiredNumberScheduled: 1
    numberAvailable: 1
    numberMisscheduled: 0
    numberReady: 1
    observedGeneration: 1
    updatedNumberScheduled: 1
- apiVersion: apps/v1
  kind: DaemonSet
  metadata:
    annotations:
      deprecated.daemonset.template.generation: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"DaemonSet","metadata":{"annotations":{},"labels":{"app":"metallb","component":"speaker"},"name":"speaker","namespace":"metallb-system"},"spec":{"selector":{"matchLabels":{"app":"metallb","component":"speaker"}},"template":{"metadata":{"annotations":{"prometheus.io/port":"7472","prometheus.io/scrape":"true"},"labels":{"app":"metallb","component":"speaker"}},"spec":{"containers":[{"args":["--port=7472","--log-level=info"],"env":[{"name":"METALLB_NODE_NAME","valueFrom":{"fieldRef":{"fieldPath":"spec.nodeName"}}},{"name":"METALLB_HOST","valueFrom":{"fieldRef":{"fieldPath":"status.hostIP"}}},{"name":"METALLB_ML_BIND_ADDR","valueFrom":{"fieldRef":{"fieldPath":"status.podIP"}}},{"name":"METALLB_ML_LABELS","value":"app=metallb,component=speaker"},{"name":"METALLB_ML_SECRET_KEY_PATH","value":"/etc/ml_secret_key"}],"image":"quay.io/metallb/speaker:v0.13.10","livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/metrics","port":"monitoring"},"initialDelaySeconds":10,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"name":"speaker","ports":[{"containerPort":7472,"name":"monitoring"},{"containerPort":7946,"name":"memberlist-tcp"},{"containerPort":7946,"name":"memberlist-udp","protocol":"UDP"}],"readinessProbe":{"failureThreshold":3,"httpGet":{"path":"/metrics","port":"monitoring"},"initialDelaySeconds":10,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"add":["NET_RAW"],"drop":["ALL"]},"readOnlyRootFilesystem":true},"volumeMounts":[{"mountPath":"/etc/ml_secret_key","name":"memberlist","readOnly":true},{"mountPath":"/etc/metallb","name":"metallb-excludel2","readOnly":true}]}],"hostNetwork":true,"nodeSelector":{"kubernetes.io/os":"linux"},"serviceAccountName":"speaker","terminationGracePeriodSeconds":2,"tolerations":[{"effect":"NoSchedule","key":"node-role.kubernetes.io/master","operator":"Exists"},{"effect":"NoSchedule","key":"node-role.kubernetes.io/control-plane","operator":"Exists"}],"volumes":[{"name":"memberlist","secret":{"defaultMode":420,"secretName":"memberlist"}},{"configMap":{"defaultMode":256,"name":"metallb-excludel2"},"name":"metallb-excludel2"}]}}}}
    creationTimestamp: "2024-03-09T04:14:55Z"
    generation: 1
    labels:
      app: metallb
      component: speaker
    name: speaker
    namespace: metallb-system
    resourceVersion: "2187869"
    uid: 2b5a9886-1c10-4ca5-ad30-9b24d98d1e34
  spec:
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: metallb
        component: speaker
    template:
      metadata:
        annotations:
          prometheus.io/port: "7472"
          prometheus.io/scrape: "true"
        creationTimestamp: null
        labels:
          app: metallb
          component: speaker
      spec:
        containers:
        - args:
          - --port=7472
          - --log-level=info
          env:
          - name: METALLB_NODE_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: spec.nodeName
          - name: METALLB_HOST
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.hostIP
          - name: METALLB_ML_BIND_ADDR
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          - name: METALLB_ML_LABELS
            value: app=metallb,component=speaker
          - name: METALLB_ML_SECRET_KEY_PATH
            value: /etc/ml_secret_key
          image: quay.io/metallb/speaker:v0.13.10
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /metrics
              port: monitoring
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: speaker
          ports:
          - containerPort: 7472
            name: monitoring
            protocol: TCP
          - containerPort: 7946
            name: memberlist-tcp
            protocol: TCP
          - containerPort: 7946
            name: memberlist-udp
            protocol: UDP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /metrics
              port: monitoring
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              add:
              - NET_RAW
              drop:
              - ALL
            readOnlyRootFilesystem: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/ml_secret_key
            name: memberlist
            readOnly: true
          - mountPath: /etc/metallb
            name: metallb-excludel2
            readOnly: true
        dnsPolicy: ClusterFirst
        hostNetwork: true
        nodeSelector:
          kubernetes.io/os: linux
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: speaker
        serviceAccountName: speaker
        terminationGracePeriodSeconds: 2
        tolerations:
        - effect: NoSchedule
          key: node-role.kubernetes.io/master
          operator: Exists
        - effect: NoSchedule
          key: node-role.kubernetes.io/control-plane
          operator: Exists
        volumes:
        - name: memberlist
          secret:
            defaultMode: 420
            secretName: memberlist
        - configMap:
            defaultMode: 256
            name: metallb-excludel2
          name: metallb-excludel2
    updateStrategy:
      rollingUpdate:
        maxSurge: 0
        maxUnavailable: 1
      type: RollingUpdate
  status:
    currentNumberScheduled: 1
    desiredNumberScheduled: 1
    numberAvailable: 1
    numberMisscheduled: 0
    numberReady: 1
    observedGeneration: 1
    updatedNumberScheduled: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{},"labels":{"app":"details","version":"v1"},"name":"details-v1","namespace":"bookinfo"},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"details","version":"v1"}},"template":{"metadata":{"labels":{"app":"details","version":"v1"}},"spec":{"containers":[{"image":"docker.io/istio/examples-bookinfo-details-v1:1.19.1","imagePullPolicy":"IfNotPresent","name":"details","ports":[{"containerPort":9080}]}],"serviceAccountName":"bookinfo-details"}}}}
    creationTimestamp: "2024-04-08T13:56:20Z"
    generation: 1
    labels:
      app: details
      version: v1
    name: details-v1
    namespace: bookinfo
    resourceVersion: "2187852"
    uid: 770a5b5f-97d7-484a-b730-2c6e77471491
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: details
        version: v1
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: details
          version: v1
      spec:
        containers:
        - image: docker.io/istio/examples-bookinfo-details-v1:1.19.1
          imagePullPolicy: IfNotPresent
          name: details
          ports:
          - containerPort: 9080
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: bookinfo-details
        serviceAccountName: bookinfo-details
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2024-04-08T13:56:20Z"
      lastUpdateTime: "2024-04-08T13:56:24Z"
      message: ReplicaSet "details-v1-cf74bb974" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-04-10T09:30:27Z"
      lastUpdateTime: "2024-04-10T09:30:27Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{},"labels":{"app":"productpage","version":"v1"},"name":"productpage-v1","namespace":"bookinfo"},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"productpage","version":"v1"}},"template":{"metadata":{"annotations":{"prometheus.io/path":"/metrics","prometheus.io/port":"9080","prometheus.io/scrape":"true"},"labels":{"app":"productpage","version":"v1"}},"spec":{"containers":[{"image":"docker.io/istio/examples-bookinfo-productpage-v1:1.19.1","imagePullPolicy":"IfNotPresent","name":"productpage","ports":[{"containerPort":9080}],"volumeMounts":[{"mountPath":"/tmp","name":"tmp"}]}],"serviceAccountName":"bookinfo-productpage","volumes":[{"emptyDir":{},"name":"tmp"}]}}}}
    creationTimestamp: "2024-04-08T13:56:20Z"
    generation: 1
    labels:
      app: productpage
      version: v1
    name: productpage-v1
    namespace: bookinfo
    resourceVersion: "2187784"
    uid: d12ffb9d-37e8-4737-a6cc-92e28fadc9b0
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: productpage
        version: v1
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        annotations:
          prometheus.io/path: /metrics
          prometheus.io/port: "9080"
          prometheus.io/scrape: "true"
        creationTimestamp: null
        labels:
          app: productpage
          version: v1
      spec:
        containers:
        - image: docker.io/istio/examples-bookinfo-productpage-v1:1.19.1
          imagePullPolicy: IfNotPresent
          name: productpage
          ports:
          - containerPort: 9080
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /tmp
            name: tmp
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: bookinfo-productpage
        serviceAccountName: bookinfo-productpage
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir: {}
          name: tmp
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2024-04-08T13:56:20Z"
      lastUpdateTime: "2024-04-08T13:56:24Z"
      message: ReplicaSet "productpage-v1-87d54dd59" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-04-10T09:30:23Z"
      lastUpdateTime: "2024-04-10T09:30:23Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{},"labels":{"app":"ratings","version":"v1"},"name":"ratings-v1","namespace":"bookinfo"},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"ratings","version":"v1"}},"template":{"metadata":{"labels":{"app":"ratings","version":"v1"}},"spec":{"containers":[{"image":"docker.io/istio/examples-bookinfo-ratings-v1:1.19.1","imagePullPolicy":"IfNotPresent","name":"ratings","ports":[{"containerPort":9080}]}],"serviceAccountName":"bookinfo-ratings"}}}}
    creationTimestamp: "2024-04-08T13:56:20Z"
    generation: 1
    labels:
      app: ratings
      version: v1
    name: ratings-v1
    namespace: bookinfo
    resourceVersion: "2187847"
    uid: 7a5c0487-3b46-4f61-a48f-b29d8a5f43d7
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: ratings
        version: v1
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: ratings
          version: v1
      spec:
        containers:
        - image: docker.io/istio/examples-bookinfo-ratings-v1:1.19.1
          imagePullPolicy: IfNotPresent
          name: ratings
          ports:
          - containerPort: 9080
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: bookinfo-ratings
        serviceAccountName: bookinfo-ratings
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2024-04-08T13:56:20Z"
      lastUpdateTime: "2024-04-08T13:56:24Z"
      message: ReplicaSet "ratings-v1-7c4bbf97db" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-04-10T09:30:27Z"
      lastUpdateTime: "2024-04-10T09:30:27Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{},"labels":{"app":"reviews","version":"v1"},"name":"reviews-v1","namespace":"bookinfo"},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"reviews","version":"v1"}},"template":{"metadata":{"labels":{"app":"reviews","version":"v1"}},"spec":{"containers":[{"env":[{"name":"LOG_DIR","value":"/tmp/logs"}],"image":"docker.io/istio/examples-bookinfo-reviews-v1:1.19.1","imagePullPolicy":"IfNotPresent","name":"reviews","ports":[{"containerPort":9080}],"volumeMounts":[{"mountPath":"/tmp","name":"tmp"},{"mountPath":"/opt/ibm/wlp/output","name":"wlp-output"}]}],"serviceAccountName":"bookinfo-reviews","volumes":[{"emptyDir":{},"name":"wlp-output"},{"emptyDir":{},"name":"tmp"}]}}}}
    creationTimestamp: "2024-04-08T13:56:20Z"
    generation: 1
    labels:
      app: reviews
      version: v1
    name: reviews-v1
    namespace: bookinfo
    resourceVersion: "2187808"
    uid: 067c7d5a-93e7-4f55-9c40-fbbe2caa6887
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: reviews
        version: v1
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: reviews
          version: v1
      spec:
        containers:
        - env:
          - name: LOG_DIR
            value: /tmp/logs
          image: docker.io/istio/examples-bookinfo-reviews-v1:1.19.1
          imagePullPolicy: IfNotPresent
          name: reviews
          ports:
          - containerPort: 9080
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /tmp
            name: tmp
          - mountPath: /opt/ibm/wlp/output
            name: wlp-output
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: bookinfo-reviews
        serviceAccountName: bookinfo-reviews
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir: {}
          name: wlp-output
        - emptyDir: {}
          name: tmp
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2024-04-08T13:56:20Z"
      lastUpdateTime: "2024-04-08T13:56:24Z"
      message: ReplicaSet "reviews-v1-5fd6d4f8f8" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-04-10T09:30:24Z"
      lastUpdateTime: "2024-04-10T09:30:24Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{},"labels":{"app":"reviews","version":"v2"},"name":"reviews-v2","namespace":"bookinfo"},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"reviews","version":"v2"}},"template":{"metadata":{"labels":{"app":"reviews","version":"v2"}},"spec":{"containers":[{"env":[{"name":"LOG_DIR","value":"/tmp/logs"}],"image":"docker.io/istio/examples-bookinfo-reviews-v2:1.19.1","imagePullPolicy":"IfNotPresent","name":"reviews","ports":[{"containerPort":9080}],"volumeMounts":[{"mountPath":"/tmp","name":"tmp"},{"mountPath":"/opt/ibm/wlp/output","name":"wlp-output"}]}],"serviceAccountName":"bookinfo-reviews","volumes":[{"emptyDir":{},"name":"wlp-output"},{"emptyDir":{},"name":"tmp"}]}}}}
    creationTimestamp: "2024-04-08T13:56:20Z"
    generation: 1
    labels:
      app: reviews
      version: v2
    name: reviews-v2
    namespace: bookinfo
    resourceVersion: "2187776"
    uid: 58139328-6da6-4187-813a-efae07ef4ab1
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: reviews
        version: v2
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: reviews
          version: v2
      spec:
        containers:
        - env:
          - name: LOG_DIR
            value: /tmp/logs
          image: docker.io/istio/examples-bookinfo-reviews-v2:1.19.1
          imagePullPolicy: IfNotPresent
          name: reviews
          ports:
          - containerPort: 9080
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /tmp
            name: tmp
          - mountPath: /opt/ibm/wlp/output
            name: wlp-output
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: bookinfo-reviews
        serviceAccountName: bookinfo-reviews
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir: {}
          name: wlp-output
        - emptyDir: {}
          name: tmp
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2024-04-08T13:56:20Z"
      lastUpdateTime: "2024-04-08T13:56:24Z"
      message: ReplicaSet "reviews-v2-6f9b55c5db" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-04-10T09:30:22Z"
      lastUpdateTime: "2024-04-10T09:30:22Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{},"labels":{"app":"reviews","version":"v3"},"name":"reviews-v3","namespace":"bookinfo"},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"reviews","version":"v3"}},"template":{"metadata":{"labels":{"app":"reviews","version":"v3"}},"spec":{"containers":[{"env":[{"name":"LOG_DIR","value":"/tmp/logs"}],"image":"docker.io/istio/examples-bookinfo-reviews-v3:1.19.1","imagePullPolicy":"IfNotPresent","name":"reviews","ports":[{"containerPort":9080}],"volumeMounts":[{"mountPath":"/tmp","name":"tmp"},{"mountPath":"/opt/ibm/wlp/output","name":"wlp-output"}]}],"serviceAccountName":"bookinfo-reviews","volumes":[{"emptyDir":{},"name":"wlp-output"},{"emptyDir":{},"name":"tmp"}]}}}}
    creationTimestamp: "2024-04-08T13:56:20Z"
    generation: 1
    labels:
      app: reviews
      version: v3
    name: reviews-v3
    namespace: bookinfo
    resourceVersion: "2187876"
    uid: 153bc09b-0040-42be-ba44-cc89e54fd94d
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: reviews
        version: v3
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: reviews
          version: v3
      spec:
        containers:
        - env:
          - name: LOG_DIR
            value: /tmp/logs
          image: docker.io/istio/examples-bookinfo-reviews-v3:1.19.1
          imagePullPolicy: IfNotPresent
          name: reviews
          ports:
          - containerPort: 9080
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /tmp
            name: tmp
          - mountPath: /opt/ibm/wlp/output
            name: wlp-output
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: bookinfo-reviews
        serviceAccountName: bookinfo-reviews
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir: {}
          name: wlp-output
        - emptyDir: {}
          name: tmp
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2024-04-08T13:56:20Z"
      lastUpdateTime: "2024-04-08T13:56:24Z"
      message: ReplicaSet "reviews-v3-7d99fd7978" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-04-10T09:30:32Z"
      lastUpdateTime: "2024-04-10T09:30:32Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{},"name":"httpbin","namespace":"default"},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"httpbin","version":"v1"}},"template":{"metadata":{"labels":{"app":"httpbin","version":"v1"}},"spec":{"containers":[{"command":["gunicorn","-b","0.0.0.0:8080","httpbin:app","-k","gevent"],"env":[{"name":"WORKON_HOME","value":"/tmp"}],"image":"docker.io/kong/httpbin","imagePullPolicy":"IfNotPresent","name":"httpbin","ports":[{"containerPort":8080}]}],"serviceAccountName":"httpbin"}}}}
    creationTimestamp: "2024-04-06T11:43:19Z"
    generation: 1
    name: httpbin
    namespace: default
    resourceVersion: "2187840"
    uid: 77d62447-75b6-44d7-8193-15ea0ec5efa0
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: httpbin
        version: v1
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: httpbin
          version: v1
      spec:
        containers:
        - command:
          - gunicorn
          - -b
          - 0.0.0.0:8080
          - httpbin:app
          - -k
          - gevent
          env:
          - name: WORKON_HOME
            value: /tmp
          image: docker.io/kong/httpbin
          imagePullPolicy: IfNotPresent
          name: httpbin
          ports:
          - containerPort: 8080
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: httpbin
        serviceAccountName: httpbin
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2024-04-06T11:43:19Z"
      lastUpdateTime: "2024-04-06T11:43:21Z"
      message: ReplicaSet "httpbin-86b8ffc5ff" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-04-10T09:30:27Z"
      lastUpdateTime: "2024-04-10T09:30:27Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{},"name":"sleep","namespace":"default"},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"sleep"}},"template":{"metadata":{"labels":{"app":"sleep"}},"spec":{"containers":[{"command":["/bin/sleep","infinity"],"image":"curlimages/curl","imagePullPolicy":"IfNotPresent","name":"sleep","volumeMounts":[{"mountPath":"/etc/sleep/tls","name":"secret-volume"}]}],"serviceAccountName":"sleep","terminationGracePeriodSeconds":0,"volumes":[{"name":"secret-volume","secret":{"optional":true,"secretName":"sleep-secret"}}]}}}}
    creationTimestamp: "2024-03-22T05:39:51Z"
    generation: 1
    name: sleep
    namespace: default
    resourceVersion: "2187856"
    uid: d7fde5a8-daef-4dd2-b45b-aa39c4d84b8f
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: sleep
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: sleep
      spec:
        containers:
        - command:
          - /bin/sleep
          - infinity
          image: curlimages/curl
          imagePullPolicy: IfNotPresent
          name: sleep
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/sleep/tls
            name: secret-volume
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: sleep
        serviceAccountName: sleep
        terminationGracePeriodSeconds: 0
        volumes:
        - name: secret-volume
          secret:
            defaultMode: 420
            optional: true
            secretName: sleep-secret
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2024-03-22T05:39:51Z"
      lastUpdateTime: "2024-03-22T05:39:53Z"
      message: ReplicaSet "sleep-7656cf8794" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-04-10T09:30:27Z"
      lastUpdateTime: "2024-04-10T09:30:27Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2024-04-07T12:57:01Z"
    generation: 1
    labels:
      app: istio-ingressgateway
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio: ingressgateway
      istio.io/rev: default
      operator.istio.io/component: IngressGateways
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: istio-ingressgateway
    namespace: istio-system
    resourceVersion: "2187815"
    uid: c9d20ead-682e-4baf-9836-d07b336d108d
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: istio-ingressgateway
        istio: ingressgateway
    strategy:
      rollingUpdate:
        maxSurge: 100%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        annotations:
          istio.io/rev: default
          prometheus.io/path: /stats/prometheus
          prometheus.io/port: "15020"
          prometheus.io/scrape: "true"
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: istio-ingressgateway
          chart: gateways
          heritage: Tiller
          install.operator.istio.io/owning-resource: unknown
          istio: ingressgateway
          istio.io/rev: default
          operator.istio.io/component: IngressGateways
          release: istio
          service.istio.io/canonical-name: istio-ingressgateway
          service.istio.io/canonical-revision: latest
          sidecar.istio.io/inject: "false"
      spec:
        affinity:
          nodeAffinity: {}
        containers:
        - args:
          - proxy
          - router
          - --domain
          - $(POD_NAMESPACE).svc.cluster.local
          - --proxyLogLevel=warning
          - --proxyComponentLogLevel=misc:error
          - --log_output_level=default:info
          env:
          - name: JWT_POLICY
            value: third-party-jwt
          - name: PILOT_CERT_PROVIDER
            value: istiod
          - name: CA_ADDR
            value: istiod.istio-system.svc:15012
          - name: NODE_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: spec.nodeName
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: INSTANCE_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          - name: HOST_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.hostIP
          - name: ISTIO_CPU_LIMIT
            valueFrom:
              resourceFieldRef:
                divisor: "0"
                resource: limits.cpu
          - name: SERVICE_ACCOUNT
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: spec.serviceAccountName
          - name: ISTIO_META_WORKLOAD_NAME
            value: istio-ingressgateway
          - name: ISTIO_META_OWNER
            value: kubernetes://apis/apps/v1/namespaces/istio-system/deployments/istio-ingressgateway
          - name: ISTIO_META_MESH_ID
            value: cluster.local
          - name: TRUST_DOMAIN
            value: cluster.local
          - name: ISTIO_META_UNPRIVILEGED_POD
            value: "true"
          - name: ISTIO_META_CLUSTER_ID
            value: Kubernetes
          - name: ISTIO_META_NODE_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: spec.nodeName
          image: docker.io/istio/proxyv2:1.21.0
          imagePullPolicy: IfNotPresent
          name: istio-proxy
          ports:
          - containerPort: 15021
            protocol: TCP
          - containerPort: 8080
            protocol: TCP
          - containerPort: 8443
            protocol: TCP
          - containerPort: 15090
            name: http-envoy-prom
            protocol: TCP
          readinessProbe:
            failureThreshold: 30
            httpGet:
              path: /healthz/ready
              port: 15021
              scheme: HTTP
            initialDelaySeconds: 1
            periodSeconds: 2
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: "2"
              memory: 1Gi
            requests:
              cpu: 100m
              memory: 128Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            privileged: false
            readOnlyRootFilesystem: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/run/secrets/workload-spiffe-uds
            name: workload-socket
          - mountPath: /var/run/secrets/credential-uds
            name: credential-socket
          - mountPath: /var/run/secrets/workload-spiffe-credentials
            name: workload-certs
          - mountPath: /etc/istio/proxy
            name: istio-envoy
          - mountPath: /etc/istio/config
            name: config-volume
          - mountPath: /var/run/secrets/istio
            name: istiod-ca-cert
          - mountPath: /var/run/secrets/tokens
            name: istio-token
            readOnly: true
          - mountPath: /var/lib/istio/data
            name: istio-data
          - mountPath: /etc/istio/pod
            name: podinfo
          - mountPath: /etc/istio/ingressgateway-certs
            name: ingressgateway-certs
            readOnly: true
          - mountPath: /etc/istio/ingressgateway-ca-certs
            name: ingressgateway-ca-certs
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          runAsGroup: 1337
          runAsNonRoot: true
          runAsUser: 1337
        serviceAccount: istio-ingressgateway-service-account
        serviceAccountName: istio-ingressgateway-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir: {}
          name: workload-socket
        - emptyDir: {}
          name: credential-socket
        - emptyDir: {}
          name: workload-certs
        - configMap:
            defaultMode: 420
            name: istio-ca-root-cert
          name: istiod-ca-cert
        - downwardAPI:
            defaultMode: 420
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.labels
              path: labels
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.annotations
              path: annotations
          name: podinfo
        - emptyDir: {}
          name: istio-envoy
        - emptyDir: {}
          name: istio-data
        - name: istio-token
          projected:
            defaultMode: 420
            sources:
            - serviceAccountToken:
                audience: istio-ca
                expirationSeconds: 43200
                path: istio-token
        - configMap:
            defaultMode: 420
            name: istio
            optional: true
          name: config-volume
        - name: ingressgateway-certs
          secret:
            defaultMode: 420
            optional: true
            secretName: istio-ingressgateway-certs
        - name: ingressgateway-ca-certs
          secret:
            defaultMode: 420
            optional: true
            secretName: istio-ingressgateway-ca-certs
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2024-04-07T12:57:01Z"
      lastUpdateTime: "2024-04-07T12:57:03Z"
      message: ReplicaSet "istio-ingressgateway-845c5b6988" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-04-10T09:30:24Z"
      lastUpdateTime: "2024-04-10T09:30:24Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2024-04-07T12:56:57Z"
    generation: 1
    labels:
      app: istiod
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio: pilot
      istio.io/rev: default
      operator.istio.io/component: Pilot
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: istiod
    namespace: istio-system
    resourceVersion: "2187766"
    uid: 5a8f68ce-0a86-4083-ae02-0459bf9492b8
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        istio: pilot
    strategy:
      rollingUpdate:
        maxSurge: 100%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        annotations:
          ambient.istio.io/redirection: disabled
          prometheus.io/port: "15014"
          prometheus.io/scrape: "true"
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: istiod
          install.operator.istio.io/owning-resource: unknown
          istio: pilot
          istio.io/rev: default
          operator.istio.io/component: Pilot
          sidecar.istio.io/inject: "false"
      spec:
        containers:
        - args:
          - discovery
          - --monitoringAddr=:15014
          - --log_output_level=default:info
          - --domain
          - cluster.local
          - --keepaliveMaxServerConnectionAge
          - 30m
          env:
          - name: REVISION
            value: default
          - name: JWT_POLICY
            value: third-party-jwt
          - name: PILOT_CERT_PROVIDER
            value: istiod
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: SERVICE_ACCOUNT
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: spec.serviceAccountName
          - name: KUBECONFIG
            value: /var/run/secrets/remote/config
          - name: PILOT_TRACE_SAMPLING
            value: "1"
          - name: PILOT_ENABLE_ANALYSIS
            value: "false"
          - name: CLUSTER_ID
            value: Kubernetes
          - name: GOMEMLIMIT
            valueFrom:
              resourceFieldRef:
                divisor: "0"
                resource: limits.memory
          - name: GOMAXPROCS
            valueFrom:
              resourceFieldRef:
                divisor: "0"
                resource: limits.cpu
          - name: PLATFORM
          image: docker.io/istio/pilot:1.21.0
          imagePullPolicy: IfNotPresent
          name: discovery
          ports:
          - containerPort: 8080
            protocol: TCP
          - containerPort: 15010
            protocol: TCP
          - containerPort: 15017
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /ready
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 1
            periodSeconds: 3
            successThreshold: 1
            timeoutSeconds: 5
          resources:
            requests:
              cpu: 500m
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: true
            runAsNonRoot: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/run/secrets/tokens
            name: istio-token
            readOnly: true
          - mountPath: /var/run/secrets/istio-dns
            name: local-certs
          - mountPath: /etc/cacerts
            name: cacerts
            readOnly: true
          - mountPath: /var/run/secrets/remote
            name: istio-kubeconfig
            readOnly: true
          - mountPath: /var/run/secrets/istiod/tls
            name: istio-csr-dns-cert
            readOnly: true
          - mountPath: /var/run/secrets/istiod/ca
            name: istio-csr-ca-configmap
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istiod
        serviceAccountName: istiod
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir:
            medium: Memory
          name: local-certs
        - name: istio-token
          projected:
            defaultMode: 420
            sources:
            - serviceAccountToken:
                audience: istio-ca
                expirationSeconds: 43200
                path: istio-token
        - name: cacerts
          secret:
            defaultMode: 420
            optional: true
            secretName: cacerts
        - name: istio-kubeconfig
          secret:
            defaultMode: 420
            optional: true
            secretName: istio-kubeconfig
        - name: istio-csr-dns-cert
          secret:
            defaultMode: 420
            optional: true
            secretName: istiod-tls
        - configMap:
            defaultMode: 420
            name: istio-ca-root-cert
            optional: true
          name: istio-csr-ca-configmap
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2024-04-07T12:56:57Z"
      lastUpdateTime: "2024-04-07T12:57:00Z"
      message: ReplicaSet "istiod-5c586775f7" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-04-10T09:30:20Z"
      lastUpdateTime: "2024-04-10T09:30:20Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2024-03-09T04:14:53Z"
    generation: 1
    labels:
      k8s-app: kube-dns
    name: coredns
    namespace: kube-system
    resourceVersion: "2187755"
    uid: 27e9b80c-e0d3-4c5f-b106-8a00f17a93b0
  spec:
    progressDeadlineSeconds: 600
    replicas: 2
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        k8s-app: kube-dns
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 1
      type: RollingUpdate
    template:
      metadata:
        creationTimestamp: null
        labels:
          k8s-app: kube-dns
      spec:
        affinity:
          podAntiAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - podAffinityTerm:
                labelSelector:
                  matchExpressions:
                  - key: k8s-app
                    operator: In
                    values:
                    - kube-dns
                topologyKey: kubernetes.io/hostname
              weight: 100
        containers:
        - args:
          - -conf
          - /etc/coredns/Corefile
          image: registry.k8s.io/coredns/coredns:v1.10.1
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 5
            httpGet:
              path: /health
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 60
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: coredns
          ports:
          - containerPort: 53
            name: dns
            protocol: UDP
          - containerPort: 53
            name: dns-tcp
            protocol: TCP
          - containerPort: 9153
            name: metrics
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /ready
              port: 8181
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              memory: 170Mi
            requests:
              cpu: 100m
              memory: 70Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              add:
              - NET_BIND_SERVICE
              drop:
              - all
            readOnlyRootFilesystem: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/coredns
            name: config-volume
            readOnly: true
        dnsPolicy: Default
        nodeSelector:
          kubernetes.io/os: linux
        priorityClassName: system-cluster-critical
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: coredns
        serviceAccountName: coredns
        terminationGracePeriodSeconds: 30
        tolerations:
        - key: CriticalAddonsOnly
          operator: Exists
        - effect: NoSchedule
          key: node-role.kubernetes.io/control-plane
        volumes:
        - configMap:
            defaultMode: 420
            items:
            - key: Corefile
              path: Corefile
            name: coredns
          name: config-volume
  status:
    availableReplicas: 2
    conditions:
    - lastTransitionTime: "2024-03-09T04:15:06Z"
      lastUpdateTime: "2024-03-09T04:15:10Z"
      message: ReplicaSet "coredns-5dd5756b68" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-04-10T09:30:17Z"
      lastUpdateTime: "2024-04-10T09:30:17Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 2
    replicas: 2
    updatedReplicas: 2
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{},"name":"local-path-provisioner","namespace":"local-path-storage"},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"local-path-provisioner"}},"template":{"metadata":{"labels":{"app":"local-path-provisioner"}},"spec":{"containers":[{"command":["local-path-provisioner","--debug","start","--helper-image","docker.io/kindest/local-path-helper:v20230510-486859a6","--config","/etc/config/config.json"],"env":[{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"image":"docker.io/kindest/local-path-provisioner:v20230511-dc714da8","imagePullPolicy":"IfNotPresent","name":"local-path-provisioner","volumeMounts":[{"mountPath":"/etc/config/","name":"config-volume"}]}],"nodeSelector":{"kubernetes.io/os":"linux"},"serviceAccountName":"local-path-provisioner-service-account","tolerations":[{"effect":"NoSchedule","key":"node-role.kubernetes.io/control-plane","operator":"Equal"},{"effect":"NoSchedule","key":"node-role.kubernetes.io/master","operator":"Equal"}],"volumes":[{"configMap":{"name":"local-path-config"},"name":"config-volume"}]}}}}
    creationTimestamp: "2024-03-09T04:14:54Z"
    generation: 1
    name: local-path-provisioner
    namespace: local-path-storage
    resourceVersion: "2187859"
    uid: 37f8640e-28a0-4641-b5c9-86e0471e04ff
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: local-path-provisioner
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: local-path-provisioner
      spec:
        containers:
        - command:
          - local-path-provisioner
          - --debug
          - start
          - --helper-image
          - docker.io/kindest/local-path-helper:v20230510-486859a6
          - --config
          - /etc/config/config.json
          env:
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          image: docker.io/kindest/local-path-provisioner:v20230511-dc714da8
          imagePullPolicy: IfNotPresent
          name: local-path-provisioner
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config/
            name: config-volume
        dnsPolicy: ClusterFirst
        nodeSelector:
          kubernetes.io/os: linux
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: local-path-provisioner-service-account
        serviceAccountName: local-path-provisioner-service-account
        terminationGracePeriodSeconds: 30
        tolerations:
        - effect: NoSchedule
          key: node-role.kubernetes.io/control-plane
          operator: Equal
        - effect: NoSchedule
          key: node-role.kubernetes.io/master
          operator: Equal
        volumes:
        - configMap:
            defaultMode: 420
            name: local-path-config
          name: config-volume
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2024-03-09T04:15:06Z"
      lastUpdateTime: "2024-03-09T04:15:10Z"
      message: ReplicaSet "local-path-provisioner-6f8956fb48" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-04-10T09:30:27Z"
      lastUpdateTime: "2024-04-10T09:30:27Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{},"name":"my-nginx","namespace":"mesh-external"},"spec":{"replicas":1,"selector":{"matchLabels":{"run":"my-nginx"}},"template":{"metadata":{"labels":{"run":"my-nginx"}},"spec":{"containers":[{"image":"nginx","name":"my-nginx","ports":[{"containerPort":443}],"volumeMounts":[{"mountPath":"/etc/nginx","name":"nginx-config","readOnly":true},{"mountPath":"/etc/nginx-server-certs","name":"nginx-server-certs","readOnly":true},{"mountPath":"/etc/nginx-ca-certs","name":"nginx-ca-certs","readOnly":true}]}],"volumes":[{"configMap":{"name":"nginx-configmap"},"name":"nginx-config"},{"name":"nginx-server-certs","secret":{"secretName":"nginx-server-certs"}},{"name":"nginx-ca-certs","secret":{"secretName":"nginx-ca-certs"}}]}}}}
    creationTimestamp: "2024-03-14T05:47:50Z"
    generation: 1
    name: my-nginx
    namespace: mesh-external
    resourceVersion: "418746"
    uid: 2a92cf96-ba8a-4471-8285-2786202a481b
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        run: my-nginx
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        creationTimestamp: null
        labels:
          run: my-nginx
      spec:
        containers:
        - image: nginx
          imagePullPolicy: Always
          name: my-nginx
          ports:
          - containerPort: 443
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/nginx
            name: nginx-config
            readOnly: true
          - mountPath: /etc/nginx-server-certs
            name: nginx-server-certs
            readOnly: true
          - mountPath: /etc/nginx-ca-certs
            name: nginx-ca-certs
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: nginx-configmap
          name: nginx-config
        - name: nginx-server-certs
          secret:
            defaultMode: 420
            secretName: nginx-server-certs
        - name: nginx-ca-certs
          secret:
            defaultMode: 420
            secretName: nginx-ca-certs
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2024-03-14T05:49:02Z"
      lastUpdateTime: "2024-03-14T05:49:02Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2024-03-14T05:47:50Z"
      lastUpdateTime: "2024-03-14T05:49:02Z"
      message: ReplicaSet "my-nginx-6955f58bc9" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{},"labels":{"app":"metallb","component":"controller"},"name":"controller","namespace":"metallb-system"},"spec":{"revisionHistoryLimit":3,"selector":{"matchLabels":{"app":"metallb","component":"controller"}},"template":{"metadata":{"annotations":{"prometheus.io/port":"7472","prometheus.io/scrape":"true"},"labels":{"app":"metallb","component":"controller"}},"spec":{"containers":[{"args":["--port=7472","--log-level=info"],"env":[{"name":"METALLB_ML_SECRET_NAME","value":"memberlist"},{"name":"METALLB_DEPLOYMENT","value":"controller"}],"image":"quay.io/metallb/controller:v0.13.10","livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/metrics","port":"monitoring"},"initialDelaySeconds":10,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"name":"controller","ports":[{"containerPort":7472,"name":"monitoring"},{"containerPort":9443,"name":"webhook-server","protocol":"TCP"}],"readinessProbe":{"failureThreshold":3,"httpGet":{"path":"/metrics","port":"monitoring"},"initialDelaySeconds":10,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"drop":["all"]},"readOnlyRootFilesystem":true},"volumeMounts":[{"mountPath":"/tmp/k8s-webhook-server/serving-certs","name":"cert","readOnly":true}]}],"nodeSelector":{"kubernetes.io/os":"linux"},"securityContext":{"fsGroup":65534,"runAsNonRoot":true,"runAsUser":65534},"serviceAccountName":"controller","terminationGracePeriodSeconds":0,"volumes":[{"name":"cert","secret":{"defaultMode":420,"secretName":"webhook-server-cert"}}]}}}}
    creationTimestamp: "2024-03-09T04:14:55Z"
    generation: 1
    labels:
      app: metallb
      component: controller
    name: controller
    namespace: metallb-system
    resourceVersion: "2187920"
    uid: 97220a9d-2dcb-411f-810c-1714bf98bc53
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 3
    selector:
      matchLabels:
        app: metallb
        component: controller
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        annotations:
          prometheus.io/port: "7472"
          prometheus.io/scrape: "true"
        creationTimestamp: null
        labels:
          app: metallb
          component: controller
      spec:
        containers:
        - args:
          - --port=7472
          - --log-level=info
          env:
          - name: METALLB_ML_SECRET_NAME
            value: memberlist
          - name: METALLB_DEPLOYMENT
            value: controller
          image: quay.io/metallb/controller:v0.13.10
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /metrics
              port: monitoring
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: controller
          ports:
          - containerPort: 7472
            name: monitoring
            protocol: TCP
          - containerPort: 9443
            name: webhook-server
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /metrics
              port: monitoring
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - all
            readOnlyRootFilesystem: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /tmp/k8s-webhook-server/serving-certs
            name: cert
            readOnly: true
        dnsPolicy: ClusterFirst
        nodeSelector:
          kubernetes.io/os: linux
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 65534
          runAsNonRoot: true
          runAsUser: 65534
        serviceAccount: controller
        serviceAccountName: controller
        terminationGracePeriodSeconds: 0
        volumes:
        - name: cert
          secret:
            defaultMode: 420
            secretName: webhook-server-cert
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2024-03-09T04:15:06Z"
      lastUpdateTime: "2024-03-09T04:17:29Z"
      message: ReplicaSet "controller-5c6b6c8447" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-04-10T09:30:47Z"
      lastUpdateTime: "2024-04-10T09:30:47Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "5"
      meta.helm.sh/release-name: otel-collector
      meta.helm.sh/release-namespace: monitoring
    creationTimestamp: "2024-04-06T07:43:36Z"
    generation: 5
    labels:
      app.kubernetes.io/instance: otel-collector
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: opentelemetry-collector
      app.kubernetes.io/version: 0.97.0
      helm.sh/chart: opentelemetry-collector-0.86.0
    name: otel-collector
    namespace: monitoring
    resourceVersion: "1798264"
    uid: 90d243d1-c9bc-4a0b-9602-ec9b545c519e
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app.kubernetes.io/instance: otel-collector
        app.kubernetes.io/name: opentelemetry-collector
        component: standalone-collector
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        annotations:
          checksum/config: 3dcffc73f44839fc08e300304a6ad8f1455fdf042a601f5057f7ef759870283f
          kubectl.kubernetes.io/restartedAt: "2024-04-06T21:21:11+08:00"
        creationTimestamp: null
        labels:
          app.kubernetes.io/instance: otel-collector
          app.kubernetes.io/name: opentelemetry-collector
          component: standalone-collector
      spec:
        containers:
        - command:
          - /otelcol-contrib
          - --config=/conf/relay.yaml
          env:
          - name: MY_POD_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          image: otel/opentelemetry-collector-contrib:0.97.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 13133
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: opentelemetry-collector
          ports:
          - containerPort: 6831
            name: jaeger-compact
            protocol: UDP
          - containerPort: 14250
            name: jaeger-grpc
            protocol: TCP
          - containerPort: 14268
            name: jaeger-thrift
            protocol: TCP
          - containerPort: 4317
            name: otlp
            protocol: TCP
          - containerPort: 4318
            name: otlp-http
            protocol: TCP
          - containerPort: 9411
            name: zipkin
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 13133
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          securityContext: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /conf
            name: opentelemetry-collector-configmap
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: otel-collector
        serviceAccountName: otel-collector
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            items:
            - key: relay
              path: relay.yaml
            name: otel-collector
          name: opentelemetry-collector-configmap
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2024-04-06T11:26:18Z"
      lastUpdateTime: "2024-04-06T11:26:18Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2024-04-06T07:43:36Z"
      lastUpdateTime: "2024-04-06T13:21:13Z"
      message: ReplicaSet "otel-collector-794698855" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 5
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "3"
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T13:10:01Z"
    generation: 3
    labels:
      app.kubernetes.io/instance: istio-monitoring-demo
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: grafana
      app.kubernetes.io/version: 10.0.2
      helm.sh/chart: grafana-6.58.4
    name: grafana
    namespace: tis
    resourceVersion: "1915608"
    uid: dd1836db-238c-4c58-9144-0eb39032340d
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app.kubernetes.io/instance: istio-monitoring-demo
        app.kubernetes.io/name: grafana
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        annotations:
          checksum/config: 6afea56de517c4ed37099c29f47626b0ca3e33442caff9a6ca640b6ba30a94ef
          checksum/dashboards-json-config: 01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b
          checksum/sc-dashboard-provider-config: 01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b
          kubectl.kubernetes.io/default-container: grafana
          kubectl.kubernetes.io/restartedAt: "2024-04-07T22:09:07+08:00"
        creationTimestamp: null
        labels:
          app: grafana
          app.kubernetes.io/instance: istio-monitoring-demo
          app.kubernetes.io/name: grafana
          sidecar.istio.io/inject: "false"
      spec:
        automountServiceAccountToken: true
        containers:
        - env:
          - name: POD_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          - name: GF_PATHS_DATA
            value: /var/lib/grafana/
          - name: GF_PATHS_LOGS
            value: /var/log/grafana
          - name: GF_PATHS_PLUGINS
            value: /var/lib/grafana/plugins
          - name: GF_PATHS_PROVISIONING
            value: /etc/grafana/provisioning
          - name: GF_AUTH_ANONYMOUS_ENABLED
            value: "true"
          - name: GF_AUTH_ANONYMOUS_ORG_ROLE
            value: Admin
          - name: GF_AUTH_BASIC_ENABLED
            value: "false"
          - name: GF_SECURITY_ADMIN_PASSWORD
            value: admin
          - name: GF_SECURITY_ADMIN_USER
            value: admin
          image: docker.io/grafana/grafana:10.0.2
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 10
            httpGet:
              path: /api/health
              port: 3000
              scheme: HTTP
            initialDelaySeconds: 60
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 30
          name: grafana
          ports:
          - containerPort: 3000
            name: grafana
            protocol: TCP
          - containerPort: 9094
            name: gossip-tcp
            protocol: TCP
          - containerPort: 9094
            name: gossip-udp
            protocol: UDP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /api/health
              port: 3000
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/grafana/grafana.ini
            name: config
            subPath: grafana.ini
          - mountPath: /var/lib/grafana
            name: storage
          - mountPath: /etc/grafana/provisioning/datasources/datasources.yaml
            name: config
            subPath: datasources.yaml
        dnsPolicy: ClusterFirst
        enableServiceLinks: true
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 472
          runAsGroup: 472
          runAsNonRoot: true
          runAsUser: 472
        serviceAccount: grafana
        serviceAccountName: grafana
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: grafana
          name: config
        - emptyDir: {}
          name: storage
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2024-04-07T13:52:54Z"
      lastUpdateTime: "2024-04-07T13:52:54Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2024-04-07T13:10:01Z"
      lastUpdateTime: "2024-04-07T14:09:11Z"
      message: ReplicaSet "grafana-7f9cd94f8c" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 3
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "3"
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T13:10:01Z"
    generation: 3
    labels:
      app.kubernetes.io/component: metrics
      app.kubernetes.io/instance: istio-monitoring-demo
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: kube-state-metrics
      app.kubernetes.io/part-of: kube-state-metrics
      app.kubernetes.io/version: 2.10.0
      helm.sh/chart: kube-state-metrics-5.14.0
      sidecar.istio.io/inject: "false"
    name: istio-monitoring-demo-kube-state-metrics
    namespace: tis
    resourceVersion: "2187822"
    uid: c51badc5-3893-4aaa-b38b-68a9a8a0f12b
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app.kubernetes.io/instance: istio-monitoring-demo
        app.kubernetes.io/name: kube-state-metrics
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        annotations:
          kubectl.kubernetes.io/restartedAt: "2024-04-07T22:09:07+08:00"
        creationTimestamp: null
        labels:
          app.kubernetes.io/component: metrics
          app.kubernetes.io/instance: istio-monitoring-demo
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: kube-state-metrics
          app.kubernetes.io/part-of: kube-state-metrics
          app.kubernetes.io/version: 2.10.0
          helm.sh/chart: kube-state-metrics-5.14.0
          sidecar.istio.io/inject: "false"
      spec:
        containers:
        - args:
          - --port=8080
          - --resources=certificatesigningrequests,configmaps,cronjobs,daemonsets,deployments,endpoints,horizontalpodautoscalers,ingresses,jobs,leases,limitranges,mutatingwebhookconfigurations,namespaces,networkpolicies,nodes,persistentvolumeclaims,persistentvolumes,poddisruptionbudgets,pods,replicasets,replicationcontrollers,resourcequotas,secrets,services,statefulsets,storageclasses,validatingwebhookconfigurations,volumeattachments
          image: registry.k8s.io/kube-state-metrics/kube-state-metrics:v2.10.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: kube-state-metrics
          ports:
          - containerPort: 8080
            name: http
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 65534
          runAsGroup: 65534
          runAsNonRoot: true
          runAsUser: 65534
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: istio-monitoring-demo-kube-state-metrics
        serviceAccountName: istio-monitoring-demo-kube-state-metrics
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2024-04-07T13:10:01Z"
      lastUpdateTime: "2024-04-07T14:09:18Z"
      message: ReplicaSet "istio-monitoring-demo-kube-state-metrics-cdc747ff9" has
        successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-04-10T09:30:24Z"
      lastUpdateTime: "2024-04-10T09:30:24Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 3
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "7"
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T13:10:01Z"
    generation: 7
    labels:
      app: prometheus
      app.kubernetes.io/managed-by: Helm
      chart: prometheus-19.6.1
      component: server
      heritage: Helm
      release: istio-monitoring-demo
    name: prometheus
    namespace: tis
    resourceVersion: "1920001"
    uid: 73a53bdf-f6ee-4ef0-9a9c-ffb4ca0d6ba6
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: prometheus
        component: server
        release: istio-monitoring-demo
    strategy:
      type: Recreate
    template:
      metadata:
        annotations:
          kubectl.kubernetes.io/restartedAt: "2024-04-07T22:39:01+08:00"
        creationTimestamp: null
        labels:
          app: prometheus
          chart: prometheus-19.6.1
          component: server
          heritage: Helm
          release: istio-monitoring-demo
          sidecar.istio.io/inject: "false"
      spec:
        containers:
        - args:
          - --volume-dir=/etc/config
          - --webhook-url=http://127.0.0.1:9090/-/reload
          image: jimmidyson/configmap-reload:v0.8.0
          imagePullPolicy: IfNotPresent
          name: prometheus-server-configmap-reload
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
            readOnly: true
        - args:
          - --storage.tsdb.retention.time=15d
          - --config.file=/etc/config/prometheus.yml
          - --storage.tsdb.path=/data
          - --web.console.libraries=/etc/prometheus/console_libraries
          - --web.console.templates=/etc/prometheus/consoles
          - --web.enable-lifecycle
          image: prom/prometheus:v2.41.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/healthy
              port: 9090
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 15
            successThreshold: 1
            timeoutSeconds: 10
          name: prometheus-server
          ports:
          - containerPort: 9090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/ready
              port: 9090
              scheme: HTTP
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 4
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
          - mountPath: /data
            name: storage-volume
        dnsPolicy: ClusterFirst
        enableServiceLinks: true
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 65534
          runAsGroup: 65534
          runAsNonRoot: true
          runAsUser: 65534
        serviceAccount: prometheus
        serviceAccountName: prometheus
        terminationGracePeriodSeconds: 300
        volumes:
        - configMap:
            defaultMode: 420
            name: prometheus
          name: config-volume
        - emptyDir: {}
          name: storage-volume
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2024-04-07T14:39:02Z"
      lastUpdateTime: "2024-04-07T14:39:02Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2024-04-07T13:10:01Z"
      lastUpdateTime: "2024-04-07T14:39:02Z"
      message: ReplicaSet "prometheus-d6556fbbb" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 7
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2024-04-08T13:56:20Z"
    generation: 1
    labels:
      app: details
      pod-template-hash: cf74bb974
      version: v1
    name: details-v1-cf74bb974
    namespace: bookinfo
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: details-v1
      uid: 770a5b5f-97d7-484a-b730-2c6e77471491
    resourceVersion: "2187850"
    uid: a2ed9f55-a3e2-45c8-bec7-1a5e78a7003c
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: details
        pod-template-hash: cf74bb974
        version: v1
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: details
          pod-template-hash: cf74bb974
          version: v1
      spec:
        containers:
        - image: docker.io/istio/examples-bookinfo-details-v1:1.19.1
          imagePullPolicy: IfNotPresent
          name: details
          ports:
          - containerPort: 9080
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: bookinfo-details
        serviceAccountName: bookinfo-details
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2024-04-08T13:56:20Z"
    generation: 1
    labels:
      app: productpage
      pod-template-hash: 87d54dd59
      version: v1
    name: productpage-v1-87d54dd59
    namespace: bookinfo
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: productpage-v1
      uid: d12ffb9d-37e8-4737-a6cc-92e28fadc9b0
    resourceVersion: "2187783"
    uid: dcb584cb-dec3-4ff2-8c1e-5a899368b1d1
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: productpage
        pod-template-hash: 87d54dd59
        version: v1
    template:
      metadata:
        annotations:
          prometheus.io/path: /metrics
          prometheus.io/port: "9080"
          prometheus.io/scrape: "true"
        creationTimestamp: null
        labels:
          app: productpage
          pod-template-hash: 87d54dd59
          version: v1
      spec:
        containers:
        - image: docker.io/istio/examples-bookinfo-productpage-v1:1.19.1
          imagePullPolicy: IfNotPresent
          name: productpage
          ports:
          - containerPort: 9080
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /tmp
            name: tmp
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: bookinfo-productpage
        serviceAccountName: bookinfo-productpage
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir: {}
          name: tmp
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2024-04-08T13:56:20Z"
    generation: 1
    labels:
      app: ratings
      pod-template-hash: 7c4bbf97db
      version: v1
    name: ratings-v1-7c4bbf97db
    namespace: bookinfo
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: ratings-v1
      uid: 7a5c0487-3b46-4f61-a48f-b29d8a5f43d7
    resourceVersion: "2187845"
    uid: 1fc7c081-52fe-45ab-bd29-a95f8935768f
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: ratings
        pod-template-hash: 7c4bbf97db
        version: v1
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: ratings
          pod-template-hash: 7c4bbf97db
          version: v1
      spec:
        containers:
        - image: docker.io/istio/examples-bookinfo-ratings-v1:1.19.1
          imagePullPolicy: IfNotPresent
          name: ratings
          ports:
          - containerPort: 9080
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: bookinfo-ratings
        serviceAccountName: bookinfo-ratings
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2024-04-08T13:56:20Z"
    generation: 1
    labels:
      app: reviews
      pod-template-hash: 5fd6d4f8f8
      version: v1
    name: reviews-v1-5fd6d4f8f8
    namespace: bookinfo
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: reviews-v1
      uid: 067c7d5a-93e7-4f55-9c40-fbbe2caa6887
    resourceVersion: "2187807"
    uid: c0cc7553-9b09-4adf-8f31-0cd2f957506f
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: reviews
        pod-template-hash: 5fd6d4f8f8
        version: v1
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: reviews
          pod-template-hash: 5fd6d4f8f8
          version: v1
      spec:
        containers:
        - env:
          - name: LOG_DIR
            value: /tmp/logs
          image: docker.io/istio/examples-bookinfo-reviews-v1:1.19.1
          imagePullPolicy: IfNotPresent
          name: reviews
          ports:
          - containerPort: 9080
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /tmp
            name: tmp
          - mountPath: /opt/ibm/wlp/output
            name: wlp-output
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: bookinfo-reviews
        serviceAccountName: bookinfo-reviews
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir: {}
          name: wlp-output
        - emptyDir: {}
          name: tmp
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2024-04-08T13:56:20Z"
    generation: 1
    labels:
      app: reviews
      pod-template-hash: 6f9b55c5db
      version: v2
    name: reviews-v2-6f9b55c5db
    namespace: bookinfo
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: reviews-v2
      uid: 58139328-6da6-4187-813a-efae07ef4ab1
    resourceVersion: "2187774"
    uid: 931d7daa-2eb2-464b-b7fa-03b98ea8bbe2
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: reviews
        pod-template-hash: 6f9b55c5db
        version: v2
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: reviews
          pod-template-hash: 6f9b55c5db
          version: v2
      spec:
        containers:
        - env:
          - name: LOG_DIR
            value: /tmp/logs
          image: docker.io/istio/examples-bookinfo-reviews-v2:1.19.1
          imagePullPolicy: IfNotPresent
          name: reviews
          ports:
          - containerPort: 9080
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /tmp
            name: tmp
          - mountPath: /opt/ibm/wlp/output
            name: wlp-output
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: bookinfo-reviews
        serviceAccountName: bookinfo-reviews
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir: {}
          name: wlp-output
        - emptyDir: {}
          name: tmp
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2024-04-08T13:56:20Z"
    generation: 1
    labels:
      app: reviews
      pod-template-hash: 7d99fd7978
      version: v3
    name: reviews-v3-7d99fd7978
    namespace: bookinfo
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: reviews-v3
      uid: 153bc09b-0040-42be-ba44-cc89e54fd94d
    resourceVersion: "2187875"
    uid: 45143b66-f4a3-4a01-95c1-7edae4924808
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: reviews
        pod-template-hash: 7d99fd7978
        version: v3
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: reviews
          pod-template-hash: 7d99fd7978
          version: v3
      spec:
        containers:
        - env:
          - name: LOG_DIR
            value: /tmp/logs
          image: docker.io/istio/examples-bookinfo-reviews-v3:1.19.1
          imagePullPolicy: IfNotPresent
          name: reviews
          ports:
          - containerPort: 9080
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /tmp
            name: tmp
          - mountPath: /opt/ibm/wlp/output
            name: wlp-output
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: bookinfo-reviews
        serviceAccountName: bookinfo-reviews
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir: {}
          name: wlp-output
        - emptyDir: {}
          name: tmp
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2024-04-06T11:43:19Z"
    generation: 1
    labels:
      app: httpbin
      pod-template-hash: 86b8ffc5ff
      version: v1
    name: httpbin-86b8ffc5ff
    namespace: default
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: httpbin
      uid: 77d62447-75b6-44d7-8193-15ea0ec5efa0
    resourceVersion: "2187839"
    uid: 1f817831-e149-4d57-a9ce-64c26e85a606
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: httpbin
        pod-template-hash: 86b8ffc5ff
        version: v1
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: httpbin
          pod-template-hash: 86b8ffc5ff
          version: v1
      spec:
        containers:
        - command:
          - gunicorn
          - -b
          - 0.0.0.0:8080
          - httpbin:app
          - -k
          - gevent
          env:
          - name: WORKON_HOME
            value: /tmp
          image: docker.io/kong/httpbin
          imagePullPolicy: IfNotPresent
          name: httpbin
          ports:
          - containerPort: 8080
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: httpbin
        serviceAccountName: httpbin
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2024-03-22T05:39:51Z"
    generation: 1
    labels:
      app: sleep
      pod-template-hash: 7656cf8794
    name: sleep-7656cf8794
    namespace: default
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: sleep
      uid: d7fde5a8-daef-4dd2-b45b-aa39c4d84b8f
    resourceVersion: "2187855"
    uid: 87bf24f5-f901-4a30-bc81-dbf4fc87349a
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: sleep
        pod-template-hash: 7656cf8794
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: sleep
          pod-template-hash: 7656cf8794
      spec:
        containers:
        - command:
          - /bin/sleep
          - infinity
          image: curlimages/curl
          imagePullPolicy: IfNotPresent
          name: sleep
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/sleep/tls
            name: secret-volume
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: sleep
        serviceAccountName: sleep
        terminationGracePeriodSeconds: 0
        volumes:
        - name: secret-volume
          secret:
            defaultMode: 420
            optional: true
            secretName: sleep-secret
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2024-04-07T12:57:01Z"
    generation: 1
    labels:
      app: istio-ingressgateway
      chart: gateways
      heritage: Tiller
      install.operator.istio.io/owning-resource: unknown
      istio: ingressgateway
      istio.io/rev: default
      operator.istio.io/component: IngressGateways
      pod-template-hash: 845c5b6988
      release: istio
      service.istio.io/canonical-name: istio-ingressgateway
      service.istio.io/canonical-revision: latest
      sidecar.istio.io/inject: "false"
    name: istio-ingressgateway-845c5b6988
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: istio-ingressgateway
      uid: c9d20ead-682e-4baf-9836-d07b336d108d
    resourceVersion: "2187813"
    uid: 50dea122-b494-4374-a9e3-723e3ebf03fb
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: istio-ingressgateway
        istio: ingressgateway
        pod-template-hash: 845c5b6988
    template:
      metadata:
        annotations:
          istio.io/rev: default
          prometheus.io/path: /stats/prometheus
          prometheus.io/port: "15020"
          prometheus.io/scrape: "true"
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: istio-ingressgateway
          chart: gateways
          heritage: Tiller
          install.operator.istio.io/owning-resource: unknown
          istio: ingressgateway
          istio.io/rev: default
          operator.istio.io/component: IngressGateways
          pod-template-hash: 845c5b6988
          release: istio
          service.istio.io/canonical-name: istio-ingressgateway
          service.istio.io/canonical-revision: latest
          sidecar.istio.io/inject: "false"
      spec:
        affinity:
          nodeAffinity: {}
        containers:
        - args:
          - proxy
          - router
          - --domain
          - $(POD_NAMESPACE).svc.cluster.local
          - --proxyLogLevel=warning
          - --proxyComponentLogLevel=misc:error
          - --log_output_level=default:info
          env:
          - name: JWT_POLICY
            value: third-party-jwt
          - name: PILOT_CERT_PROVIDER
            value: istiod
          - name: CA_ADDR
            value: istiod.istio-system.svc:15012
          - name: NODE_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: spec.nodeName
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: INSTANCE_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          - name: HOST_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.hostIP
          - name: ISTIO_CPU_LIMIT
            valueFrom:
              resourceFieldRef:
                divisor: "0"
                resource: limits.cpu
          - name: SERVICE_ACCOUNT
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: spec.serviceAccountName
          - name: ISTIO_META_WORKLOAD_NAME
            value: istio-ingressgateway
          - name: ISTIO_META_OWNER
            value: kubernetes://apis/apps/v1/namespaces/istio-system/deployments/istio-ingressgateway
          - name: ISTIO_META_MESH_ID
            value: cluster.local
          - name: TRUST_DOMAIN
            value: cluster.local
          - name: ISTIO_META_UNPRIVILEGED_POD
            value: "true"
          - name: ISTIO_META_CLUSTER_ID
            value: Kubernetes
          - name: ISTIO_META_NODE_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: spec.nodeName
          image: docker.io/istio/proxyv2:1.21.0
          imagePullPolicy: IfNotPresent
          name: istio-proxy
          ports:
          - containerPort: 15021
            protocol: TCP
          - containerPort: 8080
            protocol: TCP
          - containerPort: 8443
            protocol: TCP
          - containerPort: 15090
            name: http-envoy-prom
            protocol: TCP
          readinessProbe:
            failureThreshold: 30
            httpGet:
              path: /healthz/ready
              port: 15021
              scheme: HTTP
            initialDelaySeconds: 1
            periodSeconds: 2
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: "2"
              memory: 1Gi
            requests:
              cpu: 100m
              memory: 128Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            privileged: false
            readOnlyRootFilesystem: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/run/secrets/workload-spiffe-uds
            name: workload-socket
          - mountPath: /var/run/secrets/credential-uds
            name: credential-socket
          - mountPath: /var/run/secrets/workload-spiffe-credentials
            name: workload-certs
          - mountPath: /etc/istio/proxy
            name: istio-envoy
          - mountPath: /etc/istio/config
            name: config-volume
          - mountPath: /var/run/secrets/istio
            name: istiod-ca-cert
          - mountPath: /var/run/secrets/tokens
            name: istio-token
            readOnly: true
          - mountPath: /var/lib/istio/data
            name: istio-data
          - mountPath: /etc/istio/pod
            name: podinfo
          - mountPath: /etc/istio/ingressgateway-certs
            name: ingressgateway-certs
            readOnly: true
          - mountPath: /etc/istio/ingressgateway-ca-certs
            name: ingressgateway-ca-certs
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          runAsGroup: 1337
          runAsNonRoot: true
          runAsUser: 1337
        serviceAccount: istio-ingressgateway-service-account
        serviceAccountName: istio-ingressgateway-service-account
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir: {}
          name: workload-socket
        - emptyDir: {}
          name: credential-socket
        - emptyDir: {}
          name: workload-certs
        - configMap:
            defaultMode: 420
            name: istio-ca-root-cert
          name: istiod-ca-cert
        - downwardAPI:
            defaultMode: 420
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.labels
              path: labels
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.annotations
              path: annotations
          name: podinfo
        - emptyDir: {}
          name: istio-envoy
        - emptyDir: {}
          name: istio-data
        - name: istio-token
          projected:
            defaultMode: 420
            sources:
            - serviceAccountToken:
                audience: istio-ca
                expirationSeconds: 43200
                path: istio-token
        - configMap:
            defaultMode: 420
            name: istio
            optional: true
          name: config-volume
        - name: ingressgateway-certs
          secret:
            defaultMode: 420
            optional: true
            secretName: istio-ingressgateway-certs
        - name: ingressgateway-ca-certs
          secret:
            defaultMode: 420
            optional: true
            secretName: istio-ingressgateway-ca-certs
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2024-04-07T12:56:57Z"
    generation: 1
    labels:
      app: istiod
      install.operator.istio.io/owning-resource: unknown
      istio: pilot
      istio.io/rev: default
      operator.istio.io/component: Pilot
      pod-template-hash: 5c586775f7
      sidecar.istio.io/inject: "false"
    name: istiod-5c586775f7
    namespace: istio-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: istiod
      uid: 5a8f68ce-0a86-4083-ae02-0459bf9492b8
    resourceVersion: "2187765"
    uid: cd4dc23f-0db1-4e20-a011-bb19da74cc76
  spec:
    replicas: 1
    selector:
      matchLabels:
        istio: pilot
        pod-template-hash: 5c586775f7
    template:
      metadata:
        annotations:
          ambient.istio.io/redirection: disabled
          prometheus.io/port: "15014"
          prometheus.io/scrape: "true"
          sidecar.istio.io/inject: "false"
        creationTimestamp: null
        labels:
          app: istiod
          install.operator.istio.io/owning-resource: unknown
          istio: pilot
          istio.io/rev: default
          operator.istio.io/component: Pilot
          pod-template-hash: 5c586775f7
          sidecar.istio.io/inject: "false"
      spec:
        containers:
        - args:
          - discovery
          - --monitoringAddr=:15014
          - --log_output_level=default:info
          - --domain
          - cluster.local
          - --keepaliveMaxServerConnectionAge
          - 30m
          env:
          - name: REVISION
            value: default
          - name: JWT_POLICY
            value: third-party-jwt
          - name: PILOT_CERT_PROVIDER
            value: istiod
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: SERVICE_ACCOUNT
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: spec.serviceAccountName
          - name: KUBECONFIG
            value: /var/run/secrets/remote/config
          - name: PILOT_TRACE_SAMPLING
            value: "1"
          - name: PILOT_ENABLE_ANALYSIS
            value: "false"
          - name: CLUSTER_ID
            value: Kubernetes
          - name: GOMEMLIMIT
            valueFrom:
              resourceFieldRef:
                divisor: "0"
                resource: limits.memory
          - name: GOMAXPROCS
            valueFrom:
              resourceFieldRef:
                divisor: "0"
                resource: limits.cpu
          - name: PLATFORM
          image: docker.io/istio/pilot:1.21.0
          imagePullPolicy: IfNotPresent
          name: discovery
          ports:
          - containerPort: 8080
            protocol: TCP
          - containerPort: 15010
            protocol: TCP
          - containerPort: 15017
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /ready
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 1
            periodSeconds: 3
            successThreshold: 1
            timeoutSeconds: 5
          resources:
            requests:
              cpu: 500m
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: true
            runAsNonRoot: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/run/secrets/tokens
            name: istio-token
            readOnly: true
          - mountPath: /var/run/secrets/istio-dns
            name: local-certs
          - mountPath: /etc/cacerts
            name: cacerts
            readOnly: true
          - mountPath: /var/run/secrets/remote
            name: istio-kubeconfig
            readOnly: true
          - mountPath: /var/run/secrets/istiod/tls
            name: istio-csr-dns-cert
            readOnly: true
          - mountPath: /var/run/secrets/istiod/ca
            name: istio-csr-ca-configmap
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: istiod
        serviceAccountName: istiod
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir:
            medium: Memory
          name: local-certs
        - name: istio-token
          projected:
            defaultMode: 420
            sources:
            - serviceAccountToken:
                audience: istio-ca
                expirationSeconds: 43200
                path: istio-token
        - name: cacerts
          secret:
            defaultMode: 420
            optional: true
            secretName: cacerts
        - name: istio-kubeconfig
          secret:
            defaultMode: 420
            optional: true
            secretName: istio-kubeconfig
        - name: istio-csr-dns-cert
          secret:
            defaultMode: 420
            optional: true
            secretName: istiod-tls
        - configMap:
            defaultMode: 420
            name: istio-ca-root-cert
            optional: true
          name: istio-csr-ca-configmap
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "2"
      deployment.kubernetes.io/max-replicas: "3"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2024-03-09T04:15:06Z"
    generation: 1
    labels:
      k8s-app: kube-dns
      pod-template-hash: 5dd5756b68
    name: coredns-5dd5756b68
    namespace: kube-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: coredns
      uid: 27e9b80c-e0d3-4c5f-b106-8a00f17a93b0
    resourceVersion: "2187754"
    uid: 0c6314f2-7e86-43f5-aeee-66f1595e56ed
  spec:
    replicas: 2
    selector:
      matchLabels:
        k8s-app: kube-dns
        pod-template-hash: 5dd5756b68
    template:
      metadata:
        creationTimestamp: null
        labels:
          k8s-app: kube-dns
          pod-template-hash: 5dd5756b68
      spec:
        affinity:
          podAntiAffinity:
            preferredDuringSchedulingIgnoredDuringExecution:
            - podAffinityTerm:
                labelSelector:
                  matchExpressions:
                  - key: k8s-app
                    operator: In
                    values:
                    - kube-dns
                topologyKey: kubernetes.io/hostname
              weight: 100
        containers:
        - args:
          - -conf
          - /etc/coredns/Corefile
          image: registry.k8s.io/coredns/coredns:v1.10.1
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 5
            httpGet:
              path: /health
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 60
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: coredns
          ports:
          - containerPort: 53
            name: dns
            protocol: UDP
          - containerPort: 53
            name: dns-tcp
            protocol: TCP
          - containerPort: 9153
            name: metrics
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /ready
              port: 8181
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              memory: 170Mi
            requests:
              cpu: 100m
              memory: 70Mi
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              add:
              - NET_BIND_SERVICE
              drop:
              - all
            readOnlyRootFilesystem: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/coredns
            name: config-volume
            readOnly: true
        dnsPolicy: Default
        nodeSelector:
          kubernetes.io/os: linux
        priorityClassName: system-cluster-critical
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: coredns
        serviceAccountName: coredns
        terminationGracePeriodSeconds: 30
        tolerations:
        - key: CriticalAddonsOnly
          operator: Exists
        - effect: NoSchedule
          key: node-role.kubernetes.io/control-plane
        volumes:
        - configMap:
            defaultMode: 420
            items:
            - key: Corefile
              path: Corefile
            name: coredns
          name: config-volume
  status:
    availableReplicas: 2
    fullyLabeledReplicas: 2
    observedGeneration: 1
    readyReplicas: 2
    replicas: 2
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2024-03-09T04:15:06Z"
    generation: 1
    labels:
      app: local-path-provisioner
      pod-template-hash: 6f8956fb48
    name: local-path-provisioner-6f8956fb48
    namespace: local-path-storage
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: local-path-provisioner
      uid: 37f8640e-28a0-4641-b5c9-86e0471e04ff
    resourceVersion: "2187858"
    uid: 023a97e9-2591-4324-ac34-6ed17b4adb8f
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: local-path-provisioner
        pod-template-hash: 6f8956fb48
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: local-path-provisioner
          pod-template-hash: 6f8956fb48
      spec:
        containers:
        - command:
          - local-path-provisioner
          - --debug
          - start
          - --helper-image
          - docker.io/kindest/local-path-helper:v20230510-486859a6
          - --config
          - /etc/config/config.json
          env:
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          image: docker.io/kindest/local-path-provisioner:v20230511-dc714da8
          imagePullPolicy: IfNotPresent
          name: local-path-provisioner
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config/
            name: config-volume
        dnsPolicy: ClusterFirst
        nodeSelector:
          kubernetes.io/os: linux
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: local-path-provisioner-service-account
        serviceAccountName: local-path-provisioner-service-account
        terminationGracePeriodSeconds: 30
        tolerations:
        - effect: NoSchedule
          key: node-role.kubernetes.io/control-plane
          operator: Equal
        - effect: NoSchedule
          key: node-role.kubernetes.io/master
          operator: Equal
        volumes:
        - configMap:
            defaultMode: 420
            name: local-path-config
          name: config-volume
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2024-03-14T05:47:50Z"
    generation: 1
    labels:
      pod-template-hash: 6955f58bc9
      run: my-nginx
    name: my-nginx-6955f58bc9
    namespace: mesh-external
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: my-nginx
      uid: 2a92cf96-ba8a-4471-8285-2786202a481b
    resourceVersion: "418745"
    uid: c8288d58-22be-467e-a2c6-39ab79b51543
  spec:
    replicas: 1
    selector:
      matchLabels:
        pod-template-hash: 6955f58bc9
        run: my-nginx
    template:
      metadata:
        creationTimestamp: null
        labels:
          pod-template-hash: 6955f58bc9
          run: my-nginx
      spec:
        containers:
        - image: nginx
          imagePullPolicy: Always
          name: my-nginx
          ports:
          - containerPort: 443
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/nginx
            name: nginx-config
            readOnly: true
          - mountPath: /etc/nginx-server-certs
            name: nginx-server-certs
            readOnly: true
          - mountPath: /etc/nginx-ca-certs
            name: nginx-ca-certs
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: nginx-configmap
          name: nginx-config
        - name: nginx-server-certs
          secret:
            defaultMode: 420
            secretName: nginx-server-certs
        - name: nginx-ca-certs
          secret:
            defaultMode: 420
            secretName: nginx-ca-certs
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    creationTimestamp: "2024-03-09T04:15:06Z"
    generation: 1
    labels:
      app: metallb
      component: controller
      pod-template-hash: 5c6b6c8447
    name: controller-5c6b6c8447
    namespace: metallb-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: controller
      uid: 97220a9d-2dcb-411f-810c-1714bf98bc53
    resourceVersion: "2187919"
    uid: e351d1cb-2f43-4341-81bb-295511a2afb3
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: metallb
        component: controller
        pod-template-hash: 5c6b6c8447
    template:
      metadata:
        annotations:
          prometheus.io/port: "7472"
          prometheus.io/scrape: "true"
        creationTimestamp: null
        labels:
          app: metallb
          component: controller
          pod-template-hash: 5c6b6c8447
      spec:
        containers:
        - args:
          - --port=7472
          - --log-level=info
          env:
          - name: METALLB_ML_SECRET_NAME
            value: memberlist
          - name: METALLB_DEPLOYMENT
            value: controller
          image: quay.io/metallb/controller:v0.13.10
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /metrics
              port: monitoring
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: controller
          ports:
          - containerPort: 7472
            name: monitoring
            protocol: TCP
          - containerPort: 9443
            name: webhook-server
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /metrics
              port: monitoring
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - all
            readOnlyRootFilesystem: true
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /tmp/k8s-webhook-server/serving-certs
            name: cert
            readOnly: true
        dnsPolicy: ClusterFirst
        nodeSelector:
          kubernetes.io/os: linux
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 65534
          runAsNonRoot: true
          runAsUser: 65534
        serviceAccount: controller
        serviceAccountName: controller
        terminationGracePeriodSeconds: 0
        volumes:
        - name: cert
          secret:
            defaultMode: 420
            secretName: webhook-server-cert
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: otel-collector
      meta.helm.sh/release-namespace: monitoring
    creationTimestamp: "2024-04-06T07:43:36Z"
    generation: 2
    labels:
      app.kubernetes.io/instance: otel-collector
      app.kubernetes.io/name: opentelemetry-collector
      component: standalone-collector
      pod-template-hash: 59cdb55cd7
    name: otel-collector-59cdb55cd7
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: otel-collector
      uid: 90d243d1-c9bc-4a0b-9602-ec9b545c519e
    resourceVersion: "1761227"
    uid: 29be1bd8-566d-491c-8aac-7d67a93038d6
  spec:
    replicas: 0
    selector:
      matchLabels:
        app.kubernetes.io/instance: otel-collector
        app.kubernetes.io/name: opentelemetry-collector
        component: standalone-collector
        pod-template-hash: 59cdb55cd7
    template:
      metadata:
        annotations:
          checksum/config: d5237ac9a0e25ca115ab12d0133390265d2269a23f9ce98f1e1e755e7c501266
        creationTimestamp: null
        labels:
          app.kubernetes.io/instance: otel-collector
          app.kubernetes.io/name: opentelemetry-collector
          component: standalone-collector
          pod-template-hash: 59cdb55cd7
      spec:
        containers:
        - command:
          - /otelcol-contrib
          - --config=/conf/relay.yaml
          env:
          - name: MY_POD_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          image: otel/opentelemetry-collector-contrib:0.97.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 13133
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: opentelemetry-collector
          ports:
          - containerPort: 6831
            name: jaeger-compact
            protocol: UDP
          - containerPort: 14250
            name: jaeger-grpc
            protocol: TCP
          - containerPort: 14268
            name: jaeger-thrift
            protocol: TCP
          - containerPort: 4317
            name: otlp
            protocol: TCP
          - containerPort: 4318
            name: otlp-http
            protocol: TCP
          - containerPort: 9411
            name: zipkin
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 13133
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          securityContext: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /conf
            name: opentelemetry-collector-configmap
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: otel-collector
        serviceAccountName: otel-collector
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            items:
            - key: relay
              path: relay.yaml
            name: otel-collector
          name: opentelemetry-collector-configmap
  status:
    observedGeneration: 2
    replicas: 0
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "4"
      meta.helm.sh/release-name: otel-collector
      meta.helm.sh/release-namespace: monitoring
    creationTimestamp: "2024-04-06T11:41:38Z"
    generation: 2
    labels:
      app.kubernetes.io/instance: otel-collector
      app.kubernetes.io/name: opentelemetry-collector
      component: standalone-collector
      pod-template-hash: 6d88c9cc4c
    name: otel-collector-6d88c9cc4c
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: otel-collector
      uid: 90d243d1-c9bc-4a0b-9602-ec9b545c519e
    resourceVersion: "1798263"
    uid: 55a9caca-aef3-498f-90f3-644ea18ca3aa
  spec:
    replicas: 0
    selector:
      matchLabels:
        app.kubernetes.io/instance: otel-collector
        app.kubernetes.io/name: opentelemetry-collector
        component: standalone-collector
        pod-template-hash: 6d88c9cc4c
    template:
      metadata:
        annotations:
          checksum/config: 3dcffc73f44839fc08e300304a6ad8f1455fdf042a601f5057f7ef759870283f
          kubectl.kubernetes.io/restartedAt: "2024-04-06T19:41:38+08:00"
        creationTimestamp: null
        labels:
          app.kubernetes.io/instance: otel-collector
          app.kubernetes.io/name: opentelemetry-collector
          component: standalone-collector
          pod-template-hash: 6d88c9cc4c
      spec:
        containers:
        - command:
          - /otelcol-contrib
          - --config=/conf/relay.yaml
          env:
          - name: MY_POD_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          image: otel/opentelemetry-collector-contrib:0.97.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 13133
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: opentelemetry-collector
          ports:
          - containerPort: 6831
            name: jaeger-compact
            protocol: UDP
          - containerPort: 14250
            name: jaeger-grpc
            protocol: TCP
          - containerPort: 14268
            name: jaeger-thrift
            protocol: TCP
          - containerPort: 4317
            name: otlp
            protocol: TCP
          - containerPort: 4318
            name: otlp-http
            protocol: TCP
          - containerPort: 9411
            name: zipkin
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 13133
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          securityContext: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /conf
            name: opentelemetry-collector-configmap
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: otel-collector
        serviceAccountName: otel-collector
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            items:
            - key: relay
              path: relay.yaml
            name: otel-collector
          name: opentelemetry-collector-configmap
  status:
    observedGeneration: 2
    replicas: 0
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "3"
      meta.helm.sh/release-name: otel-collector
      meta.helm.sh/release-namespace: monitoring
    creationTimestamp: "2024-04-06T07:50:49Z"
    generation: 3
    labels:
      app.kubernetes.io/instance: otel-collector
      app.kubernetes.io/name: opentelemetry-collector
      component: standalone-collector
      pod-template-hash: 6dfc68bdf6
    name: otel-collector-6dfc68bdf6
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: otel-collector
      uid: 90d243d1-c9bc-4a0b-9602-ec9b545c519e
    resourceVersion: "1783808"
    uid: fe763ce9-65a3-491b-928b-780b22754131
  spec:
    replicas: 0
    selector:
      matchLabels:
        app.kubernetes.io/instance: otel-collector
        app.kubernetes.io/name: opentelemetry-collector
        component: standalone-collector
        pod-template-hash: 6dfc68bdf6
    template:
      metadata:
        annotations:
          checksum/config: 3dcffc73f44839fc08e300304a6ad8f1455fdf042a601f5057f7ef759870283f
        creationTimestamp: null
        labels:
          app.kubernetes.io/instance: otel-collector
          app.kubernetes.io/name: opentelemetry-collector
          component: standalone-collector
          pod-template-hash: 6dfc68bdf6
      spec:
        containers:
        - command:
          - /otelcol-contrib
          - --config=/conf/relay.yaml
          env:
          - name: MY_POD_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          image: otel/opentelemetry-collector-contrib:0.97.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 13133
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: opentelemetry-collector
          ports:
          - containerPort: 6831
            name: jaeger-compact
            protocol: UDP
          - containerPort: 14250
            name: jaeger-grpc
            protocol: TCP
          - containerPort: 14268
            name: jaeger-thrift
            protocol: TCP
          - containerPort: 4317
            name: otlp
            protocol: TCP
          - containerPort: 4318
            name: otlp-http
            protocol: TCP
          - containerPort: 9411
            name: zipkin
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 13133
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          securityContext: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /conf
            name: opentelemetry-collector-configmap
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: otel-collector
        serviceAccountName: otel-collector
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            items:
            - key: relay
              path: relay.yaml
            name: otel-collector
          name: opentelemetry-collector-configmap
  status:
    observedGeneration: 3
    replicas: 0
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "2"
      meta.helm.sh/release-name: otel-collector
      meta.helm.sh/release-namespace: monitoring
    creationTimestamp: "2024-04-06T07:49:50Z"
    generation: 2
    labels:
      app.kubernetes.io/instance: otel-collector
      app.kubernetes.io/name: opentelemetry-collector
      component: standalone-collector
      pod-template-hash: 77d988b849
    name: otel-collector-77d988b849
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: otel-collector
      uid: 90d243d1-c9bc-4a0b-9602-ec9b545c519e
    resourceVersion: "1761192"
    uid: c5702271-39c7-45c2-8c02-cda7f4e76823
  spec:
    replicas: 0
    selector:
      matchLabels:
        app.kubernetes.io/instance: otel-collector
        app.kubernetes.io/name: opentelemetry-collector
        component: standalone-collector
        pod-template-hash: 77d988b849
    template:
      metadata:
        annotations:
          checksum/config: 251ecab34201a1813f95de1a94a0644c263cac7a97a210628bbf0eaf0ed23165
        creationTimestamp: null
        labels:
          app.kubernetes.io/instance: otel-collector
          app.kubernetes.io/name: opentelemetry-collector
          component: standalone-collector
          pod-template-hash: 77d988b849
      spec:
        containers:
        - command:
          - /otelcol-contrib
          - --config=/conf/relay.yaml
          env:
          - name: MY_POD_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          image: otel/opentelemetry-collector-contrib:0.97.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 13133
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: opentelemetry-collector
          ports:
          - containerPort: 6831
            name: jaeger-compact
            protocol: UDP
          - containerPort: 14250
            name: jaeger-grpc
            protocol: TCP
          - containerPort: 14268
            name: jaeger-thrift
            protocol: TCP
          - containerPort: 4317
            name: otlp
            protocol: TCP
          - containerPort: 4318
            name: otlp-http
            protocol: TCP
          - containerPort: 9411
            name: zipkin
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 13133
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          securityContext: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /conf
            name: opentelemetry-collector-configmap
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: otel-collector
        serviceAccountName: otel-collector
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            items:
            - key: relay
              path: relay.yaml
            name: otel-collector
          name: opentelemetry-collector-configmap
  status:
    observedGeneration: 2
    replicas: 0
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "5"
      meta.helm.sh/release-name: otel-collector
      meta.helm.sh/release-namespace: monitoring
    creationTimestamp: "2024-04-06T13:21:11Z"
    generation: 1
    labels:
      app.kubernetes.io/instance: otel-collector
      app.kubernetes.io/name: opentelemetry-collector
      component: standalone-collector
      pod-template-hash: "794698855"
    name: otel-collector-794698855
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: otel-collector
      uid: 90d243d1-c9bc-4a0b-9602-ec9b545c519e
    resourceVersion: "1798253"
    uid: 00196434-7f55-43a6-9f28-d907b8d1b8b2
  spec:
    replicas: 1
    selector:
      matchLabels:
        app.kubernetes.io/instance: otel-collector
        app.kubernetes.io/name: opentelemetry-collector
        component: standalone-collector
        pod-template-hash: "794698855"
    template:
      metadata:
        annotations:
          checksum/config: 3dcffc73f44839fc08e300304a6ad8f1455fdf042a601f5057f7ef759870283f
          kubectl.kubernetes.io/restartedAt: "2024-04-06T21:21:11+08:00"
        creationTimestamp: null
        labels:
          app.kubernetes.io/instance: otel-collector
          app.kubernetes.io/name: opentelemetry-collector
          component: standalone-collector
          pod-template-hash: "794698855"
      spec:
        containers:
        - command:
          - /otelcol-contrib
          - --config=/conf/relay.yaml
          env:
          - name: MY_POD_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          image: otel/opentelemetry-collector-contrib:0.97.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 13133
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: opentelemetry-collector
          ports:
          - containerPort: 6831
            name: jaeger-compact
            protocol: UDP
          - containerPort: 14250
            name: jaeger-grpc
            protocol: TCP
          - containerPort: 14268
            name: jaeger-thrift
            protocol: TCP
          - containerPort: 4317
            name: otlp
            protocol: TCP
          - containerPort: 4318
            name: otlp-http
            protocol: TCP
          - containerPort: 9411
            name: zipkin
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 13133
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          securityContext: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /conf
            name: opentelemetry-collector-configmap
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: otel-collector
        serviceAccountName: otel-collector
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            items:
            - key: relay
              path: relay.yaml
            name: otel-collector
          name: opentelemetry-collector-configmap
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T13:10:01Z"
    generation: 2
    labels:
      app: grafana
      app.kubernetes.io/instance: istio-monitoring-demo
      app.kubernetes.io/name: grafana
      pod-template-hash: 56c8fd467
      sidecar.istio.io/inject: "false"
    name: grafana-56c8fd467
    namespace: tis
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: grafana
      uid: dd1836db-238c-4c58-9144-0eb39032340d
    resourceVersion: "1915011"
    uid: 79e8f59d-5c96-406d-82c8-02b5a7bee298
  spec:
    replicas: 0
    selector:
      matchLabels:
        app.kubernetes.io/instance: istio-monitoring-demo
        app.kubernetes.io/name: grafana
        pod-template-hash: 56c8fd467
    template:
      metadata:
        annotations:
          checksum/config: 6afea56de517c4ed37099c29f47626b0ca3e33442caff9a6ca640b6ba30a94ef
          checksum/dashboards-json-config: 01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b
          checksum/sc-dashboard-provider-config: 01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b
          kubectl.kubernetes.io/default-container: grafana
        creationTimestamp: null
        labels:
          app: grafana
          app.kubernetes.io/instance: istio-monitoring-demo
          app.kubernetes.io/name: grafana
          pod-template-hash: 56c8fd467
          sidecar.istio.io/inject: "false"
      spec:
        automountServiceAccountToken: true
        containers:
        - env:
          - name: POD_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          - name: GF_PATHS_DATA
            value: /var/lib/grafana/
          - name: GF_PATHS_LOGS
            value: /var/log/grafana
          - name: GF_PATHS_PLUGINS
            value: /var/lib/grafana/plugins
          - name: GF_PATHS_PROVISIONING
            value: /etc/grafana/provisioning
          - name: GF_AUTH_ANONYMOUS_ENABLED
            value: "true"
          - name: GF_AUTH_ANONYMOUS_ORG_ROLE
            value: Admin
          - name: GF_AUTH_BASIC_ENABLED
            value: "false"
          - name: GF_SECURITY_ADMIN_PASSWORD
            value: admin
          - name: GF_SECURITY_ADMIN_USER
            value: admin
          image: docker.io/grafana/grafana:10.0.2
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 10
            httpGet:
              path: /api/health
              port: 3000
              scheme: HTTP
            initialDelaySeconds: 60
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 30
          name: grafana
          ports:
          - containerPort: 3000
            name: grafana
            protocol: TCP
          - containerPort: 9094
            name: gossip-tcp
            protocol: TCP
          - containerPort: 9094
            name: gossip-udp
            protocol: UDP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /api/health
              port: 3000
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/grafana/grafana.ini
            name: config
            subPath: grafana.ini
          - mountPath: /var/lib/grafana
            name: storage
          - mountPath: /etc/grafana/provisioning/datasources/datasources.yaml
            name: config
            subPath: datasources.yaml
        dnsPolicy: ClusterFirst
        enableServiceLinks: true
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 472
          runAsGroup: 472
          runAsNonRoot: true
          runAsUser: 472
        serviceAccount: grafana
        serviceAccountName: grafana
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: grafana
          name: config
        - emptyDir: {}
          name: storage
  status:
    observedGeneration: 2
    replicas: 0
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "3"
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T14:09:07Z"
    generation: 1
    labels:
      app: grafana
      app.kubernetes.io/instance: istio-monitoring-demo
      app.kubernetes.io/name: grafana
      pod-template-hash: 7f9cd94f8c
      sidecar.istio.io/inject: "false"
    name: grafana-7f9cd94f8c
    namespace: tis
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: grafana
      uid: dd1836db-238c-4c58-9144-0eb39032340d
    resourceVersion: "1915597"
    uid: 0f0033d9-58ef-45dc-a7c5-88e1cece3c3c
  spec:
    replicas: 1
    selector:
      matchLabels:
        app.kubernetes.io/instance: istio-monitoring-demo
        app.kubernetes.io/name: grafana
        pod-template-hash: 7f9cd94f8c
    template:
      metadata:
        annotations:
          checksum/config: 6afea56de517c4ed37099c29f47626b0ca3e33442caff9a6ca640b6ba30a94ef
          checksum/dashboards-json-config: 01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b
          checksum/sc-dashboard-provider-config: 01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b
          kubectl.kubernetes.io/default-container: grafana
          kubectl.kubernetes.io/restartedAt: "2024-04-07T22:09:07+08:00"
        creationTimestamp: null
        labels:
          app: grafana
          app.kubernetes.io/instance: istio-monitoring-demo
          app.kubernetes.io/name: grafana
          pod-template-hash: 7f9cd94f8c
          sidecar.istio.io/inject: "false"
      spec:
        automountServiceAccountToken: true
        containers:
        - env:
          - name: POD_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          - name: GF_PATHS_DATA
            value: /var/lib/grafana/
          - name: GF_PATHS_LOGS
            value: /var/log/grafana
          - name: GF_PATHS_PLUGINS
            value: /var/lib/grafana/plugins
          - name: GF_PATHS_PROVISIONING
            value: /etc/grafana/provisioning
          - name: GF_AUTH_ANONYMOUS_ENABLED
            value: "true"
          - name: GF_AUTH_ANONYMOUS_ORG_ROLE
            value: Admin
          - name: GF_AUTH_BASIC_ENABLED
            value: "false"
          - name: GF_SECURITY_ADMIN_PASSWORD
            value: admin
          - name: GF_SECURITY_ADMIN_USER
            value: admin
          image: docker.io/grafana/grafana:10.0.2
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 10
            httpGet:
              path: /api/health
              port: 3000
              scheme: HTTP
            initialDelaySeconds: 60
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 30
          name: grafana
          ports:
          - containerPort: 3000
            name: grafana
            protocol: TCP
          - containerPort: 9094
            name: gossip-tcp
            protocol: TCP
          - containerPort: 9094
            name: gossip-udp
            protocol: UDP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /api/health
              port: 3000
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/grafana/grafana.ini
            name: config
            subPath: grafana.ini
          - mountPath: /var/lib/grafana
            name: storage
          - mountPath: /etc/grafana/provisioning/datasources/datasources.yaml
            name: config
            subPath: datasources.yaml
        dnsPolicy: ClusterFirst
        enableServiceLinks: true
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 472
          runAsGroup: 472
          runAsNonRoot: true
          runAsUser: 472
        serviceAccount: grafana
        serviceAccountName: grafana
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: grafana
          name: config
        - emptyDir: {}
          name: storage
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "2"
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T14:05:42Z"
    generation: 2
    labels:
      app: grafana
      app.kubernetes.io/instance: istio-monitoring-demo
      app.kubernetes.io/name: grafana
      pod-template-hash: bd657b596
      sidecar.istio.io/inject: "false"
    name: grafana-bd657b596
    namespace: tis
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: grafana
      uid: dd1836db-238c-4c58-9144-0eb39032340d
    resourceVersion: "1915607"
    uid: 99bbc031-a067-4855-aba2-7d48abe938a2
  spec:
    replicas: 0
    selector:
      matchLabels:
        app.kubernetes.io/instance: istio-monitoring-demo
        app.kubernetes.io/name: grafana
        pod-template-hash: bd657b596
    template:
      metadata:
        annotations:
          checksum/config: 6afea56de517c4ed37099c29f47626b0ca3e33442caff9a6ca640b6ba30a94ef
          checksum/dashboards-json-config: 01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b
          checksum/sc-dashboard-provider-config: 01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b
          kubectl.kubernetes.io/default-container: grafana
          kubectl.kubernetes.io/restartedAt: "2024-04-07T22:05:42+08:00"
        creationTimestamp: null
        labels:
          app: grafana
          app.kubernetes.io/instance: istio-monitoring-demo
          app.kubernetes.io/name: grafana
          pod-template-hash: bd657b596
          sidecar.istio.io/inject: "false"
      spec:
        automountServiceAccountToken: true
        containers:
        - env:
          - name: POD_IP
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: status.podIP
          - name: GF_PATHS_DATA
            value: /var/lib/grafana/
          - name: GF_PATHS_LOGS
            value: /var/log/grafana
          - name: GF_PATHS_PLUGINS
            value: /var/lib/grafana/plugins
          - name: GF_PATHS_PROVISIONING
            value: /etc/grafana/provisioning
          - name: GF_AUTH_ANONYMOUS_ENABLED
            value: "true"
          - name: GF_AUTH_ANONYMOUS_ORG_ROLE
            value: Admin
          - name: GF_AUTH_BASIC_ENABLED
            value: "false"
          - name: GF_SECURITY_ADMIN_PASSWORD
            value: admin
          - name: GF_SECURITY_ADMIN_USER
            value: admin
          image: docker.io/grafana/grafana:10.0.2
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 10
            httpGet:
              path: /api/health
              port: 3000
              scheme: HTTP
            initialDelaySeconds: 60
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 30
          name: grafana
          ports:
          - containerPort: 3000
            name: grafana
            protocol: TCP
          - containerPort: 9094
            name: gossip-tcp
            protocol: TCP
          - containerPort: 9094
            name: gossip-udp
            protocol: UDP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /api/health
              port: 3000
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            seccompProfile:
              type: RuntimeDefault
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/grafana/grafana.ini
            name: config
            subPath: grafana.ini
          - mountPath: /var/lib/grafana
            name: storage
          - mountPath: /etc/grafana/provisioning/datasources/datasources.yaml
            name: config
            subPath: datasources.yaml
        dnsPolicy: ClusterFirst
        enableServiceLinks: true
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 472
          runAsGroup: 472
          runAsNonRoot: true
          runAsUser: 472
        serviceAccount: grafana
        serviceAccountName: grafana
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: grafana
          name: config
        - emptyDir: {}
          name: storage
  status:
    observedGeneration: 2
    replicas: 0
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T13:10:01Z"
    generation: 2
    labels:
      app.kubernetes.io/component: metrics
      app.kubernetes.io/instance: istio-monitoring-demo
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: kube-state-metrics
      app.kubernetes.io/part-of: kube-state-metrics
      app.kubernetes.io/version: 2.10.0
      helm.sh/chart: kube-state-metrics-5.14.0
      pod-template-hash: 7bf8d4895b
      sidecar.istio.io/inject: "false"
    name: istio-monitoring-demo-kube-state-metrics-7bf8d4895b
    namespace: tis
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: istio-monitoring-demo-kube-state-metrics
      uid: c51badc5-3893-4aaa-b38b-68a9a8a0f12b
    resourceVersion: "1915006"
    uid: 55350d75-fc28-4011-a2b3-9cf88bb85033
  spec:
    replicas: 0
    selector:
      matchLabels:
        app.kubernetes.io/instance: istio-monitoring-demo
        app.kubernetes.io/name: kube-state-metrics
        pod-template-hash: 7bf8d4895b
    template:
      metadata:
        creationTimestamp: null
        labels:
          app.kubernetes.io/component: metrics
          app.kubernetes.io/instance: istio-monitoring-demo
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: kube-state-metrics
          app.kubernetes.io/part-of: kube-state-metrics
          app.kubernetes.io/version: 2.10.0
          helm.sh/chart: kube-state-metrics-5.14.0
          pod-template-hash: 7bf8d4895b
          sidecar.istio.io/inject: "false"
      spec:
        containers:
        - args:
          - --port=8080
          - --resources=certificatesigningrequests,configmaps,cronjobs,daemonsets,deployments,endpoints,horizontalpodautoscalers,ingresses,jobs,leases,limitranges,mutatingwebhookconfigurations,namespaces,networkpolicies,nodes,persistentvolumeclaims,persistentvolumes,poddisruptionbudgets,pods,replicasets,replicationcontrollers,resourcequotas,secrets,services,statefulsets,storageclasses,validatingwebhookconfigurations,volumeattachments
          image: registry.k8s.io/kube-state-metrics/kube-state-metrics:v2.10.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: kube-state-metrics
          ports:
          - containerPort: 8080
            name: http
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 65534
          runAsGroup: 65534
          runAsNonRoot: true
          runAsUser: 65534
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: istio-monitoring-demo-kube-state-metrics
        serviceAccountName: istio-monitoring-demo-kube-state-metrics
        terminationGracePeriodSeconds: 30
  status:
    observedGeneration: 2
    replicas: 0
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "2"
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T14:05:42Z"
    generation: 2
    labels:
      app.kubernetes.io/component: metrics
      app.kubernetes.io/instance: istio-monitoring-demo
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: kube-state-metrics
      app.kubernetes.io/part-of: kube-state-metrics
      app.kubernetes.io/version: 2.10.0
      helm.sh/chart: kube-state-metrics-5.14.0
      pod-template-hash: 7df6756868
      sidecar.istio.io/inject: "false"
    name: istio-monitoring-demo-kube-state-metrics-7df6756868
    namespace: tis
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: istio-monitoring-demo-kube-state-metrics
      uid: c51badc5-3893-4aaa-b38b-68a9a8a0f12b
    resourceVersion: "1915644"
    uid: b06c98e5-0b29-4af5-b8d7-de2f9c453d36
  spec:
    replicas: 0
    selector:
      matchLabels:
        app.kubernetes.io/instance: istio-monitoring-demo
        app.kubernetes.io/name: kube-state-metrics
        pod-template-hash: 7df6756868
    template:
      metadata:
        annotations:
          kubectl.kubernetes.io/restartedAt: "2024-04-07T22:05:42+08:00"
        creationTimestamp: null
        labels:
          app.kubernetes.io/component: metrics
          app.kubernetes.io/instance: istio-monitoring-demo
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: kube-state-metrics
          app.kubernetes.io/part-of: kube-state-metrics
          app.kubernetes.io/version: 2.10.0
          helm.sh/chart: kube-state-metrics-5.14.0
          pod-template-hash: 7df6756868
          sidecar.istio.io/inject: "false"
      spec:
        containers:
        - args:
          - --port=8080
          - --resources=certificatesigningrequests,configmaps,cronjobs,daemonsets,deployments,endpoints,horizontalpodautoscalers,ingresses,jobs,leases,limitranges,mutatingwebhookconfigurations,namespaces,networkpolicies,nodes,persistentvolumeclaims,persistentvolumes,poddisruptionbudgets,pods,replicasets,replicationcontrollers,resourcequotas,secrets,services,statefulsets,storageclasses,validatingwebhookconfigurations,volumeattachments
          image: registry.k8s.io/kube-state-metrics/kube-state-metrics:v2.10.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: kube-state-metrics
          ports:
          - containerPort: 8080
            name: http
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 65534
          runAsGroup: 65534
          runAsNonRoot: true
          runAsUser: 65534
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: istio-monitoring-demo-kube-state-metrics
        serviceAccountName: istio-monitoring-demo-kube-state-metrics
        terminationGracePeriodSeconds: 30
  status:
    observedGeneration: 2
    replicas: 0
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "3"
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T14:09:07Z"
    generation: 1
    labels:
      app.kubernetes.io/component: metrics
      app.kubernetes.io/instance: istio-monitoring-demo
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: kube-state-metrics
      app.kubernetes.io/part-of: kube-state-metrics
      app.kubernetes.io/version: 2.10.0
      helm.sh/chart: kube-state-metrics-5.14.0
      pod-template-hash: cdc747ff9
      sidecar.istio.io/inject: "false"
    name: istio-monitoring-demo-kube-state-metrics-cdc747ff9
    namespace: tis
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: istio-monitoring-demo-kube-state-metrics
      uid: c51badc5-3893-4aaa-b38b-68a9a8a0f12b
    resourceVersion: "2187821"
    uid: 8c80a828-1a8d-4b9e-a6b1-e741da88b5bd
  spec:
    replicas: 1
    selector:
      matchLabels:
        app.kubernetes.io/instance: istio-monitoring-demo
        app.kubernetes.io/name: kube-state-metrics
        pod-template-hash: cdc747ff9
    template:
      metadata:
        annotations:
          kubectl.kubernetes.io/restartedAt: "2024-04-07T22:09:07+08:00"
        creationTimestamp: null
        labels:
          app.kubernetes.io/component: metrics
          app.kubernetes.io/instance: istio-monitoring-demo
          app.kubernetes.io/managed-by: Helm
          app.kubernetes.io/name: kube-state-metrics
          app.kubernetes.io/part-of: kube-state-metrics
          app.kubernetes.io/version: 2.10.0
          helm.sh/chart: kube-state-metrics-5.14.0
          pod-template-hash: cdc747ff9
          sidecar.istio.io/inject: "false"
      spec:
        containers:
        - args:
          - --port=8080
          - --resources=certificatesigningrequests,configmaps,cronjobs,daemonsets,deployments,endpoints,horizontalpodautoscalers,ingresses,jobs,leases,limitranges,mutatingwebhookconfigurations,namespaces,networkpolicies,nodes,persistentvolumeclaims,persistentvolumes,poddisruptionbudgets,pods,replicasets,replicationcontrollers,resourcequotas,secrets,services,statefulsets,storageclasses,validatingwebhookconfigurations,volumeattachments
          image: registry.k8s.io/kube-state-metrics/kube-state-metrics:v2.10.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: kube-state-metrics
          ports:
          - containerPort: 8080
            name: http
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 65534
          runAsGroup: 65534
          runAsNonRoot: true
          runAsUser: 65534
          seccompProfile:
            type: RuntimeDefault
        serviceAccount: istio-monitoring-demo-kube-state-metrics
        serviceAccountName: istio-monitoring-demo-kube-state-metrics
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "1"
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T13:10:01Z"
    generation: 2
    labels:
      app: prometheus
      chart: prometheus-19.6.1
      component: server
      heritage: Helm
      pod-template-hash: 5c4f8888f8
      release: istio-monitoring-demo
      sidecar.istio.io/inject: "false"
    name: prometheus-5c4f8888f8
    namespace: tis
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: prometheus
      uid: 73a53bdf-f6ee-4ef0-9a9c-ffb4ca0d6ba6
    resourceVersion: "1914911"
    uid: 1b370e85-0426-4951-a6fa-9cfe256cb9a4
  spec:
    replicas: 0
    selector:
      matchLabels:
        app: prometheus
        component: server
        pod-template-hash: 5c4f8888f8
        release: istio-monitoring-demo
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: prometheus
          chart: prometheus-19.6.1
          component: server
          heritage: Helm
          pod-template-hash: 5c4f8888f8
          release: istio-monitoring-demo
          sidecar.istio.io/inject: "false"
      spec:
        containers:
        - args:
          - --volume-dir=/etc/config
          - --webhook-url=http://127.0.0.1:9090/-/reload
          image: jimmidyson/configmap-reload:v0.8.0
          imagePullPolicy: IfNotPresent
          name: prometheus-server-configmap-reload
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
            readOnly: true
        - args:
          - --storage.tsdb.retention.time=15d
          - --config.file=/etc/config/prometheus.yml
          - --storage.tsdb.path=/data
          - --web.console.libraries=/etc/prometheus/console_libraries
          - --web.console.templates=/etc/prometheus/consoles
          - --web.enable-lifecycle
          image: prom/prometheus:v2.41.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/healthy
              port: 9090
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 15
            successThreshold: 1
            timeoutSeconds: 10
          name: prometheus-server
          ports:
          - containerPort: 9090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/ready
              port: 9090
              scheme: HTTP
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 4
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
          - mountPath: /data
            name: storage-volume
        dnsPolicy: ClusterFirst
        enableServiceLinks: true
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 65534
          runAsGroup: 65534
          runAsNonRoot: true
          runAsUser: 65534
        serviceAccount: prometheus
        serviceAccountName: prometheus
        terminationGracePeriodSeconds: 300
        volumes:
        - configMap:
            defaultMode: 420
            name: prometheus
          name: config-volume
        - emptyDir: {}
          name: storage-volume
  status:
    observedGeneration: 2
    replicas: 0
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "4"
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T14:10:32Z"
    generation: 2
    labels:
      app: prometheus
      chart: prometheus-19.6.1
      component: server
      heritage: Helm
      pod-template-hash: 5c8fcdf5b6
      release: istio-monitoring-demo
      sidecar.istio.io/inject: "false"
    name: prometheus-5c8fcdf5b6
    namespace: tis
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: prometheus
      uid: 73a53bdf-f6ee-4ef0-9a9c-ffb4ca0d6ba6
    resourceVersion: "1918250"
    uid: 78e13ba7-2e3d-461d-98a4-f0c33c232a0a
  spec:
    replicas: 0
    selector:
      matchLabels:
        app: prometheus
        component: server
        pod-template-hash: 5c8fcdf5b6
        release: istio-monitoring-demo
    template:
      metadata:
        annotations:
          kubectl.kubernetes.io/restartedAt: "2024-04-07T22:10:31+08:00"
        creationTimestamp: null
        labels:
          app: prometheus
          chart: prometheus-19.6.1
          component: server
          heritage: Helm
          pod-template-hash: 5c8fcdf5b6
          release: istio-monitoring-demo
          sidecar.istio.io/inject: "false"
      spec:
        containers:
        - args:
          - --volume-dir=/etc/config
          - --webhook-url=http://127.0.0.1:9090/-/reload
          image: jimmidyson/configmap-reload:v0.8.0
          imagePullPolicy: IfNotPresent
          name: prometheus-server-configmap-reload
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
            readOnly: true
        - args:
          - --storage.tsdb.retention.time=15d
          - --config.file=/etc/config/prometheus.yml
          - --storage.tsdb.path=/data
          - --web.console.libraries=/etc/prometheus/console_libraries
          - --web.console.templates=/etc/prometheus/consoles
          - --web.enable-lifecycle
          image: prom/prometheus:v2.41.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/healthy
              port: 9090
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 15
            successThreshold: 1
            timeoutSeconds: 10
          name: prometheus-server
          ports:
          - containerPort: 9090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/ready
              port: 9090
              scheme: HTTP
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 4
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
          - mountPath: /data
            name: storage-volume
        dnsPolicy: ClusterFirst
        enableServiceLinks: true
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 65534
          runAsGroup: 65534
          runAsNonRoot: true
          runAsUser: 65534
        serviceAccount: prometheus
        serviceAccountName: prometheus
        terminationGracePeriodSeconds: 300
        volumes:
        - configMap:
            defaultMode: 420
            name: prometheus
          name: config-volume
        - emptyDir: {}
          name: storage-volume
  status:
    observedGeneration: 2
    replicas: 0
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "5"
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T14:27:26Z"
    generation: 2
    labels:
      app: prometheus
      chart: prometheus-19.6.1
      component: server
      heritage: Helm
      pod-template-hash: 66d78f5f56
      release: istio-monitoring-demo
      sidecar.istio.io/inject: "false"
    name: prometheus-66d78f5f56
    namespace: tis
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: prometheus
      uid: 73a53bdf-f6ee-4ef0-9a9c-ffb4ca0d6ba6
    resourceVersion: "1918678"
    uid: d0d72a76-0e4f-4264-a029-49957f25c5ec
  spec:
    replicas: 0
    selector:
      matchLabels:
        app: prometheus
        component: server
        pod-template-hash: 66d78f5f56
        release: istio-monitoring-demo
    template:
      metadata:
        annotations:
          kubectl.kubernetes.io/restartedAt: "2024-04-07T22:27:26+08:00"
        creationTimestamp: null
        labels:
          app: prometheus
          chart: prometheus-19.6.1
          component: server
          heritage: Helm
          pod-template-hash: 66d78f5f56
          release: istio-monitoring-demo
          sidecar.istio.io/inject: "false"
      spec:
        containers:
        - args:
          - --volume-dir=/etc/config
          - --webhook-url=http://127.0.0.1:9090/-/reload
          image: jimmidyson/configmap-reload:v0.8.0
          imagePullPolicy: IfNotPresent
          name: prometheus-server-configmap-reload
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
            readOnly: true
        - args:
          - --storage.tsdb.retention.time=15d
          - --config.file=/etc/config/prometheus.yml
          - --storage.tsdb.path=/data
          - --web.console.libraries=/etc/prometheus/console_libraries
          - --web.console.templates=/etc/prometheus/consoles
          - --web.enable-lifecycle
          image: prom/prometheus:v2.41.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/healthy
              port: 9090
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 15
            successThreshold: 1
            timeoutSeconds: 10
          name: prometheus-server
          ports:
          - containerPort: 9090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/ready
              port: 9090
              scheme: HTTP
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 4
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
          - mountPath: /data
            name: storage-volume
        dnsPolicy: ClusterFirst
        enableServiceLinks: true
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 65534
          runAsGroup: 65534
          runAsNonRoot: true
          runAsUser: 65534
        serviceAccount: prometheus
        serviceAccountName: prometheus
        terminationGracePeriodSeconds: 300
        volumes:
        - configMap:
            defaultMode: 420
            name: prometheus
          name: config-volume
        - emptyDir: {}
          name: storage-volume
  status:
    observedGeneration: 2
    replicas: 0
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "2"
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T14:05:42Z"
    generation: 2
    labels:
      app: prometheus
      chart: prometheus-19.6.1
      component: server
      heritage: Helm
      pod-template-hash: 7579798cc4
      release: istio-monitoring-demo
      sidecar.istio.io/inject: "false"
    name: prometheus-7579798cc4
    namespace: tis
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: prometheus
      uid: 73a53bdf-f6ee-4ef0-9a9c-ffb4ca0d6ba6
    resourceVersion: "1915540"
    uid: d3203200-d485-4bff-a47f-8e1638ae2059
  spec:
    replicas: 0
    selector:
      matchLabels:
        app: prometheus
        component: server
        pod-template-hash: 7579798cc4
        release: istio-monitoring-demo
    template:
      metadata:
        annotations:
          kubectl.kubernetes.io/restartedAt: "2024-04-07T22:05:42+08:00"
        creationTimestamp: null
        labels:
          app: prometheus
          chart: prometheus-19.6.1
          component: server
          heritage: Helm
          pod-template-hash: 7579798cc4
          release: istio-monitoring-demo
          sidecar.istio.io/inject: "false"
      spec:
        containers:
        - args:
          - --volume-dir=/etc/config
          - --webhook-url=http://127.0.0.1:9090/-/reload
          image: jimmidyson/configmap-reload:v0.8.0
          imagePullPolicy: IfNotPresent
          name: prometheus-server-configmap-reload
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
            readOnly: true
        - args:
          - --storage.tsdb.retention.time=15d
          - --config.file=/etc/config/prometheus.yml
          - --storage.tsdb.path=/data
          - --web.console.libraries=/etc/prometheus/console_libraries
          - --web.console.templates=/etc/prometheus/consoles
          - --web.enable-lifecycle
          image: prom/prometheus:v2.41.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/healthy
              port: 9090
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 15
            successThreshold: 1
            timeoutSeconds: 10
          name: prometheus-server
          ports:
          - containerPort: 9090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/ready
              port: 9090
              scheme: HTTP
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 4
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
          - mountPath: /data
            name: storage-volume
        dnsPolicy: ClusterFirst
        enableServiceLinks: true
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 65534
          runAsGroup: 65534
          runAsNonRoot: true
          runAsUser: 65534
        serviceAccount: prometheus
        serviceAccountName: prometheus
        terminationGracePeriodSeconds: 300
        volumes:
        - configMap:
            defaultMode: 420
            name: prometheus
          name: config-volume
        - emptyDir: {}
          name: storage-volume
  status:
    observedGeneration: 2
    replicas: 0
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "6"
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T14:30:13Z"
    generation: 2
    labels:
      app: prometheus
      chart: prometheus-19.6.1
      component: server
      heritage: Helm
      pod-template-hash: 7857c57df7
      release: istio-monitoring-demo
      sidecar.istio.io/inject: "false"
    name: prometheus-7857c57df7
    namespace: tis
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: prometheus
      uid: 73a53bdf-f6ee-4ef0-9a9c-ffb4ca0d6ba6
    resourceVersion: "1919959"
    uid: 8a39c18e-741d-4449-99d8-24d4bd58e716
  spec:
    replicas: 0
    selector:
      matchLabels:
        app: prometheus
        component: server
        pod-template-hash: 7857c57df7
        release: istio-monitoring-demo
    template:
      metadata:
        annotations:
          kubectl.kubernetes.io/restartedAt: "2024-04-07T22:30:12+08:00"
        creationTimestamp: null
        labels:
          app: prometheus
          chart: prometheus-19.6.1
          component: server
          heritage: Helm
          pod-template-hash: 7857c57df7
          release: istio-monitoring-demo
          sidecar.istio.io/inject: "false"
      spec:
        containers:
        - args:
          - --volume-dir=/etc/config
          - --webhook-url=http://127.0.0.1:9090/-/reload
          image: jimmidyson/configmap-reload:v0.8.0
          imagePullPolicy: IfNotPresent
          name: prometheus-server-configmap-reload
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
            readOnly: true
        - args:
          - --storage.tsdb.retention.time=15d
          - --config.file=/etc/config/prometheus.yml
          - --storage.tsdb.path=/data
          - --web.console.libraries=/etc/prometheus/console_libraries
          - --web.console.templates=/etc/prometheus/consoles
          - --web.enable-lifecycle
          image: prom/prometheus:v2.41.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/healthy
              port: 9090
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 15
            successThreshold: 1
            timeoutSeconds: 10
          name: prometheus-server
          ports:
          - containerPort: 9090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/ready
              port: 9090
              scheme: HTTP
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 4
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
          - mountPath: /data
            name: storage-volume
        dnsPolicy: ClusterFirst
        enableServiceLinks: true
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 65534
          runAsGroup: 65534
          runAsNonRoot: true
          runAsUser: 65534
        serviceAccount: prometheus
        serviceAccountName: prometheus
        terminationGracePeriodSeconds: 300
        volumes:
        - configMap:
            defaultMode: 420
            name: prometheus
          name: config-volume
        - emptyDir: {}
          name: storage-volume
  status:
    observedGeneration: 2
    replicas: 0
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "3"
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T14:09:08Z"
    generation: 2
    labels:
      app: prometheus
      chart: prometheus-19.6.1
      component: server
      heritage: Helm
      pod-template-hash: bfbfdd495
      release: istio-monitoring-demo
      sidecar.istio.io/inject: "false"
    name: prometheus-bfbfdd495
    namespace: tis
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: prometheus
      uid: 73a53bdf-f6ee-4ef0-9a9c-ffb4ca0d6ba6
    resourceVersion: "1915836"
    uid: 5640df4b-1379-4e7d-a4e8-f701947a35c3
  spec:
    replicas: 0
    selector:
      matchLabels:
        app: prometheus
        component: server
        pod-template-hash: bfbfdd495
        release: istio-monitoring-demo
    template:
      metadata:
        annotations:
          kubectl.kubernetes.io/restartedAt: "2024-04-07T22:09:07+08:00"
        creationTimestamp: null
        labels:
          app: prometheus
          chart: prometheus-19.6.1
          component: server
          heritage: Helm
          pod-template-hash: bfbfdd495
          release: istio-monitoring-demo
          sidecar.istio.io/inject: "false"
      spec:
        containers:
        - args:
          - --volume-dir=/etc/config
          - --webhook-url=http://127.0.0.1:9090/-/reload
          image: jimmidyson/configmap-reload:v0.8.0
          imagePullPolicy: IfNotPresent
          name: prometheus-server-configmap-reload
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
            readOnly: true
        - args:
          - --storage.tsdb.retention.time=15d
          - --config.file=/etc/config/prometheus.yml
          - --storage.tsdb.path=/data
          - --web.console.libraries=/etc/prometheus/console_libraries
          - --web.console.templates=/etc/prometheus/consoles
          - --web.enable-lifecycle
          image: prom/prometheus:v2.41.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/healthy
              port: 9090
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 15
            successThreshold: 1
            timeoutSeconds: 10
          name: prometheus-server
          ports:
          - containerPort: 9090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/ready
              port: 9090
              scheme: HTTP
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 4
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
          - mountPath: /data
            name: storage-volume
        dnsPolicy: ClusterFirst
        enableServiceLinks: true
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 65534
          runAsGroup: 65534
          runAsNonRoot: true
          runAsUser: 65534
        serviceAccount: prometheus
        serviceAccountName: prometheus
        terminationGracePeriodSeconds: 300
        volumes:
        - configMap:
            defaultMode: 420
            name: prometheus
          name: config-volume
        - emptyDir: {}
          name: storage-volume
  status:
    observedGeneration: 2
    replicas: 0
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "1"
      deployment.kubernetes.io/revision: "7"
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T14:39:01Z"
    generation: 1
    labels:
      app: prometheus
      chart: prometheus-19.6.1
      component: server
      heritage: Helm
      pod-template-hash: d6556fbbb
      release: istio-monitoring-demo
      sidecar.istio.io/inject: "false"
    name: prometheus-d6556fbbb
    namespace: tis
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: prometheus
      uid: 73a53bdf-f6ee-4ef0-9a9c-ffb4ca0d6ba6
    resourceVersion: "1919999"
    uid: d367cf36-abb6-4d8b-86c2-56b7c435fdf2
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: prometheus
        component: server
        pod-template-hash: d6556fbbb
        release: istio-monitoring-demo
    template:
      metadata:
        annotations:
          kubectl.kubernetes.io/restartedAt: "2024-04-07T22:39:01+08:00"
        creationTimestamp: null
        labels:
          app: prometheus
          chart: prometheus-19.6.1
          component: server
          heritage: Helm
          pod-template-hash: d6556fbbb
          release: istio-monitoring-demo
          sidecar.istio.io/inject: "false"
      spec:
        containers:
        - args:
          - --volume-dir=/etc/config
          - --webhook-url=http://127.0.0.1:9090/-/reload
          image: jimmidyson/configmap-reload:v0.8.0
          imagePullPolicy: IfNotPresent
          name: prometheus-server-configmap-reload
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
            readOnly: true
        - args:
          - --storage.tsdb.retention.time=15d
          - --config.file=/etc/config/prometheus.yml
          - --storage.tsdb.path=/data
          - --web.console.libraries=/etc/prometheus/console_libraries
          - --web.console.templates=/etc/prometheus/consoles
          - --web.enable-lifecycle
          image: prom/prometheus:v2.41.0
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/healthy
              port: 9090
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 15
            successThreshold: 1
            timeoutSeconds: 10
          name: prometheus-server
          ports:
          - containerPort: 9090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /-/ready
              port: 9090
              scheme: HTTP
            periodSeconds: 5
            successThreshold: 1
            timeoutSeconds: 4
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/config
            name: config-volume
          - mountPath: /data
            name: storage-volume
        dnsPolicy: ClusterFirst
        enableServiceLinks: true
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          fsGroup: 65534
          runAsGroup: 65534
          runAsNonRoot: true
          runAsUser: 65534
        serviceAccount: prometheus
        serviceAccountName: prometheus
        terminationGracePeriodSeconds: 300
        volumes:
        - configMap:
            defaultMode: 420
            name: prometheus
          name: config-volume
        - emptyDir: {}
          name: storage-volume
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: autoscaling/v2
  kind: HorizontalPodAutoscaler
  metadata:
    creationTimestamp: "2024-04-07T12:57:01Z"
    labels:
      app: istio-ingressgateway
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio: ingressgateway
      istio.io/rev: default
      operator.istio.io/component: IngressGateways
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: istio-ingressgateway
    namespace: istio-system
    resourceVersion: "2323982"
    uid: c28a2408-14d4-42a5-a43b-3ae1c531d8d6
  spec:
    maxReplicas: 5
    metrics:
    - resource:
        name: cpu
        target:
          averageUtilization: 80
          type: Utilization
      type: Resource
    minReplicas: 1
    scaleTargetRef:
      apiVersion: apps/v1
      kind: Deployment
      name: istio-ingressgateway
  status:
    conditions:
    - lastTransitionTime: "2024-04-12T00:12:25Z"
      message: the HPA controller was able to get the target's current scale
      reason: SucceededGetScale
      status: "True"
      type: AbleToScale
    - lastTransitionTime: "2024-04-07T12:57:16Z"
      message: 'the HPA was unable to compute the replica count: failed to get cpu
        utilization: unable to get metrics for resource cpu: unable to fetch metrics
        from resource metrics API: the server could not find the requested resource
        (get pods.metrics.k8s.io)'
      reason: FailedGetResourceMetric
      status: "False"
      type: ScalingActive
    currentMetrics: null
    currentReplicas: 1
    desiredReplicas: 0
- apiVersion: autoscaling/v2
  kind: HorizontalPodAutoscaler
  metadata:
    creationTimestamp: "2024-04-07T12:56:57Z"
    labels:
      app: istiod
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio.io/rev: default
      operator.istio.io/component: Pilot
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: istiod
    namespace: istio-system
    resourceVersion: "2323983"
    uid: 80f6fe64-48ad-4bf9-a250-b94f0c134fa4
  spec:
    maxReplicas: 5
    metrics:
    - resource:
        name: cpu
        target:
          averageUtilization: 80
          type: Utilization
      type: Resource
    minReplicas: 1
    scaleTargetRef:
      apiVersion: apps/v1
      kind: Deployment
      name: istiod
  status:
    conditions:
    - lastTransitionTime: "2024-04-12T00:12:25Z"
      message: the HPA controller was able to get the target's current scale
      reason: SucceededGetScale
      status: "True"
      type: AbleToScale
    - lastTransitionTime: "2024-04-07T12:57:12Z"
      message: 'the HPA was unable to compute the replica count: failed to get cpu
        utilization: unable to get metrics for resource cpu: unable to fetch metrics
        from resource metrics API: the server could not find the requested resource
        (get pods.metrics.k8s.io)'
      reason: FailedGetResourceMetric
      status: "False"
      type: ScalingActive
    currentMetrics: null
    currentReplicas: 1
    desiredReplicas: 0
- apiVersion: v1
  kind: Node
  metadata:
    annotations:
      kubeadm.alpha.kubernetes.io/cri-socket: unix:///run/containerd/containerd.sock
      node.alpha.kubernetes.io/ttl: "0"
      volumes.kubernetes.io/controller-managed-attach-detach: "true"
    creationTimestamp: "2024-03-09T04:14:50Z"
    labels:
      beta.kubernetes.io/arch: arm64
      beta.kubernetes.io/os: linux
      kubernetes.io/arch: arm64
      kubernetes.io/hostname: envoy-gateway-control-plane
      kubernetes.io/os: linux
      node-role.kubernetes.io/control-plane: ""
    name: envoy-gateway-control-plane
    resourceVersion: "2393641"
    uid: b4a26920-00d0-4021-bf10-5d564cc77c57
  spec:
    podCIDR: 10.244.0.0/24
    podCIDRs:
    - 10.244.0.0/24
    providerID: kind://docker/envoy-gateway/envoy-gateway-control-plane
  status:
    addresses:
    - address: 172.18.0.2
      type: InternalIP
    - address: envoy-gateway-control-plane
      type: Hostname
    allocatable:
      cpu: "10"
      ephemeral-storage: 61202244Ki
      hugepages-1Gi: "0"
      hugepages-2Mi: "0"
      hugepages-32Mi: "0"
      hugepages-64Ki: "0"
      memory: 8029236Ki
      pods: "110"
    capacity:
      cpu: "10"
      ephemeral-storage: 61202244Ki
      hugepages-1Gi: "0"
      hugepages-2Mi: "0"
      hugepages-32Mi: "0"
      hugepages-64Ki: "0"
      memory: 8029236Ki
      pods: "110"
    conditions:
    - lastHeartbeatTime: "2024-04-12T09:23:04Z"
      lastTransitionTime: "2024-03-09T04:14:48Z"
      message: kubelet has sufficient memory available
      reason: KubeletHasSufficientMemory
      status: "False"
      type: MemoryPressure
    - lastHeartbeatTime: "2024-04-12T09:23:04Z"
      lastTransitionTime: "2024-03-09T04:14:48Z"
      message: kubelet has no disk pressure
      reason: KubeletHasNoDiskPressure
      status: "False"
      type: DiskPressure
    - lastHeartbeatTime: "2024-04-12T09:23:04Z"
      lastTransitionTime: "2024-03-09T04:14:48Z"
      message: kubelet has sufficient PID available
      reason: KubeletHasSufficientPID
      status: "False"
      type: PIDPressure
    - lastHeartbeatTime: "2024-04-12T09:23:04Z"
      lastTransitionTime: "2024-04-06T11:37:02Z"
      message: kubelet is posting ready status
      reason: KubeletReady
      status: "True"
      type: Ready
    daemonEndpoints:
      kubeletEndpoint:
        Port: 10250
    images:
    - names:
      - docker.io/apache/skywalking-oap-server@sha256:d8529d0363e3c761337e31ed84cdf0a71ad3ceb68418e9860a3adf8da38cc4e6
      - docker.io/apache/skywalking-oap-server:9.1.0
      sizeBytes: 351459771
    - names:
      - docker.io/library/import-2024-04-06@sha256:b5301117186e6e66d05fe4effb9d82f51edfdef6565632e300ddac40bac1ae81
      - docker.io/istio/proxyv2:zirain-dev
      sizeBytes: 261272875
    - names:
      - docker.io/library/import-2024-04-06@sha256:dccd9b301beec2ce89a63ef56fb0eeee3dac8a3cd38dee7e9b727a75fb5b1247
      sizeBytes: 261272875
    - names:
      - docker.io/apache/skywalking-ui@sha256:32cc4078cceab403620cc387c90364399bdd29f0de39c31e23006fb2419b2db5
      - docker.io/apache/skywalking-ui:9.1.0
      sizeBytes: 260260740
    - names:
      - docker.io/library/import-2024-03-14@sha256:18b9b58f9c7a5f130c0132de1cfbe42ab3735c575a65df6fdaa706494b390bb4
      sizeBytes: 250976047
    - names:
      - docker.io/library/import-2024-03-14@sha256:9c7945d65750a7306fd4372bdd070cbb95f67eba46e6a916f3f112b48672d330
      sizeBytes: 250971439
    - names:
      - docker.io/kong/httpbin@sha256:b9bfd44e6aca835b6622fc0ebb03372792ac3fb5c36477c3c970691a7e30bb20
      - docker.io/kong/httpbin:latest
      sizeBytes: 239288343
    - names:
      - docker.io/library/import-2024-04-06@sha256:c5b3b61eabbb36db9d7ae2bf7a1168ff193fa85d4ff5685bad89b560618ee823
      sizeBytes: 176515400
    - names:
      - docker.io/library/import-2024-04-06@sha256:82f86b6e1b3396c6b6a3b2ceb7b45d37cbe9b5543699b7f635d9bd47a18cb8f7
      - docker.io/istio/pilot:zirain-dev
      sizeBytes: 176515394
    - names:
      - docker.io/library/import-2024-03-14@sha256:9925e20e6d79175ac6f0a260b270a49f45eca9b047fdf90355847e4b495c3403
      sizeBytes: 166435144
    - names:
      - docker.io/library/import-2024-03-14@sha256:fc92ee997ef13cb094bfca3b92701b489c399da73fcd144e2b8ad55b2708cecf
      sizeBytes: 166304072
    - names:
      - docker.io/istio/examples-bookinfo-reviews-v1@sha256:74badb03994883eb377030bbba4a28a8a8d43e640e149e3516181e2c49607336
      - docker.io/istio/examples-bookinfo-reviews-v1:1.19.1
      sizeBytes: 130374600
    - names:
      - docker.io/istio/examples-bookinfo-reviews-v2@sha256:bccbc74ff5ff63ce8423de2f5b9a5892517c5666c0d463eda7630187655ef443
      - docker.io/istio/examples-bookinfo-reviews-v2:1.19.1
      sizeBytes: 130374598
    - names:
      - docker.io/istio/examples-bookinfo-reviews-v3@sha256:28deb5912675d11b4e311412a78a784d3d2ee647aad15eb7baf5c42f7300181f
      - docker.io/istio/examples-bookinfo-reviews-v3:1.19.1
      sizeBytes: 130374594
    - names:
      - docker.io/prom/prometheus@sha256:bc1794e85c9e00293351b967efa267ce6af1c824ac875a9d0c7ac84700a8b53e
      - docker.io/prom/prometheus:v2.50.1
      sizeBytes: 95717888
    - names:
      - docker.io/library/import-2024-04-06@sha256:dab6f965d43f2a08d126ade488a4b7513a5287833a762f045a05d8b89aa13deb
      - docker.io/envoyproxy/gateway-dev:2b0c4e94
      sizeBytes: 95572725
    - names:
      - docker.io/istio/proxyv2@sha256:18163bd4fdb641bdff1489e124a0b9f1059bb2cec9c8229161b73517db97c05a
      - docker.io/istio/proxyv2:1.20.3
      sizeBytes: 93685381
    - names:
      - docker.io/prom/prometheus@sha256:b440bc0e8aa5bab44a782952c09516b6a50f9d7b2325c1ffafac7bc833298e2e
      - docker.io/prom/prometheus:v2.48.0
      sizeBytes: 93122645
    - names:
      - docker.io/istio/proxyv2@sha256:1b10ab67aa311bcde7ebc18477d31cc73d8169ad7f3447d86c40a2b056c456e4
      - docker.io/istio/proxyv2:1.21.0
      sizeBytes: 88680845
    - names:
      - docker.io/prom/prometheus@sha256:1a3e9a878e50cd339ae7cf5718fda08381dda2d4ccd28e94bbaa3190d1a566c2
      - docker.io/prom/prometheus:v2.41.0
      sizeBytes: 87280157
    - names:
      - docker.io/grafana/grafana@sha256:2aa6e216f8674425d587bab7b692a941a579252f51de2f97a2a8c837e0f5e63a
      - docker.io/grafana/grafana:10.0.2
      sizeBytes: 86502581
    - names:
      - registry.k8s.io/etcd:3.5.9-0
      sizeBytes: 86464836
    - names:
      - docker.io/istio/examples-bookinfo-details-v1@sha256:af036442261224913f5a59e4900fbb9288edcd3dfc3c7108bbd61fc3128ed6fe
      - docker.io/istio/examples-bookinfo-details-v1:1.19.1
      sizeBytes: 84812233
    - names:
      - docker.io/library/import-2023-08-15@sha256:4197a19748a68f8dec194ed163d6174ec4fe5326279ff4bfff138e57f8cde67e
      - registry.k8s.io/kube-apiserver:v1.28.0
      sizeBytes: 82055139
    - names:
      - docker.io/istio/examples-bookinfo-ratings-v1@sha256:d0c90519c34043b4f25eebe0b00cc8ff84e3810295d1ae01e524713b76e7a80f
      - docker.io/istio/examples-bookinfo-ratings-v1:1.19.1
      sizeBytes: 80456018
    - names:
      - docker.io/library/import-2023-08-15@sha256:14e023d3f2c7564eeb686b259e72d328abb8b886259ebd5823cbcc3d730f8e4a
      - registry.k8s.io/kube-controller-manager:v1.28.0
      sizeBytes: 77860681
    - names:
      - docker.io/library/import-2023-08-15@sha256:27bd3d6ba103794e9f033a9bf58d1a8d1b87cf3d2105fadaf2153e954f68e31c
      - registry.k8s.io/kube-proxy:v1.28.0
      sizeBytes: 69924041
    - names:
      - docker.io/istio/pilot@sha256:aadac7d3a0ca402bcbc961a5419c786146aab5f335892c166223fa1c025dda6e
      - docker.io/istio/pilot:1.20.3
      sizeBytes: 68895481
    - names:
      - docker.io/library/golang@sha256:96a8a701943e7eabd81ebd0963540ad660e29c3b2dc7fb9d7e06af34409e9ba6
      - docker.io/library/golang:1.21.3-alpine
      sizeBytes: 67737880
    - names:
      - docker.io/library/nginx@sha256:6db391d1c0cfb30588ba0bf72ea999404f2764febf0f1f196acd5867ac7efa7e
      - docker.io/library/nginx:latest
      sizeBytes: 67216851
    - names:
      - docker.io/istio/pilot@sha256:62063a0fc8ee7741e6a186e1efbf6ac2b83c8087ab674f25b8d241d09c0c30e2
      - docker.io/istio/pilot:1.21.0
      sizeBytes: 63284720
    - names:
      - docker.io/otel/opentelemetry-collector-contrib@sha256:42a27d048c35720cf590243223543671e9d9f1ad8537d5a35c4b748fc8ebe873
      - docker.io/otel/opentelemetry-collector-contrib:0.97.0
      sizeBytes: 60773022
    - names:
      - docker.io/library/import-2023-08-15@sha256:dbead5eb4d91ca3affd5ff2a10b8098f8825c5216d504ad5bd644d0872291ad7
      - registry.k8s.io/kube-scheduler:v1.28.0
      sizeBytes: 59182921
    - names:
      - docker.io/istio/examples-bookinfo-productpage-v1@sha256:b474d12a5d5e96ed470029d0394aedd324b608467af9d648b06360e967a56898
      - docker.io/istio/examples-bookinfo-productpage-v1:1.19.1
      sizeBytes: 58067577
    - names:
      - docker.io/otel/opentelemetry-collector-contrib@sha256:13092c22704b62ecedaa5a1fad2c699c15101fefbc902ba39f391a47c191e195
      - docker.io/otel/opentelemetry-collector-contrib:0.88.0
      sizeBytes: 55724577
    - names:
      - quay.io/kiali/kiali@sha256:d5907d8a931158ee0903fc778046ceb7170ef2599573de6067443f7955464a11
      - quay.io/kiali/kiali:v1.79
      sizeBytes: 47982405
    - names:
      - quay.io/metallb/speaker@sha256:00406ccb1fa08d48cc0ed0b43db7b3cbc3ccc1c4da0e38fca648e64639b06c3c
      - quay.io/metallb/speaker:v0.13.10
      sizeBytes: 46807282
    - names:
      - docker.io/grafana/tempo@sha256:d9eb004dc35c0dfab8bb7ced02604079628977014ac180c0c98c034aa8b6a705
      - docker.io/grafana/tempo:2.1.1
      sizeBytes: 39989222
    - names:
      - docker.io/envoyproxy/gateway-dev@sha256:830367a4f4185f4312b430e33a966bd59dd29db737fb23c8ff88494831e5fa90
      - docker.io/envoyproxy/gateway-dev:latest
      sizeBytes: 36370538
    - names:
      - docker.io/envoyproxy/gateway-dev@sha256:24018c27298a5cbe33b0ece736f2c3cd8d0f62eb9962b882748e90eed633612f
      - docker.io/envoyproxy/gateway-dev:709d08c
      sizeBytes: 36355066
    - names:
      - docker.io/envoyproxy/gateway-dev@sha256:60c2910e305b3257f89f31cf148d64ef6319fbc5940f1d6c7c20500e590d24a6
      - docker.io/envoyproxy/gateway-dev:cc91a51
      sizeBytes: 36355045
    - names:
      - docker.io/envoyproxy/gateway-dev@sha256:fd3bf60da641947dcd3d8d4cf5d9f2b08df1715ecb2fde5b97b2d5d52c6ebab3
      - docker.io/envoyproxy/gateway-dev:b859ec6
      sizeBytes: 36319247
    - names:
      - docker.io/envoyproxy/gateway-dev@sha256:041bf4631e1e94bc765cf98f5d6467c92ae70873c707d6ea5b5b5cbc42465e77
      - docker.io/envoyproxy/gateway-dev:b689ec5
      sizeBytes: 35051935
    - names:
      - docker.io/envoyproxy/gateway-dev@sha256:6e79d236311f06bcd23fe5e92bb78047a67c20241844724c52dc0c2505966195
      - docker.io/envoyproxy/gateway-dev:87b5408
      sizeBytes: 35050811
    - names:
      - docker.io/envoyproxy/gateway-dev@sha256:f3c695e9d725b0cf65ab0cdc8eacebbd1c7a9066e80c417cbc473cbb3a3071f0
      - docker.io/envoyproxy/gateway-dev:3ab88ac
      sizeBytes: 35050802
    - names:
      - docker.io/envoyproxy/gateway-dev@sha256:dc9182229c469cafc88a0d33d60515b574ac3d83eadd7f98a446eb6ea6324514
      - docker.io/envoyproxy/gateway-dev:80018f5
      sizeBytes: 35050797
    - names:
      - docker.io/envoyproxy/envoy@sha256:df2b898f294fd24633042e62169a49f60b231cef1443658550641014a7532ba2
      - docker.io/envoyproxy/envoy:distroless-dev
      sizeBytes: 30348512
    - names:
      - cr.fluentbit.io/fluent/fluent-bit@sha256:88eaeaa5803f438485c80c199e5eb2f2674f8dfd2c3bef7a594c744c204f0df9
      - cr.fluentbit.io/fluent/fluent-bit:2.1.4
      sizeBytes: 29877495
    - names:
      - docker.io/jaegertracing/all-in-one@sha256:32f876ed3f50c6f13ea44009be5725ba4e62751a5099fb29f19a45b16cf1ff20
      - docker.io/jaegertracing/all-in-one:1.46
      sizeBytes: 28700630
    - names:
      - quay.io/metallb/controller@sha256:1b33357b3595468aac9d5b9115fc4d35fc475124551180956083294cdeeb94b6
      - quay.io/metallb/controller:v0.13.10
      sizeBytes: 26144444
    nodeInfo:
      architecture: arm64
      bootID: fb45b58d-317f-4a34-94bf-0de579b5728a
      containerRuntimeVersion: containerd://1.7.1
      kernelVersion: 6.6.16-linuxkit
      kubeProxyVersion: v1.28.0
      kubeletVersion: v1.28.0
      machineID: a121e685745a40118784b8914b883f16
      operatingSystem: linux
      osImage: Debian GNU/Linux 11 (bullseye)
      systemUUID: a121e685745a40118784b8914b883f16
- apiVersion: v1
  kind: Namespace
  metadata:
    creationTimestamp: "2024-04-08T13:55:55Z"
    labels:
      istio-injection: enabled
      kubernetes.io/metadata.name: bookinfo
    name: bookinfo
    resourceVersion: "2037461"
    uid: 4ac3a013-f414-4d10-82fd-dd1d2648b39b
  spec:
    finalizers:
    - kubernetes
  status:
    phase: Active
- apiVersion: v1
  kind: Namespace
  metadata:
    creationTimestamp: "2024-03-09T04:14:50Z"
    labels:
      istio-injection: enabled
      kubernetes.io/metadata.name: default
    name: default
    resourceVersion: "1905433"
    uid: 54a61663-8dfb-495c-b10a-76579585ca80
  spec:
    finalizers:
    - kubernetes
  status:
    phase: Active
- apiVersion: v1
  kind: Namespace
  metadata:
    creationTimestamp: "2024-03-10T13:08:31Z"
    labels:
      kubernetes.io/metadata.name: istio-system
    name: istio-system
    resourceVersion: "117642"
    uid: 59f8b8f4-e89a-4070-82d4-a51429b4600b
  spec:
    finalizers:
    - kubernetes
  status:
    phase: Active
- apiVersion: v1
  kind: Namespace
  metadata:
    creationTimestamp: "2024-03-09T04:14:50Z"
    labels:
      kubernetes.io/metadata.name: kube-node-lease
    name: kube-node-lease
    resourceVersion: "33"
    uid: e098adaf-cc00-46e5-9910-825528ee5bb2
  spec:
    finalizers:
    - kubernetes
  status:
    phase: Active
- apiVersion: v1
  kind: Namespace
  metadata:
    creationTimestamp: "2024-03-09T04:14:50Z"
    labels:
      kubernetes.io/metadata.name: kube-public
    name: kube-public
    resourceVersion: "24"
    uid: bd30e7a4-bd85-4200-9cdd-aa6ad1bc5538
  spec:
    finalizers:
    - kubernetes
  status:
    phase: Active
- apiVersion: v1
  kind: Namespace
  metadata:
    creationTimestamp: "2024-03-09T04:14:50Z"
    labels:
      kubernetes.io/metadata.name: kube-system
    name: kube-system
    resourceVersion: "12"
    uid: 92bec3f8-0e18-42d2-a675-15f5353da12f
  spec:
    finalizers:
    - kubernetes
  status:
    phase: Active
- apiVersion: v1
  kind: Namespace
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Namespace","metadata":{"annotations":{},"name":"local-path-storage"}}
    creationTimestamp: "2024-03-09T04:14:54Z"
    labels:
      kubernetes.io/metadata.name: local-path-storage
    name: local-path-storage
    resourceVersion: "306"
    uid: 9616589a-8c92-464d-b3f7-9a75c6922547
  spec:
    finalizers:
    - kubernetes
  status:
    phase: Active
- apiVersion: v1
  kind: Namespace
  metadata:
    creationTimestamp: "2024-03-14T05:45:57Z"
    labels:
      kubernetes.io/metadata.name: mesh-external
    name: mesh-external
    resourceVersion: "418152"
    uid: c866c119-dd1e-45ad-bbde-4b0287c47702
  spec:
    finalizers:
    - kubernetes
  status:
    phase: Active
- apiVersion: v1
  kind: Namespace
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Namespace","metadata":{"annotations":{},"labels":{"pod-security.kubernetes.io/audit":"privileged","pod-security.kubernetes.io/enforce":"privileged","pod-security.kubernetes.io/warn":"privileged"},"name":"metallb-system"}}
    creationTimestamp: "2024-03-09T04:14:55Z"
    labels:
      kubernetes.io/metadata.name: metallb-system
      pod-security.kubernetes.io/audit: privileged
      pod-security.kubernetes.io/enforce: privileged
      pod-security.kubernetes.io/warn: privileged
    name: metallb-system
    resourceVersion: "314"
    uid: fc35b772-177f-4a16-9712-09a356709a48
  spec:
    finalizers:
    - kubernetes
  status:
    phase: Active
- apiVersion: v1
  kind: Namespace
  metadata:
    creationTimestamp: "2024-04-02T05:03:29Z"
    labels:
      kubernetes.io/metadata.name: monitoring
      name: monitoring
    name: monitoring
    resourceVersion: "1561829"
    uid: a6b3d5c0-857a-414b-a67b-5957b29d3d58
  spec:
    finalizers:
    - kubernetes
  status:
    phase: Active
- apiVersion: v1
  kind: Namespace
  metadata:
    creationTimestamp: "2024-04-07T13:10:01Z"
    labels:
      kubernetes.io/metadata.name: tis
      name: tis
    name: tis
    resourceVersion: "1906703"
    uid: 547065f0-5d07-4ccf-9b92-848754c37a23
  spec:
    finalizers:
    - kubernetes
  status:
    phase: Active
- apiVersion: v1
  kind: Endpoints
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:27Z"
    creationTimestamp: "2024-04-08T13:56:20Z"
    labels:
      app: details
      service: details
    name: details
    namespace: bookinfo
    resourceVersion: "2187849"
    uid: 856c691d-3254-4142-9845-134eafb72955
  subsets:
  - addresses:
    - ip: 10.244.0.19
      nodeName: envoy-gateway-control-plane
      targetRef:
        kind: Pod
        name: details-v1-cf74bb974-6vjdd
        namespace: bookinfo
        uid: fbb63bd8-a488-415c-aa01-42813e495a36
    ports:
    - name: http
      port: 9080
      protocol: TCP
- apiVersion: v1
  kind: Endpoints
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:23Z"
    creationTimestamp: "2024-04-08T13:56:20Z"
    labels:
      app: productpage
      service: productpage
    name: productpage
    namespace: bookinfo
    resourceVersion: "2187781"
    uid: b80d68e8-0f77-4bfd-ba08-e0d051bbb34c
  subsets:
  - addresses:
    - ip: 10.244.0.15
      nodeName: envoy-gateway-control-plane
      targetRef:
        kind: Pod
        name: productpage-v1-87d54dd59-fw7z6
        namespace: bookinfo
        uid: dfe77e9b-c6e2-4a44-b6b4-715cc5bcd675
    ports:
    - name: http
      port: 9080
      protocol: TCP
- apiVersion: v1
  kind: Endpoints
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:27Z"
    creationTimestamp: "2024-04-08T13:56:20Z"
    labels:
      app: ratings
      service: ratings
    name: ratings
    namespace: bookinfo
    resourceVersion: "2187843"
    uid: 136fc63f-59fd-4b58-bb85-2f0c8c00e7c1
  subsets:
  - addresses:
    - ip: 10.244.0.17
      nodeName: envoy-gateway-control-plane
      targetRef:
        kind: Pod
        name: ratings-v1-7c4bbf97db-vk2pf
        namespace: bookinfo
        uid: bafe047c-159d-4fd4-a1f7-e785d0682600
    ports:
    - name: http
      port: 9080
      protocol: TCP
- apiVersion: v1
  kind: Endpoints
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:32Z"
    creationTimestamp: "2024-04-08T13:56:20Z"
    labels:
      app: reviews
      service: reviews
    name: reviews
    namespace: bookinfo
    resourceVersion: "2187873"
    uid: 38ec27e3-3dd0-4a7d-8d43-5c4bd8dab3ca
  subsets:
  - addresses:
    - ip: 10.244.0.13
      nodeName: envoy-gateway-control-plane
      targetRef:
        kind: Pod
        name: reviews-v2-6f9b55c5db-ggqhl
        namespace: bookinfo
        uid: ae7bb66f-82c8-48d7-8c16-435ae6b63042
    - ip: 10.244.0.16
      nodeName: envoy-gateway-control-plane
      targetRef:
        kind: Pod
        name: reviews-v1-5fd6d4f8f8-rwhng
        namespace: bookinfo
        uid: ebd55dfb-c4df-42e5-88d7-94d631a62726
    - ip: 10.244.0.18
      nodeName: envoy-gateway-control-plane
      targetRef:
        kind: Pod
        name: reviews-v3-7d99fd7978-sj9d6
        namespace: bookinfo
        uid: 7cb96f2e-0ba8-47b0-852a-6ad3a1c6391a
    ports:
    - name: http
      port: 9080
      protocol: TCP
- apiVersion: v1
  kind: Endpoints
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:27Z"
    creationTimestamp: "2024-04-06T11:43:19Z"
    labels:
      app: httpbin
      service: httpbin
    name: httpbin
    namespace: default
    resourceVersion: "2187837"
    uid: c70a9e2f-72c0-4d83-8ffb-4999dfa49cef
  subsets:
  - addresses:
    - ip: 10.244.0.12
      nodeName: envoy-gateway-control-plane
      targetRef:
        kind: Pod
        name: httpbin-86b8ffc5ff-nlp5t
        namespace: default
        uid: bb024394-e9af-4fe7-8582-2acff414cc97
    ports:
    - name: http
      port: 8080
      protocol: TCP
- apiVersion: v1
  kind: Endpoints
  metadata:
    creationTimestamp: "2024-03-19T15:05:16Z"
    labels:
      endpointslice.kubernetes.io/skip-mirror: "true"
    name: kubernetes
    namespace: default
    resourceVersion: "2183473"
    uid: 66e64654-e081-43c6-a4c3-320746ef6b05
  subsets:
  - addresses:
    - ip: 172.18.0.2
    ports:
    - name: https
      port: 6443
      protocol: TCP
- apiVersion: v1
  kind: Endpoints
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:27Z"
    creationTimestamp: "2024-03-22T05:39:51Z"
    labels:
      app: sleep
      service: sleep
    name: sleep
    namespace: default
    resourceVersion: "2187853"
    uid: df84e192-9c7d-4c97-99c7-d7c593c2d3a2
  subsets:
  - addresses:
    - ip: 10.244.0.20
      nodeName: envoy-gateway-control-plane
      targetRef:
        kind: Pod
        name: sleep-7656cf8794-rpxg9
        namespace: default
        uid: 4255368c-af4e-47b2-b2ea-e5d2d1bc9e24
    ports:
    - name: http
      port: 80
      protocol: TCP
- apiVersion: v1
  kind: Endpoints
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:24Z"
    creationTimestamp: "2024-04-07T12:57:01Z"
    labels:
      app: istio-ingressgateway
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio: ingressgateway
      istio.io/rev: default
      operator.istio.io/component: IngressGateways
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: istio-ingressgateway
    namespace: istio-system
    resourceVersion: "2187810"
    uid: 6987a240-9e6a-41d0-b67d-e41975dd4f41
  subsets:
  - addresses:
    - ip: 10.244.0.9
      nodeName: envoy-gateway-control-plane
      targetRef:
        kind: Pod
        name: istio-ingressgateway-845c5b6988-flrgs
        namespace: istio-system
        uid: 3bbe73de-0806-4e72-803a-75fcba0580f8
    ports:
    - name: status-port
      port: 15021
      protocol: TCP
    - name: http2
      port: 8080
      protocol: TCP
    - name: https
      port: 8443
      protocol: TCP
- apiVersion: v1
  kind: Endpoints
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:20Z"
    creationTimestamp: "2024-04-07T12:56:57Z"
    labels:
      app: istiod
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio: pilot
      istio.io/rev: default
      operator.istio.io/component: Pilot
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: istiod
    namespace: istio-system
    resourceVersion: "2187764"
    uid: 0ce20115-f0a0-48db-ac3e-d2c18f652204
  subsets:
  - addresses:
    - ip: 10.244.0.10
      nodeName: envoy-gateway-control-plane
      targetRef:
        kind: Pod
        name: istiod-5c586775f7-stw2d
        namespace: istio-system
        uid: 471747eb-64a4-4439-92f4-0783ef8ba71b
    ports:
    - name: https-dns
      port: 15012
      protocol: TCP
    - name: grpc-xds
      port: 15010
      protocol: TCP
    - name: https-webhook
      port: 15017
      protocol: TCP
    - name: http-monitoring
      port: 15014
      protocol: TCP
- apiVersion: v1
  kind: Endpoints
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:17Z"
    creationTimestamp: "2024-03-09T04:15:06Z"
    labels:
      k8s-app: kube-dns
      kubernetes.io/cluster-service: "true"
      kubernetes.io/name: CoreDNS
    name: kube-dns
    namespace: kube-system
    resourceVersion: "2187752"
    uid: ae76a5fa-805f-4ca7-9186-32e0d3b7e9ca
  subsets:
  - addresses:
    - ip: 10.244.0.4
      nodeName: envoy-gateway-control-plane
      targetRef:
        kind: Pod
        name: coredns-5dd5756b68-kqtwn
        namespace: kube-system
        uid: b5f75e9a-f9fe-4192-8dc8-f2933bb2d148
    - ip: 10.244.0.8
      nodeName: envoy-gateway-control-plane
      targetRef:
        kind: Pod
        name: coredns-5dd5756b68-qwfvk
        namespace: kube-system
        uid: aed53ea1-02ad-4694-9dea-3da63ee75a05
    ports:
    - name: dns-tcp
      port: 53
      protocol: TCP
    - name: dns
      port: 53
      protocol: UDP
    - name: metrics
      port: 9153
      protocol: TCP
- apiVersion: v1
  kind: Endpoints
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-03-14T05:47:50Z"
    creationTimestamp: "2024-03-14T05:47:50Z"
    labels:
      run: my-nginx
    name: my-nginx
    namespace: mesh-external
    resourceVersion: "2184055"
    uid: 7c1d5f7d-c191-4fe6-ab17-66334d73994c
  subsets:
  - addresses:
    - ip: 10.244.0.14
      nodeName: envoy-gateway-control-plane
      targetRef:
        kind: Pod
        name: my-nginx-6955f58bc9-x4vdz
        namespace: mesh-external
        uid: 5ae79c56-ae58-4431-849d-8c596ed377d7
    ports:
    - port: 443
      protocol: TCP
- apiVersion: v1
  kind: Endpoints
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:47Z"
    creationTimestamp: "2024-03-09T04:15:06Z"
    name: webhook-service
    namespace: metallb-system
    resourceVersion: "2187917"
    uid: a5ddd055-ee6e-42d4-8bef-a2d00ea9ad55
  subsets:
  - addresses:
    - ip: 10.244.0.5
      nodeName: envoy-gateway-control-plane
      targetRef:
        kind: Pod
        name: controller-5c6b6c8447-9q5nb
        namespace: metallb-system
        uid: 9f27a401-77ca-4289-a42d-24cec7ff792e
    ports:
    - port: 9443
      protocol: TCP
- apiVersion: v1
  kind: Endpoints
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-06T07:43:36Z"
    creationTimestamp: "2024-04-06T07:43:36Z"
    labels:
      app.kubernetes.io/instance: otel-collector
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: opentelemetry-collector
      app.kubernetes.io/version: 0.97.0
      component: standalone-collector
      helm.sh/chart: opentelemetry-collector-0.86.0
    name: otel-collector
    namespace: monitoring
    resourceVersion: "2187685"
    uid: 4c500388-2807-4a55-a50f-79633bb5cfb9
  subsets:
  - addresses:
    - ip: 10.244.0.11
      nodeName: envoy-gateway-control-plane
      targetRef:
        kind: Pod
        name: otel-collector-794698855-59kg2
        namespace: monitoring
        uid: 512334a7-ef53-4ab3-b4a8-dfe87b0515dd
    ports:
    - name: zipkin
      port: 9411
      protocol: TCP
    - appProtocol: grpc
      name: otlp
      port: 4317
      protocol: TCP
    - name: jaeger-thrift
      port: 14268
      protocol: TCP
    - name: jaeger-compact
      port: 6831
      protocol: UDP
    - name: otlp-http
      port: 4318
      protocol: TCP
    - name: jaeger-grpc
      port: 14250
      protocol: TCP
- apiVersion: v1
  kind: Endpoints
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-07T13:10:01Z"
    creationTimestamp: "2024-04-07T13:10:01Z"
    labels:
      app.kubernetes.io/instance: istio-monitoring-demo
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: grafana
      app.kubernetes.io/version: 10.0.2
      helm.sh/chart: grafana-6.58.4
    name: grafana
    namespace: tis
    resourceVersion: "2187686"
    uid: 1016f2f9-6f3c-45f8-b272-3d751a93980e
  subsets:
  - addresses:
    - ip: 10.244.0.22
      nodeName: envoy-gateway-control-plane
      targetRef:
        kind: Pod
        name: grafana-7f9cd94f8c-wnt7w
        namespace: tis
        uid: 56fce9e9-29be-47b0-b7fb-e2dc1ad0e1de
    ports:
    - name: service
      port: 3000
      protocol: TCP
- apiVersion: v1
  kind: Endpoints
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:24Z"
    creationTimestamp: "2024-04-07T13:10:01Z"
    labels:
      app.kubernetes.io/component: metrics
      app.kubernetes.io/instance: istio-monitoring-demo
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: kube-state-metrics
      app.kubernetes.io/part-of: kube-state-metrics
      app.kubernetes.io/version: 2.10.0
      helm.sh/chart: kube-state-metrics-5.14.0
      sidecar.istio.io/inject: "false"
    name: istio-monitoring-demo-kube-state-metrics
    namespace: tis
    resourceVersion: "2187819"
    uid: 721e88a9-1dd1-4a08-9606-305345814b02
  subsets:
  - addresses:
    - ip: 10.244.0.21
      nodeName: envoy-gateway-control-plane
      targetRef:
        kind: Pod
        name: istio-monitoring-demo-kube-state-metrics-cdc747ff9-zkqwh
        namespace: tis
        uid: 0c71d236-abd9-438c-889f-23a139b3810d
    ports:
    - name: http
      port: 8080
      protocol: TCP
- apiVersion: v1
  kind: Endpoints
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-07T13:10:01Z"
    creationTimestamp: "2024-04-07T13:10:01Z"
    labels:
      app: prometheus
      app.kubernetes.io/managed-by: Helm
      chart: prometheus-19.6.1
      component: server
      heritage: Helm
      release: istio-monitoring-demo
    name: prometheus
    namespace: tis
    resourceVersion: "2187688"
    uid: b31e3344-21e9-4715-a83a-a54567dc29dc
  subsets:
  - addresses:
    - ip: 10.244.0.23
      nodeName: envoy-gateway-control-plane
      targetRef:
        kind: Pod
        name: prometheus-d6556fbbb-z9mk2
        namespace: tis
        uid: 56103f69-f3ab-4a88-9adf-ebe51b957a53
    ports:
    - name: http
      port: 9090
      protocol: TCP
- addressType: IPv4
  apiVersion: discovery.k8s.io/v1
  endpoints:
  - addresses:
    - 10.244.0.19
    conditions:
      ready: true
      serving: true
      terminating: false
    nodeName: envoy-gateway-control-plane
    targetRef:
      kind: Pod
      name: details-v1-cf74bb974-6vjdd
      namespace: bookinfo
      uid: fbb63bd8-a488-415c-aa01-42813e495a36
  kind: EndpointSlice
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:27Z"
    creationTimestamp: "2024-04-08T13:56:20Z"
    generateName: details-
    generation: 7
    labels:
      app: details
      endpointslice.kubernetes.io/managed-by: endpointslice-controller.k8s.io
      kubernetes.io/service-name: details
      service: details
    name: details-t42bh
    namespace: bookinfo
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: Service
      name: details
      uid: d6f532c2-5002-4b89-aec1-e02e97cc1f67
    resourceVersion: "2187848"
    uid: 4beadb44-9683-4572-a6a5-3169e9609e83
  ports:
  - name: http
    port: 9080
    protocol: TCP
- addressType: IPv4
  apiVersion: discovery.k8s.io/v1
  endpoints:
  - addresses:
    - 10.244.0.15
    conditions:
      ready: true
      serving: true
      terminating: false
    nodeName: envoy-gateway-control-plane
    targetRef:
      kind: Pod
      name: productpage-v1-87d54dd59-fw7z6
      namespace: bookinfo
      uid: dfe77e9b-c6e2-4a44-b6b4-715cc5bcd675
  kind: EndpointSlice
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:23Z"
    creationTimestamp: "2024-04-08T13:56:20Z"
    generateName: productpage-
    generation: 7
    labels:
      app: productpage
      endpointslice.kubernetes.io/managed-by: endpointslice-controller.k8s.io
      kubernetes.io/service-name: productpage
      service: productpage
    name: productpage-lhspw
    namespace: bookinfo
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: Service
      name: productpage
      uid: f9a844b7-165f-427e-86b5-2acbc9b0707b
    resourceVersion: "2187782"
    uid: 3ed9897c-f828-4d46-bcbc-541fede43328
  ports:
  - name: http
    port: 9080
    protocol: TCP
- addressType: IPv4
  apiVersion: discovery.k8s.io/v1
  endpoints:
  - addresses:
    - 10.244.0.17
    conditions:
      ready: true
      serving: true
      terminating: false
    nodeName: envoy-gateway-control-plane
    targetRef:
      kind: Pod
      name: ratings-v1-7c4bbf97db-vk2pf
      namespace: bookinfo
      uid: bafe047c-159d-4fd4-a1f7-e785d0682600
  kind: EndpointSlice
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:27Z"
    creationTimestamp: "2024-04-08T13:56:20Z"
    generateName: ratings-
    generation: 7
    labels:
      app: ratings
      endpointslice.kubernetes.io/managed-by: endpointslice-controller.k8s.io
      kubernetes.io/service-name: ratings
      service: ratings
    name: ratings-chbk6
    namespace: bookinfo
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: Service
      name: ratings
      uid: 3fd6b57e-ef5f-430e-a56a-1c909203086c
    resourceVersion: "2187844"
    uid: df48d8f5-e5ba-4dca-a02c-84baee1a3e29
  ports:
  - name: http
    port: 9080
    protocol: TCP
- addressType: IPv4
  apiVersion: discovery.k8s.io/v1
  endpoints:
  - addresses:
    - 10.244.0.13
    conditions:
      ready: true
      serving: true
      terminating: false
    nodeName: envoy-gateway-control-plane
    targetRef:
      kind: Pod
      name: reviews-v2-6f9b55c5db-ggqhl
      namespace: bookinfo
      uid: ae7bb66f-82c8-48d7-8c16-435ae6b63042
  - addresses:
    - 10.244.0.16
    conditions:
      ready: true
      serving: true
      terminating: false
    nodeName: envoy-gateway-control-plane
    targetRef:
      kind: Pod
      name: reviews-v1-5fd6d4f8f8-rwhng
      namespace: bookinfo
      uid: ebd55dfb-c4df-42e5-88d7-94d631a62726
  - addresses:
    - 10.244.0.18
    conditions:
      ready: true
      serving: true
      terminating: false
    nodeName: envoy-gateway-control-plane
    targetRef:
      kind: Pod
      name: reviews-v3-7d99fd7978-sj9d6
      namespace: bookinfo
      uid: 7cb96f2e-0ba8-47b0-852a-6ad3a1c6391a
  kind: EndpointSlice
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:32Z"
    creationTimestamp: "2024-04-08T13:56:20Z"
    generateName: reviews-
    generation: 15
    labels:
      app: reviews
      endpointslice.kubernetes.io/managed-by: endpointslice-controller.k8s.io
      kubernetes.io/service-name: reviews
      service: reviews
    name: reviews-wmssr
    namespace: bookinfo
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: Service
      name: reviews
      uid: df9d37bc-b12b-4b5a-be4c-58033c0e9390
    resourceVersion: "2187874"
    uid: 50e131f6-27a5-4211-a420-3504605d55ac
  ports:
  - name: http
    port: 9080
    protocol: TCP
- addressType: IPv4
  apiVersion: discovery.k8s.io/v1
  endpoints:
  - addresses:
    - 10.244.0.12
    conditions:
      ready: true
      serving: true
      terminating: false
    nodeName: envoy-gateway-control-plane
    targetRef:
      kind: Pod
      name: httpbin-86b8ffc5ff-nlp5t
      namespace: default
      uid: bb024394-e9af-4fe7-8582-2acff414cc97
  kind: EndpointSlice
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:27Z"
    creationTimestamp: "2024-04-06T11:43:19Z"
    generateName: httpbin-
    generation: 13
    labels:
      app: httpbin
      endpointslice.kubernetes.io/managed-by: endpointslice-controller.k8s.io
      kubernetes.io/service-name: httpbin
      service: httpbin
    name: httpbin-28gpk
    namespace: default
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: Service
      name: httpbin
      uid: 57aa75d6-e42f-4ba8-9dbb-5ad0a2afaeac
    resourceVersion: "2187838"
    uid: d7f5e9f2-1350-4fdd-bf25-13ecdef853af
  ports:
  - name: http
    port: 8080
    protocol: TCP
- addressType: IPv4
  apiVersion: discovery.k8s.io/v1
  endpoints:
  - addresses:
    - 172.18.0.2
    conditions:
      ready: true
  kind: EndpointSlice
  metadata:
    creationTimestamp: "2024-03-09T04:14:51Z"
    generation: 1
    labels:
      kubernetes.io/service-name: kubernetes
    name: kubernetes
    namespace: default
    resourceVersion: "232"
    uid: ecbb6c15-35c3-4d91-943a-844a3cb552bf
  ports:
  - name: https
    port: 6443
    protocol: TCP
- addressType: IPv4
  apiVersion: discovery.k8s.io/v1
  endpoints:
  - addresses:
    - 10.244.0.20
    conditions:
      ready: true
      serving: true
      terminating: false
    nodeName: envoy-gateway-control-plane
    targetRef:
      kind: Pod
      name: sleep-7656cf8794-rpxg9
      namespace: default
      uid: 4255368c-af4e-47b2-b2ea-e5d2d1bc9e24
  kind: EndpointSlice
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:27Z"
    creationTimestamp: "2024-03-22T05:39:51Z"
    generateName: sleep-
    generation: 46
    labels:
      app: sleep
      endpointslice.kubernetes.io/managed-by: endpointslice-controller.k8s.io
      kubernetes.io/service-name: sleep
      service: sleep
    name: sleep-8qkkv
    namespace: default
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: Service
      name: sleep
      uid: 02842fdf-1661-4716-81d0-ef43ad45a844
    resourceVersion: "2187854"
    uid: 059ce183-c163-4dba-bb79-29cf0bf5e9d6
  ports:
  - name: http
    port: 80
    protocol: TCP
- addressType: IPv4
  apiVersion: discovery.k8s.io/v1
  endpoints:
  - addresses:
    - 10.244.0.9
    conditions:
      ready: true
      serving: true
      terminating: false
    nodeName: envoy-gateway-control-plane
    targetRef:
      kind: Pod
      name: istio-ingressgateway-845c5b6988-flrgs
      namespace: istio-system
      uid: 3bbe73de-0806-4e72-803a-75fcba0580f8
  kind: EndpointSlice
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:24Z"
    creationTimestamp: "2024-04-07T12:57:01Z"
    generateName: istio-ingressgateway-
    generation: 7
    labels:
      app: istio-ingressgateway
      endpointslice.kubernetes.io/managed-by: endpointslice-controller.k8s.io
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio: ingressgateway
      istio.io/rev: default
      kubernetes.io/service-name: istio-ingressgateway
      operator.istio.io/component: IngressGateways
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: istio-ingressgateway-t57tq
    namespace: istio-system
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: Service
      name: istio-ingressgateway
      uid: 0b70be3a-51b9-4a45-a7b4-c8aedaa591ed
    resourceVersion: "2187812"
    uid: 1bc092af-49f5-4401-ba9d-82674e313aa8
  ports:
  - name: http2
    port: 8080
    protocol: TCP
  - name: https
    port: 8443
    protocol: TCP
  - name: status-port
    port: 15021
    protocol: TCP
- addressType: IPv4
  apiVersion: discovery.k8s.io/v1
  endpoints:
  - addresses:
    - 10.244.0.10
    conditions:
      ready: true
      serving: true
      terminating: false
    nodeName: envoy-gateway-control-plane
    targetRef:
      kind: Pod
      name: istiod-5c586775f7-stw2d
      namespace: istio-system
      uid: 471747eb-64a4-4439-92f4-0783ef8ba71b
  kind: EndpointSlice
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:20Z"
    creationTimestamp: "2024-04-07T12:56:57Z"
    generateName: istiod-
    generation: 6
    labels:
      app: istiod
      endpointslice.kubernetes.io/managed-by: endpointslice-controller.k8s.io
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio: pilot
      istio.io/rev: default
      kubernetes.io/service-name: istiod
      operator.istio.io/component: Pilot
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: istiod-fgprh
    namespace: istio-system
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: Service
      name: istiod
      uid: d73216ac-2e11-4424-a943-5e44ae03fa99
    resourceVersion: "2187763"
    uid: b775dd10-690c-41c1-8ffc-cd0550c3ad9d
  ports:
  - name: https-dns
    port: 15012
    protocol: TCP
  - name: https-webhook
    port: 15017
    protocol: TCP
  - name: grpc-xds
    port: 15010
    protocol: TCP
  - name: http-monitoring
    port: 15014
    protocol: TCP
- addressType: IPv4
  apiVersion: discovery.k8s.io/v1
  endpoints:
  - addresses:
    - 10.244.0.4
    conditions:
      ready: true
      serving: true
      terminating: false
    nodeName: envoy-gateway-control-plane
    targetRef:
      kind: Pod
      name: coredns-5dd5756b68-kqtwn
      namespace: kube-system
      uid: b5f75e9a-f9fe-4192-8dc8-f2933bb2d148
  - addresses:
    - 10.244.0.8
    conditions:
      ready: true
      serving: true
      terminating: false
    nodeName: envoy-gateway-control-plane
    targetRef:
      kind: Pod
      name: coredns-5dd5756b68-qwfvk
      namespace: kube-system
      uid: aed53ea1-02ad-4694-9dea-3da63ee75a05
  kind: EndpointSlice
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:17Z"
    creationTimestamp: "2024-03-09T04:15:06Z"
    generateName: kube-dns-
    generation: 31
    labels:
      endpointslice.kubernetes.io/managed-by: endpointslice-controller.k8s.io
      k8s-app: kube-dns
      kubernetes.io/cluster-service: "true"
      kubernetes.io/name: CoreDNS
      kubernetes.io/service-name: kube-dns
    name: kube-dns-9x79j
    namespace: kube-system
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: Service
      name: kube-dns
      uid: 690eace9-290d-48f1-8c16-70d5346e4623
    resourceVersion: "2187753"
    uid: b763a1b7-d1f8-4a6e-bc48-4635fdf22816
  ports:
  - name: metrics
    port: 9153
    protocol: TCP
  - name: dns
    port: 53
    protocol: UDP
  - name: dns-tcp
    port: 53
    protocol: TCP
- addressType: IPv4
  apiVersion: discovery.k8s.io/v1
  endpoints:
  - addresses:
    - 10.244.0.14
    conditions:
      ready: true
      serving: true
      terminating: false
    nodeName: envoy-gateway-control-plane
    targetRef:
      kind: Pod
      name: my-nginx-6955f58bc9-x4vdz
      namespace: mesh-external
      uid: 5ae79c56-ae58-4431-849d-8c596ed377d7
  kind: EndpointSlice
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-03-14T05:47:50Z"
    creationTimestamp: "2024-03-14T05:47:50Z"
    generateName: my-nginx-
    generation: 8
    labels:
      endpointslice.kubernetes.io/managed-by: endpointslice-controller.k8s.io
      kubernetes.io/service-name: my-nginx
      run: my-nginx
    name: my-nginx-748mk
    namespace: mesh-external
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: Service
      name: my-nginx
      uid: e91e8060-3fc6-4957-b09f-37dcf90aa62f
    resourceVersion: "2184072"
    uid: 54e4754b-cb42-4ad7-89d7-874e1cbad36b
  ports:
  - name: ""
    port: 443
    protocol: TCP
- addressType: IPv4
  apiVersion: discovery.k8s.io/v1
  endpoints:
  - addresses:
    - 10.244.0.5
    conditions:
      ready: true
      serving: true
      terminating: false
    nodeName: envoy-gateway-control-plane
    targetRef:
      kind: Pod
      name: controller-5c6b6c8447-9q5nb
      namespace: metallb-system
      uid: 9f27a401-77ca-4289-a42d-24cec7ff792e
  kind: EndpointSlice
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:47Z"
    creationTimestamp: "2024-03-09T04:15:06Z"
    generateName: webhook-service-
    generation: 23
    labels:
      endpointslice.kubernetes.io/managed-by: endpointslice-controller.k8s.io
      kubernetes.io/service-name: webhook-service
    name: webhook-service-qtkkj
    namespace: metallb-system
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: Service
      name: webhook-service
      uid: aed11775-c21d-49b9-a237-2117ec09360d
    resourceVersion: "2187918"
    uid: 694fd056-1752-401d-91d1-976adc9ab669
  ports:
  - name: ""
    port: 9443
    protocol: TCP
- addressType: IPv4
  apiVersion: discovery.k8s.io/v1
  endpoints:
  - addresses:
    - 10.244.0.11
    conditions:
      ready: true
      serving: true
      terminating: false
    nodeName: envoy-gateway-control-plane
    targetRef:
      kind: Pod
      name: otel-collector-794698855-59kg2
      namespace: monitoring
      uid: 512334a7-ef53-4ab3-b4a8-dfe87b0515dd
  kind: EndpointSlice
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-06T07:43:36Z"
    creationTimestamp: "2024-04-06T07:43:36Z"
    generateName: otel-collector-
    generation: 24
    labels:
      app.kubernetes.io/instance: otel-collector
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: opentelemetry-collector
      app.kubernetes.io/version: 0.97.0
      component: standalone-collector
      endpointslice.kubernetes.io/managed-by: endpointslice-controller.k8s.io
      helm.sh/chart: opentelemetry-collector-0.86.0
      kubernetes.io/service-name: otel-collector
    name: otel-collector-pvxr7
    namespace: monitoring
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: Service
      name: otel-collector
      uid: f99a381d-c49e-4ca9-b313-bc5440da4907
    resourceVersion: "2187724"
    uid: a58e5d6e-7702-405f-87b7-121e59e22763
  ports:
  - name: jaeger-thrift
    port: 14268
    protocol: TCP
  - appProtocol: grpc
    name: otlp
    port: 4317
    protocol: TCP
  - name: zipkin
    port: 9411
    protocol: TCP
  - name: jaeger-grpc
    port: 14250
    protocol: TCP
  - name: otlp-http
    port: 4318
    protocol: TCP
  - name: jaeger-compact
    port: 6831
    protocol: UDP
- addressType: IPv4
  apiVersion: discovery.k8s.io/v1
  endpoints:
  - addresses:
    - 10.244.0.22
    conditions:
      ready: true
      serving: true
      terminating: false
    nodeName: envoy-gateway-control-plane
    targetRef:
      kind: Pod
      name: grafana-7f9cd94f8c-wnt7w
      namespace: tis
      uid: 56fce9e9-29be-47b0-b7fb-e2dc1ad0e1de
  kind: EndpointSlice
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-07T13:10:01Z"
    creationTimestamp: "2024-04-07T13:10:01Z"
    generateName: grafana-
    generation: 25
    labels:
      app.kubernetes.io/instance: istio-monitoring-demo
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: grafana
      app.kubernetes.io/version: 10.0.2
      endpointslice.kubernetes.io/managed-by: endpointslice-controller.k8s.io
      helm.sh/chart: grafana-6.58.4
      kubernetes.io/service-name: grafana
    name: grafana-4vh5g
    namespace: tis
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: Service
      name: grafana
      uid: 251a81f5-9fc3-4c9f-9225-85e19ff642ae
    resourceVersion: "2187725"
    uid: c0c37142-c7b1-4af5-926f-8e0eab6dd133
  ports:
  - name: service
    port: 3000
    protocol: TCP
- addressType: IPv4
  apiVersion: discovery.k8s.io/v1
  endpoints:
  - addresses:
    - 10.244.0.21
    conditions:
      ready: true
      serving: true
      terminating: false
    nodeName: envoy-gateway-control-plane
    targetRef:
      kind: Pod
      name: istio-monitoring-demo-kube-state-metrics-cdc747ff9-zkqwh
      namespace: tis
      uid: 0c71d236-abd9-438c-889f-23a139b3810d
  kind: EndpointSlice
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-10T09:30:24Z"
    creationTimestamp: "2024-04-07T13:10:01Z"
    generateName: istio-monitoring-demo-kube-state-metrics-
    generation: 26
    labels:
      app.kubernetes.io/component: metrics
      app.kubernetes.io/instance: istio-monitoring-demo
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: kube-state-metrics
      app.kubernetes.io/part-of: kube-state-metrics
      app.kubernetes.io/version: 2.10.0
      endpointslice.kubernetes.io/managed-by: endpointslice-controller.k8s.io
      helm.sh/chart: kube-state-metrics-5.14.0
      kubernetes.io/service-name: istio-monitoring-demo-kube-state-metrics
      sidecar.istio.io/inject: "false"
    name: istio-monitoring-demo-kube-state-metrics-6xx2k
    namespace: tis
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: Service
      name: istio-monitoring-demo-kube-state-metrics
      uid: 1a1f7c32-331c-45dc-a421-a5ea10fffd0e
    resourceVersion: "2187820"
    uid: b528df07-c1e3-4d3b-829f-6713e5825e43
  ports:
  - name: http
    port: 8080
    protocol: TCP
- addressType: IPv4
  apiVersion: discovery.k8s.io/v1
  endpoints:
  - addresses:
    - 10.244.0.23
    conditions:
      ready: true
      serving: true
      terminating: false
    nodeName: envoy-gateway-control-plane
    targetRef:
      kind: Pod
      name: prometheus-d6556fbbb-z9mk2
      namespace: tis
      uid: 56103f69-f3ab-4a88-9adf-ebe51b957a53
  kind: EndpointSlice
  metadata:
    annotations:
      endpoints.kubernetes.io/last-change-trigger-time: "2024-04-07T13:10:01Z"
    creationTimestamp: "2024-04-07T13:10:01Z"
    generateName: prometheus-
    generation: 38
    labels:
      app: prometheus
      app.kubernetes.io/managed-by: Helm
      chart: prometheus-19.6.1
      component: server
      endpointslice.kubernetes.io/managed-by: endpointslice-controller.k8s.io
      heritage: Helm
      kubernetes.io/service-name: prometheus
      release: istio-monitoring-demo
    name: prometheus-kh9lq
    namespace: tis
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: Service
      name: prometheus
      uid: bd82c176-2044-40b9-a6dd-b1f860c864f3
    resourceVersion: "2187726"
    uid: 95f52c23-e835-4c6c-8b07-de179694d34e
  ports:
  - name: http
    port: 9090
    protocol: TCP
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      controller-gen.kubebuilder.io/version: v0.11.1
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apiextensions.k8s.io/v1","kind":"CustomResourceDefinition","metadata":{"annotations":{"controller-gen.kubebuilder.io/version":"v0.11.1"},"creationTimestamp":null,"name":"addresspools.metallb.io"},"spec":{"conversion":{"strategy":"Webhook","webhook":{"clientConfig":{"caBundle":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlGWlRDQ0EwMmdBd0lCQWdJVU5GRW1XcTM3MVpKdGkrMmlSQzk1WmpBV1MxZ3dEUVlKS29aSWh2Y05BUUVMDQpCUUF3UWpFTE1Ba0dBMVVFQmhNQ1dGZ3hGVEFUQmdOVkJBY01ERVJsWm1GMWJIUWdRMmwwZVRFY01Cb0dBMVVFDQpDZ3dUUkdWbVlYVnNkQ0JEYjIxd1lXNTVJRXgwWkRBZUZ3MHlNakEzTVRrd09UTXlNek5hRncweU1qQTRNVGd3DQpPVE15TXpOYU1FSXhDekFKQmdOVkJBWVRBbGhZTVJVd0V3WURWUVFIREF4RVpXWmhkV3gwSUVOcGRIa3hIREFhDQpCZ05WQkFvTUUwUmxabUYxYkhRZ1EyOXRjR0Z1ZVNCTWRHUXdnZ0lpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElDDQpEd0F3Z2dJS0FvSUNBUUNxVFpxMWZRcC9vYkdlenhES0o3OVB3Ny94azJwellualNzMlkzb1ZYSm5sRmM4YjVlDQpma2ZZQnY2bndscW1keW5PL2phWFBaQmRQSS82aFdOUDBkdVhadEtWU0NCUUpyZzEyOGNXb3F0MGNTN3pLb1VpDQpvcU1tQ0QvRXVBeFFNZjhRZDF2c1gvVllkZ0poVTZBRXJLZEpIaXpFOUJtUkNkTDBGMW1OVW55Rk82UnRtWFZUDQpidkxsTDVYeTc2R0FaQVBLOFB4aVlDa0NtbDdxN0VnTWNiOXlLWldCYmlxQ3VkTXE5TGJLNmdKNzF6YkZnSXV4DQo1L1pXK2JraTB2RlplWk9ZODUxb1psckFUNzJvMDI4NHNTWW9uN0pHZVZkY3NoUnh5R1VpSFpSTzdkaXZVTDVTDQpmM2JmSDFYbWY1ZDQzT0NWTWRuUUV2NWVaOG8zeWVLa3ZrbkZQUGVJMU9BbjdGbDlFRVNNR2dhOGFaSG1URSttDQpsLzlMSmdDYjBnQmtPT0M0WnV4bWh2aERKV1EzWnJCS3pMQlNUZXN0NWlLNVlwcXRWVVk2THRyRW9FelVTK1lsDQpwWndXY2VQWHlHeHM5ZURsR3lNVmQraW15Y3NTU1UvVno2Mmx6MnZCS21NTXBkYldDQWhud0RsRTVqU2dyMjRRDQp0eGNXLys2N3d5KzhuQlI3UXdqVTFITndVRjBzeERWdEwrZ1NHVERnSEVZSlhZelYvT05zMy94TkpoVFNPSkxNDQpoeXNVdyttaGdackdhbUdXcHVIVU1DUitvTWJzMTc1UkcrQjJnUFFHVytPTjJnUTRyOXN2b0ZBNHBBQm8xd1dLDQpRYjRhY3pmeVVscElBOVFoSmFsZEY3S3dPSHVlV3gwRUNrNXg0T2tvVDBvWVp0dzFiR0JjRGtaSmF3SURBUUFCDQpvMU13VVRBZEJnTlZIUTRFRmdRVW90UlNIUm9IWTEyRFZ4R0NCdEhpb1g2ZmVFQXdId1lEVlIwakJCZ3dGb0FVDQpvdFJTSFJvSFkxMkRWeEdDQnRIaW9YNmZlRUF3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFOQmdrcWhraUc5dzBCDQpBUXNGQUFPQ0FnRUFSbkpsWWRjMTFHd0VxWnh6RDF2R3BDR2pDN2VWTlQ3aVY1d3IybXlybHdPYi9aUWFEa0xYDQpvVStaOVVXT1VlSXJTdzUydDdmQUpvVVAwSm5iYkMveVIrU1lqUGhvUXNiVHduOTc2ZldBWTduM3FMOXhCd1Y0DQphek41OXNjeUp0dlhMeUtOL2N5ak1ReDRLajBIMFg0bWJ6bzVZNUtzWWtYVU0vOEFPdWZMcEd0S1NGVGgrSEFDDQpab1Q5YnZHS25adnNHd0tYZFF0Wnh0akhaUjVqK3U3ZGtQOTJBT051RFNabS8rWVV4b2tBK09JbzdSR3BwSHNXDQo1ZTdNY0FTVXRtb1FORXd6dVFoVkJaRWQ1OGtKYjUrV0VWbGNzanlXNnRTbzErZ25tTWNqR1BsMWgxR2hVbjV4DQpFY0lWRnBIWXM5YWo1NmpBSjk1MVQvZjhMaWxmTlVnanBLQ0c1bnl0SUt3emxhOHNtdGlPdm1UNEpYbXBwSkI2DQo4bmdHRVluVjUrUTYwWFJ2OEhSSGp1VG9CRHVhaERrVDA2R1JGODU1d09FR2V4bkZpMXZYWUxLVllWb1V2MXRKDQo4dVdUR1pwNllDSVJldlBqbzg5ZytWTlJSaVFYUThJd0dybXE5c0RoVTlqTjA0SjdVL1RvRDFpNHE3VnlsRUc5DQorV1VGNkNLaEdBeTJIaEhwVncyTGFoOS9lUzdZMUZ1YURrWmhPZG1laG1BOCtqdHNZamJadnR5Mm1SWlF0UUZzDQpUU1VUUjREbUR2bVVPRVRmeStpRHdzK2RkWXVNTnJGeVVYV2dkMnpBQU4ydVl1UHFGY2pRcFNPODFzVTJTU3R3DQoxVzAyeUtYOGJEYmZFdjBzbUh3UzliQnFlSGo5NEM1Mjg0YXpsdTBmaUdpTm1OUEM4ckJLRmhBPQ0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ==","service":{"name":"webhook-service","namespace":"metallb-system","path":"/convert"}},"conversionReviewVersions":["v1alpha1","v1beta1"]}},"group":"metallb.io","names":{"kind":"AddressPool","listKind":"AddressPoolList","plural":"addresspools","singular":"addresspool"},"scope":"Namespaced","versions":[{"deprecated":true,"deprecationWarning":"metallb.io v1alpha1 AddressPool is deprecated","name":"v1alpha1","schema":{"openAPIV3Schema":{"description":"AddressPool is the Schema for the addresspools API.","properties":{"apiVersion":{"description":"APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources","type":"string"},"kind":{"description":"Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds","type":"string"},"metadata":{"type":"object"},"spec":{"description":"AddressPoolSpec defines the desired state of AddressPool.","properties":{"addresses":{"description":"A list of IP address ranges over which MetalLB has authority. You can list multiple ranges in a single pool, they will all share the same settings. Each range can be either a CIDR prefix, or an explicit start-end range of IPs.","items":{"type":"string"},"type":"array"},"autoAssign":{"default":true,"description":"AutoAssign flag used to prevent MetallB from automatic allocation for a pool.","type":"boolean"},"bgpAdvertisements":{"description":"When an IP is allocated from this pool, how should it be translated into BGP announcements?","items":{"properties":{"aggregationLength":{"default":32,"description":"The aggregation-length advertisement option lets you roll up the /32s into a larger prefix.","format":"int32","minimum":1,"type":"integer"},"aggregationLengthV6":{"default":128,"description":"Optional, defaults to 128 (i.e. no aggregation) if not specified.","format":"int32","type":"integer"},"communities":{"description":"BGP communities","items":{"type":"string"},"type":"array"},"localPref":{"description":"BGP LOCAL_PREF attribute which is used by BGP best path algorithm, Path with higher localpref is preferred over one with lower localpref.","format":"int32","type":"integer"}},"type":"object"},"type":"array"},"protocol":{"description":"Protocol can be used to select how the announcement is done.","enum":["layer2","bgp"],"type":"string"}},"required":["addresses","protocol"],"type":"object"},"status":{"description":"AddressPoolStatus defines the observed state of AddressPool.","type":"object"}},"required":["spec"],"type":"object"}},"served":true,"storage":false,"subresources":{"status":{}}},{"deprecated":true,"deprecationWarning":"metallb.io v1beta1 AddressPool is deprecated, consider using IPAddressPool","name":"v1beta1","schema":{"openAPIV3Schema":{"description":"AddressPool represents a pool of IP addresses that can be allocated to LoadBalancer services. AddressPool is deprecated and being replaced by IPAddressPool.","properties":{"apiVersion":{"description":"APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources","type":"string"},"kind":{"description":"Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds","type":"string"},"metadata":{"type":"object"},"spec":{"description":"AddressPoolSpec defines the desired state of AddressPool.","properties":{"addresses":{"description":"A list of IP address ranges over which MetalLB has authority. You can list multiple ranges in a single pool, they will all share the same settings. Each range can be either a CIDR prefix, or an explicit start-end range of IPs.","items":{"type":"string"},"type":"array"},"autoAssign":{"default":true,"description":"AutoAssign flag used to prevent MetallB from automatic allocation for a pool.","type":"boolean"},"bgpAdvertisements":{"description":"Drives how an IP allocated from this pool should translated into BGP announcements.","items":{"properties":{"aggregationLength":{"default":32,"description":"The aggregation-length advertisement option lets you roll up the /32s into a larger prefix.","format":"int32","minimum":1,"type":"integer"},"aggregationLengthV6":{"default":128,"description":"Optional, defaults to 128 (i.e. no aggregation) if not specified.","format":"int32","type":"integer"},"communities":{"description":"BGP communities to be associated with the given advertisement.","items":{"type":"string"},"type":"array"},"localPref":{"description":"BGP LOCAL_PREF attribute which is used by BGP best path algorithm, Path with higher localpref is preferred over one with lower localpref.","format":"int32","type":"integer"}},"type":"object"},"type":"array"},"protocol":{"description":"Protocol can be used to select how the announcement is done.","enum":["layer2","bgp"],"type":"string"}},"required":["addresses","protocol"],"type":"object"},"status":{"description":"AddressPoolStatus defines the observed state of AddressPool.","type":"object"}},"required":["spec"],"type":"object"}},"served":true,"storage":true,"subresources":{"status":{}}}]}}
    creationTimestamp: "2024-03-09T04:14:55Z"
    generation: 2
    name: addresspools.metallb.io
    resourceVersion: "720"
    uid: f0090106-5a16-4ef9-922b-5d7c54bf8789
  spec:
    conversion:
      strategy: Webhook
      webhook:
        clientConfig:
          caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURFRENDQWZpZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFoTVJBd0RnWURWUVFLRXdkdFpYUmgKYkd4aU1RMHdDd1lEVlFRREV3UmpaWEowTUI0WERUSTBNRE13T1RBek1UY3hObG9YRFRNME1ETXdOekEwTVRjeApObG93SVRFUU1BNEdBMVVFQ2hNSGJXVjBZV3hzWWpFTk1Bc0dBMVVFQXhNRVkyVnlkRENDQVNJd0RRWUpLb1pJCmh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTnRzbzZwa1dacERMNHYyVFN4RU44MTZFb0paRDZwaHNGUDEKQ08wYnhrbWRQQzFYTjdObURjYWcrVWhReWZZK3ZxVEtYUmxSMjJ1YU9CWFJzMitOZFhrbVllekI4VGVKa2VIZQpTN3NFbWh4bUtGQ3ZyQXVRK1JiVmU3L093K0JmYW45QWxNUEFLQ041a2o4N3JPUGZHV1FzSDllL00vVytBN1d6CkF0eFFaaElhcjhzU04zSGFSWkJUMEhLT29XUTRkRlluMlZCNXNzVlNtT2tPNUJiL0xYRVZ1REx4TXErM0ZuSWYKN095ZnRiVnJ5eVl2Y3VSMGwwR3ArRHlpcDRnamdLNlpoZmlNY1NYSk1VL3UzZm50K1hrcGMwQWRSRzlaWHlERwpIZC8yL2o4YXZucU5zYS90Q1NZUDIycXVKMzgyKzFYb3VWeTR1TGNtNjZLUkZjUmZTdjBDQXdFQUFhTlRNRkV3CkRnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkg2OEEzVmoKVUVDMTEyaG5raG9kTXdRMS94RkNNQThHQTFVZEVRUUlNQWFDQkdObGNuUXdEUVlKS29aSWh2Y05BUUVMQlFBRApnZ0VCQUw1L2tJUU1hTGk2NnhTSHErTUtEQnJtUUw0YXRCd0o0ZEQzNEJDSVVEM21pU1d6RFZ6QTRFdzJaTmFyCkNlamFrVDk3Qjh0Y3hTeitKQzljcVlBS1JYZU42ejdzMVNZdElpQTUvNEFCNGRZdU96QytlRjFMOVhaeWpvd2YKVGtBb0d4LzQ4cE0rVThJSlN6NVRKelJqWG5ZOHBQYllIdVBDVDdRSVZKcVh6djJXeXNQUjl2OUQxZmhHbXBNSApKZ1BJa3o2Vzk3b1JZNFVZOTRJVlovUTJCUEtQS3M3T1BQN3ZhMnczU0RvWkk0WUJ0b2NlZkRSWmgwTFVMREVyCmNuQng1K01QaFo5ZXdHeFVDNHFHdzBCZlYyRFRFZ2w3eGtQd1Jndk5PQWt6SzQ4NXRGeWxWWUZUdktFSDVPcm4KUURoTlpGT0hOdm9TSjhLWVpJV1VKdGMyYUlBPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
          service:
            name: webhook-service
            namespace: metallb-system
            path: /convert
            port: 443
        conversionReviewVersions:
        - v1alpha1
        - v1beta1
    group: metallb.io
    names:
      kind: AddressPool
      listKind: AddressPoolList
      plural: addresspools
      singular: addresspool
    scope: Namespaced
    versions:
    - deprecated: true
      deprecationWarning: metallb.io v1alpha1 AddressPool is deprecated
      name: v1alpha1
      schema:
        openAPIV3Schema:
          description: AddressPool is the Schema for the addresspools API.
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: AddressPoolSpec defines the desired state of AddressPool.
              properties:
                addresses:
                  description: A list of IP address ranges over which MetalLB has
                    authority. You can list multiple ranges in a single pool, they
                    will all share the same settings. Each range can be either a CIDR
                    prefix, or an explicit start-end range of IPs.
                  items:
                    type: string
                  type: array
                autoAssign:
                  default: true
                  description: AutoAssign flag used to prevent MetallB from automatic
                    allocation for a pool.
                  type: boolean
                bgpAdvertisements:
                  description: When an IP is allocated from this pool, how should
                    it be translated into BGP announcements?
                  items:
                    properties:
                      aggregationLength:
                        default: 32
                        description: The aggregation-length advertisement option lets
                          you roll up the /32s into a larger prefix.
                        format: int32
                        minimum: 1
                        type: integer
                      aggregationLengthV6:
                        default: 128
                        description: Optional, defaults to 128 (i.e. no aggregation)
                          if not specified.
                        format: int32
                        type: integer
                      communities:
                        description: BGP communities
                        items:
                          type: string
                        type: array
                      localPref:
                        description: BGP LOCAL_PREF attribute which is used by BGP
                          best path algorithm, Path with higher localpref is preferred
                          over one with lower localpref.
                        format: int32
                        type: integer
                    type: object
                  type: array
                protocol:
                  description: Protocol can be used to select how the announcement
                    is done.
                  enum:
                  - layer2
                  - bgp
                  type: string
              required:
              - addresses
              - protocol
              type: object
            status:
              description: AddressPoolStatus defines the observed state of AddressPool.
              type: object
          required:
          - spec
          type: object
      served: true
      storage: false
      subresources:
        status: {}
    - deprecated: true
      deprecationWarning: metallb.io v1beta1 AddressPool is deprecated, consider using
        IPAddressPool
      name: v1beta1
      schema:
        openAPIV3Schema:
          description: AddressPool represents a pool of IP addresses that can be allocated
            to LoadBalancer services. AddressPool is deprecated and being replaced
            by IPAddressPool.
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: AddressPoolSpec defines the desired state of AddressPool.
              properties:
                addresses:
                  description: A list of IP address ranges over which MetalLB has
                    authority. You can list multiple ranges in a single pool, they
                    will all share the same settings. Each range can be either a CIDR
                    prefix, or an explicit start-end range of IPs.
                  items:
                    type: string
                  type: array
                autoAssign:
                  default: true
                  description: AutoAssign flag used to prevent MetallB from automatic
                    allocation for a pool.
                  type: boolean
                bgpAdvertisements:
                  description: Drives how an IP allocated from this pool should translated
                    into BGP announcements.
                  items:
                    properties:
                      aggregationLength:
                        default: 32
                        description: The aggregation-length advertisement option lets
                          you roll up the /32s into a larger prefix.
                        format: int32
                        minimum: 1
                        type: integer
                      aggregationLengthV6:
                        default: 128
                        description: Optional, defaults to 128 (i.e. no aggregation)
                          if not specified.
                        format: int32
                        type: integer
                      communities:
                        description: BGP communities to be associated with the given
                          advertisement.
                        items:
                          type: string
                        type: array
                      localPref:
                        description: BGP LOCAL_PREF attribute which is used by BGP
                          best path algorithm, Path with higher localpref is preferred
                          over one with lower localpref.
                        format: int32
                        type: integer
                    type: object
                  type: array
                protocol:
                  description: Protocol can be used to select how the announcement
                    is done.
                  enum:
                  - layer2
                  - bgp
                  type: string
              required:
              - addresses
              - protocol
              type: object
            status:
              description: AddressPoolStatus defines the observed state of AddressPool.
              type: object
          required:
          - spec
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      kind: AddressPool
      listKind: AddressPoolList
      plural: addresspools
      singular: addresspool
    conditions:
    - lastTransitionTime: "2024-03-09T04:14:55Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-03-09T04:14:55Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1beta1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      helm.sh/resource-policy: keep
    creationTimestamp: "2024-04-07T12:56:56Z"
    generation: 1
    labels:
      app: istio-pilot
      chart: istio
      heritage: Tiller
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio: security
      istio.io/rev: default
      operator.istio.io/component: Base
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: authorizationpolicies.security.istio.io
    resourceVersion: "1904494"
    uid: 2126ae20-eafb-49d2-96ba-a89bdf12bd44
  spec:
    conversion:
      strategy: None
    group: security.istio.io
    names:
      categories:
      - istio-io
      - security-istio-io
      kind: AuthorizationPolicy
      listKind: AuthorizationPolicyList
      plural: authorizationpolicies
      singular: authorizationpolicy
    scope: Namespaced
    versions:
    - name: v1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration for access control on workloads. See more
                details at: https://istio.io/docs/reference/config/security/authorization-policy.html'
              oneOf:
              - not:
                  anyOf:
                  - required:
                    - provider
              - required:
                - provider
              properties:
                action:
                  description: Optional.
                  enum:
                  - ALLOW
                  - DENY
                  - AUDIT
                  - CUSTOM
                  type: string
                provider:
                  description: Specifies detailed configuration of the CUSTOM action.
                  properties:
                    name:
                      description: Specifies the name of the extension provider.
                      type: string
                  type: object
                rules:
                  description: Optional.
                  items:
                    properties:
                      from:
                        description: Optional.
                        items:
                          properties:
                            source:
                              description: Source specifies the source of a request.
                              properties:
                                ipBlocks:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                namespaces:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notIpBlocks:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notNamespaces:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notPrincipals:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notRemoteIpBlocks:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notRequestPrincipals:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                principals:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                remoteIpBlocks:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                requestPrincipals:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                              type: object
                          type: object
                        type: array
                      to:
                        description: Optional.
                        items:
                          properties:
                            operation:
                              description: Operation specifies the operation of a
                                request.
                              properties:
                                hosts:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                methods:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notHosts:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notMethods:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notPaths:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notPorts:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                paths:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                ports:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                              type: object
                          type: object
                        type: array
                      when:
                        description: Optional.
                        items:
                          properties:
                            key:
                              description: The name of an Istio attribute.
                              type: string
                            notValues:
                              description: Optional.
                              items:
                                type: string
                              type: array
                            values:
                              description: Optional.
                              items:
                                type: string
                              type: array
                          required:
                          - key
                          type: object
                        type: array
                    type: object
                  type: array
                selector:
                  description: Optional.
                  properties:
                    matchLabels:
                      additionalProperties:
                        type: string
                      description: One or more labels that indicate a specific set
                        of pods/VMs on which a policy should be applied.
                      type: object
                  type: object
                targetRef:
                  description: Optional.
                  properties:
                    group:
                      description: group is the group of the target resource.
                      type: string
                    kind:
                      description: kind is kind of the target resource.
                      type: string
                    name:
                      description: name is the name of the target resource.
                      type: string
                    namespace:
                      description: namespace is the namespace of the referent.
                      type: string
                  type: object
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: false
      subresources:
        status: {}
    - name: v1beta1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration for access control on workloads. See more
                details at: https://istio.io/docs/reference/config/security/authorization-policy.html'
              oneOf:
              - not:
                  anyOf:
                  - required:
                    - provider
              - required:
                - provider
              properties:
                action:
                  description: Optional.
                  enum:
                  - ALLOW
                  - DENY
                  - AUDIT
                  - CUSTOM
                  type: string
                provider:
                  description: Specifies detailed configuration of the CUSTOM action.
                  properties:
                    name:
                      description: Specifies the name of the extension provider.
                      type: string
                  type: object
                rules:
                  description: Optional.
                  items:
                    properties:
                      from:
                        description: Optional.
                        items:
                          properties:
                            source:
                              description: Source specifies the source of a request.
                              properties:
                                ipBlocks:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                namespaces:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notIpBlocks:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notNamespaces:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notPrincipals:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notRemoteIpBlocks:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notRequestPrincipals:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                principals:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                remoteIpBlocks:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                requestPrincipals:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                              type: object
                          type: object
                        type: array
                      to:
                        description: Optional.
                        items:
                          properties:
                            operation:
                              description: Operation specifies the operation of a
                                request.
                              properties:
                                hosts:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                methods:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notHosts:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notMethods:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notPaths:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                notPorts:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                paths:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                                ports:
                                  description: Optional.
                                  items:
                                    type: string
                                  type: array
                              type: object
                          type: object
                        type: array
                      when:
                        description: Optional.
                        items:
                          properties:
                            key:
                              description: The name of an Istio attribute.
                              type: string
                            notValues:
                              description: Optional.
                              items:
                                type: string
                              type: array
                            values:
                              description: Optional.
                              items:
                                type: string
                              type: array
                          required:
                          - key
                          type: object
                        type: array
                    type: object
                  type: array
                selector:
                  description: Optional.
                  properties:
                    matchLabels:
                      additionalProperties:
                        type: string
                      description: One or more labels that indicate a specific set
                        of pods/VMs on which a policy should be applied.
                      type: object
                  type: object
                targetRef:
                  description: Optional.
                  properties:
                    group:
                      description: group is the group of the target resource.
                      type: string
                    kind:
                      description: kind is kind of the target resource.
                      type: string
                    name:
                      description: name is the name of the target resource.
                      type: string
                    namespace:
                      description: namespace is the namespace of the referent.
                      type: string
                  type: object
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - istio-io
      - security-istio-io
      kind: AuthorizationPolicy
      listKind: AuthorizationPolicyList
      plural: authorizationpolicies
      singular: authorizationpolicy
    conditions:
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1beta1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      api-approved.kubernetes.io: https://github.com/kubernetes-sigs/gateway-api/pull/2466
      gateway.networking.k8s.io/bundle-version: v1.0.0
      gateway.networking.k8s.io/channel: experimental
    creationTimestamp: "2024-04-11T07:49:06Z"
    generation: 1
    labels:
      gateway.networking.k8s.io/policy: Direct
    name: backendtlspolicies.gateway.networking.k8s.io
    resourceVersion: "2269547"
    uid: ad60a065-3811-4148-9433-91eb219d8ec5
  spec:
    conversion:
      strategy: None
    group: gateway.networking.k8s.io
    names:
      categories:
      - gateway-api
      kind: BackendTLSPolicy
      listKind: BackendTLSPolicyList
      plural: backendtlspolicies
      shortNames:
      - btlspolicy
      singular: backendtlspolicy
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1alpha2
      schema:
        openAPIV3Schema:
          description: BackendTLSPolicy provides a way to configure how a Gateway
            connects to a Backend via TLS.
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: Spec defines the desired state of BackendTLSPolicy.
              properties:
                targetRef:
                  description: "TargetRef identifies an API object to apply the policy
                    to. Only Services have Extended support. Implementations MAY support
                    additional objects, with Implementation Specific support. Note
                    that this config applies to the entire referenced resource by
                    default, but this default may change in the future to provide
                    a more granular application of the policy. \n Support: Extended
                    for Kubernetes Service \n Support: Implementation-specific for
                    any other resource"
                  properties:
                    group:
                      description: Group is the group of the target resource.
                      maxLength: 253
                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    kind:
                      description: Kind is kind of the target resource.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                      type: string
                    name:
                      description: Name is the name of the target resource.
                      maxLength: 253
                      minLength: 1
                      type: string
                    namespace:
                      description: Namespace is the namespace of the referent. When
                        unspecified, the local namespace is inferred. Even when policy
                        targets a resource in a different namespace, it MUST only
                        apply to traffic originating from the same namespace as the
                        policy.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                      type: string
                    sectionName:
                      description: "SectionName is the name of a section within the
                        target resource. When unspecified, this targetRef targets
                        the entire resource. In the following resources, SectionName
                        is interpreted as the following: \n * Gateway: Listener Name
                        * Service: Port Name \n If a SectionName is specified, but
                        does not exist on the targeted object, the Policy must fail
                        to attach, and the policy implementation should record a `ResolvedRefs`
                        or similar Condition in the Policy's status."
                      maxLength: 253
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                  required:
                  - group
                  - kind
                  - name
                  type: object
                tls:
                  description: TLS contains backend TLS policy configuration.
                  properties:
                    caCertRefs:
                      description: "CACertRefs contains one or more references to
                        Kubernetes objects that contain a PEM-encoded TLS CA certificate
                        bundle, which is used to validate a TLS handshake between
                        the Gateway and backend Pod. \n If CACertRefs is empty or
                        unspecified, then WellKnownCACerts must be specified. Only
                        one of CACertRefs or WellKnownCACerts may be specified, not
                        both. If CACertRefs is empty or unspecified, the configuration
                        for WellKnownCACerts MUST be honored instead. \n References
                        to a resource in a different namespace are invalid for the
                        moment, although we will revisit this in the future. \n A
                        single CACertRef to a Kubernetes ConfigMap kind has \"Core\"
                        support. Implementations MAY choose to support attaching multiple
                        certificates to a backend, but this behavior is implementation-specific.
                        \n Support: Core - An optional single reference to a Kubernetes
                        ConfigMap, with the CA certificate in a key named `ca.crt`.
                        \n Support: Implementation-specific (More than one reference,
                        or other kinds of resources)."
                      items:
                        description: "LocalObjectReference identifies an API object
                          within the namespace of the referrer. The API object must
                          be valid in the cluster; the Group and Kind must be registered
                          in the cluster for this reference to be valid. \n References
                          to objects with invalid Group and Kind are not valid, and
                          must be rejected by the implementation, with appropriate
                          Conditions set on the containing object."
                        properties:
                          group:
                            description: Group is the group of the referent. For example,
                              "gateway.networking.k8s.io". When unspecified or empty
                              string, core API group is inferred.
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            description: Kind is kind of the referent. For example
                              "HTTPRoute" or "Service".
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: Name is the name of the referent.
                            maxLength: 253
                            minLength: 1
                            type: string
                        required:
                        - group
                        - kind
                        - name
                        type: object
                      maxItems: 8
                      type: array
                    hostname:
                      description: "Hostname is used for two purposes in the connection
                        between Gateways and backends: \n 1. Hostname MUST be used
                        as the SNI to connect to the backend (RFC 6066). 2. Hostname
                        MUST be used for authentication and MUST match the certificate
                        served by the matching backend. \n Support: Core"
                      maxLength: 253
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    wellKnownCACerts:
                      description: "WellKnownCACerts specifies whether system CA certificates
                        may be used in the TLS handshake between the gateway and backend
                        pod. \n If WellKnownCACerts is unspecified or empty (\"\"),
                        then CACertRefs must be specified with at least one entry
                        for a valid configuration. Only one of CACertRefs or WellKnownCACerts
                        may be specified, not both. \n Support: Core for \"System\""
                      enum:
                      - System
                      type: string
                  required:
                  - hostname
                  type: object
                  x-kubernetes-validations:
                  - message: must not contain both CACertRefs and WellKnownCACerts
                    rule: '!(has(self.caCertRefs) && size(self.caCertRefs) > 0 &&
                      has(self.wellKnownCACerts) && self.wellKnownCACerts != "")'
                  - message: must specify either CACertRefs or WellKnownCACerts
                    rule: (has(self.caCertRefs) && size(self.caCertRefs) > 0 || has(self.wellKnownCACerts)
                      && self.wellKnownCACerts != "")
              required:
              - targetRef
              - tls
              type: object
            status:
              description: Status defines the current state of BackendTLSPolicy.
              properties:
                ancestors:
                  description: "Ancestors is a list of ancestor resources (usually
                    Gateways) that are associated with the policy, and the status
                    of the policy with respect to each ancestor. When this policy
                    attaches to a parent, the controller that manages the parent and
                    the ancestors MUST add an entry to this list when the controller
                    first sees the policy and SHOULD update the entry as appropriate
                    when the relevant ancestor is modified. \n Note that choosing
                    the relevant ancestor is left to the Policy designers; an important
                    part of Policy design is designing the right object level at which
                    to namespace this status. \n Note also that implementations MUST
                    ONLY populate ancestor status for the Ancestor resources they
                    are responsible for. Implementations MUST use the ControllerName
                    field to uniquely identify the entries in this list that they
                    are responsible for. \n Note that to achieve this, the list of
                    PolicyAncestorStatus structs MUST be treated as a map with a composite
                    key, made up of the AncestorRef and ControllerName fields combined.
                    \n A maximum of 16 ancestors will be represented in this list.
                    An empty list means the Policy is not relevant for any ancestors.
                    \n If this slice is full, implementations MUST NOT add further
                    entries. Instead they MUST consider the policy unimplementable
                    and signal that on any related resources such as the ancestor
                    that would be referenced here. For example, if this list was full
                    on BackendTLSPolicy, no additional Gateways would be able to reference
                    the Service targeted by the BackendTLSPolicy."
                  items:
                    description: "PolicyAncestorStatus describes the status of a route
                      with respect to an associated Ancestor. \n Ancestors refer to
                      objects that are either the Target of a policy or above it in
                      terms of object hierarchy. For example, if a policy targets
                      a Service, the Policy's Ancestors are, in order, the Service,
                      the HTTPRoute, the Gateway, and the GatewayClass. Almost always,
                      in this hierarchy, the Gateway will be the most useful object
                      to place Policy status on, so we recommend that implementations
                      SHOULD use Gateway as the PolicyAncestorStatus object unless
                      the designers have a _very_ good reason otherwise. \n In the
                      context of policy attachment, the Ancestor is used to distinguish
                      which resource results in a distinct application of this policy.
                      For example, if a policy targets a Service, it may have a distinct
                      result per attached Gateway. \n Policies targeting the same
                      resource may have different effects depending on the ancestors
                      of those resources. For example, different Gateways targeting
                      the same Service may have different capabilities, especially
                      if they have different underlying implementations. \n For example,
                      in BackendTLSPolicy, the Policy attaches to a Service that is
                      used as a backend in a HTTPRoute that is itself attached to
                      a Gateway. In this case, the relevant object for status is the
                      Gateway, and that is the ancestor object referred to in this
                      status. \n Note that a parent is also an ancestor, so for objects
                      where the parent is the relevant object for status, this struct
                      SHOULD still be used. \n This struct is intended to be used
                      in a slice that's effectively a map, with a composite key made
                      up of the AncestorRef and the ControllerName."
                    properties:
                      ancestorRef:
                        description: AncestorRef corresponds with a ParentRef in the
                          spec that this PolicyAncestorStatus struct describes the
                          status of.
                        properties:
                          group:
                            default: gateway.networking.k8s.io
                            description: "Group is the group of the referent. When
                              unspecified, \"gateway.networking.k8s.io\" is inferred.
                              To set the core API group (such as for a \"Service\"
                              kind referent), Group must be explicitly set to \"\"
                              (empty string). \n Support: Core"
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Gateway
                            description: "Kind is kind of the referent. \n There are
                              two kinds of parent resources with \"Core\" support:
                              \n * Gateway (Gateway conformance profile) * Service
                              (Mesh conformance profile, experimental, ClusterIP Services
                              only) \n Support for other resources is Implementation-Specific."
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: "Name is the name of the referent. \n Support:
                              Core"
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: "Namespace is the namespace of the referent.
                              When unspecified, this refers to the local namespace
                              of the Route. \n Note that there are specific rules
                              for ParentRefs which cross namespace boundaries. Cross-namespace
                              references are only valid if they are explicitly allowed
                              by something in the namespace they are referring to.
                              For example: Gateway has the AllowedRoutes field, and
                              ReferenceGrant provides a generic way to enable any
                              other kind of cross-namespace reference. \n  ParentRefs
                              from a Route to a Service in the same namespace are
                              \"producer\" routes, which apply default routing rules
                              to inbound connections from any namespace to the Service.
                              \n ParentRefs from a Route to a Service in a different
                              namespace are \"consumer\" routes, and these routing
                              rules are only applied to outbound connections originating
                              from the same namespace as the Route, for which the
                              intended destination of the connections are a Service
                              targeted as a ParentRef of the Route.  \n Support: Core"
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                          port:
                            description: "Port is the network port this Route targets.
                              It can be interpreted differently based on the type
                              of parent resource. \n When the parent resource is a
                              Gateway, this targets all listeners listening on the
                              specified port that also support this kind of Route(and
                              select this Route). It's not recommended to set `Port`
                              unless the networking behaviors specified in a Route
                              must apply to a specific port as opposed to a listener(s)
                              whose port(s) may be changed. When both Port and SectionName
                              are specified, the name and port of the selected listener
                              must match both specified values. \n  When the parent
                              resource is a Service, this targets a specific port
                              in the Service spec. When both Port (experimental) and
                              SectionName are specified, the name and port of the
                              selected port must match both specified values.  \n
                              Implementations MAY choose to support other parent resources.
                              Implementations supporting other types of parent resources
                              MUST clearly document how/if Port is interpreted. \n
                              For the purpose of status, an attachment is considered
                              successful as long as the parent resource accepts it
                              partially. For example, Gateway listeners can restrict
                              which Routes can attach to them by Route kind, namespace,
                              or hostname. If 1 of 2 Gateway listeners accept attachment
                              from the referencing Route, the Route MUST be considered
                              successfully attached. If no Gateway listeners accept
                              attachment from this Route, the Route MUST be considered
                              detached from the Gateway. \n Support: Extended \n "
                            format: int32
                            maximum: 65535
                            minimum: 1
                            type: integer
                          sectionName:
                            description: "SectionName is the name of a section within
                              the target resource. In the following resources, SectionName
                              is interpreted as the following: \n * Gateway: Listener
                              Name. When both Port (experimental) and SectionName
                              are specified, the name and port of the selected listener
                              must match both specified values. * Service: Port Name.
                              When both Port (experimental) and SectionName are specified,
                              the name and port of the selected listener must match
                              both specified values. Note that attaching Routes to
                              Services as Parents is part of experimental Mesh support
                              and is not supported for any other purpose. \n Implementations
                              MAY choose to support attaching Routes to other resources.
                              If that is the case, they MUST clearly document how
                              SectionName is interpreted. \n When unspecified (empty
                              string), this will reference the entire resource. For
                              the purpose of status, an attachment is considered successful
                              if at least one section in the parent resource accepts
                              it. For example, Gateway listeners can restrict which
                              Routes can attach to them by Route kind, namespace,
                              or hostname. If 1 of 2 Gateway listeners accept attachment
                              from the referencing Route, the Route MUST be considered
                              successfully attached. If no Gateway listeners accept
                              attachment from this Route, the Route MUST be considered
                              detached from the Gateway. \n Support: Core"
                            maxLength: 253
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                        required:
                        - name
                        type: object
                      conditions:
                        description: Conditions describes the status of the Policy
                          with respect to the given Ancestor.
                        items:
                          description: "Condition contains details for one aspect
                            of the current state of this API Resource. --- This struct
                            is intended for direct use as an array at the field path
                            .status.conditions.  For example, \n type FooStatus struct{
                            // Represents the observations of a foo's current state.
                            // Known .status.conditions.type are: \"Available\", \"Progressing\",
                            and \"Degraded\" // +patchMergeKey=type // +patchStrategy=merge
                            // +listType=map // +listMapKey=type Conditions []metav1.Condition
                            `json:\"conditions,omitempty\" patchStrategy:\"merge\"
                            patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`
                            \n // other fields }"
                          properties:
                            lastTransitionTime:
                              description: lastTransitionTime is the last time the
                                condition transitioned from one status to another.
                                This should be when the underlying condition changed.  If
                                that is not known, then using the time when the API
                                field changed is acceptable.
                              format: date-time
                              type: string
                            message:
                              description: message is a human readable message indicating
                                details about the transition. This may be an empty
                                string.
                              maxLength: 32768
                              type: string
                            observedGeneration:
                              description: observedGeneration represents the .metadata.generation
                                that the condition was set based upon. For instance,
                                if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration
                                is 9, the condition is out of date with respect to
                                the current state of the instance.
                              format: int64
                              minimum: 0
                              type: integer
                            reason:
                              description: reason contains a programmatic identifier
                                indicating the reason for the condition's last transition.
                                Producers of specific condition types may define expected
                                values and meanings for this field, and whether the
                                values are considered a guaranteed API. The value
                                should be a CamelCase string. This field may not be
                                empty.
                              maxLength: 1024
                              minLength: 1
                              pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                              type: string
                            status:
                              description: status of the condition, one of True, False,
                                Unknown.
                              enum:
                              - "True"
                              - "False"
                              - Unknown
                              type: string
                            type:
                              description: type of condition in CamelCase or in foo.example.com/CamelCase.
                                --- Many .condition.type values are consistent across
                                resources like Available, but because arbitrary conditions
                                can be useful (see .node.status.conditions), the ability
                                to deconflict is important. The regex it matches is
                                (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                              maxLength: 316
                              pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                              type: string
                          required:
                          - lastTransitionTime
                          - message
                          - reason
                          - status
                          - type
                          type: object
                        maxItems: 8
                        minItems: 1
                        type: array
                        x-kubernetes-list-map-keys:
                        - type
                        x-kubernetes-list-type: map
                      controllerName:
                        description: "ControllerName is a domain/path string that
                          indicates the name of the controller that wrote this status.
                          This corresponds with the controllerName field on GatewayClass.
                          \n Example: \"example.net/gateway-controller\". \n The format
                          of this field is DOMAIN \"/\" PATH, where DOMAIN and PATH
                          are valid Kubernetes names (https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names).
                          \n Controllers MUST populate this field when writing status.
                          Controllers should ensure that entries to status populated
                          with their ControllerName are cleaned up when they are no
                          longer necessary."
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                        type: string
                    required:
                    - ancestorRef
                    - controllerName
                    type: object
                  maxItems: 16
                  type: array
              required:
              - ancestors
              type: object
          required:
          - spec
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - gateway-api
      kind: BackendTLSPolicy
      listKind: BackendTLSPolicyList
      plural: backendtlspolicies
      shortNames:
      - btlspolicy
      singular: backendtlspolicy
    conditions:
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: approved in https://github.com/kubernetes-sigs/gateway-api/pull/2466
      reason: ApprovedAnnotation
      status: "True"
      type: KubernetesAPIApprovalPolicyConformant
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha2
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      controller-gen.kubebuilder.io/version: v0.14.0
    creationTimestamp: "2024-04-11T07:49:06Z"
    generation: 1
    name: backendtrafficpolicies.gateway.envoyproxy.io
    resourceVersion: "2269561"
    uid: 01bfe176-bc2f-49cb-897e-31dd37932132
  spec:
    conversion:
      strategy: None
    group: gateway.envoyproxy.io
    names:
      categories:
      - envoy-gateway
      kind: BackendTrafficPolicy
      listKind: BackendTrafficPolicyList
      plural: backendtrafficpolicies
      shortNames:
      - btp
      singular: backendtrafficpolicy
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - jsonPath: .status.conditions[?(@.type=="Accepted")].reason
        name: Status
        type: string
      - jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1alpha1
      schema:
        openAPIV3Schema:
          description: |-
            BackendTrafficPolicy allows the user to configure the behavior of the connection
            between the Envoy Proxy listener and the backend service.
          properties:
            apiVersion:
              description: |-
                APIVersion defines the versioned schema of this representation of an object.
                Servers should convert recognized schemas to the latest internal value, and
                may reject unrecognized values.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
              type: string
            kind:
              description: |-
                Kind is a string value representing the REST resource this object represents.
                Servers may infer this from the endpoint the client submits requests to.
                Cannot be updated.
                In CamelCase.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
              type: string
            metadata:
              type: object
            spec:
              description: spec defines the desired state of BackendTrafficPolicy.
              properties:
                circuitBreaker:
                  description: |-
                    Circuit Breaker settings for the upstream connections and requests.
                    If not set, circuit breakers will be enabled with the default thresholds
                  properties:
                    maxConnections:
                      default: 1024
                      description: The maximum number of connections that Envoy will
                        establish to the referenced backend defined within a xRoute
                        rule.
                      format: int64
                      maximum: 4294967295
                      minimum: 0
                      type: integer
                    maxParallelRequests:
                      default: 1024
                      description: The maximum number of parallel requests that Envoy
                        will make to the referenced backend defined within a xRoute
                        rule.
                      format: int64
                      maximum: 4294967295
                      minimum: 0
                      type: integer
                    maxParallelRetries:
                      default: 1024
                      description: The maximum number of parallel retries that Envoy
                        will make to the referenced backend defined within a xRoute
                        rule.
                      format: int64
                      maximum: 4294967295
                      minimum: 0
                      type: integer
                    maxPendingRequests:
                      default: 1024
                      description: The maximum number of pending requests that Envoy
                        will queue to the referenced backend defined within a xRoute
                        rule.
                      format: int64
                      maximum: 4294967295
                      minimum: 0
                      type: integer
                    maxRequestsPerConnection:
                      description: |-
                        The maximum number of requests that Envoy will make over a single connection to the referenced backend defined within a xRoute rule.
                        Default: unlimited.
                      format: int64
                      maximum: 4294967295
                      minimum: 0
                      type: integer
                  type: object
                compression:
                  description: The compression config for the http streams.
                  items:
                    description: |-
                      Compression defines the config of enabling compression.
                      This can help reduce the bandwidth at the expense of higher CPU.
                    properties:
                      gzip:
                        description: The configuration for GZIP compressor.
                        type: object
                      type:
                        description: CompressorType defines the compressor type to
                          use for compression.
                        enum:
                        - Gzip
                        type: string
                    required:
                    - type
                    type: object
                  type: array
                faultInjection:
                  description: |-
                    FaultInjection defines the fault injection policy to be applied. This configuration can be used to
                    inject delays and abort requests to mimic failure scenarios such as service failures and overloads
                  properties:
                    abort:
                      description: If specified, the request will be aborted if it
                        meets the configuration criteria.
                      properties:
                        grpcStatus:
                          description: GrpcStatus specifies the GRPC status code to
                            be returned
                          format: int32
                          type: integer
                        httpStatus:
                          description: StatusCode specifies the HTTP status code to
                            be returned
                          format: int32
                          maximum: 600
                          minimum: 200
                          type: integer
                        percentage:
                          default: 100
                          description: Percentage specifies the percentage of requests
                            to be aborted. Default 100%, if set 0, no requests will
                            be aborted. Accuracy to 0.0001%.
                          type: number
                      type: object
                      x-kubernetes-validations:
                      - message: httpStatus and grpcStatus cannot be simultaneously
                          defined.
                        rule: ' !(has(self.httpStatus) && has(self.grpcStatus)) '
                      - message: httpStatus and grpcStatus are set at least one.
                        rule: ' has(self.httpStatus) || has(self.grpcStatus) '
                    delay:
                      description: If specified, a delay will be injected into the
                        request.
                      properties:
                        fixedDelay:
                          description: FixedDelay specifies the fixed delay duration
                          type: string
                        percentage:
                          default: 100
                          description: Percentage specifies the percentage of requests
                            to be delayed. Default 100%, if set 0, no requests will
                            be delayed. Accuracy to 0.0001%.
                          type: number
                      required:
                      - fixedDelay
                      type: object
                  type: object
                  x-kubernetes-validations:
                  - message: Delay and abort faults are set at least one.
                    rule: ' has(self.delay) || has(self.abort) '
                healthCheck:
                  description: HealthCheck allows gateway to perform active health
                    checking on backends.
                  properties:
                    active:
                      description: Active health check configuration
                      properties:
                        healthyThreshold:
                          default: 1
                          description: HealthyThreshold defines the number of healthy
                            health checks required before a backend host is marked
                            healthy.
                          format: int32
                          minimum: 1
                          type: integer
                        http:
                          description: |-
                            HTTP defines the configuration of http health checker.
                            It's required while the health checker type is HTTP.
                          properties:
                            expectedResponse:
                              description: ExpectedResponse defines a list of HTTP
                                expected responses to match.
                              properties:
                                binary:
                                  description: Binary payload base64 encoded.
                                  format: byte
                                  type: string
                                text:
                                  description: Text payload in plain text.
                                  type: string
                                type:
                                  allOf:
                                  - enum:
                                    - Text
                                    - Binary
                                  - enum:
                                    - Text
                                    - Binary
                                  description: Type defines the type of the payload.
                                  type: string
                              required:
                              - type
                              type: object
                              x-kubernetes-validations:
                              - message: If payload type is Text, text field needs
                                  to be set.
                                rule: 'self.type == ''Text'' ? has(self.text) : !has(self.text)'
                              - message: If payload type is Binary, binary field needs
                                  to be set.
                                rule: 'self.type == ''Binary'' ? has(self.binary)
                                  : !has(self.binary)'
                            expectedStatuses:
                              description: |-
                                ExpectedStatuses defines a list of HTTP response statuses considered healthy.
                                Defaults to 200 only
                              items:
                                description: HTTPStatus defines the http status code.
                                exclusiveMaximum: true
                                maximum: 600
                                minimum: 100
                                type: integer
                              type: array
                            method:
                              description: |-
                                Method defines the HTTP method used for health checking.
                                Defaults to GET
                              type: string
                            path:
                              description: Path defines the HTTP path that will be
                                requested during health checking.
                              maxLength: 1024
                              minLength: 1
                              type: string
                          required:
                          - path
                          type: object
                        interval:
                          default: 3s
                          description: Interval defines the time between active health
                            checks.
                          format: duration
                          type: string
                        tcp:
                          description: |-
                            TCP defines the configuration of tcp health checker.
                            It's required while the health checker type is TCP.
                          properties:
                            receive:
                              description: Receive defines the expected response payload.
                              properties:
                                binary:
                                  description: Binary payload base64 encoded.
                                  format: byte
                                  type: string
                                text:
                                  description: Text payload in plain text.
                                  type: string
                                type:
                                  allOf:
                                  - enum:
                                    - Text
                                    - Binary
                                  - enum:
                                    - Text
                                    - Binary
                                  description: Type defines the type of the payload.
                                  type: string
                              required:
                              - type
                              type: object
                              x-kubernetes-validations:
                              - message: If payload type is Text, text field needs
                                  to be set.
                                rule: 'self.type == ''Text'' ? has(self.text) : !has(self.text)'
                              - message: If payload type is Binary, binary field needs
                                  to be set.
                                rule: 'self.type == ''Binary'' ? has(self.binary)
                                  : !has(self.binary)'
                            send:
                              description: Send defines the request payload.
                              properties:
                                binary:
                                  description: Binary payload base64 encoded.
                                  format: byte
                                  type: string
                                text:
                                  description: Text payload in plain text.
                                  type: string
                                type:
                                  allOf:
                                  - enum:
                                    - Text
                                    - Binary
                                  - enum:
                                    - Text
                                    - Binary
                                  description: Type defines the type of the payload.
                                  type: string
                              required:
                              - type
                              type: object
                              x-kubernetes-validations:
                              - message: If payload type is Text, text field needs
                                  to be set.
                                rule: 'self.type == ''Text'' ? has(self.text) : !has(self.text)'
                              - message: If payload type is Binary, binary field needs
                                  to be set.
                                rule: 'self.type == ''Binary'' ? has(self.binary)
                                  : !has(self.binary)'
                          type: object
                        timeout:
                          default: 1s
                          description: Timeout defines the time to wait for a health
                            check response.
                          format: duration
                          type: string
                        type:
                          allOf:
                          - enum:
                            - HTTP
                            - TCP
                          - enum:
                            - HTTP
                            - TCP
                          description: Type defines the type of health checker.
                          type: string
                        unhealthyThreshold:
                          default: 3
                          description: UnhealthyThreshold defines the number of unhealthy
                            health checks required before a backend host is marked
                            unhealthy.
                          format: int32
                          minimum: 1
                          type: integer
                      required:
                      - type
                      type: object
                      x-kubernetes-validations:
                      - message: If Health Checker type is HTTP, http field needs
                          to be set.
                        rule: 'self.type == ''HTTP'' ? has(self.http) : !has(self.http)'
                      - message: If Health Checker type is TCP, tcp field needs to
                          be set.
                        rule: 'self.type == ''TCP'' ? has(self.tcp) : !has(self.tcp)'
                    passive:
                      description: Passive passive check configuration
                      properties:
                        baseEjectionTime:
                          default: 30s
                          description: BaseEjectionTime defines the base duration
                            for which a host will be ejected on consecutive failures.
                          format: duration
                          type: string
                        consecutive5XxErrors:
                          default: 5
                          description: Consecutive5xxErrors sets the number of consecutive
                            5xx errors triggering ejection.
                          format: int32
                          type: integer
                        consecutiveGatewayErrors:
                          default: 0
                          description: ConsecutiveGatewayErrors sets the number of
                            consecutive gateway errors triggering ejection.
                          format: int32
                          type: integer
                        consecutiveLocalOriginFailures:
                          default: 5
                          description: |-
                            ConsecutiveLocalOriginFailures sets the number of consecutive local origin failures triggering ejection.
                            Parameter takes effect only when split_external_local_origin_errors is set to true.
                          format: int32
                          type: integer
                        interval:
                          default: 3s
                          description: Interval defines the time between passive health
                            checks.
                          format: duration
                          type: string
                        maxEjectionPercent:
                          default: 10
                          description: MaxEjectionPercent sets the maximum percentage
                            of hosts in a cluster that can be ejected.
                          format: int32
                          type: integer
                        splitExternalLocalOriginErrors:
                          default: false
                          description: SplitExternalLocalOriginErrors enables splitting
                            of errors between external and local origin.
                          type: boolean
                      type: object
                  type: object
                loadBalancer:
                  description: |-
                    LoadBalancer policy to apply when routing traffic from the gateway to
                    the backend endpoints
                  properties:
                    consistentHash:
                      description: |-
                        ConsistentHash defines the configuration when the load balancer type is
                        set to ConsistentHash
                      properties:
                        type:
                          description: ConsistentHashType defines the type of input
                            to hash on.
                          enum:
                          - SourceIP
                          type: string
                      required:
                      - type
                      type: object
                    slowStart:
                      description: |-
                        SlowStart defines the configuration related to the slow start load balancer policy.
                        If set, during slow start window, traffic sent to the newly added hosts will gradually increase.
                        Currently this is only supported for RoundRobin and LeastRequest load balancers
                      properties:
                        window:
                          description: |-
                            Window defines the duration of the warm up period for newly added host.
                            During slow start window, traffic sent to the newly added hosts will gradually increase.
                            Currently only supports linear growth of traffic. For additional details,
                            see https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/cluster/v3/cluster.proto#config-cluster-v3-cluster-slowstartconfig
                          type: string
                      required:
                      - window
                      type: object
                    type:
                      description: |-
                        Type decides the type of Load Balancer policy.
                        Valid LoadBalancerType values are
                        "ConsistentHash",
                        "LeastRequest",
                        "Random",
                        "RoundRobin",
                      enum:
                      - ConsistentHash
                      - LeastRequest
                      - Random
                      - RoundRobin
                      type: string
                  required:
                  - type
                  type: object
                  x-kubernetes-validations:
                  - message: If LoadBalancer type is consistentHash, consistentHash
                      field needs to be set.
                    rule: 'self.type == ''ConsistentHash'' ? has(self.consistentHash)
                      : !has(self.consistentHash)'
                  - message: Currently SlowStart is only supported for RoundRobin
                      and LeastRequest load balancers.
                    rule: 'self.type in [''Random'', ''ConsistentHash''] ? !has(self.slowStart)
                      : true '
                proxyProtocol:
                  description: ProxyProtocol enables the Proxy Protocol when communicating
                    with the backend.
                  properties:
                    version:
                      description: |-
                        Version of ProxyProtol
                        Valid ProxyProtocolVersion values are
                        "V1"
                        "V2"
                      enum:
                      - V1
                      - V2
                      type: string
                  required:
                  - version
                  type: object
                rateLimit:
                  description: |-
                    RateLimit allows the user to limit the number of incoming requests
                    to a predefined value based on attributes within the traffic flow.
                  properties:
                    global:
                      description: Global defines global rate limit configuration.
                      properties:
                        rules:
                          description: |-
                            Rules are a list of RateLimit selectors and limits. Each rule and its
                            associated limit is applied in a mutually exclusive way. If a request
                            matches multiple rules, each of their associated limits get applied, so a
                            single request might increase the rate limit counters for multiple rules
                            if selected. The rate limit service will return a logical OR of the individual
                            rate limit decisions of all matching rules. For example, if a request
                            matches two rules, one rate limited and one not, the final decision will be
                            to rate limit the request.
                          items:
                            description: |-
                              RateLimitRule defines the semantics for matching attributes
                              from the incoming requests, and setting limits for them.
                            properties:
                              clientSelectors:
                                description: |-
                                  ClientSelectors holds the list of select conditions to select
                                  specific clients using attributes from the traffic flow.
                                  All individual select conditions must hold True for this rule
                                  and its limit to be applied.


                                  If no client selectors are specified, the rule applies to all traffic of
                                  the targeted Route.


                                  If the policy targets a Gateway, the rule applies to each Route of the Gateway.
                                  Please note that each Route has its own rate limit counters. For example,
                                  if a Gateway has two Routes, and the policy has a rule with limit 10rps,
                                  each Route will have its own 10rps limit.
                                items:
                                  description: |-
                                    RateLimitSelectCondition specifies the attributes within the traffic flow that can
                                    be used to select a subset of clients to be ratelimited.
                                    All the individual conditions must hold True for the overall condition to hold True.
                                  properties:
                                    headers:
                                      description: |-
                                        Headers is a list of request headers to match. Multiple header values are ANDed together,
                                        meaning, a request MUST match all the specified headers.
                                        At least one of headers or sourceCIDR condition must be specified.
                                      items:
                                        description: HeaderMatch defines the match
                                          attributes within the HTTP Headers of the
                                          request.
                                        properties:
                                          name:
                                            description: Name of the HTTP header.
                                            maxLength: 256
                                            minLength: 1
                                            type: string
                                          type:
                                            default: Exact
                                            description: Type specifies how to match
                                              against the value of the header.
                                            enum:
                                            - Exact
                                            - RegularExpression
                                            - Distinct
                                            type: string
                                          value:
                                            description: |-
                                              Value within the HTTP header. Due to the
                                              case-insensitivity of header names, "foo" and "Foo" are considered equivalent.
                                              Do not set this field when Type="Distinct", implying matching on any/all unique
                                              values within the header.
                                            maxLength: 1024
                                            type: string
                                        required:
                                        - name
                                        type: object
                                      maxItems: 16
                                      type: array
                                      x-kubernetes-list-map-keys:
                                      - name
                                      x-kubernetes-list-type: map
                                    sourceCIDR:
                                      description: |-
                                        SourceCIDR is the client IP Address range to match on.
                                        At least one of headers or sourceCIDR condition must be specified.
                                      properties:
                                        type:
                                          default: Exact
                                          type: string
                                        value:
                                          description: |-
                                            Value is the IP CIDR that represents the range of Source IP Addresses of the client.
                                            These could also be the intermediate addresses through which the request has flown through and is part of the  `X-Forwarded-For` header.
                                            For example, `192.168.0.1/32`, `192.168.0.0/24`, `001:db8::/64`.
                                          maxLength: 256
                                          minLength: 1
                                          type: string
                                      required:
                                      - value
                                      type: object
                                  type: object
                                maxItems: 8
                                type: array
                              limit:
                                description: |-
                                  Limit holds the rate limit values.
                                  This limit is applied for traffic flows when the selectors
                                  compute to True, causing the request to be counted towards the limit.
                                  The limit is enforced and the request is ratelimited, i.e. a response with
                                  429 HTTP status code is sent back to the client when
                                  the selected requests have reached the limit.
                                properties:
                                  requests:
                                    type: integer
                                  unit:
                                    description: |-
                                      RateLimitUnit specifies the intervals for setting rate limits.
                                      Valid RateLimitUnit values are "Second", "Minute", "Hour", and "Day".
                                    enum:
                                    - Second
                                    - Minute
                                    - Hour
                                    - Day
                                    type: string
                                required:
                                - requests
                                - unit
                                type: object
                            required:
                            - limit
                            type: object
                          maxItems: 64
                          type: array
                      required:
                      - rules
                      type: object
                    local:
                      description: Local defines local rate limit configuration.
                      properties:
                        rules:
                          description: |-
                            Rules are a list of RateLimit selectors and limits. If a request matches
                            multiple rules, the strictest limit is applied. For example, if a request
                            matches two rules, one with 10rps and one with 20rps, the final limit will
                            be based on the rule with 10rps.
                          items:
                            description: |-
                              RateLimitRule defines the semantics for matching attributes
                              from the incoming requests, and setting limits for them.
                            properties:
                              clientSelectors:
                                description: |-
                                  ClientSelectors holds the list of select conditions to select
                                  specific clients using attributes from the traffic flow.
                                  All individual select conditions must hold True for this rule
                                  and its limit to be applied.


                                  If no client selectors are specified, the rule applies to all traffic of
                                  the targeted Route.


                                  If the policy targets a Gateway, the rule applies to each Route of the Gateway.
                                  Please note that each Route has its own rate limit counters. For example,
                                  if a Gateway has two Routes, and the policy has a rule with limit 10rps,
                                  each Route will have its own 10rps limit.
                                items:
                                  description: |-
                                    RateLimitSelectCondition specifies the attributes within the traffic flow that can
                                    be used to select a subset of clients to be ratelimited.
                                    All the individual conditions must hold True for the overall condition to hold True.
                                  properties:
                                    headers:
                                      description: |-
                                        Headers is a list of request headers to match. Multiple header values are ANDed together,
                                        meaning, a request MUST match all the specified headers.
                                        At least one of headers or sourceCIDR condition must be specified.
                                      items:
                                        description: HeaderMatch defines the match
                                          attributes within the HTTP Headers of the
                                          request.
                                        properties:
                                          name:
                                            description: Name of the HTTP header.
                                            maxLength: 256
                                            minLength: 1
                                            type: string
                                          type:
                                            default: Exact
                                            description: Type specifies how to match
                                              against the value of the header.
                                            enum:
                                            - Exact
                                            - RegularExpression
                                            - Distinct
                                            type: string
                                          value:
                                            description: |-
                                              Value within the HTTP header. Due to the
                                              case-insensitivity of header names, "foo" and "Foo" are considered equivalent.
                                              Do not set this field when Type="Distinct", implying matching on any/all unique
                                              values within the header.
                                            maxLength: 1024
                                            type: string
                                        required:
                                        - name
                                        type: object
                                      maxItems: 16
                                      type: array
                                      x-kubernetes-list-map-keys:
                                      - name
                                      x-kubernetes-list-type: map
                                    sourceCIDR:
                                      description: |-
                                        SourceCIDR is the client IP Address range to match on.
                                        At least one of headers or sourceCIDR condition must be specified.
                                      properties:
                                        type:
                                          default: Exact
                                          type: string
                                        value:
                                          description: |-
                                            Value is the IP CIDR that represents the range of Source IP Addresses of the client.
                                            These could also be the intermediate addresses through which the request has flown through and is part of the  `X-Forwarded-For` header.
                                            For example, `192.168.0.1/32`, `192.168.0.0/24`, `001:db8::/64`.
                                          maxLength: 256
                                          minLength: 1
                                          type: string
                                      required:
                                      - value
                                      type: object
                                  type: object
                                maxItems: 8
                                type: array
                              limit:
                                description: |-
                                  Limit holds the rate limit values.
                                  This limit is applied for traffic flows when the selectors
                                  compute to True, causing the request to be counted towards the limit.
                                  The limit is enforced and the request is ratelimited, i.e. a response with
                                  429 HTTP status code is sent back to the client when
                                  the selected requests have reached the limit.
                                properties:
                                  requests:
                                    type: integer
                                  unit:
                                    description: |-
                                      RateLimitUnit specifies the intervals for setting rate limits.
                                      Valid RateLimitUnit values are "Second", "Minute", "Hour", and "Day".
                                    enum:
                                    - Second
                                    - Minute
                                    - Hour
                                    - Day
                                    type: string
                                required:
                                - requests
                                - unit
                                type: object
                            required:
                            - limit
                            type: object
                          maxItems: 16
                          type: array
                      type: object
                    type:
                      description: |-
                        Type decides the scope for the RateLimits.
                        Valid RateLimitType values are "Global" or "Local".
                      enum:
                      - Global
                      - Local
                      type: string
                  required:
                  - type
                  type: object
                retry:
                  description: |-
                    Retry provides more advanced usage, allowing users to customize the number of retries, retry fallback strategy, and retry triggering conditions.
                    If not set, retry will be disabled.
                  properties:
                    numRetries:
                      default: 2
                      description: NumRetries is the number of retries to be attempted.
                        Defaults to 2.
                      format: int32
                      minimum: 0
                      type: integer
                    perRetry:
                      description: PerRetry is the retry policy to be applied per
                        retry attempt.
                      properties:
                        backOff:
                          description: |-
                            Backoff is the backoff policy to be applied per retry attempt. gateway uses a fully jittered exponential
                            back-off algorithm for retries. For additional details,
                            see https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/router_filter#config-http-filters-router-x-envoy-max-retries
                          properties:
                            baseInterval:
                              description: BaseInterval is the base interval between
                                retries.
                              format: duration
                              type: string
                            maxInterval:
                              description: |-
                                MaxInterval is the maximum interval between retries. This parameter is optional, but must be greater than or equal to the base_interval if set.
                                The default is 10 times the base_interval
                              format: duration
                              type: string
                          type: object
                        timeout:
                          description: Timeout is the timeout per retry attempt.
                          format: duration
                          type: string
                      type: object
                    retryOn:
                      description: |-
                        RetryOn specifies the retry trigger condition.


                        If not specified, the default is to retry on connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes(503).
                      properties:
                        httpStatusCodes:
                          description: |-
                            HttpStatusCodes specifies the http status codes to be retried.
                            The retriable-status-codes trigger must also be configured for these status codes to trigger a retry.
                          items:
                            description: HTTPStatus defines the http status code.
                            exclusiveMaximum: true
                            maximum: 600
                            minimum: 100
                            type: integer
                          type: array
                        triggers:
                          description: Triggers specifies the retry trigger condition(Http/Grpc).
                          items:
                            description: TriggerEnum specifies the conditions that
                              trigger retries.
                            enum:
                            - 5xx
                            - gateway-error
                            - reset
                            - connect-failure
                            - retriable-4xx
                            - refused-stream
                            - retriable-status-codes
                            - cancelled
                            - deadline-exceeded
                            - internal
                            - resource-exhausted
                            - unavailable
                            type: string
                          type: array
                      type: object
                  type: object
                targetRef:
                  description: |-
                    targetRef is the name of the resource this policy
                    is being attached to.
                    This Policy and the TargetRef MUST be in the same namespace
                    for this Policy to have effect and be applied to the Gateway.
                  properties:
                    group:
                      description: Group is the group of the target resource.
                      maxLength: 253
                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    kind:
                      description: Kind is kind of the target resource.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                      type: string
                    name:
                      description: Name is the name of the target resource.
                      maxLength: 253
                      minLength: 1
                      type: string
                    namespace:
                      description: |-
                        Namespace is the namespace of the referent. When unspecified, the local
                        namespace is inferred. Even when policy targets a resource in a different
                        namespace, it MUST only apply to traffic originating from the same
                        namespace as the policy.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                      type: string
                    sectionName:
                      description: |-
                        SectionName is the name of a section within the target resource. When
                        unspecified, this targetRef targets the entire resource. In the following
                        resources, SectionName is interpreted as the following:


                        * Gateway: Listener Name
                        * Service: Port Name


                        If a SectionName is specified, but does not exist on the targeted object,
                        the Policy must fail to attach, and the policy implementation should record
                        a `ResolvedRefs` or similar Condition in the Policy's status.
                      maxLength: 253
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                  required:
                  - group
                  - kind
                  - name
                  type: object
                  x-kubernetes-validations:
                  - message: this policy can only have a targetRef.group of gateway.networking.k8s.io
                    rule: self.group == 'gateway.networking.k8s.io'
                  - message: this policy can only have a targetRef.kind of Gateway/HTTPRoute/GRPCRoute/TCPRoute/UDPRoute/TLSRoute
                    rule: self.kind in ['Gateway', 'HTTPRoute', 'GRPCRoute', 'UDPRoute',
                      'TCPRoute', 'TLSRoute']
                  - message: this policy does not yet support the sectionName field
                    rule: '!has(self.sectionName)'
                tcpKeepalive:
                  description: |-
                    TcpKeepalive settings associated with the upstream client connection.
                    Disabled by default.
                  properties:
                    idleTime:
                      description: |-
                        The duration a connection needs to be idle before keep-alive
                        probes start being sent.
                        The duration format is
                        Defaults to `7200s`.
                      pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                      type: string
                    interval:
                      description: |-
                        The duration between keep-alive probes.
                        Defaults to `75s`.
                      pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                      type: string
                    probes:
                      description: |-
                        The total number of unacknowledged probes to send before deciding
                        the connection is dead.
                        Defaults to 9.
                      format: int32
                      type: integer
                  type: object
                timeout:
                  description: Timeout settings for the backend connections.
                  properties:
                    http:
                      description: Timeout settings for HTTP.
                      properties:
                        connectionIdleTimeout:
                          description: |-
                            The idle timeout for an HTTP connection. Idle time is defined as a period in which there are no active requests in the connection.
                            Default: 1 hour.
                          pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                          type: string
                        maxConnectionDuration:
                          description: |-
                            The maximum duration of an HTTP connection.
                            Default: unlimited.
                          pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                          type: string
                      type: object
                    tcp:
                      description: Timeout settings for TCP.
                      properties:
                        connectTimeout:
                          description: |-
                            The timeout for network connection establishment, including TCP and TLS handshakes.
                            Default: 10 seconds.
                          pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                          type: string
                      type: object
                  type: object
              required:
              - targetRef
              type: object
            status:
              description: status defines the current status of BackendTrafficPolicy.
              properties:
                ancestors:
                  description: |-
                    Ancestors is a list of ancestor resources (usually Gateways) that are
                    associated with the policy, and the status of the policy with respect to
                    each ancestor. When this policy attaches to a parent, the controller that
                    manages the parent and the ancestors MUST add an entry to this list when
                    the controller first sees the policy and SHOULD update the entry as
                    appropriate when the relevant ancestor is modified.


                    Note that choosing the relevant ancestor is left to the Policy designers;
                    an important part of Policy design is designing the right object level at
                    which to namespace this status.


                    Note also that implementations MUST ONLY populate ancestor status for
                    the Ancestor resources they are responsible for. Implementations MUST
                    use the ControllerName field to uniquely identify the entries in this list
                    that they are responsible for.


                    Note that to achieve this, the list of PolicyAncestorStatus structs
                    MUST be treated as a map with a composite key, made up of the AncestorRef
                    and ControllerName fields combined.


                    A maximum of 16 ancestors will be represented in this list. An empty list
                    means the Policy is not relevant for any ancestors.


                    If this slice is full, implementations MUST NOT add further entries.
                    Instead they MUST consider the policy unimplementable and signal that
                    on any related resources such as the ancestor that would be referenced
                    here. For example, if this list was full on BackendTLSPolicy, no
                    additional Gateways would be able to reference the Service targeted by
                    the BackendTLSPolicy.
                  items:
                    description: |-
                      PolicyAncestorStatus describes the status of a route with respect to an
                      associated Ancestor.


                      Ancestors refer to objects that are either the Target of a policy or above it
                      in terms of object hierarchy. For example, if a policy targets a Service, the
                      Policy's Ancestors are, in order, the Service, the HTTPRoute, the Gateway, and
                      the GatewayClass. Almost always, in this hierarchy, the Gateway will be the most
                      useful object to place Policy status on, so we recommend that implementations
                      SHOULD use Gateway as the PolicyAncestorStatus object unless the designers
                      have a _very_ good reason otherwise.


                      In the context of policy attachment, the Ancestor is used to distinguish which
                      resource results in a distinct application of this policy. For example, if a policy
                      targets a Service, it may have a distinct result per attached Gateway.


                      Policies targeting the same resource may have different effects depending on the
                      ancestors of those resources. For example, different Gateways targeting the same
                      Service may have different capabilities, especially if they have different underlying
                      implementations.


                      For example, in BackendTLSPolicy, the Policy attaches to a Service that is
                      used as a backend in a HTTPRoute that is itself attached to a Gateway.
                      In this case, the relevant object for status is the Gateway, and that is the
                      ancestor object referred to in this status.


                      Note that a parent is also an ancestor, so for objects where the parent is the
                      relevant object for status, this struct SHOULD still be used.


                      This struct is intended to be used in a slice that's effectively a map,
                      with a composite key made up of the AncestorRef and the ControllerName.
                    properties:
                      ancestorRef:
                        description: |-
                          AncestorRef corresponds with a ParentRef in the spec that this
                          PolicyAncestorStatus struct describes the status of.
                        properties:
                          group:
                            default: gateway.networking.k8s.io
                            description: |-
                              Group is the group of the referent.
                              When unspecified, "gateway.networking.k8s.io" is inferred.
                              To set the core API group (such as for a "Service" kind referent),
                              Group must be explicitly set to "" (empty string).


                              Support: Core
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Gateway
                            description: |-
                              Kind is kind of the referent.


                              There are two kinds of parent resources with "Core" support:


                              * Gateway (Gateway conformance profile)
                              * Service (Mesh conformance profile, experimental, ClusterIP Services only)


                              Support for other resources is Implementation-Specific.
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: |-
                              Name is the name of the referent.


                              Support: Core
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: |-
                              Namespace is the namespace of the referent. When unspecified, this refers
                              to the local namespace of the Route.


                              Note that there are specific rules for ParentRefs which cross namespace
                              boundaries. Cross-namespace references are only valid if they are explicitly
                              allowed by something in the namespace they are referring to. For example:
                              Gateway has the AllowedRoutes field, and ReferenceGrant provides a
                              generic way to enable any other kind of cross-namespace reference.


                              <gateway:experimental:description>
                              ParentRefs from a Route to a Service in the same namespace are "producer"
                              routes, which apply default routing rules to inbound connections from
                              any namespace to the Service.


                              ParentRefs from a Route to a Service in a different namespace are
                              "consumer" routes, and these routing rules are only applied to outbound
                              connections originating from the same namespace as the Route, for which
                              the intended destination of the connections are a Service targeted as a
                              ParentRef of the Route.
                              </gateway:experimental:description>


                              Support: Core
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                          port:
                            description: |-
                              Port is the network port this Route targets. It can be interpreted
                              differently based on the type of parent resource.


                              When the parent resource is a Gateway, this targets all listeners
                              listening on the specified port that also support this kind of Route(and
                              select this Route). It's not recommended to set `Port` unless the
                              networking behaviors specified in a Route must apply to a specific port
                              as opposed to a listener(s) whose port(s) may be changed. When both Port
                              and SectionName are specified, the name and port of the selected listener
                              must match both specified values.


                              <gateway:experimental:description>
                              When the parent resource is a Service, this targets a specific port in the
                              Service spec. When both Port (experimental) and SectionName are specified,
                              the name and port of the selected port must match both specified values.
                              </gateway:experimental:description>


                              Implementations MAY choose to support other parent resources.
                              Implementations supporting other types of parent resources MUST clearly
                              document how/if Port is interpreted.


                              For the purpose of status, an attachment is considered successful as
                              long as the parent resource accepts it partially. For example, Gateway
                              listeners can restrict which Routes can attach to them by Route kind,
                              namespace, or hostname. If 1 of 2 Gateway listeners accept attachment
                              from the referencing Route, the Route MUST be considered successfully
                              attached. If no Gateway listeners accept attachment from this Route,
                              the Route MUST be considered detached from the Gateway.


                              Support: Extended


                              <gateway:experimental>
                            format: int32
                            maximum: 65535
                            minimum: 1
                            type: integer
                          sectionName:
                            description: |-
                              SectionName is the name of a section within the target resource. In the
                              following resources, SectionName is interpreted as the following:


                              * Gateway: Listener Name. When both Port (experimental) and SectionName
                              are specified, the name and port of the selected listener must match
                              both specified values.
                              * Service: Port Name. When both Port (experimental) and SectionName
                              are specified, the name and port of the selected listener must match
                              both specified values. Note that attaching Routes to Services as Parents
                              is part of experimental Mesh support and is not supported for any other
                              purpose.


                              Implementations MAY choose to support attaching Routes to other resources.
                              If that is the case, they MUST clearly document how SectionName is
                              interpreted.


                              When unspecified (empty string), this will reference the entire resource.
                              For the purpose of status, an attachment is considered successful if at
                              least one section in the parent resource accepts it. For example, Gateway
                              listeners can restrict which Routes can attach to them by Route kind,
                              namespace, or hostname. If 1 of 2 Gateway listeners accept attachment from
                              the referencing Route, the Route MUST be considered successfully
                              attached. If no Gateway listeners accept attachment from this Route, the
                              Route MUST be considered detached from the Gateway.


                              Support: Core
                            maxLength: 253
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                        required:
                        - name
                        type: object
                      conditions:
                        description: Conditions describes the status of the Policy
                          with respect to the given Ancestor.
                        items:
                          description: "Condition contains details for one aspect
                            of the current state of this API Resource.\n---\nThis
                            struct is intended for direct use as an array at the field
                            path .status.conditions.  For example,\n\n\n\ttype FooStatus
                            struct{\n\t    // Represents the observations of a foo's
                            current state.\n\t    // Known .status.conditions.type
                            are: \"Available\", \"Progressing\", and \"Degraded\"\n\t
                            \   // +patchMergeKey=type\n\t    // +patchStrategy=merge\n\t
                            \   // +listType=map\n\t    // +listMapKey=type\n\t    Conditions
                            []metav1.Condition `json:\"conditions,omitempty\" patchStrategy:\"merge\"
                            patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`\n\n\n\t
                            \   // other fields\n\t}"
                          properties:
                            lastTransitionTime:
                              description: |-
                                lastTransitionTime is the last time the condition transitioned from one status to another.
                                This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                              format: date-time
                              type: string
                            message:
                              description: |-
                                message is a human readable message indicating details about the transition.
                                This may be an empty string.
                              maxLength: 32768
                              type: string
                            observedGeneration:
                              description: |-
                                observedGeneration represents the .metadata.generation that the condition was set based upon.
                                For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                                with respect to the current state of the instance.
                              format: int64
                              minimum: 0
                              type: integer
                            reason:
                              description: |-
                                reason contains a programmatic identifier indicating the reason for the condition's last transition.
                                Producers of specific condition types may define expected values and meanings for this field,
                                and whether the values are considered a guaranteed API.
                                The value should be a CamelCase string.
                                This field may not be empty.
                              maxLength: 1024
                              minLength: 1
                              pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                              type: string
                            status:
                              description: status of the condition, one of True, False,
                                Unknown.
                              enum:
                              - "True"
                              - "False"
                              - Unknown
                              type: string
                            type:
                              description: |-
                                type of condition in CamelCase or in foo.example.com/CamelCase.
                                ---
                                Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
                                useful (see .node.status.conditions), the ability to deconflict is important.
                                The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                              maxLength: 316
                              pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                              type: string
                          required:
                          - lastTransitionTime
                          - message
                          - reason
                          - status
                          - type
                          type: object
                        maxItems: 8
                        minItems: 1
                        type: array
                        x-kubernetes-list-map-keys:
                        - type
                        x-kubernetes-list-type: map
                      controllerName:
                        description: |-
                          ControllerName is a domain/path string that indicates the name of the
                          controller that wrote this status. This corresponds with the
                          controllerName field on GatewayClass.


                          Example: "example.net/gateway-controller".


                          The format of this field is DOMAIN "/" PATH, where DOMAIN and PATH are
                          valid Kubernetes names
                          (https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names).


                          Controllers MUST populate this field when writing status. Controllers should ensure that
                          entries to status populated with their ControllerName are cleaned up when they are no
                          longer necessary.
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                        type: string
                    required:
                    - ancestorRef
                    - controllerName
                    type: object
                  maxItems: 16
                  type: array
              required:
              - ancestors
              type: object
          required:
          - spec
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - envoy-gateway
      kind: BackendTrafficPolicy
      listKind: BackendTrafficPolicyList
      plural: backendtrafficpolicies
      shortNames:
      - btp
      singular: backendtrafficpolicy
    conditions:
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      controller-gen.kubebuilder.io/version: v0.11.1
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apiextensions.k8s.io/v1","kind":"CustomResourceDefinition","metadata":{"annotations":{"controller-gen.kubebuilder.io/version":"v0.11.1"},"creationTimestamp":null,"name":"bfdprofiles.metallb.io"},"spec":{"group":"metallb.io","names":{"kind":"BFDProfile","listKind":"BFDProfileList","plural":"bfdprofiles","singular":"bfdprofile"},"scope":"Namespaced","versions":[{"additionalPrinterColumns":[{"jsonPath":".spec.passiveMode","name":"Passive Mode","type":"boolean"},{"jsonPath":".spec.transmitInterval","name":"Transmit Interval","type":"integer"},{"jsonPath":".spec.receiveInterval","name":"Receive Interval","type":"integer"},{"jsonPath":".spec.detectMultiplier","name":"Multiplier","type":"integer"}],"name":"v1beta1","schema":{"openAPIV3Schema":{"description":"BFDProfile represents the settings of the bfd session that can be optionally associated with a BGP session.","properties":{"apiVersion":{"description":"APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources","type":"string"},"kind":{"description":"Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds","type":"string"},"metadata":{"type":"object"},"spec":{"description":"BFDProfileSpec defines the desired state of BFDProfile.","properties":{"detectMultiplier":{"description":"Configures the detection multiplier to determine packet loss. The remote transmission interval will be multiplied by this value to determine the connection loss detection timer.","format":"int32","maximum":255,"minimum":2,"type":"integer"},"echoInterval":{"description":"Configures the minimal echo receive transmission interval that this system is capable of handling in milliseconds. Defaults to 50ms","format":"int32","maximum":60000,"minimum":10,"type":"integer"},"echoMode":{"description":"Enables or disables the echo transmission mode. This mode is disabled by default, and not supported on multi hops setups.","type":"boolean"},"minimumTtl":{"description":"For multi hop sessions only: configure the minimum expected TTL for an incoming BFD control packet.","format":"int32","maximum":254,"minimum":1,"type":"integer"},"passiveMode":{"description":"Mark session as passive: a passive session will not attempt to start the connection and will wait for control packets from peer before it begins replying.","type":"boolean"},"receiveInterval":{"description":"The minimum interval that this system is capable of receiving control packets in milliseconds. Defaults to 300ms.","format":"int32","maximum":60000,"minimum":10,"type":"integer"},"transmitInterval":{"description":"The minimum transmission interval (less jitter) that this system wants to use to send BFD control packets in milliseconds. Defaults to 300ms","format":"int32","maximum":60000,"minimum":10,"type":"integer"}},"type":"object"},"status":{"description":"BFDProfileStatus defines the observed state of BFDProfile.","type":"object"}},"type":"object"}},"served":true,"storage":true,"subresources":{"status":{}}}]}}
    creationTimestamp: "2024-03-09T04:14:55Z"
    generation: 1
    name: bfdprofiles.metallb.io
    resourceVersion: "322"
    uid: 4a40b6d2-2766-45a9-a799-9cf0315868e9
  spec:
    conversion:
      strategy: None
    group: metallb.io
    names:
      kind: BFDProfile
      listKind: BFDProfileList
      plural: bfdprofiles
      singular: bfdprofile
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - jsonPath: .spec.passiveMode
        name: Passive Mode
        type: boolean
      - jsonPath: .spec.transmitInterval
        name: Transmit Interval
        type: integer
      - jsonPath: .spec.receiveInterval
        name: Receive Interval
        type: integer
      - jsonPath: .spec.detectMultiplier
        name: Multiplier
        type: integer
      name: v1beta1
      schema:
        openAPIV3Schema:
          description: BFDProfile represents the settings of the bfd session that
            can be optionally associated with a BGP session.
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: BFDProfileSpec defines the desired state of BFDProfile.
              properties:
                detectMultiplier:
                  description: Configures the detection multiplier to determine packet
                    loss. The remote transmission interval will be multiplied by this
                    value to determine the connection loss detection timer.
                  format: int32
                  maximum: 255
                  minimum: 2
                  type: integer
                echoInterval:
                  description: Configures the minimal echo receive transmission interval
                    that this system is capable of handling in milliseconds. Defaults
                    to 50ms
                  format: int32
                  maximum: 60000
                  minimum: 10
                  type: integer
                echoMode:
                  description: Enables or disables the echo transmission mode. This
                    mode is disabled by default, and not supported on multi hops setups.
                  type: boolean
                minimumTtl:
                  description: 'For multi hop sessions only: configure the minimum
                    expected TTL for an incoming BFD control packet.'
                  format: int32
                  maximum: 254
                  minimum: 1
                  type: integer
                passiveMode:
                  description: 'Mark session as passive: a passive session will not
                    attempt to start the connection and will wait for control packets
                    from peer before it begins replying.'
                  type: boolean
                receiveInterval:
                  description: The minimum interval that this system is capable of
                    receiving control packets in milliseconds. Defaults to 300ms.
                  format: int32
                  maximum: 60000
                  minimum: 10
                  type: integer
                transmitInterval:
                  description: The minimum transmission interval (less jitter) that
                    this system wants to use to send BFD control packets in milliseconds.
                    Defaults to 300ms
                  format: int32
                  maximum: 60000
                  minimum: 10
                  type: integer
              type: object
            status:
              description: BFDProfileStatus defines the observed state of BFDProfile.
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      kind: BFDProfile
      listKind: BFDProfileList
      plural: bfdprofiles
      singular: bfdprofile
    conditions:
    - lastTransitionTime: "2024-03-09T04:14:55Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-03-09T04:14:55Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1beta1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      controller-gen.kubebuilder.io/version: v0.11.1
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apiextensions.k8s.io/v1","kind":"CustomResourceDefinition","metadata":{"annotations":{"controller-gen.kubebuilder.io/version":"v0.11.1"},"creationTimestamp":null,"name":"bgpadvertisements.metallb.io"},"spec":{"group":"metallb.io","names":{"kind":"BGPAdvertisement","listKind":"BGPAdvertisementList","plural":"bgpadvertisements","singular":"bgpadvertisement"},"scope":"Namespaced","versions":[{"additionalPrinterColumns":[{"jsonPath":".spec.ipAddressPools","name":"IPAddressPools","type":"string"},{"jsonPath":".spec.ipAddressPoolSelectors","name":"IPAddressPool Selectors","type":"string"},{"jsonPath":".spec.peers","name":"Peers","type":"string"},{"jsonPath":".spec.nodeSelectors","name":"Node Selectors","priority":10,"type":"string"}],"name":"v1beta1","schema":{"openAPIV3Schema":{"description":"BGPAdvertisement allows to advertise the IPs coming from the selected IPAddressPools via BGP, setting the parameters of the BGP Advertisement.","properties":{"apiVersion":{"description":"APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources","type":"string"},"kind":{"description":"Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds","type":"string"},"metadata":{"type":"object"},"spec":{"description":"BGPAdvertisementSpec defines the desired state of BGPAdvertisement.","properties":{"aggregationLength":{"default":32,"description":"The aggregation-length advertisement option lets you roll up the /32s into a larger prefix. Defaults to 32. Works for IPv4 addresses.","format":"int32","minimum":1,"type":"integer"},"aggregationLengthV6":{"default":128,"description":"The aggregation-length advertisement option lets you roll up the /128s into a larger prefix. Defaults to 128. Works for IPv6 addresses.","format":"int32","type":"integer"},"communities":{"description":"The BGP communities to be associated with the announcement. Each item can be a standard community of the form 1234:1234, a large community of the form large:1234:1234:1234 or the name of an alias defined in the Community CRD.","items":{"type":"string"},"type":"array"},"ipAddressPoolSelectors":{"description":"A selector for the IPAddressPools which would get advertised via this advertisement. If no IPAddressPool is selected by this or by the list, the advertisement is applied to all the IPAddressPools.","items":{"description":"A label selector is a label query over a set of resources. The result of matchLabels and matchExpressions are ANDed. An empty label selector matches all objects. A null label selector matches no objects.","properties":{"matchExpressions":{"description":"matchExpressions is a list of label selector requirements. The requirements are ANDed.","items":{"description":"A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.","properties":{"key":{"description":"key is the label key that the selector applies to.","type":"string"},"operator":{"description":"operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.","type":"string"},"values":{"description":"values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.","items":{"type":"string"},"type":"array"}},"required":["key","operator"],"type":"object"},"type":"array"},"matchLabels":{"additionalProperties":{"type":"string"},"description":"matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is \"key\", the operator is \"In\", and the values array contains only \"value\". The requirements are ANDed.","type":"object"}},"type":"object","x-kubernetes-map-type":"atomic"},"type":"array"},"ipAddressPools":{"description":"The list of IPAddressPools to advertise via this advertisement, selected by name.","items":{"type":"string"},"type":"array"},"localPref":{"description":"The BGP LOCAL_PREF attribute which is used by BGP best path algorithm, Path with higher localpref is preferred over one with lower localpref.","format":"int32","type":"integer"},"nodeSelectors":{"description":"NodeSelectors allows to limit the nodes to announce as next hops for the LoadBalancer IP. When empty, all the nodes having  are announced as next hops.","items":{"description":"A label selector is a label query over a set of resources. The result of matchLabels and matchExpressions are ANDed. An empty label selector matches all objects. A null label selector matches no objects.","properties":{"matchExpressions":{"description":"matchExpressions is a list of label selector requirements. The requirements are ANDed.","items":{"description":"A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.","properties":{"key":{"description":"key is the label key that the selector applies to.","type":"string"},"operator":{"description":"operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.","type":"string"},"values":{"description":"values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.","items":{"type":"string"},"type":"array"}},"required":["key","operator"],"type":"object"},"type":"array"},"matchLabels":{"additionalProperties":{"type":"string"},"description":"matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is \"key\", the operator is \"In\", and the values array contains only \"value\". The requirements are ANDed.","type":"object"}},"type":"object","x-kubernetes-map-type":"atomic"},"type":"array"},"peers":{"description":"Peers limits the bgppeer to advertise the ips of the selected pools to. When empty, the loadbalancer IP is announced to all the BGPPeers configured.","items":{"type":"string"},"type":"array"}},"type":"object"},"status":{"description":"BGPAdvertisementStatus defines the observed state of BGPAdvertisement.","type":"object"}},"type":"object"}},"served":true,"storage":true,"subresources":{"status":{}}}]}}
    creationTimestamp: "2024-03-09T04:14:55Z"
    generation: 1
    name: bgpadvertisements.metallb.io
    resourceVersion: "325"
    uid: da57de61-0833-47a3-9181-d2af0b8ce2de
  spec:
    conversion:
      strategy: None
    group: metallb.io
    names:
      kind: BGPAdvertisement
      listKind: BGPAdvertisementList
      plural: bgpadvertisements
      singular: bgpadvertisement
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - jsonPath: .spec.ipAddressPools
        name: IPAddressPools
        type: string
      - jsonPath: .spec.ipAddressPoolSelectors
        name: IPAddressPool Selectors
        type: string
      - jsonPath: .spec.peers
        name: Peers
        type: string
      - jsonPath: .spec.nodeSelectors
        name: Node Selectors
        priority: 10
        type: string
      name: v1beta1
      schema:
        openAPIV3Schema:
          description: BGPAdvertisement allows to advertise the IPs coming from the
            selected IPAddressPools via BGP, setting the parameters of the BGP Advertisement.
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: BGPAdvertisementSpec defines the desired state of BGPAdvertisement.
              properties:
                aggregationLength:
                  default: 32
                  description: The aggregation-length advertisement option lets you
                    roll up the /32s into a larger prefix. Defaults to 32. Works
                    for IPv4 addresses.
                  format: int32
                  minimum: 1
                  type: integer
                aggregationLengthV6:
                  default: 128
                  description: The aggregation-length advertisement option lets you
                    roll up the /128s into a larger prefix. Defaults to 128. Works
                    for IPv6 addresses.
                  format: int32
                  type: integer
                communities:
                  description: The BGP communities to be associated with the announcement.
                    Each item can be a standard community of the form 1234:1234, a
                    large community of the form large:1234:1234:1234 or the name of
                    an alias defined in the Community CRD.
                  items:
                    type: string
                  type: array
                ipAddressPoolSelectors:
                  description: A selector for the IPAddressPools which would get advertised
                    via this advertisement. If no IPAddressPool is selected by this
                    or by the list, the advertisement is applied to all the IPAddressPools.
                  items:
                    description: A label selector is a label query over a set of resources.
                      The result of matchLabels and matchExpressions are ANDed. An
                      empty label selector matches all objects. A null label selector
                      matches no objects.
                    properties:
                      matchExpressions:
                        description: matchExpressions is a list of label selector
                          requirements. The requirements are ANDed.
                        items:
                          description: A label selector requirement is a selector
                            that contains values, a key, and an operator that relates
                            the key and values.
                          properties:
                            key:
                              description: key is the label key that the selector
                                applies to.
                              type: string
                            operator:
                              description: operator represents a key's relationship
                                to a set of values. Valid operators are In, NotIn,
                                Exists and DoesNotExist.
                              type: string
                            values:
                              description: values is an array of string values. If
                                the operator is In or NotIn, the values array must
                                be non-empty. If the operator is Exists or DoesNotExist,
                                the values array must be empty. This array is replaced
                                during a strategic merge patch.
                              items:
                                type: string
                              type: array
                          required:
                          - key
                          - operator
                          type: object
                        type: array
                      matchLabels:
                        additionalProperties:
                          type: string
                        description: matchLabels is a map of {key,value} pairs. A
                          single {key,value} in the matchLabels map is equivalent
                          to an element of matchExpressions, whose key field is "key",
                          the operator is "In", and the values array contains only
                          "value". The requirements are ANDed.
                        type: object
                    type: object
                    x-kubernetes-map-type: atomic
                  type: array
                ipAddressPools:
                  description: The list of IPAddressPools to advertise via this advertisement,
                    selected by name.
                  items:
                    type: string
                  type: array
                localPref:
                  description: The BGP LOCAL_PREF attribute which is used by BGP best
                    path algorithm, Path with higher localpref is preferred over one
                    with lower localpref.
                  format: int32
                  type: integer
                nodeSelectors:
                  description: NodeSelectors allows to limit the nodes to announce
                    as next hops for the LoadBalancer IP. When empty, all the nodes
                    having  are announced as next hops.
                  items:
                    description: A label selector is a label query over a set of resources.
                      The result of matchLabels and matchExpressions are ANDed. An
                      empty label selector matches all objects. A null label selector
                      matches no objects.
                    properties:
                      matchExpressions:
                        description: matchExpressions is a list of label selector
                          requirements. The requirements are ANDed.
                        items:
                          description: A label selector requirement is a selector
                            that contains values, a key, and an operator that relates
                            the key and values.
                          properties:
                            key:
                              description: key is the label key that the selector
                                applies to.
                              type: string
                            operator:
                              description: operator represents a key's relationship
                                to a set of values. Valid operators are In, NotIn,
                                Exists and DoesNotExist.
                              type: string
                            values:
                              description: values is an array of string values. If
                                the operator is In or NotIn, the values array must
                                be non-empty. If the operator is Exists or DoesNotExist,
                                the values array must be empty. This array is replaced
                                during a strategic merge patch.
                              items:
                                type: string
                              type: array
                          required:
                          - key
                          - operator
                          type: object
                        type: array
                      matchLabels:
                        additionalProperties:
                          type: string
                        description: matchLabels is a map of {key,value} pairs. A
                          single {key,value} in the matchLabels map is equivalent
                          to an element of matchExpressions, whose key field is "key",
                          the operator is "In", and the values array contains only
                          "value". The requirements are ANDed.
                        type: object
                    type: object
                    x-kubernetes-map-type: atomic
                  type: array
                peers:
                  description: Peers limits the bgppeer to advertise the ips of the
                    selected pools to. When empty, the loadbalancer IP is announced
                    to all the BGPPeers configured.
                  items:
                    type: string
                  type: array
              type: object
            status:
              description: BGPAdvertisementStatus defines the observed state of BGPAdvertisement.
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      kind: BGPAdvertisement
      listKind: BGPAdvertisementList
      plural: bgpadvertisements
      singular: bgpadvertisement
    conditions:
    - lastTransitionTime: "2024-03-09T04:14:55Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-03-09T04:14:55Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1beta1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      controller-gen.kubebuilder.io/version: v0.11.1
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apiextensions.k8s.io/v1","kind":"CustomResourceDefinition","metadata":{"annotations":{"controller-gen.kubebuilder.io/version":"v0.11.1"},"creationTimestamp":null,"name":"bgppeers.metallb.io"},"spec":{"conversion":{"strategy":"Webhook","webhook":{"clientConfig":{"caBundle":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlGWlRDQ0EwMmdBd0lCQWdJVU5GRW1XcTM3MVpKdGkrMmlSQzk1WmpBV1MxZ3dEUVlKS29aSWh2Y05BUUVMDQpCUUF3UWpFTE1Ba0dBMVVFQmhNQ1dGZ3hGVEFUQmdOVkJBY01ERVJsWm1GMWJIUWdRMmwwZVRFY01Cb0dBMVVFDQpDZ3dUUkdWbVlYVnNkQ0JEYjIxd1lXNTVJRXgwWkRBZUZ3MHlNakEzTVRrd09UTXlNek5hRncweU1qQTRNVGd3DQpPVE15TXpOYU1FSXhDekFKQmdOVkJBWVRBbGhZTVJVd0V3WURWUVFIREF4RVpXWmhkV3gwSUVOcGRIa3hIREFhDQpCZ05WQkFvTUUwUmxabUYxYkhRZ1EyOXRjR0Z1ZVNCTWRHUXdnZ0lpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElDDQpEd0F3Z2dJS0FvSUNBUUNxVFpxMWZRcC9vYkdlenhES0o3OVB3Ny94azJwellualNzMlkzb1ZYSm5sRmM4YjVlDQpma2ZZQnY2bndscW1keW5PL2phWFBaQmRQSS82aFdOUDBkdVhadEtWU0NCUUpyZzEyOGNXb3F0MGNTN3pLb1VpDQpvcU1tQ0QvRXVBeFFNZjhRZDF2c1gvVllkZ0poVTZBRXJLZEpIaXpFOUJtUkNkTDBGMW1OVW55Rk82UnRtWFZUDQpidkxsTDVYeTc2R0FaQVBLOFB4aVlDa0NtbDdxN0VnTWNiOXlLWldCYmlxQ3VkTXE5TGJLNmdKNzF6YkZnSXV4DQo1L1pXK2JraTB2RlplWk9ZODUxb1psckFUNzJvMDI4NHNTWW9uN0pHZVZkY3NoUnh5R1VpSFpSTzdkaXZVTDVTDQpmM2JmSDFYbWY1ZDQzT0NWTWRuUUV2NWVaOG8zeWVLa3ZrbkZQUGVJMU9BbjdGbDlFRVNNR2dhOGFaSG1URSttDQpsLzlMSmdDYjBnQmtPT0M0WnV4bWh2aERKV1EzWnJCS3pMQlNUZXN0NWlLNVlwcXRWVVk2THRyRW9FelVTK1lsDQpwWndXY2VQWHlHeHM5ZURsR3lNVmQraW15Y3NTU1UvVno2Mmx6MnZCS21NTXBkYldDQWhud0RsRTVqU2dyMjRRDQp0eGNXLys2N3d5KzhuQlI3UXdqVTFITndVRjBzeERWdEwrZ1NHVERnSEVZSlhZelYvT05zMy94TkpoVFNPSkxNDQpoeXNVdyttaGdackdhbUdXcHVIVU1DUitvTWJzMTc1UkcrQjJnUFFHVytPTjJnUTRyOXN2b0ZBNHBBQm8xd1dLDQpRYjRhY3pmeVVscElBOVFoSmFsZEY3S3dPSHVlV3gwRUNrNXg0T2tvVDBvWVp0dzFiR0JjRGtaSmF3SURBUUFCDQpvMU13VVRBZEJnTlZIUTRFRmdRVW90UlNIUm9IWTEyRFZ4R0NCdEhpb1g2ZmVFQXdId1lEVlIwakJCZ3dGb0FVDQpvdFJTSFJvSFkxMkRWeEdDQnRIaW9YNmZlRUF3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFOQmdrcWhraUc5dzBCDQpBUXNGQUFPQ0FnRUFSbkpsWWRjMTFHd0VxWnh6RDF2R3BDR2pDN2VWTlQ3aVY1d3IybXlybHdPYi9aUWFEa0xYDQpvVStaOVVXT1VlSXJTdzUydDdmQUpvVVAwSm5iYkMveVIrU1lqUGhvUXNiVHduOTc2ZldBWTduM3FMOXhCd1Y0DQphek41OXNjeUp0dlhMeUtOL2N5ak1ReDRLajBIMFg0bWJ6bzVZNUtzWWtYVU0vOEFPdWZMcEd0S1NGVGgrSEFDDQpab1Q5YnZHS25adnNHd0tYZFF0Wnh0akhaUjVqK3U3ZGtQOTJBT051RFNabS8rWVV4b2tBK09JbzdSR3BwSHNXDQo1ZTdNY0FTVXRtb1FORXd6dVFoVkJaRWQ1OGtKYjUrV0VWbGNzanlXNnRTbzErZ25tTWNqR1BsMWgxR2hVbjV4DQpFY0lWRnBIWXM5YWo1NmpBSjk1MVQvZjhMaWxmTlVnanBLQ0c1bnl0SUt3emxhOHNtdGlPdm1UNEpYbXBwSkI2DQo4bmdHRVluVjUrUTYwWFJ2OEhSSGp1VG9CRHVhaERrVDA2R1JGODU1d09FR2V4bkZpMXZYWUxLVllWb1V2MXRKDQo4dVdUR1pwNllDSVJldlBqbzg5ZytWTlJSaVFYUThJd0dybXE5c0RoVTlqTjA0SjdVL1RvRDFpNHE3VnlsRUc5DQorV1VGNkNLaEdBeTJIaEhwVncyTGFoOS9lUzdZMUZ1YURrWmhPZG1laG1BOCtqdHNZamJadnR5Mm1SWlF0UUZzDQpUU1VUUjREbUR2bVVPRVRmeStpRHdzK2RkWXVNTnJGeVVYV2dkMnpBQU4ydVl1UHFGY2pRcFNPODFzVTJTU3R3DQoxVzAyeUtYOGJEYmZFdjBzbUh3UzliQnFlSGo5NEM1Mjg0YXpsdTBmaUdpTm1OUEM4ckJLRmhBPQ0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ==","service":{"name":"webhook-service","namespace":"metallb-system","path":"/convert"}},"conversionReviewVersions":["v1beta1","v1beta2"]}},"group":"metallb.io","names":{"kind":"BGPPeer","listKind":"BGPPeerList","plural":"bgppeers","singular":"bgppeer"},"scope":"Namespaced","versions":[{"additionalPrinterColumns":[{"jsonPath":".spec.peerAddress","name":"Address","type":"string"},{"jsonPath":".spec.peerASN","name":"ASN","type":"string"},{"jsonPath":".spec.bfdProfile","name":"BFD Profile","type":"string"},{"jsonPath":".spec.ebgpMultiHop","name":"Multi Hops","type":"string"}],"name":"v1beta1","schema":{"openAPIV3Schema":{"description":"BGPPeer is the Schema for the peers API.","properties":{"apiVersion":{"description":"APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources","type":"string"},"kind":{"description":"Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds","type":"string"},"metadata":{"type":"object"},"spec":{"description":"BGPPeerSpec defines the desired state of Peer.","properties":{"bfdProfile":{"type":"string"},"ebgpMultiHop":{"description":"EBGP peer is multi-hops away","type":"boolean"},"holdTime":{"description":"Requested BGP hold time, per RFC4271.","type":"string"},"keepaliveTime":{"description":"Requested BGP keepalive time, per RFC4271.","type":"string"},"myASN":{"description":"AS number to use for the local end of the session.","format":"int32","maximum":4294967295,"minimum":0,"type":"integer"},"nodeSelectors":{"description":"Only connect to this peer on nodes that match one of these selectors.","items":{"properties":{"matchExpressions":{"items":{"properties":{"key":{"type":"string"},"operator":{"type":"string"},"values":{"items":{"type":"string"},"minItems":1,"type":"array"}},"required":["key","operator","values"],"type":"object"},"type":"array"},"matchLabels":{"additionalProperties":{"type":"string"},"type":"object"}},"type":"object"},"type":"array"},"password":{"description":"Authentication password for routers enforcing TCP MD5 authenticated sessions","type":"string"},"peerASN":{"description":"AS number to expect from the remote end of the session.","format":"int32","maximum":4294967295,"minimum":0,"type":"integer"},"peerAddress":{"description":"Address to dial when establishing the session.","type":"string"},"peerPort":{"description":"Port to dial when establishing the session.","maximum":16384,"minimum":0,"type":"integer"},"routerID":{"description":"BGP router ID to advertise to the peer","type":"string"},"sourceAddress":{"description":"Source address to use when establishing the session.","type":"string"}},"required":["myASN","peerASN","peerAddress"],"type":"object"},"status":{"description":"BGPPeerStatus defines the observed state of Peer.","type":"object"}},"type":"object"}},"served":true,"storage":false,"subresources":{"status":{}}},{"additionalPrinterColumns":[{"jsonPath":".spec.peerAddress","name":"Address","type":"string"},{"jsonPath":".spec.peerASN","name":"ASN","type":"string"},{"jsonPath":".spec.bfdProfile","name":"BFD Profile","type":"string"},{"jsonPath":".spec.ebgpMultiHop","name":"Multi Hops","type":"string"}],"name":"v1beta2","schema":{"openAPIV3Schema":{"description":"BGPPeer is the Schema for the peers API.","properties":{"apiVersion":{"description":"APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources","type":"string"},"kind":{"description":"Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds","type":"string"},"metadata":{"type":"object"},"spec":{"description":"BGPPeerSpec defines the desired state of Peer.","properties":{"bfdProfile":{"description":"The name of the BFD Profile to be used for the BFD session associated to the BGP session. If not set, the BFD session won't be set up.","type":"string"},"ebgpMultiHop":{"description":"To set if the BGPPeer is multi-hops away. Needed for FRR mode only.","type":"boolean"},"holdTime":{"description":"Requested BGP hold time, per RFC4271.","type":"string"},"keepaliveTime":{"description":"Requested BGP keepalive time, per RFC4271.","type":"string"},"myASN":{"description":"AS number to use for the local end of the session.","format":"int32","maximum":4294967295,"minimum":0,"type":"integer"},"nodeSelectors":{"description":"Only connect to this peer on nodes that match one of these selectors.","items":{"description":"A label selector is a label query over a set of resources. The result of matchLabels and matchExpressions are ANDed. An empty label selector matches all objects. A null label selector matches no objects.","properties":{"matchExpressions":{"description":"matchExpressions is a list of label selector requirements. The requirements are ANDed.","items":{"description":"A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.","properties":{"key":{"description":"key is the label key that the selector applies to.","type":"string"},"operator":{"description":"operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.","type":"string"},"values":{"description":"values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.","items":{"type":"string"},"type":"array"}},"required":["key","operator"],"type":"object"},"type":"array"},"matchLabels":{"additionalProperties":{"type":"string"},"description":"matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is \"key\", the operator is \"In\", and the values array contains only \"value\". The requirements are ANDed.","type":"object"}},"type":"object","x-kubernetes-map-type":"atomic"},"type":"array"},"password":{"description":"Authentication password for routers enforcing TCP MD5 authenticated sessions","type":"string"},"passwordSecret":{"description":"passwordSecret is name of the authentication secret for BGP Peer. the secret must be of type \"kubernetes.io/basic-auth\", and created in the same namespace as the MetalLB deployment. The password is stored in the secret as the key \"password\".","properties":{"name":{"description":"name is unique within a namespace to reference a secret resource.","type":"string"},"namespace":{"description":"namespace defines the space within which the secret name must be unique.","type":"string"}},"type":"object","x-kubernetes-map-type":"atomic"},"peerASN":{"description":"AS number to expect from the remote end of the session.","format":"int32","maximum":4294967295,"minimum":0,"type":"integer"},"peerAddress":{"description":"Address to dial when establishing the session.","type":"string"},"peerPort":{"default":179,"description":"Port to dial when establishing the session.","maximum":16384,"minimum":0,"type":"integer"},"routerID":{"description":"BGP router ID to advertise to the peer","type":"string"},"sourceAddress":{"description":"Source address to use when establishing the session.","type":"string"},"vrf":{"description":"To set if we want to peer with the BGPPeer using an interface belonging to a host vrf","type":"string"}},"required":["myASN","peerASN","peerAddress"],"type":"object"},"status":{"description":"BGPPeerStatus defines the observed state of Peer.","type":"object"}},"type":"object"}},"served":true,"storage":true,"subresources":{"status":{}}}]}}
    creationTimestamp: "2024-03-09T04:14:55Z"
    generation: 2
    name: bgppeers.metallb.io
    resourceVersion: "721"
    uid: bd80af3e-09a5-4843-88f2-515698ea49a9
  spec:
    conversion:
      strategy: Webhook
      webhook:
        clientConfig:
          caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURFRENDQWZpZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFoTVJBd0RnWURWUVFLRXdkdFpYUmgKYkd4aU1RMHdDd1lEVlFRREV3UmpaWEowTUI0WERUSTBNRE13T1RBek1UY3hObG9YRFRNME1ETXdOekEwTVRjeApObG93SVRFUU1BNEdBMVVFQ2hNSGJXVjBZV3hzWWpFTk1Bc0dBMVVFQXhNRVkyVnlkRENDQVNJd0RRWUpLb1pJCmh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTnRzbzZwa1dacERMNHYyVFN4RU44MTZFb0paRDZwaHNGUDEKQ08wYnhrbWRQQzFYTjdObURjYWcrVWhReWZZK3ZxVEtYUmxSMjJ1YU9CWFJzMitOZFhrbVllekI4VGVKa2VIZQpTN3NFbWh4bUtGQ3ZyQXVRK1JiVmU3L093K0JmYW45QWxNUEFLQ041a2o4N3JPUGZHV1FzSDllL00vVytBN1d6CkF0eFFaaElhcjhzU04zSGFSWkJUMEhLT29XUTRkRlluMlZCNXNzVlNtT2tPNUJiL0xYRVZ1REx4TXErM0ZuSWYKN095ZnRiVnJ5eVl2Y3VSMGwwR3ArRHlpcDRnamdLNlpoZmlNY1NYSk1VL3UzZm50K1hrcGMwQWRSRzlaWHlERwpIZC8yL2o4YXZucU5zYS90Q1NZUDIycXVKMzgyKzFYb3VWeTR1TGNtNjZLUkZjUmZTdjBDQXdFQUFhTlRNRkV3CkRnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkg2OEEzVmoKVUVDMTEyaG5raG9kTXdRMS94RkNNQThHQTFVZEVRUUlNQWFDQkdObGNuUXdEUVlKS29aSWh2Y05BUUVMQlFBRApnZ0VCQUw1L2tJUU1hTGk2NnhTSHErTUtEQnJtUUw0YXRCd0o0ZEQzNEJDSVVEM21pU1d6RFZ6QTRFdzJaTmFyCkNlamFrVDk3Qjh0Y3hTeitKQzljcVlBS1JYZU42ejdzMVNZdElpQTUvNEFCNGRZdU96QytlRjFMOVhaeWpvd2YKVGtBb0d4LzQ4cE0rVThJSlN6NVRKelJqWG5ZOHBQYllIdVBDVDdRSVZKcVh6djJXeXNQUjl2OUQxZmhHbXBNSApKZ1BJa3o2Vzk3b1JZNFVZOTRJVlovUTJCUEtQS3M3T1BQN3ZhMnczU0RvWkk0WUJ0b2NlZkRSWmgwTFVMREVyCmNuQng1K01QaFo5ZXdHeFVDNHFHdzBCZlYyRFRFZ2w3eGtQd1Jndk5PQWt6SzQ4NXRGeWxWWUZUdktFSDVPcm4KUURoTlpGT0hOdm9TSjhLWVpJV1VKdGMyYUlBPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
          service:
            name: webhook-service
            namespace: metallb-system
            path: /convert
            port: 443
        conversionReviewVersions:
        - v1beta1
        - v1beta2
    group: metallb.io
    names:
      kind: BGPPeer
      listKind: BGPPeerList
      plural: bgppeers
      singular: bgppeer
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - jsonPath: .spec.peerAddress
        name: Address
        type: string
      - jsonPath: .spec.peerASN
        name: ASN
        type: string
      - jsonPath: .spec.bfdProfile
        name: BFD Profile
        type: string
      - jsonPath: .spec.ebgpMultiHop
        name: Multi Hops
        type: string
      name: v1beta1
      schema:
        openAPIV3Schema:
          description: BGPPeer is the Schema for the peers API.
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: BGPPeerSpec defines the desired state of Peer.
              properties:
                bfdProfile:
                  type: string
                ebgpMultiHop:
                  description: EBGP peer is multi-hops away
                  type: boolean
                holdTime:
                  description: Requested BGP hold time, per RFC4271.
                  type: string
                keepaliveTime:
                  description: Requested BGP keepalive time, per RFC4271.
                  type: string
                myASN:
                  description: AS number to use for the local end of the session.
                  format: int32
                  maximum: 4294967295
                  minimum: 0
                  type: integer
                nodeSelectors:
                  description: Only connect to this peer on nodes that match one of
                    these selectors.
                  items:
                    properties:
                      matchExpressions:
                        items:
                          properties:
                            key:
                              type: string
                            operator:
                              type: string
                            values:
                              items:
                                type: string
                              minItems: 1
                              type: array
                          required:
                          - key
                          - operator
                          - values
                          type: object
                        type: array
                      matchLabels:
                        additionalProperties:
                          type: string
                        type: object
                    type: object
                  type: array
                password:
                  description: Authentication password for routers enforcing TCP MD5
                    authenticated sessions
                  type: string
                peerASN:
                  description: AS number to expect from the remote end of the session.
                  format: int32
                  maximum: 4294967295
                  minimum: 0
                  type: integer
                peerAddress:
                  description: Address to dial when establishing the session.
                  type: string
                peerPort:
                  description: Port to dial when establishing the session.
                  maximum: 16384
                  minimum: 0
                  type: integer
                routerID:
                  description: BGP router ID to advertise to the peer
                  type: string
                sourceAddress:
                  description: Source address to use when establishing the session.
                  type: string
              required:
              - myASN
              - peerASN
              - peerAddress
              type: object
            status:
              description: BGPPeerStatus defines the observed state of Peer.
              type: object
          type: object
      served: true
      storage: false
      subresources:
        status: {}
    - additionalPrinterColumns:
      - jsonPath: .spec.peerAddress
        name: Address
        type: string
      - jsonPath: .spec.peerASN
        name: ASN
        type: string
      - jsonPath: .spec.bfdProfile
        name: BFD Profile
        type: string
      - jsonPath: .spec.ebgpMultiHop
        name: Multi Hops
        type: string
      name: v1beta2
      schema:
        openAPIV3Schema:
          description: BGPPeer is the Schema for the peers API.
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: BGPPeerSpec defines the desired state of Peer.
              properties:
                bfdProfile:
                  description: The name of the BFD Profile to be used for the BFD
                    session associated to the BGP session. If not set, the BFD session
                    won't be set up.
                  type: string
                ebgpMultiHop:
                  description: To set if the BGPPeer is multi-hops away. Needed for
                    FRR mode only.
                  type: boolean
                holdTime:
                  description: Requested BGP hold time, per RFC4271.
                  type: string
                keepaliveTime:
                  description: Requested BGP keepalive time, per RFC4271.
                  type: string
                myASN:
                  description: AS number to use for the local end of the session.
                  format: int32
                  maximum: 4294967295
                  minimum: 0
                  type: integer
                nodeSelectors:
                  description: Only connect to this peer on nodes that match one of
                    these selectors.
                  items:
                    description: A label selector is a label query over a set of resources.
                      The result of matchLabels and matchExpressions are ANDed. An
                      empty label selector matches all objects. A null label selector
                      matches no objects.
                    properties:
                      matchExpressions:
                        description: matchExpressions is a list of label selector
                          requirements. The requirements are ANDed.
                        items:
                          description: A label selector requirement is a selector
                            that contains values, a key, and an operator that relates
                            the key and values.
                          properties:
                            key:
                              description: key is the label key that the selector
                                applies to.
                              type: string
                            operator:
                              description: operator represents a key's relationship
                                to a set of values. Valid operators are In, NotIn,
                                Exists and DoesNotExist.
                              type: string
                            values:
                              description: values is an array of string values. If
                                the operator is In or NotIn, the values array must
                                be non-empty. If the operator is Exists or DoesNotExist,
                                the values array must be empty. This array is replaced
                                during a strategic merge patch.
                              items:
                                type: string
                              type: array
                          required:
                          - key
                          - operator
                          type: object
                        type: array
                      matchLabels:
                        additionalProperties:
                          type: string
                        description: matchLabels is a map of {key,value} pairs. A
                          single {key,value} in the matchLabels map is equivalent
                          to an element of matchExpressions, whose key field is "key",
                          the operator is "In", and the values array contains only
                          "value". The requirements are ANDed.
                        type: object
                    type: object
                    x-kubernetes-map-type: atomic
                  type: array
                password:
                  description: Authentication password for routers enforcing TCP MD5
                    authenticated sessions
                  type: string
                passwordSecret:
                  description: passwordSecret is name of the authentication secret
                    for BGP Peer. the secret must be of type "kubernetes.io/basic-auth",
                    and created in the same namespace as the MetalLB deployment. The
                    password is stored in the secret as the key "password".
                  properties:
                    name:
                      description: name is unique within a namespace to reference
                        a secret resource.
                      type: string
                    namespace:
                      description: namespace defines the space within which the secret
                        name must be unique.
                      type: string
                  type: object
                  x-kubernetes-map-type: atomic
                peerASN:
                  description: AS number to expect from the remote end of the session.
                  format: int32
                  maximum: 4294967295
                  minimum: 0
                  type: integer
                peerAddress:
                  description: Address to dial when establishing the session.
                  type: string
                peerPort:
                  default: 179
                  description: Port to dial when establishing the session.
                  maximum: 16384
                  minimum: 0
                  type: integer
                routerID:
                  description: BGP router ID to advertise to the peer
                  type: string
                sourceAddress:
                  description: Source address to use when establishing the session.
                  type: string
                vrf:
                  description: To set if we want to peer with the BGPPeer using an
                    interface belonging to a host vrf
                  type: string
              required:
              - myASN
              - peerASN
              - peerAddress
              type: object
            status:
              description: BGPPeerStatus defines the observed state of Peer.
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      kind: BGPPeer
      listKind: BGPPeerList
      plural: bgppeers
      singular: bgppeer
    conditions:
    - lastTransitionTime: "2024-03-09T04:14:55Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-03-09T04:14:55Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1beta2
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      controller-gen.kubebuilder.io/version: v0.14.0
    creationTimestamp: "2024-04-11T07:49:06Z"
    generation: 1
    name: clienttrafficpolicies.gateway.envoyproxy.io
    resourceVersion: "2269562"
    uid: 63479f85-d214-48ec-af2a-0a40606055e3
  spec:
    conversion:
      strategy: None
    group: gateway.envoyproxy.io
    names:
      categories:
      - envoy-gateway
      kind: ClientTrafficPolicy
      listKind: ClientTrafficPolicyList
      plural: clienttrafficpolicies
      shortNames:
      - ctp
      singular: clienttrafficpolicy
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - jsonPath: .status.conditions[?(@.type=="Accepted")].reason
        name: Status
        type: string
      - jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1alpha1
      schema:
        openAPIV3Schema:
          description: |-
            ClientTrafficPolicy allows the user to configure the behavior of the connection
            between the downstream client and Envoy Proxy listener.
          properties:
            apiVersion:
              description: |-
                APIVersion defines the versioned schema of this representation of an object.
                Servers should convert recognized schemas to the latest internal value, and
                may reject unrecognized values.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
              type: string
            kind:
              description: |-
                Kind is a string value representing the REST resource this object represents.
                Servers may infer this from the endpoint the client submits requests to.
                Cannot be updated.
                In CamelCase.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
              type: string
            metadata:
              type: object
            spec:
              description: Spec defines the desired state of ClientTrafficPolicy.
              properties:
                clientIPDetection:
                  description: ClientIPDetectionSettings provides configuration for
                    determining the original client IP address for requests.
                  properties:
                    customHeader:
                      description: |-
                        CustomHeader provides configuration for determining the client IP address for a request based on
                        a trusted custom HTTP header. This uses the the custom_header original IP detection extension.
                        Refer to https://www.envoyproxy.io/docs/envoy/latest/api-v3/extensions/http/original_ip_detection/custom_header/v3/custom_header.proto
                        for more details.
                      properties:
                        failClosed:
                          description: |-
                            FailClosed is a switch used to control the flow of traffic when client IP detection
                            fails. If set to true, the listener will respond with 403 Forbidden when the client
                            IP address cannot be determined.
                          type: boolean
                        name:
                          description: Name of the header containing the original
                            downstream remote address, if present.
                          maxLength: 255
                          minLength: 1
                          pattern: ^[A-Za-z0-9-]+$
                          type: string
                      required:
                      - name
                      type: object
                    xForwardedFor:
                      description: XForwardedForSettings provides configuration for
                        using X-Forwarded-For headers for determining the client IP
                        address.
                      properties:
                        numTrustedHops:
                          description: |-
                            NumTrustedHops controls the number of additional ingress proxy hops from the right side of XFF HTTP
                            headers to trust when determining the origin client's IP address.
                            Refer to https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_conn_man/headers#x-forwarded-for
                            for more details.
                          format: int32
                          type: integer
                      type: object
                  type: object
                  x-kubernetes-validations:
                  - message: customHeader cannot be used in conjunction with xForwardedFor
                    rule: '!(has(self.xForwardedFor) && has(self.customHeader))'
                connection:
                  description: Connection includes client connection settings.
                  properties:
                    bufferLimit:
                      anyOf:
                      - type: integer
                      - type: string
                      description: |-
                        BufferLimit provides configuration for the maximum buffer size in bytes for each incoming connection.
                        For example, 20Mi, 1Gi, 256Ki etc.
                        Note that when the suffix is not provided, the value is interpreted as bytes.
                        Default: 32768 bytes.
                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                      x-kubernetes-int-or-string: true
                      x-kubernetes-validations:
                      - message: bufferLimit must be of the format "^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$"
                        rule: 'type(self) == string ? self.matches(r"^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$")
                          : type(self) == int'
                    connectionLimit:
                      description: ConnectionLimit defines limits related to connections
                      properties:
                        closeDelay:
                          description: |-
                            CloseDelay defines the delay to use before closing connections that are rejected
                            once the limit value is reached.
                            Default: none.
                          pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                          type: string
                        value:
                          description: |-
                            Value of the maximum concurrent connections limit.
                            When the limit is reached, incoming connections will be closed after the CloseDelay duration.
                            Default: unlimited.
                          format: int64
                          minimum: 0
                          type: integer
                      type: object
                  type: object
                enableProxyProtocol:
                  description: |-
                    EnableProxyProtocol interprets the ProxyProtocol header and adds the
                    Client Address into the X-Forwarded-For header.
                    Note Proxy Protocol must be present when this field is set, else the connection
                    is closed.
                  type: boolean
                headers:
                  description: HeaderSettings provides configuration for header management.
                  properties:
                    enableEnvoyHeaders:
                      description: |-
                        EnableEnvoyHeaders configures Envoy Proxy to add the "X-Envoy-" headers to requests
                        and responses.
                      type: boolean
                    withUnderscoresAction:
                      description: |-
                        WithUnderscoresAction configures the action to take when an HTTP header with underscores
                        is encountered. The default action is to reject the request.
                      enum:
                      - Allow
                      - RejectRequest
                      - DropHeader
                      type: string
                  type: object
                http1:
                  description: HTTP1 provides HTTP/1 configuration on the listener.
                  properties:
                    enableTrailers:
                      description: EnableTrailers defines if HTTP/1 trailers should
                        be proxied by Envoy.
                      type: boolean
                    http10:
                      description: HTTP10 turns on support for HTTP/1.0 and HTTP/0.9
                        requests.
                      properties:
                        useDefaultHost:
                          description: |-
                            UseDefaultHost defines if the HTTP/1.0 request is missing the Host header,
                            then the hostname associated with the listener should be injected into the
                            request.
                            If this is not set and an HTTP/1.0 request arrives without a host, then
                            it will be rejected.
                          type: boolean
                      type: object
                    preserveHeaderCase:
                      description: |-
                        PreserveHeaderCase defines if Envoy should preserve the letter case of headers.
                        By default, Envoy will lowercase all the headers.
                      type: boolean
                  type: object
                http3:
                  description: HTTP3 provides HTTP/3 configuration on the listener.
                  type: object
                path:
                  description: Path enables managing how the incoming path set by
                    clients can be normalized.
                  properties:
                    disableMergeSlashes:
                      description: |-
                        DisableMergeSlashes allows disabling the default configuration of merging adjacent
                        slashes in the path.
                        Note that slash merging is not part of the HTTP spec and is provided for convenience.
                      type: boolean
                    escapedSlashesAction:
                      description: |-
                        EscapedSlashesAction determines how %2f, %2F, %5c, or %5C sequences in the path URI
                        should be handled.
                        The default is UnescapeAndRedirect.
                      enum:
                      - KeepUnchanged
                      - RejectRequest
                      - UnescapeAndForward
                      - UnescapeAndRedirect
                      type: string
                  type: object
                targetRef:
                  description: |-
                    TargetRef is the name of the Gateway resource this policy
                    is being attached to.
                    This Policy and the TargetRef MUST be in the same namespace
                    for this Policy to have effect and be applied to the Gateway.
                    TargetRef
                  properties:
                    group:
                      description: Group is the group of the target resource.
                      maxLength: 253
                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    kind:
                      description: Kind is kind of the target resource.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                      type: string
                    name:
                      description: Name is the name of the target resource.
                      maxLength: 253
                      minLength: 1
                      type: string
                    namespace:
                      description: |-
                        Namespace is the namespace of the referent. When unspecified, the local
                        namespace is inferred. Even when policy targets a resource in a different
                        namespace, it MUST only apply to traffic originating from the same
                        namespace as the policy.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                      type: string
                    sectionName:
                      description: |-
                        SectionName is the name of a section within the target resource. When
                        unspecified, this targetRef targets the entire resource. In the following
                        resources, SectionName is interpreted as the following:


                        * Gateway: Listener Name
                        * Service: Port Name


                        If a SectionName is specified, but does not exist on the targeted object,
                        the Policy must fail to attach, and the policy implementation should record
                        a `ResolvedRefs` or similar Condition in the Policy's status.
                      maxLength: 253
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                  required:
                  - group
                  - kind
                  - name
                  type: object
                  x-kubernetes-validations:
                  - message: this policy can only have a targetRef.group of gateway.networking.k8s.io
                    rule: self.group == 'gateway.networking.k8s.io'
                  - message: this policy can only have a targetRef.kind of Gateway
                    rule: self.kind == 'Gateway'
                  - message: this policy does not yet support the sectionName field
                    rule: '!has(self.sectionName)'
                tcpKeepalive:
                  description: |-
                    TcpKeepalive settings associated with the downstream client connection.
                    If defined, sets SO_KEEPALIVE on the listener socket to enable TCP Keepalives.
                    Disabled by default.
                  properties:
                    idleTime:
                      description: |-
                        The duration a connection needs to be idle before keep-alive
                        probes start being sent.
                        The duration format is
                        Defaults to `7200s`.
                      pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                      type: string
                    interval:
                      description: |-
                        The duration between keep-alive probes.
                        Defaults to `75s`.
                      pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                      type: string
                    probes:
                      description: |-
                        The total number of unacknowledged probes to send before deciding
                        the connection is dead.
                        Defaults to 9.
                      format: int32
                      type: integer
                  type: object
                timeout:
                  description: Timeout settings for the client connections.
                  properties:
                    http:
                      description: Timeout settings for HTTP.
                      properties:
                        idleTimeout:
                          description: |-
                            IdleTimeout for an HTTP connection. Idle time is defined as a period in which there are no active requests in the connection.
                            Default: 1 hour.
                          pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                          type: string
                        requestReceivedTimeout:
                          description: |-
                            RequestReceivedTimeout is the duration envoy waits for the complete request reception. This timer starts upon request
                            initiation and stops when either the last byte of the request is sent upstream or when the response begins.
                          pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                          type: string
                      type: object
                  type: object
                tls:
                  description: TLS settings configure TLS termination settings with
                    the downstream client.
                  properties:
                    alpnProtocols:
                      description: |-
                        ALPNProtocols supplies the list of ALPN protocols that should be
                        exposed by the listener. By default h2 and http/1.1 are enabled.
                        Supported values are:
                        - http/1.0
                        - http/1.1
                        - h2
                      items:
                        description: ALPNProtocol specifies the protocol to be negotiated
                          using ALPN
                        enum:
                        - http/1.0
                        - http/1.1
                        - h2
                        type: string
                      type: array
                    ciphers:
                      description: |-
                        Ciphers specifies the set of cipher suites supported when
                        negotiating TLS 1.0 - 1.2. This setting has no effect for TLS 1.3.
                        In non-FIPS Envoy Proxy builds the default cipher list is:
                        - [ECDHE-ECDSA-AES128-GCM-SHA256|ECDHE-ECDSA-CHACHA20-POLY1305]
                        - [ECDHE-RSA-AES128-GCM-SHA256|ECDHE-RSA-CHACHA20-POLY1305]
                        - ECDHE-ECDSA-AES256-GCM-SHA384
                        - ECDHE-RSA-AES256-GCM-SHA384
                        In builds using BoringSSL FIPS the default cipher list is:
                        - ECDHE-ECDSA-AES128-GCM-SHA256
                        - ECDHE-RSA-AES128-GCM-SHA256
                        - ECDHE-ECDSA-AES256-GCM-SHA384
                        - ECDHE-RSA-AES256-GCM-SHA384
                      items:
                        type: string
                      type: array
                    clientValidation:
                      description: |-
                        ClientValidation specifies the configuration to validate the client
                        initiating the TLS connection to the Gateway listener.
                      properties:
                        caCertificateRefs:
                          description: |-
                            CACertificateRefs contains one or more references to
                            Kubernetes objects that contain TLS certificates of
                            the Certificate Authorities that can be used
                            as a trust anchor to validate the certificates presented by the client.


                            A single reference to a Kubernetes ConfigMap or a Kubernetes Secret,
                            with the CA certificate in a key named `ca.crt` is currently supported.


                            References to a resource in different namespace are invalid UNLESS there
                            is a ReferenceGrant in the target namespace that allows the certificate
                            to be attached.
                          items:
                            description: |-
                              SecretObjectReference identifies an API object including its namespace,
                              defaulting to Secret.


                              The API object must be valid in the cluster; the Group and Kind must
                              be registered in the cluster for this reference to be valid.


                              References to objects with invalid Group and Kind are not valid, and must
                              be rejected by the implementation, with appropriate Conditions set
                              on the containing object.
                            properties:
                              group:
                                default: ""
                                description: |-
                                  Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                  When unspecified or empty string, core API group is inferred.
                                maxLength: 253
                                pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                type: string
                              kind:
                                default: Secret
                                description: Kind is kind of the referent. For example
                                  "Secret".
                                maxLength: 63
                                minLength: 1
                                pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                type: string
                              name:
                                description: Name is the name of the referent.
                                maxLength: 253
                                minLength: 1
                                type: string
                              namespace:
                                description: |-
                                  Namespace is the namespace of the referenced object. When unspecified, the local
                                  namespace is inferred.


                                  Note that when a namespace different than the local namespace is specified,
                                  a ReferenceGrant object is required in the referent namespace to allow that
                                  namespace's owner to accept the reference. See the ReferenceGrant
                                  documentation for details.


                                  Support: Core
                                maxLength: 63
                                minLength: 1
                                pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                type: string
                            required:
                            - name
                            type: object
                          maxItems: 8
                          type: array
                      type: object
                    ecdhCurves:
                      description: |-
                        ECDHCurves specifies the set of supported ECDH curves.
                        In non-FIPS Envoy Proxy builds the default curves are:
                        - X25519
                        - P-256
                        In builds using BoringSSL FIPS the default curve is:
                        - P-256
                      items:
                        type: string
                      type: array
                    maxVersion:
                      description: |-
                        Max specifies the maximal TLS protocol version to allow
                        The default is TLS 1.3 if this is not specified.
                      enum:
                      - Auto
                      - "1.0"
                      - "1.1"
                      - "1.2"
                      - "1.3"
                      type: string
                    minVersion:
                      description: |-
                        Min specifies the minimal TLS protocol version to allow.
                        The default is TLS 1.2 if this is not specified.
                      enum:
                      - Auto
                      - "1.0"
                      - "1.1"
                      - "1.2"
                      - "1.3"
                      type: string
                    signatureAlgorithms:
                      description: |-
                        SignatureAlgorithms specifies which signature algorithms the listener should
                        support.
                      items:
                        type: string
                      type: array
                  type: object
                  x-kubernetes-validations:
                  - message: setting ciphers has no effect if the minimum possible
                      TLS version is 1.3
                    rule: 'has(self.minVersion) && self.minVersion == ''1.3'' ? !has(self.ciphers)
                      : true'
                  - message: minVersion must be smaller or equal to maxVersion
                    rule: 'has(self.minVersion) && has(self.maxVersion) ? {"Auto":0,"1.0":1,"1.1":2,"1.2":3,"1.3":4}[self.minVersion]
                      <= {"1.0":1,"1.1":2,"1.2":3,"1.3":4,"Auto":5}[self.maxVersion]
                      : !has(self.minVersion) && has(self.maxVersion) ? 3 <= {"1.0":1,"1.1":2,"1.2":3,"1.3":4,"Auto":5}[self.maxVersion]
                      : true'
              required:
              - targetRef
              type: object
            status:
              description: Status defines the current status of ClientTrafficPolicy.
              properties:
                ancestors:
                  description: |-
                    Ancestors is a list of ancestor resources (usually Gateways) that are
                    associated with the policy, and the status of the policy with respect to
                    each ancestor. When this policy attaches to a parent, the controller that
                    manages the parent and the ancestors MUST add an entry to this list when
                    the controller first sees the policy and SHOULD update the entry as
                    appropriate when the relevant ancestor is modified.


                    Note that choosing the relevant ancestor is left to the Policy designers;
                    an important part of Policy design is designing the right object level at
                    which to namespace this status.


                    Note also that implementations MUST ONLY populate ancestor status for
                    the Ancestor resources they are responsible for. Implementations MUST
                    use the ControllerName field to uniquely identify the entries in this list
                    that they are responsible for.


                    Note that to achieve this, the list of PolicyAncestorStatus structs
                    MUST be treated as a map with a composite key, made up of the AncestorRef
                    and ControllerName fields combined.


                    A maximum of 16 ancestors will be represented in this list. An empty list
                    means the Policy is not relevant for any ancestors.


                    If this slice is full, implementations MUST NOT add further entries.
                    Instead they MUST consider the policy unimplementable and signal that
                    on any related resources such as the ancestor that would be referenced
                    here. For example, if this list was full on BackendTLSPolicy, no
                    additional Gateways would be able to reference the Service targeted by
                    the BackendTLSPolicy.
                  items:
                    description: |-
                      PolicyAncestorStatus describes the status of a route with respect to an
                      associated Ancestor.


                      Ancestors refer to objects that are either the Target of a policy or above it
                      in terms of object hierarchy. For example, if a policy targets a Service, the
                      Policy's Ancestors are, in order, the Service, the HTTPRoute, the Gateway, and
                      the GatewayClass. Almost always, in this hierarchy, the Gateway will be the most
                      useful object to place Policy status on, so we recommend that implementations
                      SHOULD use Gateway as the PolicyAncestorStatus object unless the designers
                      have a _very_ good reason otherwise.


                      In the context of policy attachment, the Ancestor is used to distinguish which
                      resource results in a distinct application of this policy. For example, if a policy
                      targets a Service, it may have a distinct result per attached Gateway.


                      Policies targeting the same resource may have different effects depending on the
                      ancestors of those resources. For example, different Gateways targeting the same
                      Service may have different capabilities, especially if they have different underlying
                      implementations.


                      For example, in BackendTLSPolicy, the Policy attaches to a Service that is
                      used as a backend in a HTTPRoute that is itself attached to a Gateway.
                      In this case, the relevant object for status is the Gateway, and that is the
                      ancestor object referred to in this status.


                      Note that a parent is also an ancestor, so for objects where the parent is the
                      relevant object for status, this struct SHOULD still be used.


                      This struct is intended to be used in a slice that's effectively a map,
                      with a composite key made up of the AncestorRef and the ControllerName.
                    properties:
                      ancestorRef:
                        description: |-
                          AncestorRef corresponds with a ParentRef in the spec that this
                          PolicyAncestorStatus struct describes the status of.
                        properties:
                          group:
                            default: gateway.networking.k8s.io
                            description: |-
                              Group is the group of the referent.
                              When unspecified, "gateway.networking.k8s.io" is inferred.
                              To set the core API group (such as for a "Service" kind referent),
                              Group must be explicitly set to "" (empty string).


                              Support: Core
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Gateway
                            description: |-
                              Kind is kind of the referent.


                              There are two kinds of parent resources with "Core" support:


                              * Gateway (Gateway conformance profile)
                              * Service (Mesh conformance profile, experimental, ClusterIP Services only)


                              Support for other resources is Implementation-Specific.
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: |-
                              Name is the name of the referent.


                              Support: Core
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: |-
                              Namespace is the namespace of the referent. When unspecified, this refers
                              to the local namespace of the Route.


                              Note that there are specific rules for ParentRefs which cross namespace
                              boundaries. Cross-namespace references are only valid if they are explicitly
                              allowed by something in the namespace they are referring to. For example:
                              Gateway has the AllowedRoutes field, and ReferenceGrant provides a
                              generic way to enable any other kind of cross-namespace reference.


                              <gateway:experimental:description>
                              ParentRefs from a Route to a Service in the same namespace are "producer"
                              routes, which apply default routing rules to inbound connections from
                              any namespace to the Service.


                              ParentRefs from a Route to a Service in a different namespace are
                              "consumer" routes, and these routing rules are only applied to outbound
                              connections originating from the same namespace as the Route, for which
                              the intended destination of the connections are a Service targeted as a
                              ParentRef of the Route.
                              </gateway:experimental:description>


                              Support: Core
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                          port:
                            description: |-
                              Port is the network port this Route targets. It can be interpreted
                              differently based on the type of parent resource.


                              When the parent resource is a Gateway, this targets all listeners
                              listening on the specified port that also support this kind of Route(and
                              select this Route). It's not recommended to set `Port` unless the
                              networking behaviors specified in a Route must apply to a specific port
                              as opposed to a listener(s) whose port(s) may be changed. When both Port
                              and SectionName are specified, the name and port of the selected listener
                              must match both specified values.


                              <gateway:experimental:description>
                              When the parent resource is a Service, this targets a specific port in the
                              Service spec. When both Port (experimental) and SectionName are specified,
                              the name and port of the selected port must match both specified values.
                              </gateway:experimental:description>


                              Implementations MAY choose to support other parent resources.
                              Implementations supporting other types of parent resources MUST clearly
                              document how/if Port is interpreted.


                              For the purpose of status, an attachment is considered successful as
                              long as the parent resource accepts it partially. For example, Gateway
                              listeners can restrict which Routes can attach to them by Route kind,
                              namespace, or hostname. If 1 of 2 Gateway listeners accept attachment
                              from the referencing Route, the Route MUST be considered successfully
                              attached. If no Gateway listeners accept attachment from this Route,
                              the Route MUST be considered detached from the Gateway.


                              Support: Extended


                              <gateway:experimental>
                            format: int32
                            maximum: 65535
                            minimum: 1
                            type: integer
                          sectionName:
                            description: |-
                              SectionName is the name of a section within the target resource. In the
                              following resources, SectionName is interpreted as the following:


                              * Gateway: Listener Name. When both Port (experimental) and SectionName
                              are specified, the name and port of the selected listener must match
                              both specified values.
                              * Service: Port Name. When both Port (experimental) and SectionName
                              are specified, the name and port of the selected listener must match
                              both specified values. Note that attaching Routes to Services as Parents
                              is part of experimental Mesh support and is not supported for any other
                              purpose.


                              Implementations MAY choose to support attaching Routes to other resources.
                              If that is the case, they MUST clearly document how SectionName is
                              interpreted.


                              When unspecified (empty string), this will reference the entire resource.
                              For the purpose of status, an attachment is considered successful if at
                              least one section in the parent resource accepts it. For example, Gateway
                              listeners can restrict which Routes can attach to them by Route kind,
                              namespace, or hostname. If 1 of 2 Gateway listeners accept attachment from
                              the referencing Route, the Route MUST be considered successfully
                              attached. If no Gateway listeners accept attachment from this Route, the
                              Route MUST be considered detached from the Gateway.


                              Support: Core
                            maxLength: 253
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                        required:
                        - name
                        type: object
                      conditions:
                        description: Conditions describes the status of the Policy
                          with respect to the given Ancestor.
                        items:
                          description: "Condition contains details for one aspect
                            of the current state of this API Resource.\n---\nThis
                            struct is intended for direct use as an array at the field
                            path .status.conditions.  For example,\n\n\n\ttype FooStatus
                            struct{\n\t    // Represents the observations of a foo's
                            current state.\n\t    // Known .status.conditions.type
                            are: \"Available\", \"Progressing\", and \"Degraded\"\n\t
                            \   // +patchMergeKey=type\n\t    // +patchStrategy=merge\n\t
                            \   // +listType=map\n\t    // +listMapKey=type\n\t    Conditions
                            []metav1.Condition `json:\"conditions,omitempty\" patchStrategy:\"merge\"
                            patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`\n\n\n\t
                            \   // other fields\n\t}"
                          properties:
                            lastTransitionTime:
                              description: |-
                                lastTransitionTime is the last time the condition transitioned from one status to another.
                                This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                              format: date-time
                              type: string
                            message:
                              description: |-
                                message is a human readable message indicating details about the transition.
                                This may be an empty string.
                              maxLength: 32768
                              type: string
                            observedGeneration:
                              description: |-
                                observedGeneration represents the .metadata.generation that the condition was set based upon.
                                For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                                with respect to the current state of the instance.
                              format: int64
                              minimum: 0
                              type: integer
                            reason:
                              description: |-
                                reason contains a programmatic identifier indicating the reason for the condition's last transition.
                                Producers of specific condition types may define expected values and meanings for this field,
                                and whether the values are considered a guaranteed API.
                                The value should be a CamelCase string.
                                This field may not be empty.
                              maxLength: 1024
                              minLength: 1
                              pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                              type: string
                            status:
                              description: status of the condition, one of True, False,
                                Unknown.
                              enum:
                              - "True"
                              - "False"
                              - Unknown
                              type: string
                            type:
                              description: |-
                                type of condition in CamelCase or in foo.example.com/CamelCase.
                                ---
                                Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
                                useful (see .node.status.conditions), the ability to deconflict is important.
                                The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                              maxLength: 316
                              pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                              type: string
                          required:
                          - lastTransitionTime
                          - message
                          - reason
                          - status
                          - type
                          type: object
                        maxItems: 8
                        minItems: 1
                        type: array
                        x-kubernetes-list-map-keys:
                        - type
                        x-kubernetes-list-type: map
                      controllerName:
                        description: |-
                          ControllerName is a domain/path string that indicates the name of the
                          controller that wrote this status. This corresponds with the
                          controllerName field on GatewayClass.


                          Example: "example.net/gateway-controller".


                          The format of this field is DOMAIN "/" PATH, where DOMAIN and PATH are
                          valid Kubernetes names
                          (https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names).


                          Controllers MUST populate this field when writing status. Controllers should ensure that
                          entries to status populated with their ControllerName are cleaned up when they are no
                          longer necessary.
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                        type: string
                    required:
                    - ancestorRef
                    - controllerName
                    type: object
                  maxItems: 16
                  type: array
              required:
              - ancestors
              type: object
          required:
          - spec
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - envoy-gateway
      kind: ClientTrafficPolicy
      listKind: ClientTrafficPolicyList
      plural: clienttrafficpolicies
      shortNames:
      - ctp
      singular: clienttrafficpolicy
    conditions:
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      controller-gen.kubebuilder.io/version: v0.11.1
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apiextensions.k8s.io/v1","kind":"CustomResourceDefinition","metadata":{"annotations":{"controller-gen.kubebuilder.io/version":"v0.11.1"},"creationTimestamp":null,"name":"communities.metallb.io"},"spec":{"group":"metallb.io","names":{"kind":"Community","listKind":"CommunityList","plural":"communities","singular":"community"},"scope":"Namespaced","versions":[{"name":"v1beta1","schema":{"openAPIV3Schema":{"description":"Community is a collection of aliases for communities. Users can define named aliases to be used in the BGPPeer CRD.","properties":{"apiVersion":{"description":"APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources","type":"string"},"kind":{"description":"Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds","type":"string"},"metadata":{"type":"object"},"spec":{"description":"CommunitySpec defines the desired state of Community.","properties":{"communities":{"items":{"properties":{"name":{"description":"The name of the alias for the community.","type":"string"},"value":{"description":"The BGP community value corresponding to the given name. Can be a standard community of the form 1234:1234 or a large community of the form large:1234:1234:1234.","type":"string"}},"type":"object"},"type":"array"}},"type":"object"},"status":{"description":"CommunityStatus defines the observed state of Community.","type":"object"}},"type":"object"}},"served":true,"storage":true,"subresources":{"status":{}}}]}}
    creationTimestamp: "2024-03-09T04:14:55Z"
    generation: 1
    name: communities.metallb.io
    resourceVersion: "333"
    uid: 6101177b-1f72-485b-8ec9-d6189b12b01f
  spec:
    conversion:
      strategy: None
    group: metallb.io
    names:
      kind: Community
      listKind: CommunityList
      plural: communities
      singular: community
    scope: Namespaced
    versions:
    - name: v1beta1
      schema:
        openAPIV3Schema:
          description: Community is a collection of aliases for communities. Users
            can define named aliases to be used in the BGPPeer CRD.
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: CommunitySpec defines the desired state of Community.
              properties:
                communities:
                  items:
                    properties:
                      name:
                        description: The name of the alias for the community.
                        type: string
                      value:
                        description: The BGP community value corresponding to the
                          given name. Can be a standard community of the form 1234:1234
                          or a large community of the form large:1234:1234:1234.
                        type: string
                    type: object
                  type: array
              type: object
            status:
              description: CommunityStatus defines the observed state of Community.
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      kind: Community
      listKind: CommunityList
      plural: communities
      singular: community
    conditions:
    - lastTransitionTime: "2024-03-09T04:14:55Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-03-09T04:14:55Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1beta1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      helm.sh/resource-policy: keep
    creationTimestamp: "2024-04-07T12:56:56Z"
    generation: 1
    labels:
      app: istio-pilot
      chart: istio
      heritage: Tiller
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio.io/rev: default
      operator.istio.io/component: Base
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: destinationrules.networking.istio.io
    resourceVersion: "1904513"
    uid: 7c1e873f-e404-4cbe-b464-c57f66215050
  spec:
    conversion:
      strategy: None
    group: networking.istio.io
    names:
      categories:
      - istio-io
      - networking-istio-io
      kind: DestinationRule
      listKind: DestinationRuleList
      plural: destinationrules
      shortNames:
      - dr
      singular: destinationrule
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - description: The name of a service from the service registry
        jsonPath: .spec.host
        name: Host
        type: string
      - description: 'CreationTimestamp is a timestamp representing the server time
          when this object was created. It is not guaranteed to be set in happens-before
          order across separate operations. Clients may not set this value. It is
          represented in RFC3339 form and is in UTC. Populated by the system. Read-only.
          Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
        jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1alpha3
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting load balancing, outlier detection,
                etc. See more details at: https://istio.io/docs/reference/config/networking/destination-rule.html'
              properties:
                exportTo:
                  description: A list of namespaces to which this destination rule
                    is exported.
                  items:
                    type: string
                  type: array
                host:
                  description: The name of a service from the service registry.
                  type: string
                subsets:
                  description: One or more named sets that represent individual versions
                    of a service.
                  items:
                    properties:
                      labels:
                        additionalProperties:
                          type: string
                        description: Labels apply a filter over the endpoints of a
                          service in the service registry.
                        type: object
                      name:
                        description: Name of the subset.
                        type: string
                      trafficPolicy:
                        description: Traffic policies that apply to this subset.
                        properties:
                          connectionPool:
                            properties:
                              http:
                                description: HTTP connection pool settings.
                                properties:
                                  h2UpgradePolicy:
                                    description: Specify if http1.1 connection should
                                      be upgraded to http2 for the associated destination.
                                    enum:
                                    - DEFAULT
                                    - DO_NOT_UPGRADE
                                    - UPGRADE
                                    type: string
                                  http1MaxPendingRequests:
                                    description: Maximum number of requests that will
                                      be queued while waiting for a ready connection
                                      pool connection.
                                    format: int32
                                    type: integer
                                  http2MaxRequests:
                                    description: Maximum number of active requests
                                      to a destination.
                                    format: int32
                                    type: integer
                                  idleTimeout:
                                    description: The idle timeout for upstream connection
                                      pool connections.
                                    type: string
                                  maxConcurrentStreams:
                                    description: The maximum number of concurrent
                                      streams allowed for a peer on one HTTP/2 connection.
                                    format: int32
                                    type: integer
                                  maxRequestsPerConnection:
                                    description: Maximum number of requests per connection
                                      to a backend.
                                    format: int32
                                    type: integer
                                  maxRetries:
                                    description: Maximum number of retries that can
                                      be outstanding to all hosts in a cluster at
                                      a given time.
                                    format: int32
                                    type: integer
                                  useClientProtocol:
                                    description: If set to true, client protocol will
                                      be preserved while initiating connection to
                                      backend.
                                    type: boolean
                                type: object
                              tcp:
                                description: Settings common to both HTTP and TCP
                                  upstream connections.
                                properties:
                                  connectTimeout:
                                    description: TCP connection timeout.
                                    type: string
                                  idleTimeout:
                                    description: The idle timeout for TCP connections.
                                    type: string
                                  maxConnectionDuration:
                                    description: The maximum duration of a connection.
                                    type: string
                                  maxConnections:
                                    description: Maximum number of HTTP1 /TCP connections
                                      to a destination host.
                                    format: int32
                                    type: integer
                                  tcpKeepalive:
                                    description: If set then set SO_KEEPALIVE on the
                                      socket to enable TCP Keepalives.
                                    properties:
                                      interval:
                                        description: The time duration between keep-alive
                                          probes.
                                        type: string
                                      probes:
                                        description: Maximum number of keepalive probes
                                          to send without response before deciding
                                          the connection is dead.
                                        type: integer
                                      time:
                                        description: The time duration a connection
                                          needs to be idle before keep-alive probes
                                          start being sent.
                                        type: string
                                    type: object
                                type: object
                            type: object
                          loadBalancer:
                            description: Settings controlling the load balancer algorithms.
                            oneOf:
                            - not:
                                anyOf:
                                - required:
                                  - simple
                                - required:
                                  - consistentHash
                            - required:
                              - simple
                            - required:
                              - consistentHash
                            properties:
                              consistentHash:
                                allOf:
                                - oneOf:
                                  - not:
                                      anyOf:
                                      - required:
                                        - httpHeaderName
                                      - required:
                                        - httpCookie
                                      - required:
                                        - useSourceIp
                                      - required:
                                        - httpQueryParameterName
                                  - required:
                                    - httpHeaderName
                                  - required:
                                    - httpCookie
                                  - required:
                                    - useSourceIp
                                  - required:
                                    - httpQueryParameterName
                                - oneOf:
                                  - not:
                                      anyOf:
                                      - required:
                                        - ringHash
                                      - required:
                                        - maglev
                                  - required:
                                    - ringHash
                                  - required:
                                    - maglev
                                properties:
                                  httpCookie:
                                    description: Hash based on HTTP cookie.
                                    properties:
                                      name:
                                        description: Name of the cookie.
                                        type: string
                                      path:
                                        description: Path to set for the cookie.
                                        type: string
                                      ttl:
                                        description: Lifetime of the cookie.
                                        type: string
                                    required:
                                    - name
                                    type: object
                                  httpHeaderName:
                                    description: Hash based on a specific HTTP header.
                                    type: string
                                  httpQueryParameterName:
                                    description: Hash based on a specific HTTP query
                                      parameter.
                                    type: string
                                  maglev:
                                    description: The Maglev load balancer implements
                                      consistent hashing to backend hosts.
                                    properties:
                                      tableSize:
                                        description: The table size for Maglev hashing.
                                        type: integer
                                    type: object
                                  minimumRingSize:
                                    description: Deprecated.
                                    type: integer
                                  ringHash:
                                    description: The ring/modulo hash load balancer
                                      implements consistent hashing to backend hosts.
                                    properties:
                                      minimumRingSize:
                                        description: The minimum number of virtual
                                          nodes to use for the hash ring.
                                        type: integer
                                    type: object
                                  useSourceIp:
                                    description: Hash based on the source IP address.
                                    type: boolean
                                type: object
                              localityLbSetting:
                                properties:
                                  distribute:
                                    description: 'Optional: only one of distribute,
                                      failover or failoverPriority can be set.'
                                    items:
                                      properties:
                                        from:
                                          description: Originating locality, '/' separated,
                                            e.g.
                                          type: string
                                        to:
                                          additionalProperties:
                                            type: integer
                                          description: Map of upstream localities
                                            to traffic distribution weights.
                                          type: object
                                      type: object
                                    type: array
                                  enabled:
                                    description: enable locality load balancing, this
                                      is DestinationRule-level and will override mesh
                                      wide settings in entirety.
                                    nullable: true
                                    type: boolean
                                  failover:
                                    description: 'Optional: only one of distribute,
                                      failover or failoverPriority can be set.'
                                    items:
                                      properties:
                                        from:
                                          description: Originating region.
                                          type: string
                                        to:
                                          description: Destination region the traffic
                                            will fail over to when endpoints in the
                                            'from' region becomes unhealthy.
                                          type: string
                                      type: object
                                    type: array
                                  failoverPriority:
                                    description: failoverPriority is an ordered list
                                      of labels used to sort endpoints to do priority
                                      based load balancing.
                                    items:
                                      type: string
                                    type: array
                                type: object
                              simple:
                                enum:
                                - UNSPECIFIED
                                - LEAST_CONN
                                - RANDOM
                                - PASSTHROUGH
                                - ROUND_ROBIN
                                - LEAST_REQUEST
                                type: string
                              warmupDurationSecs:
                                description: Represents the warmup duration of Service.
                                type: string
                            type: object
                          outlierDetection:
                            properties:
                              baseEjectionTime:
                                description: Minimum ejection duration.
                                type: string
                              consecutive5xxErrors:
                                description: Number of 5xx errors before a host is
                                  ejected from the connection pool.
                                nullable: true
                                type: integer
                              consecutiveErrors:
                                format: int32
                                type: integer
                              consecutiveGatewayErrors:
                                description: Number of gateway errors before a host
                                  is ejected from the connection pool.
                                nullable: true
                                type: integer
                              consecutiveLocalOriginFailures:
                                description: The number of consecutive locally originated
                                  failures before ejection occurs.
                                nullable: true
                                type: integer
                              interval:
                                description: Time interval between ejection sweep
                                  analysis.
                                type: string
                              maxEjectionPercent:
                                description: Maximum % of hosts in the load balancing
                                  pool for the upstream service that can be ejected.
                                format: int32
                                type: integer
                              minHealthPercent:
                                description: Outlier detection will be enabled as
                                  long as the associated load balancing pool has at
                                  least min_health_percent hosts in healthy mode.
                                format: int32
                                type: integer
                              splitExternalLocalOriginErrors:
                                description: Determines whether to distinguish local
                                  origin failures from external errors.
                                type: boolean
                            type: object
                          portLevelSettings:
                            description: Traffic policies specific to individual ports.
                            items:
                              properties:
                                connectionPool:
                                  properties:
                                    http:
                                      description: HTTP connection pool settings.
                                      properties:
                                        h2UpgradePolicy:
                                          description: Specify if http1.1 connection
                                            should be upgraded to http2 for the associated
                                            destination.
                                          enum:
                                          - DEFAULT
                                          - DO_NOT_UPGRADE
                                          - UPGRADE
                                          type: string
                                        http1MaxPendingRequests:
                                          description: Maximum number of requests
                                            that will be queued while waiting for
                                            a ready connection pool connection.
                                          format: int32
                                          type: integer
                                        http2MaxRequests:
                                          description: Maximum number of active requests
                                            to a destination.
                                          format: int32
                                          type: integer
                                        idleTimeout:
                                          description: The idle timeout for upstream
                                            connection pool connections.
                                          type: string
                                        maxConcurrentStreams:
                                          description: The maximum number of concurrent
                                            streams allowed for a peer on one HTTP/2
                                            connection.
                                          format: int32
                                          type: integer
                                        maxRequestsPerConnection:
                                          description: Maximum number of requests
                                            per connection to a backend.
                                          format: int32
                                          type: integer
                                        maxRetries:
                                          description: Maximum number of retries that
                                            can be outstanding to all hosts in a cluster
                                            at a given time.
                                          format: int32
                                          type: integer
                                        useClientProtocol:
                                          description: If set to true, client protocol
                                            will be preserved while initiating connection
                                            to backend.
                                          type: boolean
                                      type: object
                                    tcp:
                                      description: Settings common to both HTTP and
                                        TCP upstream connections.
                                      properties:
                                        connectTimeout:
                                          description: TCP connection timeout.
                                          type: string
                                        idleTimeout:
                                          description: The idle timeout for TCP connections.
                                          type: string
                                        maxConnectionDuration:
                                          description: The maximum duration of a connection.
                                          type: string
                                        maxConnections:
                                          description: Maximum number of HTTP1 /TCP
                                            connections to a destination host.
                                          format: int32
                                          type: integer
                                        tcpKeepalive:
                                          description: If set then set SO_KEEPALIVE
                                            on the socket to enable TCP Keepalives.
                                          properties:
                                            interval:
                                              description: The time duration between
                                                keep-alive probes.
                                              type: string
                                            probes:
                                              description: Maximum number of keepalive
                                                probes to send without response before
                                                deciding the connection is dead.
                                              type: integer
                                            time:
                                              description: The time duration a connection
                                                needs to be idle before keep-alive
                                                probes start being sent.
                                              type: string
                                          type: object
                                      type: object
                                  type: object
                                loadBalancer:
                                  description: Settings controlling the load balancer
                                    algorithms.
                                  oneOf:
                                  - not:
                                      anyOf:
                                      - required:
                                        - simple
                                      - required:
                                        - consistentHash
                                  - required:
                                    - simple
                                  - required:
                                    - consistentHash
                                  properties:
                                    consistentHash:
                                      allOf:
                                      - oneOf:
                                        - not:
                                            anyOf:
                                            - required:
                                              - httpHeaderName
                                            - required:
                                              - httpCookie
                                            - required:
                                              - useSourceIp
                                            - required:
                                              - httpQueryParameterName
                                        - required:
                                          - httpHeaderName
                                        - required:
                                          - httpCookie
                                        - required:
                                          - useSourceIp
                                        - required:
                                          - httpQueryParameterName
                                      - oneOf:
                                        - not:
                                            anyOf:
                                            - required:
                                              - ringHash
                                            - required:
                                              - maglev
                                        - required:
                                          - ringHash
                                        - required:
                                          - maglev
                                      properties:
                                        httpCookie:
                                          description: Hash based on HTTP cookie.
                                          properties:
                                            name:
                                              description: Name of the cookie.
                                              type: string
                                            path:
                                              description: Path to set for the cookie.
                                              type: string
                                            ttl:
                                              description: Lifetime of the cookie.
                                              type: string
                                          required:
                                          - name
                                          type: object
                                        httpHeaderName:
                                          description: Hash based on a specific HTTP
                                            header.
                                          type: string
                                        httpQueryParameterName:
                                          description: Hash based on a specific HTTP
                                            query parameter.
                                          type: string
                                        maglev:
                                          description: The Maglev load balancer implements
                                            consistent hashing to backend hosts.
                                          properties:
                                            tableSize:
                                              description: The table size for Maglev
                                                hashing.
                                              type: integer
                                          type: object
                                        minimumRingSize:
                                          description: Deprecated.
                                          type: integer
                                        ringHash:
                                          description: The ring/modulo hash load balancer
                                            implements consistent hashing to backend
                                            hosts.
                                          properties:
                                            minimumRingSize:
                                              description: The minimum number of virtual
                                                nodes to use for the hash ring.
                                              type: integer
                                          type: object
                                        useSourceIp:
                                          description: Hash based on the source IP
                                            address.
                                          type: boolean
                                      type: object
                                    localityLbSetting:
                                      properties:
                                        distribute:
                                          description: 'Optional: only one of distribute,
                                            failover or failoverPriority can be set.'
                                          items:
                                            properties:
                                              from:
                                                description: Originating locality,
                                                  '/' separated, e.g.
                                                type: string
                                              to:
                                                additionalProperties:
                                                  type: integer
                                                description: Map of upstream localities
                                                  to traffic distribution weights.
                                                type: object
                                            type: object
                                          type: array
                                        enabled:
                                          description: enable locality load balancing,
                                            this is DestinationRule-level and will
                                            override mesh wide settings in entirety.
                                          nullable: true
                                          type: boolean
                                        failover:
                                          description: 'Optional: only one of distribute,
                                            failover or failoverPriority can be set.'
                                          items:
                                            properties:
                                              from:
                                                description: Originating region.
                                                type: string
                                              to:
                                                description: Destination region the
                                                  traffic will fail over to when endpoints
                                                  in the 'from' region becomes unhealthy.
                                                type: string
                                            type: object
                                          type: array
                                        failoverPriority:
                                          description: failoverPriority is an ordered
                                            list of labels used to sort endpoints
                                            to do priority based load balancing.
                                          items:
                                            type: string
                                          type: array
                                      type: object
                                    simple:
                                      enum:
                                      - UNSPECIFIED
                                      - LEAST_CONN
                                      - RANDOM
                                      - PASSTHROUGH
                                      - ROUND_ROBIN
                                      - LEAST_REQUEST
                                      type: string
                                    warmupDurationSecs:
                                      description: Represents the warmup duration
                                        of Service.
                                      type: string
                                  type: object
                                outlierDetection:
                                  properties:
                                    baseEjectionTime:
                                      description: Minimum ejection duration.
                                      type: string
                                    consecutive5xxErrors:
                                      description: Number of 5xx errors before a host
                                        is ejected from the connection pool.
                                      nullable: true
                                      type: integer
                                    consecutiveErrors:
                                      format: int32
                                      type: integer
                                    consecutiveGatewayErrors:
                                      description: Number of gateway errors before
                                        a host is ejected from the connection pool.
                                      nullable: true
                                      type: integer
                                    consecutiveLocalOriginFailures:
                                      description: The number of consecutive locally
                                        originated failures before ejection occurs.
                                      nullable: true
                                      type: integer
                                    interval:
                                      description: Time interval between ejection
                                        sweep analysis.
                                      type: string
                                    maxEjectionPercent:
                                      description: Maximum % of hosts in the load
                                        balancing pool for the upstream service that
                                        can be ejected.
                                      format: int32
                                      type: integer
                                    minHealthPercent:
                                      description: Outlier detection will be enabled
                                        as long as the associated load balancing pool
                                        has at least min_health_percent hosts in healthy
                                        mode.
                                      format: int32
                                      type: integer
                                    splitExternalLocalOriginErrors:
                                      description: Determines whether to distinguish
                                        local origin failures from external errors.
                                      type: boolean
                                  type: object
                                port:
                                  description: Specifies the number of a port on the
                                    destination service on which this policy is being
                                    applied.
                                  properties:
                                    number:
                                      type: integer
                                  type: object
                                tls:
                                  description: TLS related settings for connections
                                    to the upstream service.
                                  properties:
                                    caCertificates:
                                      description: 'OPTIONAL: The path to the file
                                        containing certificate authority certificates
                                        to use in verifying a presented server certificate.'
                                      type: string
                                    clientCertificate:
                                      description: REQUIRED if mode is `MUTUAL`.
                                      type: string
                                    credentialName:
                                      description: The name of the secret that holds
                                        the TLS certs for the client including the
                                        CA certificates.
                                      type: string
                                    insecureSkipVerify:
                                      description: '`insecureSkipVerify` specifies
                                        whether the proxy should skip verifying the
                                        CA signature and SAN for the server certificate
                                        corresponding to the host.'
                                      nullable: true
                                      type: boolean
                                    mode:
                                      description: Indicates whether connections to
                                        this port should be secured using TLS.
                                      enum:
                                      - DISABLE
                                      - SIMPLE
                                      - MUTUAL
                                      - ISTIO_MUTUAL
                                      type: string
                                    privateKey:
                                      description: REQUIRED if mode is `MUTUAL`.
                                      type: string
                                    sni:
                                      description: SNI string to present to the server
                                        during TLS handshake.
                                      type: string
                                    subjectAltNames:
                                      description: A list of alternate names to verify
                                        the subject identity in the certificate.
                                      items:
                                        type: string
                                      type: array
                                  type: object
                              type: object
                            type: array
                          proxyProtocol:
                            description: The upstream PROXY protocol settings.
                            properties:
                              version:
                                description: The PROXY protocol version to use.
                                enum:
                                - V1
                                - V2
                                type: string
                            type: object
                          tls:
                            description: TLS related settings for connections to the
                              upstream service.
                            properties:
                              caCertificates:
                                description: 'OPTIONAL: The path to the file containing
                                  certificate authority certificates to use in verifying
                                  a presented server certificate.'
                                type: string
                              clientCertificate:
                                description: REQUIRED if mode is `MUTUAL`.
                                type: string
                              credentialName:
                                description: The name of the secret that holds the
                                  TLS certs for the client including the CA certificates.
                                type: string
                              insecureSkipVerify:
                                description: '`insecureSkipVerify` specifies whether
                                  the proxy should skip verifying the CA signature
                                  and SAN for the server certificate corresponding
                                  to the host.'
                                nullable: true
                                type: boolean
                              mode:
                                description: Indicates whether connections to this
                                  port should be secured using TLS.
                                enum:
                                - DISABLE
                                - SIMPLE
                                - MUTUAL
                                - ISTIO_MUTUAL
                                type: string
                              privateKey:
                                description: REQUIRED if mode is `MUTUAL`.
                                type: string
                              sni:
                                description: SNI string to present to the server during
                                  TLS handshake.
                                type: string
                              subjectAltNames:
                                description: A list of alternate names to verify the
                                  subject identity in the certificate.
                                items:
                                  type: string
                                type: array
                            type: object
                          tunnel:
                            description: Configuration of tunneling TCP over other
                              transport or application layers for the host configured
                              in the DestinationRule.
                            properties:
                              protocol:
                                description: Specifies which protocol to use for tunneling
                                  the downstream connection.
                                type: string
                              targetHost:
                                description: Specifies a host to which the downstream
                                  connection is tunneled.
                                type: string
                              targetPort:
                                description: Specifies a port to which the downstream
                                  connection is tunneled.
                                type: integer
                            required:
                            - targetHost
                            - targetPort
                            type: object
                        type: object
                    required:
                    - name
                    type: object
                  type: array
                trafficPolicy:
                  description: Traffic policies to apply (load balancing policy, connection
                    pool sizes, outlier detection).
                  properties:
                    connectionPool:
                      properties:
                        http:
                          description: HTTP connection pool settings.
                          properties:
                            h2UpgradePolicy:
                              description: Specify if http1.1 connection should be
                                upgraded to http2 for the associated destination.
                              enum:
                              - DEFAULT
                              - DO_NOT_UPGRADE
                              - UPGRADE
                              type: string
                            http1MaxPendingRequests:
                              description: Maximum number of requests that will be
                                queued while waiting for a ready connection pool connection.
                              format: int32
                              type: integer
                            http2MaxRequests:
                              description: Maximum number of active requests to a
                                destination.
                              format: int32
                              type: integer
                            idleTimeout:
                              description: The idle timeout for upstream connection
                                pool connections.
                              type: string
                            maxConcurrentStreams:
                              description: The maximum number of concurrent streams
                                allowed for a peer on one HTTP/2 connection.
                              format: int32
                              type: integer
                            maxRequestsPerConnection:
                              description: Maximum number of requests per connection
                                to a backend.
                              format: int32
                              type: integer
                            maxRetries:
                              description: Maximum number of retries that can be outstanding
                                to all hosts in a cluster at a given time.
                              format: int32
                              type: integer
                            useClientProtocol:
                              description: If set to true, client protocol will be
                                preserved while initiating connection to backend.
                              type: boolean
                          type: object
                        tcp:
                          description: Settings common to both HTTP and TCP upstream
                            connections.
                          properties:
                            connectTimeout:
                              description: TCP connection timeout.
                              type: string
                            idleTimeout:
                              description: The idle timeout for TCP connections.
                              type: string
                            maxConnectionDuration:
                              description: The maximum duration of a connection.
                              type: string
                            maxConnections:
                              description: Maximum number of HTTP1 /TCP connections
                                to a destination host.
                              format: int32
                              type: integer
                            tcpKeepalive:
                              description: If set then set SO_KEEPALIVE on the socket
                                to enable TCP Keepalives.
                              properties:
                                interval:
                                  description: The time duration between keep-alive
                                    probes.
                                  type: string
                                probes:
                                  description: Maximum number of keepalive probes
                                    to send without response before deciding the connection
                                    is dead.
                                  type: integer
                                time:
                                  description: The time duration a connection needs
                                    to be idle before keep-alive probes start being
                                    sent.
                                  type: string
                              type: object
                          type: object
                      type: object
                    loadBalancer:
                      description: Settings controlling the load balancer algorithms.
                      oneOf:
                      - not:
                          anyOf:
                          - required:
                            - simple
                          - required:
                            - consistentHash
                      - required:
                        - simple
                      - required:
                        - consistentHash
                      properties:
                        consistentHash:
                          allOf:
                          - oneOf:
                            - not:
                                anyOf:
                                - required:
                                  - httpHeaderName
                                - required:
                                  - httpCookie
                                - required:
                                  - useSourceIp
                                - required:
                                  - httpQueryParameterName
                            - required:
                              - httpHeaderName
                            - required:
                              - httpCookie
                            - required:
                              - useSourceIp
                            - required:
                              - httpQueryParameterName
                          - oneOf:
                            - not:
                                anyOf:
                                - required:
                                  - ringHash
                                - required:
                                  - maglev
                            - required:
                              - ringHash
                            - required:
                              - maglev
                          properties:
                            httpCookie:
                              description: Hash based on HTTP cookie.
                              properties:
                                name:
                                  description: Name of the cookie.
                                  type: string
                                path:
                                  description: Path to set for the cookie.
                                  type: string
                                ttl:
                                  description: Lifetime of the cookie.
                                  type: string
                              required:
                              - name
                              type: object
                            httpHeaderName:
                              description: Hash based on a specific HTTP header.
                              type: string
                            httpQueryParameterName:
                              description: Hash based on a specific HTTP query parameter.
                              type: string
                            maglev:
                              description: The Maglev load balancer implements consistent
                                hashing to backend hosts.
                              properties:
                                tableSize:
                                  description: The table size for Maglev hashing.
                                  type: integer
                              type: object
                            minimumRingSize:
                              description: Deprecated.
                              type: integer
                            ringHash:
                              description: The ring/modulo hash load balancer implements
                                consistent hashing to backend hosts.
                              properties:
                                minimumRingSize:
                                  description: The minimum number of virtual nodes
                                    to use for the hash ring.
                                  type: integer
                              type: object
                            useSourceIp:
                              description: Hash based on the source IP address.
                              type: boolean
                          type: object
                        localityLbSetting:
                          properties:
                            distribute:
                              description: 'Optional: only one of distribute, failover
                                or failoverPriority can be set.'
                              items:
                                properties:
                                  from:
                                    description: Originating locality, '/' separated,
                                      e.g.
                                    type: string
                                  to:
                                    additionalProperties:
                                      type: integer
                                    description: Map of upstream localities to traffic
                                      distribution weights.
                                    type: object
                                type: object
                              type: array
                            enabled:
                              description: enable locality load balancing, this is
                                DestinationRule-level and will override mesh wide
                                settings in entirety.
                              nullable: true
                              type: boolean
                            failover:
                              description: 'Optional: only one of distribute, failover
                                or failoverPriority can be set.'
                              items:
                                properties:
                                  from:
                                    description: Originating region.
                                    type: string
                                  to:
                                    description: Destination region the traffic will
                                      fail over to when endpoints in the 'from' region
                                      becomes unhealthy.
                                    type: string
                                type: object
                              type: array
                            failoverPriority:
                              description: failoverPriority is an ordered list of
                                labels used to sort endpoints to do priority based
                                load balancing.
                              items:
                                type: string
                              type: array
                          type: object
                        simple:
                          enum:
                          - UNSPECIFIED
                          - LEAST_CONN
                          - RANDOM
                          - PASSTHROUGH
                          - ROUND_ROBIN
                          - LEAST_REQUEST
                          type: string
                        warmupDurationSecs:
                          description: Represents the warmup duration of Service.
                          type: string
                      type: object
                    outlierDetection:
                      properties:
                        baseEjectionTime:
                          description: Minimum ejection duration.
                          type: string
                        consecutive5xxErrors:
                          description: Number of 5xx errors before a host is ejected
                            from the connection pool.
                          nullable: true
                          type: integer
                        consecutiveErrors:
                          format: int32
                          type: integer
                        consecutiveGatewayErrors:
                          description: Number of gateway errors before a host is ejected
                            from the connection pool.
                          nullable: true
                          type: integer
                        consecutiveLocalOriginFailures:
                          description: The number of consecutive locally originated
                            failures before ejection occurs.
                          nullable: true
                          type: integer
                        interval:
                          description: Time interval between ejection sweep analysis.
                          type: string
                        maxEjectionPercent:
                          description: Maximum % of hosts in the load balancing pool
                            for the upstream service that can be ejected.
                          format: int32
                          type: integer
                        minHealthPercent:
                          description: Outlier detection will be enabled as long as
                            the associated load balancing pool has at least min_health_percent
                            hosts in healthy mode.
                          format: int32
                          type: integer
                        splitExternalLocalOriginErrors:
                          description: Determines whether to distinguish local origin
                            failures from external errors.
                          type: boolean
                      type: object
                    portLevelSettings:
                      description: Traffic policies specific to individual ports.
                      items:
                        properties:
                          connectionPool:
                            properties:
                              http:
                                description: HTTP connection pool settings.
                                properties:
                                  h2UpgradePolicy:
                                    description: Specify if http1.1 connection should
                                      be upgraded to http2 for the associated destination.
                                    enum:
                                    - DEFAULT
                                    - DO_NOT_UPGRADE
                                    - UPGRADE
                                    type: string
                                  http1MaxPendingRequests:
                                    description: Maximum number of requests that will
                                      be queued while waiting for a ready connection
                                      pool connection.
                                    format: int32
                                    type: integer
                                  http2MaxRequests:
                                    description: Maximum number of active requests
                                      to a destination.
                                    format: int32
                                    type: integer
                                  idleTimeout:
                                    description: The idle timeout for upstream connection
                                      pool connections.
                                    type: string
                                  maxConcurrentStreams:
                                    description: The maximum number of concurrent
                                      streams allowed for a peer on one HTTP/2 connection.
                                    format: int32
                                    type: integer
                                  maxRequestsPerConnection:
                                    description: Maximum number of requests per connection
                                      to a backend.
                                    format: int32
                                    type: integer
                                  maxRetries:
                                    description: Maximum number of retries that can
                                      be outstanding to all hosts in a cluster at
                                      a given time.
                                    format: int32
                                    type: integer
                                  useClientProtocol:
                                    description: If set to true, client protocol will
                                      be preserved while initiating connection to
                                      backend.
                                    type: boolean
                                type: object
                              tcp:
                                description: Settings common to both HTTP and TCP
                                  upstream connections.
                                properties:
                                  connectTimeout:
                                    description: TCP connection timeout.
                                    type: string
                                  idleTimeout:
                                    description: The idle timeout for TCP connections.
                                    type: string
                                  maxConnectionDuration:
                                    description: The maximum duration of a connection.
                                    type: string
                                  maxConnections:
                                    description: Maximum number of HTTP1 /TCP connections
                                      to a destination host.
                                    format: int32
                                    type: integer
                                  tcpKeepalive:
                                    description: If set then set SO_KEEPALIVE on the
                                      socket to enable TCP Keepalives.
                                    properties:
                                      interval:
                                        description: The time duration between keep-alive
                                          probes.
                                        type: string
                                      probes:
                                        description: Maximum number of keepalive probes
                                          to send without response before deciding
                                          the connection is dead.
                                        type: integer
                                      time:
                                        description: The time duration a connection
                                          needs to be idle before keep-alive probes
                                          start being sent.
                                        type: string
                                    type: object
                                type: object
                            type: object
                          loadBalancer:
                            description: Settings controlling the load balancer algorithms.
                            oneOf:
                            - not:
                                anyOf:
                                - required:
                                  - simple
                                - required:
                                  - consistentHash
                            - required:
                              - simple
                            - required:
                              - consistentHash
                            properties:
                              consistentHash:
                                allOf:
                                - oneOf:
                                  - not:
                                      anyOf:
                                      - required:
                                        - httpHeaderName
                                      - required:
                                        - httpCookie
                                      - required:
                                        - useSourceIp
                                      - required:
                                        - httpQueryParameterName
                                  - required:
                                    - httpHeaderName
                                  - required:
                                    - httpCookie
                                  - required:
                                    - useSourceIp
                                  - required:
                                    - httpQueryParameterName
                                - oneOf:
                                  - not:
                                      anyOf:
                                      - required:
                                        - ringHash
                                      - required:
                                        - maglev
                                  - required:
                                    - ringHash
                                  - required:
                                    - maglev
                                properties:
                                  httpCookie:
                                    description: Hash based on HTTP cookie.
                                    properties:
                                      name:
                                        description: Name of the cookie.
                                        type: string
                                      path:
                                        description: Path to set for the cookie.
                                        type: string
                                      ttl:
                                        description: Lifetime of the cookie.
                                        type: string
                                    required:
                                    - name
                                    type: object
                                  httpHeaderName:
                                    description: Hash based on a specific HTTP header.
                                    type: string
                                  httpQueryParameterName:
                                    description: Hash based on a specific HTTP query
                                      parameter.
                                    type: string
                                  maglev:
                                    description: The Maglev load balancer implements
                                      consistent hashing to backend hosts.
                                    properties:
                                      tableSize:
                                        description: The table size for Maglev hashing.
                                        type: integer
                                    type: object
                                  minimumRingSize:
                                    description: Deprecated.
                                    type: integer
                                  ringHash:
                                    description: The ring/modulo hash load balancer
                                      implements consistent hashing to backend hosts.
                                    properties:
                                      minimumRingSize:
                                        description: The minimum number of virtual
                                          nodes to use for the hash ring.
                                        type: integer
                                    type: object
                                  useSourceIp:
                                    description: Hash based on the source IP address.
                                    type: boolean
                                type: object
                              localityLbSetting:
                                properties:
                                  distribute:
                                    description: 'Optional: only one of distribute,
                                      failover or failoverPriority can be set.'
                                    items:
                                      properties:
                                        from:
                                          description: Originating locality, '/' separated,
                                            e.g.
                                          type: string
                                        to:
                                          additionalProperties:
                                            type: integer
                                          description: Map of upstream localities
                                            to traffic distribution weights.
                                          type: object
                                      type: object
                                    type: array
                                  enabled:
                                    description: enable locality load balancing, this
                                      is DestinationRule-level and will override mesh
                                      wide settings in entirety.
                                    nullable: true
                                    type: boolean
                                  failover:
                                    description: 'Optional: only one of distribute,
                                      failover or failoverPriority can be set.'
                                    items:
                                      properties:
                                        from:
                                          description: Originating region.
                                          type: string
                                        to:
                                          description: Destination region the traffic
                                            will fail over to when endpoints in the
                                            'from' region becomes unhealthy.
                                          type: string
                                      type: object
                                    type: array
                                  failoverPriority:
                                    description: failoverPriority is an ordered list
                                      of labels used to sort endpoints to do priority
                                      based load balancing.
                                    items:
                                      type: string
                                    type: array
                                type: object
                              simple:
                                enum:
                                - UNSPECIFIED
                                - LEAST_CONN
                                - RANDOM
                                - PASSTHROUGH
                                - ROUND_ROBIN
                                - LEAST_REQUEST
                                type: string
                              warmupDurationSecs:
                                description: Represents the warmup duration of Service.
                                type: string
                            type: object
                          outlierDetection:
                            properties:
                              baseEjectionTime:
                                description: Minimum ejection duration.
                                type: string
                              consecutive5xxErrors:
                                description: Number of 5xx errors before a host is
                                  ejected from the connection pool.
                                nullable: true
                                type: integer
                              consecutiveErrors:
                                format: int32
                                type: integer
                              consecutiveGatewayErrors:
                                description: Number of gateway errors before a host
                                  is ejected from the connection pool.
                                nullable: true
                                type: integer
                              consecutiveLocalOriginFailures:
                                description: The number of consecutive locally originated
                                  failures before ejection occurs.
                                nullable: true
                                type: integer
                              interval:
                                description: Time interval between ejection sweep
                                  analysis.
                                type: string
                              maxEjectionPercent:
                                description: Maximum % of hosts in the load balancing
                                  pool for the upstream service that can be ejected.
                                format: int32
                                type: integer
                              minHealthPercent:
                                description: Outlier detection will be enabled as
                                  long as the associated load balancing pool has at
                                  least min_health_percent hosts in healthy mode.
                                format: int32
                                type: integer
                              splitExternalLocalOriginErrors:
                                description: Determines whether to distinguish local
                                  origin failures from external errors.
                                type: boolean
                            type: object
                          port:
                            description: Specifies the number of a port on the destination
                              service on which this policy is being applied.
                            properties:
                              number:
                                type: integer
                            type: object
                          tls:
                            description: TLS related settings for connections to the
                              upstream service.
                            properties:
                              caCertificates:
                                description: 'OPTIONAL: The path to the file containing
                                  certificate authority certificates to use in verifying
                                  a presented server certificate.'
                                type: string
                              clientCertificate:
                                description: REQUIRED if mode is `MUTUAL`.
                                type: string
                              credentialName:
                                description: The name of the secret that holds the
                                  TLS certs for the client including the CA certificates.
                                type: string
                              insecureSkipVerify:
                                description: '`insecureSkipVerify` specifies whether
                                  the proxy should skip verifying the CA signature
                                  and SAN for the server certificate corresponding
                                  to the host.'
                                nullable: true
                                type: boolean
                              mode:
                                description: Indicates whether connections to this
                                  port should be secured using TLS.
                                enum:
                                - DISABLE
                                - SIMPLE
                                - MUTUAL
                                - ISTIO_MUTUAL
                                type: string
                              privateKey:
                                description: REQUIRED if mode is `MUTUAL`.
                                type: string
                              sni:
                                description: SNI string to present to the server during
                                  TLS handshake.
                                type: string
                              subjectAltNames:
                                description: A list of alternate names to verify the
                                  subject identity in the certificate.
                                items:
                                  type: string
                                type: array
                            type: object
                        type: object
                      type: array
                    proxyProtocol:
                      description: The upstream PROXY protocol settings.
                      properties:
                        version:
                          description: The PROXY protocol version to use.
                          enum:
                          - V1
                          - V2
                          type: string
                      type: object
                    tls:
                      description: TLS related settings for connections to the upstream
                        service.
                      properties:
                        caCertificates:
                          description: 'OPTIONAL: The path to the file containing
                            certificate authority certificates to use in verifying
                            a presented server certificate.'
                          type: string
                        clientCertificate:
                          description: REQUIRED if mode is `MUTUAL`.
                          type: string
                        credentialName:
                          description: The name of the secret that holds the TLS certs
                            for the client including the CA certificates.
                          type: string
                        insecureSkipVerify:
                          description: '`insecureSkipVerify` specifies whether the
                            proxy should skip verifying the CA signature and SAN for
                            the server certificate corresponding to the host.'
                          nullable: true
                          type: boolean
                        mode:
                          description: Indicates whether connections to this port
                            should be secured using TLS.
                          enum:
                          - DISABLE
                          - SIMPLE
                          - MUTUAL
                          - ISTIO_MUTUAL
                          type: string
                        privateKey:
                          description: REQUIRED if mode is `MUTUAL`.
                          type: string
                        sni:
                          description: SNI string to present to the server during
                            TLS handshake.
                          type: string
                        subjectAltNames:
                          description: A list of alternate names to verify the subject
                            identity in the certificate.
                          items:
                            type: string
                          type: array
                      type: object
                    tunnel:
                      description: Configuration of tunneling TCP over other transport
                        or application layers for the host configured in the DestinationRule.
                      properties:
                        protocol:
                          description: Specifies which protocol to use for tunneling
                            the downstream connection.
                          type: string
                        targetHost:
                          description: Specifies a host to which the downstream connection
                            is tunneled.
                          type: string
                        targetPort:
                          description: Specifies a port to which the downstream connection
                            is tunneled.
                          type: integer
                      required:
                      - targetHost
                      - targetPort
                      type: object
                  type: object
                workloadSelector:
                  description: Criteria used to select the specific set of pods/VMs
                    on which this `DestinationRule` configuration should be applied.
                  properties:
                    matchLabels:
                      additionalProperties:
                        type: string
                      description: One or more labels that indicate a specific set
                        of pods/VMs on which a policy should be applied.
                      type: object
                  type: object
              required:
              - host
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: true
      subresources:
        status: {}
    - additionalPrinterColumns:
      - description: The name of a service from the service registry
        jsonPath: .spec.host
        name: Host
        type: string
      - description: 'CreationTimestamp is a timestamp representing the server time
          when this object was created. It is not guaranteed to be set in happens-before
          order across separate operations. Clients may not set this value. It is
          represented in RFC3339 form and is in UTC. Populated by the system. Read-only.
          Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
        jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1beta1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting load balancing, outlier detection,
                etc. See more details at: https://istio.io/docs/reference/config/networking/destination-rule.html'
              properties:
                exportTo:
                  description: A list of namespaces to which this destination rule
                    is exported.
                  items:
                    type: string
                  type: array
                host:
                  description: The name of a service from the service registry.
                  type: string
                subsets:
                  description: One or more named sets that represent individual versions
                    of a service.
                  items:
                    properties:
                      labels:
                        additionalProperties:
                          type: string
                        description: Labels apply a filter over the endpoints of a
                          service in the service registry.
                        type: object
                      name:
                        description: Name of the subset.
                        type: string
                      trafficPolicy:
                        description: Traffic policies that apply to this subset.
                        properties:
                          connectionPool:
                            properties:
                              http:
                                description: HTTP connection pool settings.
                                properties:
                                  h2UpgradePolicy:
                                    description: Specify if http1.1 connection should
                                      be upgraded to http2 for the associated destination.
                                    enum:
                                    - DEFAULT
                                    - DO_NOT_UPGRADE
                                    - UPGRADE
                                    type: string
                                  http1MaxPendingRequests:
                                    description: Maximum number of requests that will
                                      be queued while waiting for a ready connection
                                      pool connection.
                                    format: int32
                                    type: integer
                                  http2MaxRequests:
                                    description: Maximum number of active requests
                                      to a destination.
                                    format: int32
                                    type: integer
                                  idleTimeout:
                                    description: The idle timeout for upstream connection
                                      pool connections.
                                    type: string
                                  maxConcurrentStreams:
                                    description: The maximum number of concurrent
                                      streams allowed for a peer on one HTTP/2 connection.
                                    format: int32
                                    type: integer
                                  maxRequestsPerConnection:
                                    description: Maximum number of requests per connection
                                      to a backend.
                                    format: int32
                                    type: integer
                                  maxRetries:
                                    description: Maximum number of retries that can
                                      be outstanding to all hosts in a cluster at
                                      a given time.
                                    format: int32
                                    type: integer
                                  useClientProtocol:
                                    description: If set to true, client protocol will
                                      be preserved while initiating connection to
                                      backend.
                                    type: boolean
                                type: object
                              tcp:
                                description: Settings common to both HTTP and TCP
                                  upstream connections.
                                properties:
                                  connectTimeout:
                                    description: TCP connection timeout.
                                    type: string
                                  idleTimeout:
                                    description: The idle timeout for TCP connections.
                                    type: string
                                  maxConnectionDuration:
                                    description: The maximum duration of a connection.
                                    type: string
                                  maxConnections:
                                    description: Maximum number of HTTP1 /TCP connections
                                      to a destination host.
                                    format: int32
                                    type: integer
                                  tcpKeepalive:
                                    description: If set then set SO_KEEPALIVE on the
                                      socket to enable TCP Keepalives.
                                    properties:
                                      interval:
                                        description: The time duration between keep-alive
                                          probes.
                                        type: string
                                      probes:
                                        description: Maximum number of keepalive probes
                                          to send without response before deciding
                                          the connection is dead.
                                        type: integer
                                      time:
                                        description: The time duration a connection
                                          needs to be idle before keep-alive probes
                                          start being sent.
                                        type: string
                                    type: object
                                type: object
                            type: object
                          loadBalancer:
                            description: Settings controlling the load balancer algorithms.
                            oneOf:
                            - not:
                                anyOf:
                                - required:
                                  - simple
                                - required:
                                  - consistentHash
                            - required:
                              - simple
                            - required:
                              - consistentHash
                            properties:
                              consistentHash:
                                allOf:
                                - oneOf:
                                  - not:
                                      anyOf:
                                      - required:
                                        - httpHeaderName
                                      - required:
                                        - httpCookie
                                      - required:
                                        - useSourceIp
                                      - required:
                                        - httpQueryParameterName
                                  - required:
                                    - httpHeaderName
                                  - required:
                                    - httpCookie
                                  - required:
                                    - useSourceIp
                                  - required:
                                    - httpQueryParameterName
                                - oneOf:
                                  - not:
                                      anyOf:
                                      - required:
                                        - ringHash
                                      - required:
                                        - maglev
                                  - required:
                                    - ringHash
                                  - required:
                                    - maglev
                                properties:
                                  httpCookie:
                                    description: Hash based on HTTP cookie.
                                    properties:
                                      name:
                                        description: Name of the cookie.
                                        type: string
                                      path:
                                        description: Path to set for the cookie.
                                        type: string
                                      ttl:
                                        description: Lifetime of the cookie.
                                        type: string
                                    required:
                                    - name
                                    type: object
                                  httpHeaderName:
                                    description: Hash based on a specific HTTP header.
                                    type: string
                                  httpQueryParameterName:
                                    description: Hash based on a specific HTTP query
                                      parameter.
                                    type: string
                                  maglev:
                                    description: The Maglev load balancer implements
                                      consistent hashing to backend hosts.
                                    properties:
                                      tableSize:
                                        description: The table size for Maglev hashing.
                                        type: integer
                                    type: object
                                  minimumRingSize:
                                    description: Deprecated.
                                    type: integer
                                  ringHash:
                                    description: The ring/modulo hash load balancer
                                      implements consistent hashing to backend hosts.
                                    properties:
                                      minimumRingSize:
                                        description: The minimum number of virtual
                                          nodes to use for the hash ring.
                                        type: integer
                                    type: object
                                  useSourceIp:
                                    description: Hash based on the source IP address.
                                    type: boolean
                                type: object
                              localityLbSetting:
                                properties:
                                  distribute:
                                    description: 'Optional: only one of distribute,
                                      failover or failoverPriority can be set.'
                                    items:
                                      properties:
                                        from:
                                          description: Originating locality, '/' separated,
                                            e.g.
                                          type: string
                                        to:
                                          additionalProperties:
                                            type: integer
                                          description: Map of upstream localities
                                            to traffic distribution weights.
                                          type: object
                                      type: object
                                    type: array
                                  enabled:
                                    description: enable locality load balancing, this
                                      is DestinationRule-level and will override mesh
                                      wide settings in entirety.
                                    nullable: true
                                    type: boolean
                                  failover:
                                    description: 'Optional: only one of distribute,
                                      failover or failoverPriority can be set.'
                                    items:
                                      properties:
                                        from:
                                          description: Originating region.
                                          type: string
                                        to:
                                          description: Destination region the traffic
                                            will fail over to when endpoints in the
                                            'from' region becomes unhealthy.
                                          type: string
                                      type: object
                                    type: array
                                  failoverPriority:
                                    description: failoverPriority is an ordered list
                                      of labels used to sort endpoints to do priority
                                      based load balancing.
                                    items:
                                      type: string
                                    type: array
                                type: object
                              simple:
                                enum:
                                - UNSPECIFIED
                                - LEAST_CONN
                                - RANDOM
                                - PASSTHROUGH
                                - ROUND_ROBIN
                                - LEAST_REQUEST
                                type: string
                              warmupDurationSecs:
                                description: Represents the warmup duration of Service.
                                type: string
                            type: object
                          outlierDetection:
                            properties:
                              baseEjectionTime:
                                description: Minimum ejection duration.
                                type: string
                              consecutive5xxErrors:
                                description: Number of 5xx errors before a host is
                                  ejected from the connection pool.
                                nullable: true
                                type: integer
                              consecutiveErrors:
                                format: int32
                                type: integer
                              consecutiveGatewayErrors:
                                description: Number of gateway errors before a host
                                  is ejected from the connection pool.
                                nullable: true
                                type: integer
                              consecutiveLocalOriginFailures:
                                description: The number of consecutive locally originated
                                  failures before ejection occurs.
                                nullable: true
                                type: integer
                              interval:
                                description: Time interval between ejection sweep
                                  analysis.
                                type: string
                              maxEjectionPercent:
                                description: Maximum % of hosts in the load balancing
                                  pool for the upstream service that can be ejected.
                                format: int32
                                type: integer
                              minHealthPercent:
                                description: Outlier detection will be enabled as
                                  long as the associated load balancing pool has at
                                  least min_health_percent hosts in healthy mode.
                                format: int32
                                type: integer
                              splitExternalLocalOriginErrors:
                                description: Determines whether to distinguish local
                                  origin failures from external errors.
                                type: boolean
                            type: object
                          portLevelSettings:
                            description: Traffic policies specific to individual ports.
                            items:
                              properties:
                                connectionPool:
                                  properties:
                                    http:
                                      description: HTTP connection pool settings.
                                      properties:
                                        h2UpgradePolicy:
                                          description: Specify if http1.1 connection
                                            should be upgraded to http2 for the associated
                                            destination.
                                          enum:
                                          - DEFAULT
                                          - DO_NOT_UPGRADE
                                          - UPGRADE
                                          type: string
                                        http1MaxPendingRequests:
                                          description: Maximum number of requests
                                            that will be queued while waiting for
                                            a ready connection pool connection.
                                          format: int32
                                          type: integer
                                        http2MaxRequests:
                                          description: Maximum number of active requests
                                            to a destination.
                                          format: int32
                                          type: integer
                                        idleTimeout:
                                          description: The idle timeout for upstream
                                            connection pool connections.
                                          type: string
                                        maxConcurrentStreams:
                                          description: The maximum number of concurrent
                                            streams allowed for a peer on one HTTP/2
                                            connection.
                                          format: int32
                                          type: integer
                                        maxRequestsPerConnection:
                                          description: Maximum number of requests
                                            per connection to a backend.
                                          format: int32
                                          type: integer
                                        maxRetries:
                                          description: Maximum number of retries that
                                            can be outstanding to all hosts in a cluster
                                            at a given time.
                                          format: int32
                                          type: integer
                                        useClientProtocol:
                                          description: If set to true, client protocol
                                            will be preserved while initiating connection
                                            to backend.
                                          type: boolean
                                      type: object
                                    tcp:
                                      description: Settings common to both HTTP and
                                        TCP upstream connections.
                                      properties:
                                        connectTimeout:
                                          description: TCP connection timeout.
                                          type: string
                                        idleTimeout:
                                          description: The idle timeout for TCP connections.
                                          type: string
                                        maxConnectionDuration:
                                          description: The maximum duration of a connection.
                                          type: string
                                        maxConnections:
                                          description: Maximum number of HTTP1 /TCP
                                            connections to a destination host.
                                          format: int32
                                          type: integer
                                        tcpKeepalive:
                                          description: If set then set SO_KEEPALIVE
                                            on the socket to enable TCP Keepalives.
                                          properties:
                                            interval:
                                              description: The time duration between
                                                keep-alive probes.
                                              type: string
                                            probes:
                                              description: Maximum number of keepalive
                                                probes to send without response before
                                                deciding the connection is dead.
                                              type: integer
                                            time:
                                              description: The time duration a connection
                                                needs to be idle before keep-alive
                                                probes start being sent.
                                              type: string
                                          type: object
                                      type: object
                                  type: object
                                loadBalancer:
                                  description: Settings controlling the load balancer
                                    algorithms.
                                  oneOf:
                                  - not:
                                      anyOf:
                                      - required:
                                        - simple
                                      - required:
                                        - consistentHash
                                  - required:
                                    - simple
                                  - required:
                                    - consistentHash
                                  properties:
                                    consistentHash:
                                      allOf:
                                      - oneOf:
                                        - not:
                                            anyOf:
                                            - required:
                                              - httpHeaderName
                                            - required:
                                              - httpCookie
                                            - required:
                                              - useSourceIp
                                            - required:
                                              - httpQueryParameterName
                                        - required:
                                          - httpHeaderName
                                        - required:
                                          - httpCookie
                                        - required:
                                          - useSourceIp
                                        - required:
                                          - httpQueryParameterName
                                      - oneOf:
                                        - not:
                                            anyOf:
                                            - required:
                                              - ringHash
                                            - required:
                                              - maglev
                                        - required:
                                          - ringHash
                                        - required:
                                          - maglev
                                      properties:
                                        httpCookie:
                                          description: Hash based on HTTP cookie.
                                          properties:
                                            name:
                                              description: Name of the cookie.
                                              type: string
                                            path:
                                              description: Path to set for the cookie.
                                              type: string
                                            ttl:
                                              description: Lifetime of the cookie.
                                              type: string
                                          required:
                                          - name
                                          type: object
                                        httpHeaderName:
                                          description: Hash based on a specific HTTP
                                            header.
                                          type: string
                                        httpQueryParameterName:
                                          description: Hash based on a specific HTTP
                                            query parameter.
                                          type: string
                                        maglev:
                                          description: The Maglev load balancer implements
                                            consistent hashing to backend hosts.
                                          properties:
                                            tableSize:
                                              description: The table size for Maglev
                                                hashing.
                                              type: integer
                                          type: object
                                        minimumRingSize:
                                          description: Deprecated.
                                          type: integer
                                        ringHash:
                                          description: The ring/modulo hash load balancer
                                            implements consistent hashing to backend
                                            hosts.
                                          properties:
                                            minimumRingSize:
                                              description: The minimum number of virtual
                                                nodes to use for the hash ring.
                                              type: integer
                                          type: object
                                        useSourceIp:
                                          description: Hash based on the source IP
                                            address.
                                          type: boolean
                                      type: object
                                    localityLbSetting:
                                      properties:
                                        distribute:
                                          description: 'Optional: only one of distribute,
                                            failover or failoverPriority can be set.'
                                          items:
                                            properties:
                                              from:
                                                description: Originating locality,
                                                  '/' separated, e.g.
                                                type: string
                                              to:
                                                additionalProperties:
                                                  type: integer
                                                description: Map of upstream localities
                                                  to traffic distribution weights.
                                                type: object
                                            type: object
                                          type: array
                                        enabled:
                                          description: enable locality load balancing,
                                            this is DestinationRule-level and will
                                            override mesh wide settings in entirety.
                                          nullable: true
                                          type: boolean
                                        failover:
                                          description: 'Optional: only one of distribute,
                                            failover or failoverPriority can be set.'
                                          items:
                                            properties:
                                              from:
                                                description: Originating region.
                                                type: string
                                              to:
                                                description: Destination region the
                                                  traffic will fail over to when endpoints
                                                  in the 'from' region becomes unhealthy.
                                                type: string
                                            type: object
                                          type: array
                                        failoverPriority:
                                          description: failoverPriority is an ordered
                                            list of labels used to sort endpoints
                                            to do priority based load balancing.
                                          items:
                                            type: string
                                          type: array
                                      type: object
                                    simple:
                                      enum:
                                      - UNSPECIFIED
                                      - LEAST_CONN
                                      - RANDOM
                                      - PASSTHROUGH
                                      - ROUND_ROBIN
                                      - LEAST_REQUEST
                                      type: string
                                    warmupDurationSecs:
                                      description: Represents the warmup duration
                                        of Service.
                                      type: string
                                  type: object
                                outlierDetection:
                                  properties:
                                    baseEjectionTime:
                                      description: Minimum ejection duration.
                                      type: string
                                    consecutive5xxErrors:
                                      description: Number of 5xx errors before a host
                                        is ejected from the connection pool.
                                      nullable: true
                                      type: integer
                                    consecutiveErrors:
                                      format: int32
                                      type: integer
                                    consecutiveGatewayErrors:
                                      description: Number of gateway errors before
                                        a host is ejected from the connection pool.
                                      nullable: true
                                      type: integer
                                    consecutiveLocalOriginFailures:
                                      description: The number of consecutive locally
                                        originated failures before ejection occurs.
                                      nullable: true
                                      type: integer
                                    interval:
                                      description: Time interval between ejection
                                        sweep analysis.
                                      type: string
                                    maxEjectionPercent:
                                      description: Maximum % of hosts in the load
                                        balancing pool for the upstream service that
                                        can be ejected.
                                      format: int32
                                      type: integer
                                    minHealthPercent:
                                      description: Outlier detection will be enabled
                                        as long as the associated load balancing pool
                                        has at least min_health_percent hosts in healthy
                                        mode.
                                      format: int32
                                      type: integer
                                    splitExternalLocalOriginErrors:
                                      description: Determines whether to distinguish
                                        local origin failures from external errors.
                                      type: boolean
                                  type: object
                                port:
                                  description: Specifies the number of a port on the
                                    destination service on which this policy is being
                                    applied.
                                  properties:
                                    number:
                                      type: integer
                                  type: object
                                tls:
                                  description: TLS related settings for connections
                                    to the upstream service.
                                  properties:
                                    caCertificates:
                                      description: 'OPTIONAL: The path to the file
                                        containing certificate authority certificates
                                        to use in verifying a presented server certificate.'
                                      type: string
                                    clientCertificate:
                                      description: REQUIRED if mode is `MUTUAL`.
                                      type: string
                                    credentialName:
                                      description: The name of the secret that holds
                                        the TLS certs for the client including the
                                        CA certificates.
                                      type: string
                                    insecureSkipVerify:
                                      description: '`insecureSkipVerify` specifies
                                        whether the proxy should skip verifying the
                                        CA signature and SAN for the server certificate
                                        corresponding to the host.'
                                      nullable: true
                                      type: boolean
                                    mode:
                                      description: Indicates whether connections to
                                        this port should be secured using TLS.
                                      enum:
                                      - DISABLE
                                      - SIMPLE
                                      - MUTUAL
                                      - ISTIO_MUTUAL
                                      type: string
                                    privateKey:
                                      description: REQUIRED if mode is `MUTUAL`.
                                      type: string
                                    sni:
                                      description: SNI string to present to the server
                                        during TLS handshake.
                                      type: string
                                    subjectAltNames:
                                      description: A list of alternate names to verify
                                        the subject identity in the certificate.
                                      items:
                                        type: string
                                      type: array
                                  type: object
                              type: object
                            type: array
                          proxyProtocol:
                            description: The upstream PROXY protocol settings.
                            properties:
                              version:
                                description: The PROXY protocol version to use.
                                enum:
                                - V1
                                - V2
                                type: string
                            type: object
                          tls:
                            description: TLS related settings for connections to the
                              upstream service.
                            properties:
                              caCertificates:
                                description: 'OPTIONAL: The path to the file containing
                                  certificate authority certificates to use in verifying
                                  a presented server certificate.'
                                type: string
                              clientCertificate:
                                description: REQUIRED if mode is `MUTUAL`.
                                type: string
                              credentialName:
                                description: The name of the secret that holds the
                                  TLS certs for the client including the CA certificates.
                                type: string
                              insecureSkipVerify:
                                description: '`insecureSkipVerify` specifies whether
                                  the proxy should skip verifying the CA signature
                                  and SAN for the server certificate corresponding
                                  to the host.'
                                nullable: true
                                type: boolean
                              mode:
                                description: Indicates whether connections to this
                                  port should be secured using TLS.
                                enum:
                                - DISABLE
                                - SIMPLE
                                - MUTUAL
                                - ISTIO_MUTUAL
                                type: string
                              privateKey:
                                description: REQUIRED if mode is `MUTUAL`.
                                type: string
                              sni:
                                description: SNI string to present to the server during
                                  TLS handshake.
                                type: string
                              subjectAltNames:
                                description: A list of alternate names to verify the
                                  subject identity in the certificate.
                                items:
                                  type: string
                                type: array
                            type: object
                          tunnel:
                            description: Configuration of tunneling TCP over other
                              transport or application layers for the host configured
                              in the DestinationRule.
                            properties:
                              protocol:
                                description: Specifies which protocol to use for tunneling
                                  the downstream connection.
                                type: string
                              targetHost:
                                description: Specifies a host to which the downstream
                                  connection is tunneled.
                                type: string
                              targetPort:
                                description: Specifies a port to which the downstream
                                  connection is tunneled.
                                type: integer
                            required:
                            - targetHost
                            - targetPort
                            type: object
                        type: object
                    required:
                    - name
                    type: object
                  type: array
                trafficPolicy:
                  description: Traffic policies to apply (load balancing policy, connection
                    pool sizes, outlier detection).
                  properties:
                    connectionPool:
                      properties:
                        http:
                          description: HTTP connection pool settings.
                          properties:
                            h2UpgradePolicy:
                              description: Specify if http1.1 connection should be
                                upgraded to http2 for the associated destination.
                              enum:
                              - DEFAULT
                              - DO_NOT_UPGRADE
                              - UPGRADE
                              type: string
                            http1MaxPendingRequests:
                              description: Maximum number of requests that will be
                                queued while waiting for a ready connection pool connection.
                              format: int32
                              type: integer
                            http2MaxRequests:
                              description: Maximum number of active requests to a
                                destination.
                              format: int32
                              type: integer
                            idleTimeout:
                              description: The idle timeout for upstream connection
                                pool connections.
                              type: string
                            maxConcurrentStreams:
                              description: The maximum number of concurrent streams
                                allowed for a peer on one HTTP/2 connection.
                              format: int32
                              type: integer
                            maxRequestsPerConnection:
                              description: Maximum number of requests per connection
                                to a backend.
                              format: int32
                              type: integer
                            maxRetries:
                              description: Maximum number of retries that can be outstanding
                                to all hosts in a cluster at a given time.
                              format: int32
                              type: integer
                            useClientProtocol:
                              description: If set to true, client protocol will be
                                preserved while initiating connection to backend.
                              type: boolean
                          type: object
                        tcp:
                          description: Settings common to both HTTP and TCP upstream
                            connections.
                          properties:
                            connectTimeout:
                              description: TCP connection timeout.
                              type: string
                            idleTimeout:
                              description: The idle timeout for TCP connections.
                              type: string
                            maxConnectionDuration:
                              description: The maximum duration of a connection.
                              type: string
                            maxConnections:
                              description: Maximum number of HTTP1 /TCP connections
                                to a destination host.
                              format: int32
                              type: integer
                            tcpKeepalive:
                              description: If set then set SO_KEEPALIVE on the socket
                                to enable TCP Keepalives.
                              properties:
                                interval:
                                  description: The time duration between keep-alive
                                    probes.
                                  type: string
                                probes:
                                  description: Maximum number of keepalive probes
                                    to send without response before deciding the connection
                                    is dead.
                                  type: integer
                                time:
                                  description: The time duration a connection needs
                                    to be idle before keep-alive probes start being
                                    sent.
                                  type: string
                              type: object
                          type: object
                      type: object
                    loadBalancer:
                      description: Settings controlling the load balancer algorithms.
                      oneOf:
                      - not:
                          anyOf:
                          - required:
                            - simple
                          - required:
                            - consistentHash
                      - required:
                        - simple
                      - required:
                        - consistentHash
                      properties:
                        consistentHash:
                          allOf:
                          - oneOf:
                            - not:
                                anyOf:
                                - required:
                                  - httpHeaderName
                                - required:
                                  - httpCookie
                                - required:
                                  - useSourceIp
                                - required:
                                  - httpQueryParameterName
                            - required:
                              - httpHeaderName
                            - required:
                              - httpCookie
                            - required:
                              - useSourceIp
                            - required:
                              - httpQueryParameterName
                          - oneOf:
                            - not:
                                anyOf:
                                - required:
                                  - ringHash
                                - required:
                                  - maglev
                            - required:
                              - ringHash
                            - required:
                              - maglev
                          properties:
                            httpCookie:
                              description: Hash based on HTTP cookie.
                              properties:
                                name:
                                  description: Name of the cookie.
                                  type: string
                                path:
                                  description: Path to set for the cookie.
                                  type: string
                                ttl:
                                  description: Lifetime of the cookie.
                                  type: string
                              required:
                              - name
                              type: object
                            httpHeaderName:
                              description: Hash based on a specific HTTP header.
                              type: string
                            httpQueryParameterName:
                              description: Hash based on a specific HTTP query parameter.
                              type: string
                            maglev:
                              description: The Maglev load balancer implements consistent
                                hashing to backend hosts.
                              properties:
                                tableSize:
                                  description: The table size for Maglev hashing.
                                  type: integer
                              type: object
                            minimumRingSize:
                              description: Deprecated.
                              type: integer
                            ringHash:
                              description: The ring/modulo hash load balancer implements
                                consistent hashing to backend hosts.
                              properties:
                                minimumRingSize:
                                  description: The minimum number of virtual nodes
                                    to use for the hash ring.
                                  type: integer
                              type: object
                            useSourceIp:
                              description: Hash based on the source IP address.
                              type: boolean
                          type: object
                        localityLbSetting:
                          properties:
                            distribute:
                              description: 'Optional: only one of distribute, failover
                                or failoverPriority can be set.'
                              items:
                                properties:
                                  from:
                                    description: Originating locality, '/' separated,
                                      e.g.
                                    type: string
                                  to:
                                    additionalProperties:
                                      type: integer
                                    description: Map of upstream localities to traffic
                                      distribution weights.
                                    type: object
                                type: object
                              type: array
                            enabled:
                              description: enable locality load balancing, this is
                                DestinationRule-level and will override mesh wide
                                settings in entirety.
                              nullable: true
                              type: boolean
                            failover:
                              description: 'Optional: only one of distribute, failover
                                or failoverPriority can be set.'
                              items:
                                properties:
                                  from:
                                    description: Originating region.
                                    type: string
                                  to:
                                    description: Destination region the traffic will
                                      fail over to when endpoints in the 'from' region
                                      becomes unhealthy.
                                    type: string
                                type: object
                              type: array
                            failoverPriority:
                              description: failoverPriority is an ordered list of
                                labels used to sort endpoints to do priority based
                                load balancing.
                              items:
                                type: string
                              type: array
                          type: object
                        simple:
                          enum:
                          - UNSPECIFIED
                          - LEAST_CONN
                          - RANDOM
                          - PASSTHROUGH
                          - ROUND_ROBIN
                          - LEAST_REQUEST
                          type: string
                        warmupDurationSecs:
                          description: Represents the warmup duration of Service.
                          type: string
                      type: object
                    outlierDetection:
                      properties:
                        baseEjectionTime:
                          description: Minimum ejection duration.
                          type: string
                        consecutive5xxErrors:
                          description: Number of 5xx errors before a host is ejected
                            from the connection pool.
                          nullable: true
                          type: integer
                        consecutiveErrors:
                          format: int32
                          type: integer
                        consecutiveGatewayErrors:
                          description: Number of gateway errors before a host is ejected
                            from the connection pool.
                          nullable: true
                          type: integer
                        consecutiveLocalOriginFailures:
                          description: The number of consecutive locally originated
                            failures before ejection occurs.
                          nullable: true
                          type: integer
                        interval:
                          description: Time interval between ejection sweep analysis.
                          type: string
                        maxEjectionPercent:
                          description: Maximum % of hosts in the load balancing pool
                            for the upstream service that can be ejected.
                          format: int32
                          type: integer
                        minHealthPercent:
                          description: Outlier detection will be enabled as long as
                            the associated load balancing pool has at least min_health_percent
                            hosts in healthy mode.
                          format: int32
                          type: integer
                        splitExternalLocalOriginErrors:
                          description: Determines whether to distinguish local origin
                            failures from external errors.
                          type: boolean
                      type: object
                    portLevelSettings:
                      description: Traffic policies specific to individual ports.
                      items:
                        properties:
                          connectionPool:
                            properties:
                              http:
                                description: HTTP connection pool settings.
                                properties:
                                  h2UpgradePolicy:
                                    description: Specify if http1.1 connection should
                                      be upgraded to http2 for the associated destination.
                                    enum:
                                    - DEFAULT
                                    - DO_NOT_UPGRADE
                                    - UPGRADE
                                    type: string
                                  http1MaxPendingRequests:
                                    description: Maximum number of requests that will
                                      be queued while waiting for a ready connection
                                      pool connection.
                                    format: int32
                                    type: integer
                                  http2MaxRequests:
                                    description: Maximum number of active requests
                                      to a destination.
                                    format: int32
                                    type: integer
                                  idleTimeout:
                                    description: The idle timeout for upstream connection
                                      pool connections.
                                    type: string
                                  maxConcurrentStreams:
                                    description: The maximum number of concurrent
                                      streams allowed for a peer on one HTTP/2 connection.
                                    format: int32
                                    type: integer
                                  maxRequestsPerConnection:
                                    description: Maximum number of requests per connection
                                      to a backend.
                                    format: int32
                                    type: integer
                                  maxRetries:
                                    description: Maximum number of retries that can
                                      be outstanding to all hosts in a cluster at
                                      a given time.
                                    format: int32
                                    type: integer
                                  useClientProtocol:
                                    description: If set to true, client protocol will
                                      be preserved while initiating connection to
                                      backend.
                                    type: boolean
                                type: object
                              tcp:
                                description: Settings common to both HTTP and TCP
                                  upstream connections.
                                properties:
                                  connectTimeout:
                                    description: TCP connection timeout.
                                    type: string
                                  idleTimeout:
                                    description: The idle timeout for TCP connections.
                                    type: string
                                  maxConnectionDuration:
                                    description: The maximum duration of a connection.
                                    type: string
                                  maxConnections:
                                    description: Maximum number of HTTP1 /TCP connections
                                      to a destination host.
                                    format: int32
                                    type: integer
                                  tcpKeepalive:
                                    description: If set then set SO_KEEPALIVE on the
                                      socket to enable TCP Keepalives.
                                    properties:
                                      interval:
                                        description: The time duration between keep-alive
                                          probes.
                                        type: string
                                      probes:
                                        description: Maximum number of keepalive probes
                                          to send without response before deciding
                                          the connection is dead.
                                        type: integer
                                      time:
                                        description: The time duration a connection
                                          needs to be idle before keep-alive probes
                                          start being sent.
                                        type: string
                                    type: object
                                type: object
                            type: object
                          loadBalancer:
                            description: Settings controlling the load balancer algorithms.
                            oneOf:
                            - not:
                                anyOf:
                                - required:
                                  - simple
                                - required:
                                  - consistentHash
                            - required:
                              - simple
                            - required:
                              - consistentHash
                            properties:
                              consistentHash:
                                allOf:
                                - oneOf:
                                  - not:
                                      anyOf:
                                      - required:
                                        - httpHeaderName
                                      - required:
                                        - httpCookie
                                      - required:
                                        - useSourceIp
                                      - required:
                                        - httpQueryParameterName
                                  - required:
                                    - httpHeaderName
                                  - required:
                                    - httpCookie
                                  - required:
                                    - useSourceIp
                                  - required:
                                    - httpQueryParameterName
                                - oneOf:
                                  - not:
                                      anyOf:
                                      - required:
                                        - ringHash
                                      - required:
                                        - maglev
                                  - required:
                                    - ringHash
                                  - required:
                                    - maglev
                                properties:
                                  httpCookie:
                                    description: Hash based on HTTP cookie.
                                    properties:
                                      name:
                                        description: Name of the cookie.
                                        type: string
                                      path:
                                        description: Path to set for the cookie.
                                        type: string
                                      ttl:
                                        description: Lifetime of the cookie.
                                        type: string
                                    required:
                                    - name
                                    type: object
                                  httpHeaderName:
                                    description: Hash based on a specific HTTP header.
                                    type: string
                                  httpQueryParameterName:
                                    description: Hash based on a specific HTTP query
                                      parameter.
                                    type: string
                                  maglev:
                                    description: The Maglev load balancer implements
                                      consistent hashing to backend hosts.
                                    properties:
                                      tableSize:
                                        description: The table size for Maglev hashing.
                                        type: integer
                                    type: object
                                  minimumRingSize:
                                    description: Deprecated.
                                    type: integer
                                  ringHash:
                                    description: The ring/modulo hash load balancer
                                      implements consistent hashing to backend hosts.
                                    properties:
                                      minimumRingSize:
                                        description: The minimum number of virtual
                                          nodes to use for the hash ring.
                                        type: integer
                                    type: object
                                  useSourceIp:
                                    description: Hash based on the source IP address.
                                    type: boolean
                                type: object
                              localityLbSetting:
                                properties:
                                  distribute:
                                    description: 'Optional: only one of distribute,
                                      failover or failoverPriority can be set.'
                                    items:
                                      properties:
                                        from:
                                          description: Originating locality, '/' separated,
                                            e.g.
                                          type: string
                                        to:
                                          additionalProperties:
                                            type: integer
                                          description: Map of upstream localities
                                            to traffic distribution weights.
                                          type: object
                                      type: object
                                    type: array
                                  enabled:
                                    description: enable locality load balancing, this
                                      is DestinationRule-level and will override mesh
                                      wide settings in entirety.
                                    nullable: true
                                    type: boolean
                                  failover:
                                    description: 'Optional: only one of distribute,
                                      failover or failoverPriority can be set.'
                                    items:
                                      properties:
                                        from:
                                          description: Originating region.
                                          type: string
                                        to:
                                          description: Destination region the traffic
                                            will fail over to when endpoints in the
                                            'from' region becomes unhealthy.
                                          type: string
                                      type: object
                                    type: array
                                  failoverPriority:
                                    description: failoverPriority is an ordered list
                                      of labels used to sort endpoints to do priority
                                      based load balancing.
                                    items:
                                      type: string
                                    type: array
                                type: object
                              simple:
                                enum:
                                - UNSPECIFIED
                                - LEAST_CONN
                                - RANDOM
                                - PASSTHROUGH
                                - ROUND_ROBIN
                                - LEAST_REQUEST
                                type: string
                              warmupDurationSecs:
                                description: Represents the warmup duration of Service.
                                type: string
                            type: object
                          outlierDetection:
                            properties:
                              baseEjectionTime:
                                description: Minimum ejection duration.
                                type: string
                              consecutive5xxErrors:
                                description: Number of 5xx errors before a host is
                                  ejected from the connection pool.
                                nullable: true
                                type: integer
                              consecutiveErrors:
                                format: int32
                                type: integer
                              consecutiveGatewayErrors:
                                description: Number of gateway errors before a host
                                  is ejected from the connection pool.
                                nullable: true
                                type: integer
                              consecutiveLocalOriginFailures:
                                description: The number of consecutive locally originated
                                  failures before ejection occurs.
                                nullable: true
                                type: integer
                              interval:
                                description: Time interval between ejection sweep
                                  analysis.
                                type: string
                              maxEjectionPercent:
                                description: Maximum % of hosts in the load balancing
                                  pool for the upstream service that can be ejected.
                                format: int32
                                type: integer
                              minHealthPercent:
                                description: Outlier detection will be enabled as
                                  long as the associated load balancing pool has at
                                  least min_health_percent hosts in healthy mode.
                                format: int32
                                type: integer
                              splitExternalLocalOriginErrors:
                                description: Determines whether to distinguish local
                                  origin failures from external errors.
                                type: boolean
                            type: object
                          port:
                            description: Specifies the number of a port on the destination
                              service on which this policy is being applied.
                            properties:
                              number:
                                type: integer
                            type: object
                          tls:
                            description: TLS related settings for connections to the
                              upstream service.
                            properties:
                              caCertificates:
                                description: 'OPTIONAL: The path to the file containing
                                  certificate authority certificates to use in verifying
                                  a presented server certificate.'
                                type: string
                              clientCertificate:
                                description: REQUIRED if mode is `MUTUAL`.
                                type: string
                              credentialName:
                                description: The name of the secret that holds the
                                  TLS certs for the client including the CA certificates.
                                type: string
                              insecureSkipVerify:
                                description: '`insecureSkipVerify` specifies whether
                                  the proxy should skip verifying the CA signature
                                  and SAN for the server certificate corresponding
                                  to the host.'
                                nullable: true
                                type: boolean
                              mode:
                                description: Indicates whether connections to this
                                  port should be secured using TLS.
                                enum:
                                - DISABLE
                                - SIMPLE
                                - MUTUAL
                                - ISTIO_MUTUAL
                                type: string
                              privateKey:
                                description: REQUIRED if mode is `MUTUAL`.
                                type: string
                              sni:
                                description: SNI string to present to the server during
                                  TLS handshake.
                                type: string
                              subjectAltNames:
                                description: A list of alternate names to verify the
                                  subject identity in the certificate.
                                items:
                                  type: string
                                type: array
                            type: object
                        type: object
                      type: array
                    proxyProtocol:
                      description: The upstream PROXY protocol settings.
                      properties:
                        version:
                          description: The PROXY protocol version to use.
                          enum:
                          - V1
                          - V2
                          type: string
                      type: object
                    tls:
                      description: TLS related settings for connections to the upstream
                        service.
                      properties:
                        caCertificates:
                          description: 'OPTIONAL: The path to the file containing
                            certificate authority certificates to use in verifying
                            a presented server certificate.'
                          type: string
                        clientCertificate:
                          description: REQUIRED if mode is `MUTUAL`.
                          type: string
                        credentialName:
                          description: The name of the secret that holds the TLS certs
                            for the client including the CA certificates.
                          type: string
                        insecureSkipVerify:
                          description: '`insecureSkipVerify` specifies whether the
                            proxy should skip verifying the CA signature and SAN for
                            the server certificate corresponding to the host.'
                          nullable: true
                          type: boolean
                        mode:
                          description: Indicates whether connections to this port
                            should be secured using TLS.
                          enum:
                          - DISABLE
                          - SIMPLE
                          - MUTUAL
                          - ISTIO_MUTUAL
                          type: string
                        privateKey:
                          description: REQUIRED if mode is `MUTUAL`.
                          type: string
                        sni:
                          description: SNI string to present to the server during
                            TLS handshake.
                          type: string
                        subjectAltNames:
                          description: A list of alternate names to verify the subject
                            identity in the certificate.
                          items:
                            type: string
                          type: array
                      type: object
                    tunnel:
                      description: Configuration of tunneling TCP over other transport
                        or application layers for the host configured in the DestinationRule.
                      properties:
                        protocol:
                          description: Specifies which protocol to use for tunneling
                            the downstream connection.
                          type: string
                        targetHost:
                          description: Specifies a host to which the downstream connection
                            is tunneled.
                          type: string
                        targetPort:
                          description: Specifies a port to which the downstream connection
                            is tunneled.
                          type: integer
                      required:
                      - targetHost
                      - targetPort
                      type: object
                  type: object
                workloadSelector:
                  description: Criteria used to select the specific set of pods/VMs
                    on which this `DestinationRule` configuration should be applied.
                  properties:
                    matchLabels:
                      additionalProperties:
                        type: string
                      description: One or more labels that indicate a specific set
                        of pods/VMs on which a policy should be applied.
                      type: object
                  type: object
              required:
              - host
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: false
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - istio-io
      - networking-istio-io
      kind: DestinationRule
      listKind: DestinationRuleList
      plural: destinationrules
      shortNames:
      - dr
      singular: destinationrule
    conditions:
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha3
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      controller-gen.kubebuilder.io/version: v0.14.0
    creationTimestamp: "2024-04-11T07:49:06Z"
    generation: 1
    name: envoyextensionpolicies.gateway.envoyproxy.io
    resourceVersion: "2269563"
    uid: 6f5edeec-5dad-414e-8c76-7be0e854fa18
  spec:
    conversion:
      strategy: None
    group: gateway.envoyproxy.io
    names:
      kind: EnvoyExtensionPolicy
      listKind: EnvoyExtensionPolicyList
      plural: envoyextensionpolicies
      shortNames:
      - eep
      singular: envoyextensionpolicy
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - jsonPath: .status.conditions[?(@.type=="Accepted")].reason
        name: Status
        type: string
      - jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1alpha1
      schema:
        openAPIV3Schema:
          description: EnvoyExtensionPolicy allows the user to configure various envoy
            extensibility options for the Gateway.
          properties:
            apiVersion:
              description: |-
                APIVersion defines the versioned schema of this representation of an object.
                Servers should convert recognized schemas to the latest internal value, and
                may reject unrecognized values.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
              type: string
            kind:
              description: |-
                Kind is a string value representing the REST resource this object represents.
                Servers may infer this from the endpoint the client submits requests to.
                Cannot be updated.
                In CamelCase.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
              type: string
            metadata:
              type: object
            spec:
              description: Spec defines the desired state of EnvoyExtensionPolicy.
              properties:
                extProc:
                  description: |-
                    ExtProc is an ordered list of external processing filters
                    that should added to the envoy filter chain
                  items:
                    description: ExtProc defines the configuration for External Processing
                      filter.
                    properties:
                      backendRef:
                        description: Service defines the configuration of the external
                          processing service
                        properties:
                          group:
                            default: ""
                            description: |-
                              Group is the group of the referent. For example, "gateway.networking.k8s.io".
                              When unspecified or empty string, core API group is inferred.
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Service
                            description: |-
                              Kind is the Kubernetes resource kind of the referent. For example
                              "Service".


                              Defaults to "Service" when not specified.


                              ExternalName services can refer to CNAME DNS records that may live
                              outside of the cluster and as such are difficult to reason about in
                              terms of conformance. They also may not be safe to forward to (see
                              CVE-2021-25740 for more information). Implementations SHOULD NOT
                              support ExternalName Services.


                              Support: Core (Services with a type other than ExternalName)


                              Support: Implementation-specific (Services with type ExternalName)
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: Name is the name of the referent.
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: |-
                              Namespace is the namespace of the backend. When unspecified, the local
                              namespace is inferred.


                              Note that when a namespace different than the local namespace is specified,
                              a ReferenceGrant object is required in the referent namespace to allow that
                              namespace's owner to accept the reference. See the ReferenceGrant
                              documentation for details.


                              Support: Core
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                          port:
                            description: |-
                              Port specifies the destination port number to use for this resource.
                              Port is required when the referent is a Kubernetes Service. In this
                              case, the port number is the service port number, not the target port.
                              For other resources, destination port might be derived from the referent
                              resource or this field.
                            format: int32
                            maximum: 65535
                            minimum: 1
                            type: integer
                        required:
                        - name
                        type: object
                        x-kubernetes-validations:
                        - message: Must have port for Service reference
                          rule: '(size(self.group) == 0 && self.kind == ''Service'')
                            ? has(self.port) : true'
                    required:
                    - backendRef
                    type: object
                    x-kubernetes-validations:
                    - message: group is invalid, only the core API group (specified
                        by omitting the group field or setting it to an empty string)
                        is supported
                      rule: 'has(self.backendRef) ? (!has(self.backendRef.group) ||
                        self.backendRef.group == "") : true'
                    - message: kind is invalid, only Service (specified by omitting
                        the kind field or setting it to 'Service') is supported
                      rule: 'has(self.backendRef) ? (!has(self.backendRef.kind) ||
                        self.backendRef.kind == ''Service'') : true'
                  type: array
                targetRef:
                  description: |-
                    TargetRef is the name of the Gateway resource this policy
                    is being attached to.
                    This Policy and the TargetRef MUST be in the same namespace
                    for this Policy to have effect and be applied to the Gateway.
                    TargetRef
                  properties:
                    group:
                      description: Group is the group of the target resource.
                      maxLength: 253
                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    kind:
                      description: Kind is kind of the target resource.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                      type: string
                    name:
                      description: Name is the name of the target resource.
                      maxLength: 253
                      minLength: 1
                      type: string
                    namespace:
                      description: |-
                        Namespace is the namespace of the referent. When unspecified, the local
                        namespace is inferred. Even when policy targets a resource in a different
                        namespace, it MUST only apply to traffic originating from the same
                        namespace as the policy.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                      type: string
                    sectionName:
                      description: |-
                        SectionName is the name of a section within the target resource. When
                        unspecified, this targetRef targets the entire resource. In the following
                        resources, SectionName is interpreted as the following:


                        * Gateway: Listener Name
                        * Service: Port Name


                        If a SectionName is specified, but does not exist on the targeted object,
                        the Policy must fail to attach, and the policy implementation should record
                        a `ResolvedRefs` or similar Condition in the Policy's status.
                      maxLength: 253
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                  required:
                  - group
                  - kind
                  - name
                  type: object
                  x-kubernetes-validations:
                  - message: this policy can only have a targetRef.group of gateway.networking.k8s.io
                    rule: self.group == 'gateway.networking.k8s.io'
                  - message: this policy can only have a targetRef.kind of Gateway/HTTPRoute/GRPCRoute/TCPRoute/UDPRoute/TLSRoute
                    rule: self.kind in ['Gateway', 'HTTPRoute', 'GRPCRoute', 'UDPRoute',
                      'TCPRoute', 'TLSRoute']
                  - message: this policy does not yet support the sectionName field
                    rule: '!has(self.sectionName)'
                wasm:
                  description: |-
                    WASM is a list of Wasm extensions to be loaded by the Gateway.
                    Order matters, as the extensions will be loaded in the order they are
                    defined in this list.
                  items:
                    description: |-
                      Wasm defines a wasm extension.


                      Note: at the moment, Envoy Gateway does not support configuring Wasm runtime.
                      v8 is used as the VM runtime for the Wasm extensions.
                    properties:
                      code:
                        description: Code is the wasm code for the extension.
                        properties:
                          http:
                            description: |-
                              HTTP is the HTTP URL containing the wasm code.


                              Note that the HTTP server must be accessible from the Envoy proxy.
                            properties:
                              url:
                                description: URL is the URL containing the wasm code.
                                type: string
                            required:
                            - url
                            type: object
                          image:
                            description: |-
                              Image is the OCI image containing the wasm code.


                              Note that the image must be accessible from the Envoy Gateway.
                            properties:
                              pullSecret:
                                description: PullSecretRef is a reference to the secret
                                  containing the credentials to pull the image.
                                properties:
                                  group:
                                    default: ""
                                    description: |-
                                      Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                      When unspecified or empty string, core API group is inferred.
                                    maxLength: 253
                                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                    type: string
                                  kind:
                                    default: Secret
                                    description: Kind is kind of the referent. For
                                      example "Secret".
                                    maxLength: 63
                                    minLength: 1
                                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                    type: string
                                  name:
                                    description: Name is the name of the referent.
                                    maxLength: 253
                                    minLength: 1
                                    type: string
                                  namespace:
                                    description: |-
                                      Namespace is the namespace of the referenced object. When unspecified, the local
                                      namespace is inferred.


                                      Note that when a namespace different than the local namespace is specified,
                                      a ReferenceGrant object is required in the referent namespace to allow that
                                      namespace's owner to accept the reference. See the ReferenceGrant
                                      documentation for details.


                                      Support: Core
                                    maxLength: 63
                                    minLength: 1
                                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                    type: string
                                required:
                                - name
                                type: object
                              url:
                                description: URL is the URL of the OCI image.
                                type: string
                            required:
                            - pullSecret
                            - url
                            type: object
                          type:
                            allOf:
                            - enum:
                              - Global
                              - Local
                            - enum:
                              - HTTP
                              - Image
                            description: |-
                              Type is the type of the source of the wasm code.
                              Valid WasmCodeSourceType values are "HTTP" or "Image".
                            type: string
                        required:
                        - type
                        type: object
                      config:
                        description: |-
                          Config is the configuration for the Wasm extension.
                          This configuration will be passed as a JSON string to the Wasm extension.
                        x-kubernetes-preserve-unknown-fields: true
                      failOpen:
                        default: false
                        description: |-
                          FailOpen is a switch used to control the behavior when a fatal error occurs
                          during the initialization or the execution of the Wasm extension.
                          If FailOpen is set to true, the system bypasses the Wasm extension and
                          allows the traffic to pass through. Otherwise, if it is set to false or
                          not set (defaulting to false), the system blocks the traffic and returns
                          an HTTP 5xx error.
                        type: boolean
                      name:
                        description: |-
                          Name is a unique name for this Wasm extension. It is used to identify the
                          Wasm extension if multiple extensions are handled by the same vm_id and root_id.
                          It's also used for logging/debugging.
                        type: string
                    required:
                    - code
                    - config
                    - name
                    type: object
                  type: array
              required:
              - targetRef
              type: object
            status:
              description: Status defines the current status of EnvoyExtensionPolicy.
              properties:
                ancestors:
                  description: |-
                    Ancestors is a list of ancestor resources (usually Gateways) that are
                    associated with the policy, and the status of the policy with respect to
                    each ancestor. When this policy attaches to a parent, the controller that
                    manages the parent and the ancestors MUST add an entry to this list when
                    the controller first sees the policy and SHOULD update the entry as
                    appropriate when the relevant ancestor is modified.


                    Note that choosing the relevant ancestor is left to the Policy designers;
                    an important part of Policy design is designing the right object level at
                    which to namespace this status.


                    Note also that implementations MUST ONLY populate ancestor status for
                    the Ancestor resources they are responsible for. Implementations MUST
                    use the ControllerName field to uniquely identify the entries in this list
                    that they are responsible for.


                    Note that to achieve this, the list of PolicyAncestorStatus structs
                    MUST be treated as a map with a composite key, made up of the AncestorRef
                    and ControllerName fields combined.


                    A maximum of 16 ancestors will be represented in this list. An empty list
                    means the Policy is not relevant for any ancestors.


                    If this slice is full, implementations MUST NOT add further entries.
                    Instead they MUST consider the policy unimplementable and signal that
                    on any related resources such as the ancestor that would be referenced
                    here. For example, if this list was full on BackendTLSPolicy, no
                    additional Gateways would be able to reference the Service targeted by
                    the BackendTLSPolicy.
                  items:
                    description: |-
                      PolicyAncestorStatus describes the status of a route with respect to an
                      associated Ancestor.


                      Ancestors refer to objects that are either the Target of a policy or above it
                      in terms of object hierarchy. For example, if a policy targets a Service, the
                      Policy's Ancestors are, in order, the Service, the HTTPRoute, the Gateway, and
                      the GatewayClass. Almost always, in this hierarchy, the Gateway will be the most
                      useful object to place Policy status on, so we recommend that implementations
                      SHOULD use Gateway as the PolicyAncestorStatus object unless the designers
                      have a _very_ good reason otherwise.


                      In the context of policy attachment, the Ancestor is used to distinguish which
                      resource results in a distinct application of this policy. For example, if a policy
                      targets a Service, it may have a distinct result per attached Gateway.


                      Policies targeting the same resource may have different effects depending on the
                      ancestors of those resources. For example, different Gateways targeting the same
                      Service may have different capabilities, especially if they have different underlying
                      implementations.


                      For example, in BackendTLSPolicy, the Policy attaches to a Service that is
                      used as a backend in a HTTPRoute that is itself attached to a Gateway.
                      In this case, the relevant object for status is the Gateway, and that is the
                      ancestor object referred to in this status.


                      Note that a parent is also an ancestor, so for objects where the parent is the
                      relevant object for status, this struct SHOULD still be used.


                      This struct is intended to be used in a slice that's effectively a map,
                      with a composite key made up of the AncestorRef and the ControllerName.
                    properties:
                      ancestorRef:
                        description: |-
                          AncestorRef corresponds with a ParentRef in the spec that this
                          PolicyAncestorStatus struct describes the status of.
                        properties:
                          group:
                            default: gateway.networking.k8s.io
                            description: |-
                              Group is the group of the referent.
                              When unspecified, "gateway.networking.k8s.io" is inferred.
                              To set the core API group (such as for a "Service" kind referent),
                              Group must be explicitly set to "" (empty string).


                              Support: Core
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Gateway
                            description: |-
                              Kind is kind of the referent.


                              There are two kinds of parent resources with "Core" support:


                              * Gateway (Gateway conformance profile)
                              * Service (Mesh conformance profile, experimental, ClusterIP Services only)


                              Support for other resources is Implementation-Specific.
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: |-
                              Name is the name of the referent.


                              Support: Core
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: |-
                              Namespace is the namespace of the referent. When unspecified, this refers
                              to the local namespace of the Route.


                              Note that there are specific rules for ParentRefs which cross namespace
                              boundaries. Cross-namespace references are only valid if they are explicitly
                              allowed by something in the namespace they are referring to. For example:
                              Gateway has the AllowedRoutes field, and ReferenceGrant provides a
                              generic way to enable any other kind of cross-namespace reference.


                              <gateway:experimental:description>
                              ParentRefs from a Route to a Service in the same namespace are "producer"
                              routes, which apply default routing rules to inbound connections from
                              any namespace to the Service.


                              ParentRefs from a Route to a Service in a different namespace are
                              "consumer" routes, and these routing rules are only applied to outbound
                              connections originating from the same namespace as the Route, for which
                              the intended destination of the connections are a Service targeted as a
                              ParentRef of the Route.
                              </gateway:experimental:description>


                              Support: Core
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                          port:
                            description: |-
                              Port is the network port this Route targets. It can be interpreted
                              differently based on the type of parent resource.


                              When the parent resource is a Gateway, this targets all listeners
                              listening on the specified port that also support this kind of Route(and
                              select this Route). It's not recommended to set `Port` unless the
                              networking behaviors specified in a Route must apply to a specific port
                              as opposed to a listener(s) whose port(s) may be changed. When both Port
                              and SectionName are specified, the name and port of the selected listener
                              must match both specified values.


                              <gateway:experimental:description>
                              When the parent resource is a Service, this targets a specific port in the
                              Service spec. When both Port (experimental) and SectionName are specified,
                              the name and port of the selected port must match both specified values.
                              </gateway:experimental:description>


                              Implementations MAY choose to support other parent resources.
                              Implementations supporting other types of parent resources MUST clearly
                              document how/if Port is interpreted.


                              For the purpose of status, an attachment is considered successful as
                              long as the parent resource accepts it partially. For example, Gateway
                              listeners can restrict which Routes can attach to them by Route kind,
                              namespace, or hostname. If 1 of 2 Gateway listeners accept attachment
                              from the referencing Route, the Route MUST be considered successfully
                              attached. If no Gateway listeners accept attachment from this Route,
                              the Route MUST be considered detached from the Gateway.


                              Support: Extended


                              <gateway:experimental>
                            format: int32
                            maximum: 65535
                            minimum: 1
                            type: integer
                          sectionName:
                            description: |-
                              SectionName is the name of a section within the target resource. In the
                              following resources, SectionName is interpreted as the following:


                              * Gateway: Listener Name. When both Port (experimental) and SectionName
                              are specified, the name and port of the selected listener must match
                              both specified values.
                              * Service: Port Name. When both Port (experimental) and SectionName
                              are specified, the name and port of the selected listener must match
                              both specified values. Note that attaching Routes to Services as Parents
                              is part of experimental Mesh support and is not supported for any other
                              purpose.


                              Implementations MAY choose to support attaching Routes to other resources.
                              If that is the case, they MUST clearly document how SectionName is
                              interpreted.


                              When unspecified (empty string), this will reference the entire resource.
                              For the purpose of status, an attachment is considered successful if at
                              least one section in the parent resource accepts it. For example, Gateway
                              listeners can restrict which Routes can attach to them by Route kind,
                              namespace, or hostname. If 1 of 2 Gateway listeners accept attachment from
                              the referencing Route, the Route MUST be considered successfully
                              attached. If no Gateway listeners accept attachment from this Route, the
                              Route MUST be considered detached from the Gateway.


                              Support: Core
                            maxLength: 253
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                        required:
                        - name
                        type: object
                      conditions:
                        description: Conditions describes the status of the Policy
                          with respect to the given Ancestor.
                        items:
                          description: "Condition contains details for one aspect
                            of the current state of this API Resource.\n---\nThis
                            struct is intended for direct use as an array at the field
                            path .status.conditions.  For example,\n\n\n\ttype FooStatus
                            struct{\n\t    // Represents the observations of a foo's
                            current state.\n\t    // Known .status.conditions.type
                            are: \"Available\", \"Progressing\", and \"Degraded\"\n\t
                            \   // +patchMergeKey=type\n\t    // +patchStrategy=merge\n\t
                            \   // +listType=map\n\t    // +listMapKey=type\n\t    Conditions
                            []metav1.Condition `json:\"conditions,omitempty\" patchStrategy:\"merge\"
                            patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`\n\n\n\t
                            \   // other fields\n\t}"
                          properties:
                            lastTransitionTime:
                              description: |-
                                lastTransitionTime is the last time the condition transitioned from one status to another.
                                This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                              format: date-time
                              type: string
                            message:
                              description: |-
                                message is a human readable message indicating details about the transition.
                                This may be an empty string.
                              maxLength: 32768
                              type: string
                            observedGeneration:
                              description: |-
                                observedGeneration represents the .metadata.generation that the condition was set based upon.
                                For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                                with respect to the current state of the instance.
                              format: int64
                              minimum: 0
                              type: integer
                            reason:
                              description: |-
                                reason contains a programmatic identifier indicating the reason for the condition's last transition.
                                Producers of specific condition types may define expected values and meanings for this field,
                                and whether the values are considered a guaranteed API.
                                The value should be a CamelCase string.
                                This field may not be empty.
                              maxLength: 1024
                              minLength: 1
                              pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                              type: string
                            status:
                              description: status of the condition, one of True, False,
                                Unknown.
                              enum:
                              - "True"
                              - "False"
                              - Unknown
                              type: string
                            type:
                              description: |-
                                type of condition in CamelCase or in foo.example.com/CamelCase.
                                ---
                                Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
                                useful (see .node.status.conditions), the ability to deconflict is important.
                                The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                              maxLength: 316
                              pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                              type: string
                          required:
                          - lastTransitionTime
                          - message
                          - reason
                          - status
                          - type
                          type: object
                        maxItems: 8
                        minItems: 1
                        type: array
                        x-kubernetes-list-map-keys:
                        - type
                        x-kubernetes-list-type: map
                      controllerName:
                        description: |-
                          ControllerName is a domain/path string that indicates the name of the
                          controller that wrote this status. This corresponds with the
                          controllerName field on GatewayClass.


                          Example: "example.net/gateway-controller".


                          The format of this field is DOMAIN "/" PATH, where DOMAIN and PATH are
                          valid Kubernetes names
                          (https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names).


                          Controllers MUST populate this field when writing status. Controllers should ensure that
                          entries to status populated with their ControllerName are cleaned up when they are no
                          longer necessary.
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                        type: string
                    required:
                    - ancestorRef
                    - controllerName
                    type: object
                  maxItems: 16
                  type: array
              required:
              - ancestors
              type: object
          required:
          - spec
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      kind: EnvoyExtensionPolicy
      listKind: EnvoyExtensionPolicyList
      plural: envoyextensionpolicies
      shortNames:
      - eep
      singular: envoyextensionpolicy
    conditions:
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      helm.sh/resource-policy: keep
    creationTimestamp: "2024-04-07T12:56:56Z"
    generation: 1
    labels:
      app: istio-pilot
      chart: istio
      heritage: Tiller
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio.io/rev: default
      operator.istio.io/component: Base
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: envoyfilters.networking.istio.io
    resourceVersion: "1904515"
    uid: 3cabc869-1358-40c6-bde4-809eb64d9d6f
  spec:
    conversion:
      strategy: None
    group: networking.istio.io
    names:
      categories:
      - istio-io
      - networking-istio-io
      kind: EnvoyFilter
      listKind: EnvoyFilterList
      plural: envoyfilters
      singular: envoyfilter
    scope: Namespaced
    versions:
    - name: v1alpha3
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Customizing Envoy configuration generated by Istio. See
                more details at: https://istio.io/docs/reference/config/networking/envoy-filter.html'
              properties:
                configPatches:
                  description: One or more patches with match conditions.
                  items:
                    properties:
                      applyTo:
                        description: Specifies where in the Envoy configuration, the
                          patch should be applied.
                        enum:
                        - INVALID
                        - LISTENER
                        - FILTER_CHAIN
                        - NETWORK_FILTER
                        - HTTP_FILTER
                        - ROUTE_CONFIGURATION
                        - VIRTUAL_HOST
                        - HTTP_ROUTE
                        - CLUSTER
                        - EXTENSION_CONFIG
                        - BOOTSTRAP
                        - LISTENER_FILTER
                        type: string
                      match:
                        description: Match on listener/route configuration/cluster.
                        oneOf:
                        - not:
                            anyOf:
                            - required:
                              - listener
                            - required:
                              - routeConfiguration
                            - required:
                              - cluster
                        - required:
                          - listener
                        - required:
                          - routeConfiguration
                        - required:
                          - cluster
                        properties:
                          cluster:
                            description: Match on envoy cluster attributes.
                            properties:
                              name:
                                description: The exact name of the cluster to match.
                                type: string
                              portNumber:
                                description: The service port for which this cluster
                                  was generated.
                                type: integer
                              service:
                                description: The fully qualified service name for
                                  this cluster.
                                type: string
                              subset:
                                description: The subset associated with the service.
                                type: string
                            type: object
                          context:
                            description: The specific config generation context to
                              match on.
                            enum:
                            - ANY
                            - SIDECAR_INBOUND
                            - SIDECAR_OUTBOUND
                            - GATEWAY
                            type: string
                          listener:
                            description: Match on envoy listener attributes.
                            properties:
                              filterChain:
                                description: Match a specific filter chain in a listener.
                                properties:
                                  applicationProtocols:
                                    description: Applies only to sidecars.
                                    type: string
                                  destinationPort:
                                    description: The destination_port value used by
                                      a filter chain's match condition.
                                    type: integer
                                  filter:
                                    description: The name of a specific filter to
                                      apply the patch to.
                                    properties:
                                      name:
                                        description: The filter name to match on.
                                        type: string
                                      subFilter:
                                        description: The next level filter within
                                          this filter to match upon.
                                        properties:
                                          name:
                                            description: The filter name to match
                                              on.
                                            type: string
                                        type: object
                                    type: object
                                  name:
                                    description: The name assigned to the filter chain.
                                    type: string
                                  sni:
                                    description: The SNI value used by a filter chain's
                                      match condition.
                                    type: string
                                  transportProtocol:
                                    description: Applies only to `SIDECAR_INBOUND`
                                      context.
                                    type: string
                                type: object
                              listenerFilter:
                                description: Match a specific listener filter.
                                type: string
                              name:
                                description: Match a specific listener by its name.
                                type: string
                              portName:
                                type: string
                              portNumber:
                                description: The service port/gateway port to which
                                  traffic is being sent/received.
                                type: integer
                            type: object
                          proxy:
                            description: Match on properties associated with a proxy.
                            properties:
                              metadata:
                                additionalProperties:
                                  type: string
                                description: Match on the node metadata supplied by
                                  a proxy when connecting to Istio Pilot.
                                type: object
                              proxyVersion:
                                description: A regular expression in golang regex
                                  format (RE2) that can be used to select proxies
                                  using a specific version of istio proxy.
                                type: string
                            type: object
                          routeConfiguration:
                            description: Match on envoy HTTP route configuration attributes.
                            properties:
                              gateway:
                                description: The Istio gateway config's namespace/name
                                  for which this route configuration was generated.
                                type: string
                              name:
                                description: Route configuration name to match on.
                                type: string
                              portName:
                                description: Applicable only for GATEWAY context.
                                type: string
                              portNumber:
                                description: The service port number or gateway server
                                  port number for which this route configuration was
                                  generated.
                                type: integer
                              vhost:
                                description: Match a specific virtual host in a route
                                  configuration and apply the patch to the virtual
                                  host.
                                properties:
                                  name:
                                    description: The VirtualHosts objects generated
                                      by Istio are named as host:port, where the host
                                      typically corresponds to the VirtualService's
                                      host field or the hostname of a service in the
                                      registry.
                                    type: string
                                  route:
                                    description: Match a specific route within the
                                      virtual host.
                                    properties:
                                      action:
                                        description: Match a route with specific action
                                          type.
                                        enum:
                                        - ANY
                                        - ROUTE
                                        - REDIRECT
                                        - DIRECT_RESPONSE
                                        type: string
                                      name:
                                        description: The Route objects generated by
                                          default are named as default.
                                        type: string
                                    type: object
                                type: object
                            type: object
                        type: object
                      patch:
                        description: The patch to apply along with the operation.
                        properties:
                          filterClass:
                            description: Determines the filter insertion order.
                            enum:
                            - UNSPECIFIED
                            - AUTHN
                            - AUTHZ
                            - STATS
                            type: string
                          operation:
                            description: Determines how the patch should be applied.
                            enum:
                            - INVALID
                            - MERGE
                            - ADD
                            - REMOVE
                            - INSERT_BEFORE
                            - INSERT_AFTER
                            - INSERT_FIRST
                            - REPLACE
                            type: string
                          value:
                            description: The JSON config of the object being patched.
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                        type: object
                    type: object
                  type: array
                priority:
                  description: Priority defines the order in which patch sets are
                    applied within a context.
                  format: int32
                  type: integer
                workloadSelector:
                  description: Criteria used to select the specific set of pods/VMs
                    on which this patch configuration should be applied.
                  properties:
                    labels:
                      additionalProperties:
                        type: string
                      description: One or more labels that indicate a specific set
                        of pods/VMs on which the configuration should be applied.
                      type: object
                  type: object
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - istio-io
      - networking-istio-io
      kind: EnvoyFilter
      listKind: EnvoyFilterList
      plural: envoyfilters
      singular: envoyfilter
    conditions:
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha3
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      controller-gen.kubebuilder.io/version: v0.14.0
    creationTimestamp: "2024-04-11T07:49:06Z"
    generation: 1
    name: envoypatchpolicies.gateway.envoyproxy.io
    resourceVersion: "2269564"
    uid: 2192f73f-3fd7-4d0d-9fee-663fefe457fe
  spec:
    conversion:
      strategy: None
    group: gateway.envoyproxy.io
    names:
      categories:
      - envoy-gateway
      kind: EnvoyPatchPolicy
      listKind: EnvoyPatchPolicyList
      plural: envoypatchpolicies
      shortNames:
      - epp
      singular: envoypatchpolicy
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - jsonPath: .status.conditions[?(@.type=="Programmed")].reason
        name: Status
        type: string
      - jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1alpha1
      schema:
        openAPIV3Schema:
          description: |-
            EnvoyPatchPolicy allows the user to modify the generated Envoy xDS
            resources by Envoy Gateway using this patch API
          properties:
            apiVersion:
              description: |-
                APIVersion defines the versioned schema of this representation of an object.
                Servers should convert recognized schemas to the latest internal value, and
                may reject unrecognized values.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
              type: string
            kind:
              description: |-
                Kind is a string value representing the REST resource this object represents.
                Servers may infer this from the endpoint the client submits requests to.
                Cannot be updated.
                In CamelCase.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
              type: string
            metadata:
              type: object
            spec:
              description: Spec defines the desired state of EnvoyPatchPolicy.
              properties:
                jsonPatches:
                  description: JSONPatch defines the JSONPatch configuration.
                  items:
                    description: |-
                      EnvoyJSONPatchConfig defines the configuration for patching a Envoy xDS Resource
                      using JSONPatch semantic
                    properties:
                      name:
                        description: Name is the name of the resource
                        type: string
                      operation:
                        description: Patch defines the JSON Patch Operation
                        properties:
                          from:
                            description: |-
                              From is the source location of the value to be copied or moved. Only valid
                              for move or copy operations
                              Refer to https://datatracker.ietf.org/doc/html/rfc6901 for more details.
                            type: string
                          op:
                            description: Op is the type of operation to perform
                            enum:
                            - add
                            - remove
                            - replace
                            - move
                            - copy
                            - test
                            type: string
                          path:
                            description: |-
                              Path is the location of the target document/field where the operation will be performed
                              Refer to https://datatracker.ietf.org/doc/html/rfc6901 for more details.
                            type: string
                          value:
                            description: |-
                              Value is the new value of the path location. The value is only used by
                              the `add` and `replace` operations.
                            x-kubernetes-preserve-unknown-fields: true
                        required:
                        - op
                        - path
                        type: object
                      type:
                        description: Type is the typed URL of the Envoy xDS Resource
                        enum:
                        - type.googleapis.com/envoy.config.listener.v3.Listener
                        - type.googleapis.com/envoy.config.route.v3.RouteConfiguration
                        - type.googleapis.com/envoy.config.cluster.v3.Cluster
                        - type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment
                        - type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.Secret
                        type: string
                    required:
                    - name
                    - operation
                    - type
                    type: object
                  type: array
                priority:
                  description: |-
                    Priority of the EnvoyPatchPolicy.
                    If multiple EnvoyPatchPolicies are applied to the same
                    TargetRef, they will be applied in the ascending order of
                    the priority i.e. int32.min has the highest priority and
                    int32.max has the lowest priority.
                    Defaults to 0.
                  format: int32
                  type: integer
                targetRef:
                  description: |-
                    TargetRef is the name of the Gateway API resource this policy
                    is being attached to.
                    By default attaching to Gateway is supported and
                    when mergeGateways is enabled it should attach to GatewayClass.
                    This Policy and the TargetRef MUST be in the same namespace
                    for this Policy to have effect and be applied to the Gateway
                    TargetRef
                  properties:
                    group:
                      description: Group is the group of the target resource.
                      maxLength: 253
                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    kind:
                      description: Kind is kind of the target resource.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                      type: string
                    name:
                      description: Name is the name of the target resource.
                      maxLength: 253
                      minLength: 1
                      type: string
                    namespace:
                      description: |-
                        Namespace is the namespace of the referent. When unspecified, the local
                        namespace is inferred. Even when policy targets a resource in a different
                        namespace, it MUST only apply to traffic originating from the same
                        namespace as the policy.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                      type: string
                  required:
                  - group
                  - kind
                  - name
                  type: object
                type:
                  description: |-
                    Type decides the type of patch.
                    Valid EnvoyPatchType values are "JSONPatch".
                  enum:
                  - JSONPatch
                  type: string
              required:
              - targetRef
              - type
              type: object
            status:
              description: Status defines the current status of EnvoyPatchPolicy.
              properties:
                ancestors:
                  description: |-
                    Ancestors is a list of ancestor resources (usually Gateways) that are
                    associated with the policy, and the status of the policy with respect to
                    each ancestor. When this policy attaches to a parent, the controller that
                    manages the parent and the ancestors MUST add an entry to this list when
                    the controller first sees the policy and SHOULD update the entry as
                    appropriate when the relevant ancestor is modified.


                    Note that choosing the relevant ancestor is left to the Policy designers;
                    an important part of Policy design is designing the right object level at
                    which to namespace this status.


                    Note also that implementations MUST ONLY populate ancestor status for
                    the Ancestor resources they are responsible for. Implementations MUST
                    use the ControllerName field to uniquely identify the entries in this list
                    that they are responsible for.


                    Note that to achieve this, the list of PolicyAncestorStatus structs
                    MUST be treated as a map with a composite key, made up of the AncestorRef
                    and ControllerName fields combined.


                    A maximum of 16 ancestors will be represented in this list. An empty list
                    means the Policy is not relevant for any ancestors.


                    If this slice is full, implementations MUST NOT add further entries.
                    Instead they MUST consider the policy unimplementable and signal that
                    on any related resources such as the ancestor that would be referenced
                    here. For example, if this list was full on BackendTLSPolicy, no
                    additional Gateways would be able to reference the Service targeted by
                    the BackendTLSPolicy.
                  items:
                    description: |-
                      PolicyAncestorStatus describes the status of a route with respect to an
                      associated Ancestor.


                      Ancestors refer to objects that are either the Target of a policy or above it
                      in terms of object hierarchy. For example, if a policy targets a Service, the
                      Policy's Ancestors are, in order, the Service, the HTTPRoute, the Gateway, and
                      the GatewayClass. Almost always, in this hierarchy, the Gateway will be the most
                      useful object to place Policy status on, so we recommend that implementations
                      SHOULD use Gateway as the PolicyAncestorStatus object unless the designers
                      have a _very_ good reason otherwise.


                      In the context of policy attachment, the Ancestor is used to distinguish which
                      resource results in a distinct application of this policy. For example, if a policy
                      targets a Service, it may have a distinct result per attached Gateway.


                      Policies targeting the same resource may have different effects depending on the
                      ancestors of those resources. For example, different Gateways targeting the same
                      Service may have different capabilities, especially if they have different underlying
                      implementations.


                      For example, in BackendTLSPolicy, the Policy attaches to a Service that is
                      used as a backend in a HTTPRoute that is itself attached to a Gateway.
                      In this case, the relevant object for status is the Gateway, and that is the
                      ancestor object referred to in this status.


                      Note that a parent is also an ancestor, so for objects where the parent is the
                      relevant object for status, this struct SHOULD still be used.


                      This struct is intended to be used in a slice that's effectively a map,
                      with a composite key made up of the AncestorRef and the ControllerName.
                    properties:
                      ancestorRef:
                        description: |-
                          AncestorRef corresponds with a ParentRef in the spec that this
                          PolicyAncestorStatus struct describes the status of.
                        properties:
                          group:
                            default: gateway.networking.k8s.io
                            description: |-
                              Group is the group of the referent.
                              When unspecified, "gateway.networking.k8s.io" is inferred.
                              To set the core API group (such as for a "Service" kind referent),
                              Group must be explicitly set to "" (empty string).


                              Support: Core
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Gateway
                            description: |-
                              Kind is kind of the referent.


                              There are two kinds of parent resources with "Core" support:


                              * Gateway (Gateway conformance profile)
                              * Service (Mesh conformance profile, experimental, ClusterIP Services only)


                              Support for other resources is Implementation-Specific.
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: |-
                              Name is the name of the referent.


                              Support: Core
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: |-
                              Namespace is the namespace of the referent. When unspecified, this refers
                              to the local namespace of the Route.


                              Note that there are specific rules for ParentRefs which cross namespace
                              boundaries. Cross-namespace references are only valid if they are explicitly
                              allowed by something in the namespace they are referring to. For example:
                              Gateway has the AllowedRoutes field, and ReferenceGrant provides a
                              generic way to enable any other kind of cross-namespace reference.


                              <gateway:experimental:description>
                              ParentRefs from a Route to a Service in the same namespace are "producer"
                              routes, which apply default routing rules to inbound connections from
                              any namespace to the Service.


                              ParentRefs from a Route to a Service in a different namespace are
                              "consumer" routes, and these routing rules are only applied to outbound
                              connections originating from the same namespace as the Route, for which
                              the intended destination of the connections are a Service targeted as a
                              ParentRef of the Route.
                              </gateway:experimental:description>


                              Support: Core
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                          port:
                            description: |-
                              Port is the network port this Route targets. It can be interpreted
                              differently based on the type of parent resource.


                              When the parent resource is a Gateway, this targets all listeners
                              listening on the specified port that also support this kind of Route(and
                              select this Route). It's not recommended to set `Port` unless the
                              networking behaviors specified in a Route must apply to a specific port
                              as opposed to a listener(s) whose port(s) may be changed. When both Port
                              and SectionName are specified, the name and port of the selected listener
                              must match both specified values.


                              <gateway:experimental:description>
                              When the parent resource is a Service, this targets a specific port in the
                              Service spec. When both Port (experimental) and SectionName are specified,
                              the name and port of the selected port must match both specified values.
                              </gateway:experimental:description>


                              Implementations MAY choose to support other parent resources.
                              Implementations supporting other types of parent resources MUST clearly
                              document how/if Port is interpreted.


                              For the purpose of status, an attachment is considered successful as
                              long as the parent resource accepts it partially. For example, Gateway
                              listeners can restrict which Routes can attach to them by Route kind,
                              namespace, or hostname. If 1 of 2 Gateway listeners accept attachment
                              from the referencing Route, the Route MUST be considered successfully
                              attached. If no Gateway listeners accept attachment from this Route,
                              the Route MUST be considered detached from the Gateway.


                              Support: Extended


                              <gateway:experimental>
                            format: int32
                            maximum: 65535
                            minimum: 1
                            type: integer
                          sectionName:
                            description: |-
                              SectionName is the name of a section within the target resource. In the
                              following resources, SectionName is interpreted as the following:


                              * Gateway: Listener Name. When both Port (experimental) and SectionName
                              are specified, the name and port of the selected listener must match
                              both specified values.
                              * Service: Port Name. When both Port (experimental) and SectionName
                              are specified, the name and port of the selected listener must match
                              both specified values. Note that attaching Routes to Services as Parents
                              is part of experimental Mesh support and is not supported for any other
                              purpose.


                              Implementations MAY choose to support attaching Routes to other resources.
                              If that is the case, they MUST clearly document how SectionName is
                              interpreted.


                              When unspecified (empty string), this will reference the entire resource.
                              For the purpose of status, an attachment is considered successful if at
                              least one section in the parent resource accepts it. For example, Gateway
                              listeners can restrict which Routes can attach to them by Route kind,
                              namespace, or hostname. If 1 of 2 Gateway listeners accept attachment from
                              the referencing Route, the Route MUST be considered successfully
                              attached. If no Gateway listeners accept attachment from this Route, the
                              Route MUST be considered detached from the Gateway.


                              Support: Core
                            maxLength: 253
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                        required:
                        - name
                        type: object
                      conditions:
                        description: Conditions describes the status of the Policy
                          with respect to the given Ancestor.
                        items:
                          description: "Condition contains details for one aspect
                            of the current state of this API Resource.\n---\nThis
                            struct is intended for direct use as an array at the field
                            path .status.conditions.  For example,\n\n\n\ttype FooStatus
                            struct{\n\t    // Represents the observations of a foo's
                            current state.\n\t    // Known .status.conditions.type
                            are: \"Available\", \"Progressing\", and \"Degraded\"\n\t
                            \   // +patchMergeKey=type\n\t    // +patchStrategy=merge\n\t
                            \   // +listType=map\n\t    // +listMapKey=type\n\t    Conditions
                            []metav1.Condition `json:\"conditions,omitempty\" patchStrategy:\"merge\"
                            patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`\n\n\n\t
                            \   // other fields\n\t}"
                          properties:
                            lastTransitionTime:
                              description: |-
                                lastTransitionTime is the last time the condition transitioned from one status to another.
                                This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                              format: date-time
                              type: string
                            message:
                              description: |-
                                message is a human readable message indicating details about the transition.
                                This may be an empty string.
                              maxLength: 32768
                              type: string
                            observedGeneration:
                              description: |-
                                observedGeneration represents the .metadata.generation that the condition was set based upon.
                                For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                                with respect to the current state of the instance.
                              format: int64
                              minimum: 0
                              type: integer
                            reason:
                              description: |-
                                reason contains a programmatic identifier indicating the reason for the condition's last transition.
                                Producers of specific condition types may define expected values and meanings for this field,
                                and whether the values are considered a guaranteed API.
                                The value should be a CamelCase string.
                                This field may not be empty.
                              maxLength: 1024
                              minLength: 1
                              pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                              type: string
                            status:
                              description: status of the condition, one of True, False,
                                Unknown.
                              enum:
                              - "True"
                              - "False"
                              - Unknown
                              type: string
                            type:
                              description: |-
                                type of condition in CamelCase or in foo.example.com/CamelCase.
                                ---
                                Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
                                useful (see .node.status.conditions), the ability to deconflict is important.
                                The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                              maxLength: 316
                              pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                              type: string
                          required:
                          - lastTransitionTime
                          - message
                          - reason
                          - status
                          - type
                          type: object
                        maxItems: 8
                        minItems: 1
                        type: array
                        x-kubernetes-list-map-keys:
                        - type
                        x-kubernetes-list-type: map
                      controllerName:
                        description: |-
                          ControllerName is a domain/path string that indicates the name of the
                          controller that wrote this status. This corresponds with the
                          controllerName field on GatewayClass.


                          Example: "example.net/gateway-controller".


                          The format of this field is DOMAIN "/" PATH, where DOMAIN and PATH are
                          valid Kubernetes names
                          (https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names).


                          Controllers MUST populate this field when writing status. Controllers should ensure that
                          entries to status populated with their ControllerName are cleaned up when they are no
                          longer necessary.
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                        type: string
                    required:
                    - ancestorRef
                    - controllerName
                    type: object
                  maxItems: 16
                  type: array
              required:
              - ancestors
              type: object
          required:
          - spec
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - envoy-gateway
      kind: EnvoyPatchPolicy
      listKind: EnvoyPatchPolicyList
      plural: envoypatchpolicies
      shortNames:
      - epp
      singular: envoypatchpolicy
    conditions:
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      controller-gen.kubebuilder.io/version: v0.14.0
    creationTimestamp: "2024-04-11T07:49:06Z"
    generation: 1
    name: envoyproxies.gateway.envoyproxy.io
    resourceVersion: "2269569"
    uid: 2805bef1-f969-419c-86cb-85f23d1ccdab
  spec:
    conversion:
      strategy: None
    group: gateway.envoyproxy.io
    names:
      categories:
      - envoy-gateway
      kind: EnvoyProxy
      listKind: EnvoyProxyList
      plural: envoyproxies
      shortNames:
      - eproxy
      singular: envoyproxy
    scope: Namespaced
    versions:
    - name: v1alpha1
      schema:
        openAPIV3Schema:
          description: EnvoyProxy is the schema for the envoyproxies API.
          properties:
            apiVersion:
              description: |-
                APIVersion defines the versioned schema of this representation of an object.
                Servers should convert recognized schemas to the latest internal value, and
                may reject unrecognized values.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
              type: string
            kind:
              description: |-
                Kind is a string value representing the REST resource this object represents.
                Servers may infer this from the endpoint the client submits requests to.
                Cannot be updated.
                In CamelCase.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
              type: string
            metadata:
              type: object
            spec:
              description: EnvoyProxySpec defines the desired state of EnvoyProxy.
              properties:
                bootstrap:
                  description: |-
                    Bootstrap defines the Envoy Bootstrap as a YAML string.
                    Visit https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/bootstrap/v3/bootstrap.proto#envoy-v3-api-msg-config-bootstrap-v3-bootstrap
                    to learn more about the syntax.
                    If set, this is the Bootstrap configuration used for the managed Envoy Proxy fleet instead of the default Bootstrap configuration
                    set by Envoy Gateway.
                    Some fields within the Bootstrap that are required to communicate with the xDS Server (Envoy Gateway) and receive xDS resources
                    from it are not configurable and will result in the `EnvoyProxy` resource being rejected.
                    Backward compatibility across minor versions is not guaranteed.
                    We strongly recommend using `egctl x translate` to generate a `EnvoyProxy` resource with the `Bootstrap` field set to the default
                    Bootstrap configuration used. You can edit this configuration, and rerun `egctl x translate` to ensure there are no validation errors.
                  properties:
                    type:
                      default: Replace
                      description: |-
                        Type is the type of the bootstrap configuration, it should be either Replace or Merge.
                        If unspecified, it defaults to Replace.
                      enum:
                      - Merge
                      - Replace
                      type: string
                    value:
                      description: Value is a YAML string of the bootstrap.
                      type: string
                  required:
                  - value
                  type: object
                concurrency:
                  description: |-
                    Concurrency defines the number of worker threads to run. If unset, it defaults to
                    the number of cpuset threads on the platform.
                  format: int32
                  type: integer
                extraArgs:
                  description: |-
                    ExtraArgs defines additional command line options that are provided to Envoy.
                    More info: https://www.envoyproxy.io/docs/envoy/latest/operations/cli#command-line-options
                    Note: some command line options are used internally(e.g. --log-level) so they cannot be provided here.
                  items:
                    type: string
                  type: array
                logging:
                  default:
                    level:
                      default: warn
                  description: Logging defines logging parameters for managed proxies.
                  properties:
                    level:
                      additionalProperties:
                        description: LogLevel defines a log level for Envoy Gateway
                          and EnvoyProxy system logs.
                        enum:
                        - debug
                        - info
                        - error
                        - warn
                        type: string
                      default:
                        default: warn
                      description: |-
                        Level is a map of logging level per component, where the component is the key
                        and the log level is the value. If unspecified, defaults to "default: warn".
                      type: object
                  type: object
                mergeGateways:
                  description: |-
                    MergeGateways defines if Gateway resources should be merged onto the same Envoy Proxy Infrastructure.
                    Setting this field to true would merge all Gateway Listeners under the parent Gateway Class.
                    This means that the port, protocol and hostname tuple must be unique for every listener.
                    If a duplicate listener is detected, the newer listener (based on timestamp) will be rejected and its status will be updated with a "Accepted=False" condition.
                  type: boolean
                provider:
                  description: |-
                    Provider defines the desired resource provider and provider-specific configuration.
                    If unspecified, the "Kubernetes" resource provider is used with default configuration
                    parameters.
                  properties:
                    kubernetes:
                      description: |-
                        Kubernetes defines the desired state of the Kubernetes resource provider.
                        Kubernetes provides infrastructure resources for running the data plane,
                        e.g. Envoy proxy. If unspecified and type is "Kubernetes", default settings
                        for managed Kubernetes resources are applied.
                      properties:
                        envoyDeployment:
                          description: |-
                            EnvoyDeployment defines the desired state of the Envoy deployment resource.
                            If unspecified, default settings for the managed Envoy deployment resource
                            are applied.
                          properties:
                            container:
                              description: Container defines the desired specification
                                of main container.
                              properties:
                                env:
                                  description: List of environment variables to set
                                    in the container.
                                  items:
                                    description: EnvVar represents an environment
                                      variable present in a Container.
                                    properties:
                                      name:
                                        description: Name of the environment variable.
                                          Must be a C_IDENTIFIER.
                                        type: string
                                      value:
                                        description: |-
                                          Variable references $(VAR_NAME) are expanded
                                          using the previously defined environment variables in the container and
                                          any service environment variables. If a variable cannot be resolved,
                                          the reference in the input string will be unchanged. Double $$ are reduced
                                          to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e.
                                          "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
                                          Escaped references will never be expanded, regardless of whether the variable
                                          exists or not.
                                          Defaults to "".
                                        type: string
                                      valueFrom:
                                        description: Source for the environment variable's
                                          value. Cannot be used if value is not empty.
                                        properties:
                                          configMapKeyRef:
                                            description: Selects a key of a ConfigMap.
                                            properties:
                                              key:
                                                description: The key to select.
                                                type: string
                                              name:
                                                description: |-
                                                  Name of the referent.
                                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                  TODO: Add other useful fields. apiVersion, kind, uid?
                                                type: string
                                              optional:
                                                description: Specify whether the ConfigMap
                                                  or its key must be defined
                                                type: boolean
                                            required:
                                            - key
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          fieldRef:
                                            description: |-
                                              Selects a field of the pod: supports metadata.name, metadata.namespace, `metadata.labels['<KEY>']`, `metadata.annotations['<KEY>']`,
                                              spec.nodeName, spec.serviceAccountName, status.hostIP, status.podIP, status.podIPs.
                                            properties:
                                              apiVersion:
                                                description: Version of the schema
                                                  the FieldPath is written in terms
                                                  of, defaults to "v1".
                                                type: string
                                              fieldPath:
                                                description: Path of the field to
                                                  select in the specified API version.
                                                type: string
                                            required:
                                            - fieldPath
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          resourceFieldRef:
                                            description: |-
                                              Selects a resource of the container: only resources limits and requests
                                              (limits.cpu, limits.memory, limits.ephemeral-storage, requests.cpu, requests.memory and requests.ephemeral-storage) are currently supported.
                                            properties:
                                              containerName:
                                                description: 'Container name: required
                                                  for volumes, optional for env vars'
                                                type: string
                                              divisor:
                                                anyOf:
                                                - type: integer
                                                - type: string
                                                description: Specifies the output
                                                  format of the exposed resources,
                                                  defaults to "1"
                                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                x-kubernetes-int-or-string: true
                                              resource:
                                                description: 'Required: resource to
                                                  select'
                                                type: string
                                            required:
                                            - resource
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          secretKeyRef:
                                            description: Selects a key of a secret
                                              in the pod's namespace
                                            properties:
                                              key:
                                                description: The key of the secret
                                                  to select from.  Must be a valid
                                                  secret key.
                                                type: string
                                              name:
                                                description: |-
                                                  Name of the referent.
                                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                  TODO: Add other useful fields. apiVersion, kind, uid?
                                                type: string
                                              optional:
                                                description: Specify whether the Secret
                                                  or its key must be defined
                                                type: boolean
                                            required:
                                            - key
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        type: object
                                    required:
                                    - name
                                    type: object
                                  type: array
                                image:
                                  description: Image specifies the EnvoyProxy container
                                    image to be used, instead of the default image.
                                  type: string
                                resources:
                                  description: |-
                                    Resources required by this container.
                                    More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                  properties:
                                    claims:
                                      description: |-
                                        Claims lists the names of resources, defined in spec.resourceClaims,
                                        that are used by this container.


                                        This is an alpha field and requires enabling the
                                        DynamicResourceAllocation feature gate.


                                        This field is immutable. It can only be set for containers.
                                      items:
                                        description: ResourceClaim references one
                                          entry in PodSpec.ResourceClaims.
                                        properties:
                                          name:
                                            description: |-
                                              Name must match the name of one entry in pod.spec.resourceClaims of
                                              the Pod where this field is used. It makes that resource available
                                              inside a container.
                                            type: string
                                        required:
                                        - name
                                        type: object
                                      type: array
                                      x-kubernetes-list-map-keys:
                                      - name
                                      x-kubernetes-list-type: map
                                    limits:
                                      additionalProperties:
                                        anyOf:
                                        - type: integer
                                        - type: string
                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                        x-kubernetes-int-or-string: true
                                      description: |-
                                        Limits describes the maximum amount of compute resources allowed.
                                        More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                      type: object
                                    requests:
                                      additionalProperties:
                                        anyOf:
                                        - type: integer
                                        - type: string
                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                        x-kubernetes-int-or-string: true
                                      description: |-
                                        Requests describes the minimum amount of compute resources required.
                                        If Requests is omitted for a container, it defaults to Limits if that is explicitly specified,
                                        otherwise to an implementation-defined value. Requests cannot exceed Limits.
                                        More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                      type: object
                                  type: object
                                securityContext:
                                  description: |-
                                    SecurityContext defines the security options the container should be run with.
                                    If set, the fields of SecurityContext override the equivalent fields of PodSecurityContext.
                                    More info: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/
                                  properties:
                                    allowPrivilegeEscalation:
                                      description: |-
                                        AllowPrivilegeEscalation controls whether a process can gain more
                                        privileges than its parent process. This bool directly controls if
                                        the no_new_privs flag will be set on the container process.
                                        AllowPrivilegeEscalation is true always when the container is:
                                        1) run as Privileged
                                        2) has CAP_SYS_ADMIN
                                        Note that this field cannot be set when spec.os.name is windows.
                                      type: boolean
                                    capabilities:
                                      description: |-
                                        The capabilities to add/drop when running containers.
                                        Defaults to the default set of capabilities granted by the container runtime.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      properties:
                                        add:
                                          description: Added capabilities
                                          items:
                                            description: Capability represent POSIX
                                              capabilities type
                                            type: string
                                          type: array
                                        drop:
                                          description: Removed capabilities
                                          items:
                                            description: Capability represent POSIX
                                              capabilities type
                                            type: string
                                          type: array
                                      type: object
                                    privileged:
                                      description: |-
                                        Run container in privileged mode.
                                        Processes in privileged containers are essentially equivalent to root on the host.
                                        Defaults to false.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      type: boolean
                                    procMount:
                                      description: |-
                                        procMount denotes the type of proc mount to use for the containers.
                                        The default is DefaultProcMount which uses the container runtime defaults for
                                        readonly paths and masked paths.
                                        This requires the ProcMountType feature flag to be enabled.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      type: string
                                    readOnlyRootFilesystem:
                                      description: |-
                                        Whether this container has a read-only root filesystem.
                                        Default is false.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      type: boolean
                                    runAsGroup:
                                      description: |-
                                        The GID to run the entrypoint of the container process.
                                        Uses runtime default if unset.
                                        May also be set in PodSecurityContext.  If set in both SecurityContext and
                                        PodSecurityContext, the value specified in SecurityContext takes precedence.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      format: int64
                                      type: integer
                                    runAsNonRoot:
                                      description: |-
                                        Indicates that the container must run as a non-root user.
                                        If true, the Kubelet will validate the image at runtime to ensure that it
                                        does not run as UID 0 (root) and fail to start the container if it does.
                                        If unset or false, no such validation will be performed.
                                        May also be set in PodSecurityContext.  If set in both SecurityContext and
                                        PodSecurityContext, the value specified in SecurityContext takes precedence.
                                      type: boolean
                                    runAsUser:
                                      description: |-
                                        The UID to run the entrypoint of the container process.
                                        Defaults to user specified in image metadata if unspecified.
                                        May also be set in PodSecurityContext.  If set in both SecurityContext and
                                        PodSecurityContext, the value specified in SecurityContext takes precedence.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      format: int64
                                      type: integer
                                    seLinuxOptions:
                                      description: |-
                                        The SELinux context to be applied to the container.
                                        If unspecified, the container runtime will allocate a random SELinux context for each
                                        container.  May also be set in PodSecurityContext.  If set in both SecurityContext and
                                        PodSecurityContext, the value specified in SecurityContext takes precedence.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      properties:
                                        level:
                                          description: Level is SELinux level label
                                            that applies to the container.
                                          type: string
                                        role:
                                          description: Role is a SELinux role label
                                            that applies to the container.
                                          type: string
                                        type:
                                          description: Type is a SELinux type label
                                            that applies to the container.
                                          type: string
                                        user:
                                          description: User is a SELinux user label
                                            that applies to the container.
                                          type: string
                                      type: object
                                    seccompProfile:
                                      description: |-
                                        The seccomp options to use by this container. If seccomp options are
                                        provided at both the pod & container level, the container options
                                        override the pod options.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      properties:
                                        localhostProfile:
                                          description: |-
                                            localhostProfile indicates a profile defined in a file on the node should be used.
                                            The profile must be preconfigured on the node to work.
                                            Must be a descending path, relative to the kubelet's configured seccomp profile location.
                                            Must be set if type is "Localhost". Must NOT be set for any other type.
                                          type: string
                                        type:
                                          description: |-
                                            type indicates which kind of seccomp profile will be applied.
                                            Valid options are:


                                            Localhost - a profile defined in a file on the node should be used.
                                            RuntimeDefault - the container runtime default profile should be used.
                                            Unconfined - no profile should be applied.
                                          type: string
                                      required:
                                      - type
                                      type: object
                                    windowsOptions:
                                      description: |-
                                        The Windows specific settings applied to all containers.
                                        If unspecified, the options from the PodSecurityContext will be used.
                                        If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.
                                        Note that this field cannot be set when spec.os.name is linux.
                                      properties:
                                        gmsaCredentialSpec:
                                          description: |-
                                            GMSACredentialSpec is where the GMSA admission webhook
                                            (https://github.com/kubernetes-sigs/windows-gmsa) inlines the contents of the
                                            GMSA credential spec named by the GMSACredentialSpecName field.
                                          type: string
                                        gmsaCredentialSpecName:
                                          description: GMSACredentialSpecName is the
                                            name of the GMSA credential spec to use.
                                          type: string
                                        hostProcess:
                                          description: |-
                                            HostProcess determines if a container should be run as a 'Host Process' container.
                                            All of a Pod's containers must have the same effective HostProcess value
                                            (it is not allowed to have a mix of HostProcess containers and non-HostProcess containers).
                                            In addition, if HostProcess is true then HostNetwork must also be set to true.
                                          type: boolean
                                        runAsUserName:
                                          description: |-
                                            The UserName in Windows to run the entrypoint of the container process.
                                            Defaults to the user specified in image metadata if unspecified.
                                            May also be set in PodSecurityContext. If set in both SecurityContext and
                                            PodSecurityContext, the value specified in SecurityContext takes precedence.
                                          type: string
                                      type: object
                                  type: object
                                volumeMounts:
                                  description: |-
                                    VolumeMounts are volumes to mount into the container's filesystem.
                                    Cannot be updated.
                                  items:
                                    description: VolumeMount describes a mounting
                                      of a Volume within a container.
                                    properties:
                                      mountPath:
                                        description: |-
                                          Path within the container at which the volume should be mounted.  Must
                                          not contain ':'.
                                        type: string
                                      mountPropagation:
                                        description: |-
                                          mountPropagation determines how mounts are propagated from the host
                                          to container and the other way around.
                                          When not set, MountPropagationNone is used.
                                          This field is beta in 1.10.
                                        type: string
                                      name:
                                        description: This must match the Name of a
                                          Volume.
                                        type: string
                                      readOnly:
                                        description: |-
                                          Mounted read-only if true, read-write otherwise (false or unspecified).
                                          Defaults to false.
                                        type: boolean
                                      subPath:
                                        description: |-
                                          Path within the volume from which the container's volume should be mounted.
                                          Defaults to "" (volume's root).
                                        type: string
                                      subPathExpr:
                                        description: |-
                                          Expanded path within the volume from which the container's volume should be mounted.
                                          Behaves similarly to SubPath but environment variable references $(VAR_NAME) are expanded using the container's environment.
                                          Defaults to "" (volume's root).
                                          SubPathExpr and SubPath are mutually exclusive.
                                        type: string
                                    required:
                                    - mountPath
                                    - name
                                    type: object
                                  type: array
                              type: object
                            initContainers:
                              description: |-
                                List of initialization containers belonging to the pod.
                                More info: https://kubernetes.io/docs/concepts/workloads/pods/init-containers/
                              items:
                                description: A single application container that you
                                  want to run within a pod.
                                properties:
                                  args:
                                    description: |-
                                      Arguments to the entrypoint.
                                      The container image's CMD is used if this is not provided.
                                      Variable references $(VAR_NAME) are expanded using the container's environment. If a variable
                                      cannot be resolved, the reference in the input string will be unchanged. Double $$ are reduced
                                      to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will
                                      produce the string literal "$(VAR_NAME)". Escaped references will never be expanded, regardless
                                      of whether the variable exists or not. Cannot be updated.
                                      More info: https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell
                                    items:
                                      type: string
                                    type: array
                                  command:
                                    description: |-
                                      Entrypoint array. Not executed within a shell.
                                      The container image's ENTRYPOINT is used if this is not provided.
                                      Variable references $(VAR_NAME) are expanded using the container's environment. If a variable
                                      cannot be resolved, the reference in the input string will be unchanged. Double $$ are reduced
                                      to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will
                                      produce the string literal "$(VAR_NAME)". Escaped references will never be expanded, regardless
                                      of whether the variable exists or not. Cannot be updated.
                                      More info: https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell
                                    items:
                                      type: string
                                    type: array
                                  env:
                                    description: |-
                                      List of environment variables to set in the container.
                                      Cannot be updated.
                                    items:
                                      description: EnvVar represents an environment
                                        variable present in a Container.
                                      properties:
                                        name:
                                          description: Name of the environment variable.
                                            Must be a C_IDENTIFIER.
                                          type: string
                                        value:
                                          description: |-
                                            Variable references $(VAR_NAME) are expanded
                                            using the previously defined environment variables in the container and
                                            any service environment variables. If a variable cannot be resolved,
                                            the reference in the input string will be unchanged. Double $$ are reduced
                                            to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e.
                                            "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
                                            Escaped references will never be expanded, regardless of whether the variable
                                            exists or not.
                                            Defaults to "".
                                          type: string
                                        valueFrom:
                                          description: Source for the environment
                                            variable's value. Cannot be used if value
                                            is not empty.
                                          properties:
                                            configMapKeyRef:
                                              description: Selects a key of a ConfigMap.
                                              properties:
                                                key:
                                                  description: The key to select.
                                                  type: string
                                                name:
                                                  description: |-
                                                    Name of the referent.
                                                    More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    TODO: Add other useful fields. apiVersion, kind, uid?
                                                  type: string
                                                optional:
                                                  description: Specify whether the
                                                    ConfigMap or its key must be defined
                                                  type: boolean
                                              required:
                                              - key
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            fieldRef:
                                              description: |-
                                                Selects a field of the pod: supports metadata.name, metadata.namespace, `metadata.labels['<KEY>']`, `metadata.annotations['<KEY>']`,
                                                spec.nodeName, spec.serviceAccountName, status.hostIP, status.podIP, status.podIPs.
                                              properties:
                                                apiVersion:
                                                  description: Version of the schema
                                                    the FieldPath is written in terms
                                                    of, defaults to "v1".
                                                  type: string
                                                fieldPath:
                                                  description: Path of the field to
                                                    select in the specified API version.
                                                  type: string
                                              required:
                                              - fieldPath
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            resourceFieldRef:
                                              description: |-
                                                Selects a resource of the container: only resources limits and requests
                                                (limits.cpu, limits.memory, limits.ephemeral-storage, requests.cpu, requests.memory and requests.ephemeral-storage) are currently supported.
                                              properties:
                                                containerName:
                                                  description: 'Container name: required
                                                    for volumes, optional for env
                                                    vars'
                                                  type: string
                                                divisor:
                                                  anyOf:
                                                  - type: integer
                                                  - type: string
                                                  description: Specifies the output
                                                    format of the exposed resources,
                                                    defaults to "1"
                                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                  x-kubernetes-int-or-string: true
                                                resource:
                                                  description: 'Required: resource
                                                    to select'
                                                  type: string
                                              required:
                                              - resource
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            secretKeyRef:
                                              description: Selects a key of a secret
                                                in the pod's namespace
                                              properties:
                                                key:
                                                  description: The key of the secret
                                                    to select from.  Must be a valid
                                                    secret key.
                                                  type: string
                                                name:
                                                  description: |-
                                                    Name of the referent.
                                                    More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    TODO: Add other useful fields. apiVersion, kind, uid?
                                                  type: string
                                                optional:
                                                  description: Specify whether the
                                                    Secret or its key must be defined
                                                  type: boolean
                                              required:
                                              - key
                                              type: object
                                              x-kubernetes-map-type: atomic
                                          type: object
                                      required:
                                      - name
                                      type: object
                                    type: array
                                  envFrom:
                                    description: |-
                                      List of sources to populate environment variables in the container.
                                      The keys defined within a source must be a C_IDENTIFIER. All invalid keys
                                      will be reported as an event when the container is starting. When a key exists in multiple
                                      sources, the value associated with the last source will take precedence.
                                      Values defined by an Env with a duplicate key will take precedence.
                                      Cannot be updated.
                                    items:
                                      description: EnvFromSource represents the source
                                        of a set of ConfigMaps
                                      properties:
                                        configMapRef:
                                          description: The ConfigMap to select from
                                          properties:
                                            name:
                                              description: |-
                                                Name of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                TODO: Add other useful fields. apiVersion, kind, uid?
                                              type: string
                                            optional:
                                              description: Specify whether the ConfigMap
                                                must be defined
                                              type: boolean
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        prefix:
                                          description: An optional identifier to prepend
                                            to each key in the ConfigMap. Must be
                                            a C_IDENTIFIER.
                                          type: string
                                        secretRef:
                                          description: The Secret to select from
                                          properties:
                                            name:
                                              description: |-
                                                Name of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                TODO: Add other useful fields. apiVersion, kind, uid?
                                              type: string
                                            optional:
                                              description: Specify whether the Secret
                                                must be defined
                                              type: boolean
                                          type: object
                                          x-kubernetes-map-type: atomic
                                      type: object
                                    type: array
                                  image:
                                    description: |-
                                      Container image name.
                                      More info: https://kubernetes.io/docs/concepts/containers/images
                                      This field is optional to allow higher level config management to default or override
                                      container images in workload controllers like Deployments and StatefulSets.
                                    type: string
                                  imagePullPolicy:
                                    description: |-
                                      Image pull policy.
                                      One of Always, Never, IfNotPresent.
                                      Defaults to Always if :latest tag is specified, or IfNotPresent otherwise.
                                      Cannot be updated.
                                      More info: https://kubernetes.io/docs/concepts/containers/images#updating-images
                                    type: string
                                  lifecycle:
                                    description: |-
                                      Actions that the management system should take in response to container lifecycle events.
                                      Cannot be updated.
                                    properties:
                                      postStart:
                                        description: |-
                                          PostStart is called immediately after a container is created. If the handler fails,
                                          the container is terminated and restarted according to its restart policy.
                                          Other management of the container blocks until the hook completes.
                                          More info: https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#container-hooks
                                        properties:
                                          exec:
                                            description: Exec specifies the action
                                              to take.
                                            properties:
                                              command:
                                                description: |-
                                                  Command is the command line to execute inside the container, the working directory for the
                                                  command  is root ('/') in the container's filesystem. The command is simply exec'd, it is
                                                  not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use
                                                  a shell, you need to explicitly call out to that shell.
                                                  Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
                                                items:
                                                  type: string
                                                type: array
                                            type: object
                                          httpGet:
                                            description: HTTPGet specifies the http
                                              request to perform.
                                            properties:
                                              host:
                                                description: |-
                                                  Host name to connect to, defaults to the pod IP. You probably want to set
                                                  "Host" in httpHeaders instead.
                                                type: string
                                              httpHeaders:
                                                description: Custom headers to set
                                                  in the request. HTTP allows repeated
                                                  headers.
                                                items:
                                                  description: HTTPHeader describes
                                                    a custom header to be used in
                                                    HTTP probes
                                                  properties:
                                                    name:
                                                      description: |-
                                                        The header field name.
                                                        This will be canonicalized upon output, so case-variant names will be understood as the same header.
                                                      type: string
                                                    value:
                                                      description: The header field
                                                        value
                                                      type: string
                                                  required:
                                                  - name
                                                  - value
                                                  type: object
                                                type: array
                                              path:
                                                description: Path to access on the
                                                  HTTP server.
                                                type: string
                                              port:
                                                anyOf:
                                                - type: integer
                                                - type: string
                                                description: |-
                                                  Name or number of the port to access on the container.
                                                  Number must be in the range 1 to 65535.
                                                  Name must be an IANA_SVC_NAME.
                                                x-kubernetes-int-or-string: true
                                              scheme:
                                                description: |-
                                                  Scheme to use for connecting to the host.
                                                  Defaults to HTTP.
                                                type: string
                                            required:
                                            - port
                                            type: object
                                          sleep:
                                            description: Sleep represents the duration
                                              that the container should sleep before
                                              being terminated.
                                            properties:
                                              seconds:
                                                description: Seconds is the number
                                                  of seconds to sleep.
                                                format: int64
                                                type: integer
                                            required:
                                            - seconds
                                            type: object
                                          tcpSocket:
                                            description: |-
                                              Deprecated. TCPSocket is NOT supported as a LifecycleHandler and kept
                                              for the backward compatibility. There are no validation of this field and
                                              lifecycle hooks will fail in runtime when tcp handler is specified.
                                            properties:
                                              host:
                                                description: 'Optional: Host name
                                                  to connect to, defaults to the pod
                                                  IP.'
                                                type: string
                                              port:
                                                anyOf:
                                                - type: integer
                                                - type: string
                                                description: |-
                                                  Number or name of the port to access on the container.
                                                  Number must be in the range 1 to 65535.
                                                  Name must be an IANA_SVC_NAME.
                                                x-kubernetes-int-or-string: true
                                            required:
                                            - port
                                            type: object
                                        type: object
                                      preStop:
                                        description: |-
                                          PreStop is called immediately before a container is terminated due to an
                                          API request or management event such as liveness/startup probe failure,
                                          preemption, resource contention, etc. The handler is not called if the
                                          container crashes or exits. The Pod's termination grace period countdown begins before the
                                          PreStop hook is executed. Regardless of the outcome of the handler, the
                                          container will eventually terminate within the Pod's termination grace
                                          period (unless delayed by finalizers). Other management of the container blocks until the hook completes
                                          or until the termination grace period is reached.
                                          More info: https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#container-hooks
                                        properties:
                                          exec:
                                            description: Exec specifies the action
                                              to take.
                                            properties:
                                              command:
                                                description: |-
                                                  Command is the command line to execute inside the container, the working directory for the
                                                  command  is root ('/') in the container's filesystem. The command is simply exec'd, it is
                                                  not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use
                                                  a shell, you need to explicitly call out to that shell.
                                                  Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
                                                items:
                                                  type: string
                                                type: array
                                            type: object
                                          httpGet:
                                            description: HTTPGet specifies the http
                                              request to perform.
                                            properties:
                                              host:
                                                description: |-
                                                  Host name to connect to, defaults to the pod IP. You probably want to set
                                                  "Host" in httpHeaders instead.
                                                type: string
                                              httpHeaders:
                                                description: Custom headers to set
                                                  in the request. HTTP allows repeated
                                                  headers.
                                                items:
                                                  description: HTTPHeader describes
                                                    a custom header to be used in
                                                    HTTP probes
                                                  properties:
                                                    name:
                                                      description: |-
                                                        The header field name.
                                                        This will be canonicalized upon output, so case-variant names will be understood as the same header.
                                                      type: string
                                                    value:
                                                      description: The header field
                                                        value
                                                      type: string
                                                  required:
                                                  - name
                                                  - value
                                                  type: object
                                                type: array
                                              path:
                                                description: Path to access on the
                                                  HTTP server.
                                                type: string
                                              port:
                                                anyOf:
                                                - type: integer
                                                - type: string
                                                description: |-
                                                  Name or number of the port to access on the container.
                                                  Number must be in the range 1 to 65535.
                                                  Name must be an IANA_SVC_NAME.
                                                x-kubernetes-int-or-string: true
                                              scheme:
                                                description: |-
                                                  Scheme to use for connecting to the host.
                                                  Defaults to HTTP.
                                                type: string
                                            required:
                                            - port
                                            type: object
                                          sleep:
                                            description: Sleep represents the duration
                                              that the container should sleep before
                                              being terminated.
                                            properties:
                                              seconds:
                                                description: Seconds is the number
                                                  of seconds to sleep.
                                                format: int64
                                                type: integer
                                            required:
                                            - seconds
                                            type: object
                                          tcpSocket:
                                            description: |-
                                              Deprecated. TCPSocket is NOT supported as a LifecycleHandler and kept
                                              for the backward compatibility. There are no validation of this field and
                                              lifecycle hooks will fail in runtime when tcp handler is specified.
                                            properties:
                                              host:
                                                description: 'Optional: Host name
                                                  to connect to, defaults to the pod
                                                  IP.'
                                                type: string
                                              port:
                                                anyOf:
                                                - type: integer
                                                - type: string
                                                description: |-
                                                  Number or name of the port to access on the container.
                                                  Number must be in the range 1 to 65535.
                                                  Name must be an IANA_SVC_NAME.
                                                x-kubernetes-int-or-string: true
                                            required:
                                            - port
                                            type: object
                                        type: object
                                    type: object
                                  livenessProbe:
                                    description: |-
                                      Periodic probe of container liveness.
                                      Container will be restarted if the probe fails.
                                      Cannot be updated.
                                      More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                    properties:
                                      exec:
                                        description: Exec specifies the action to
                                          take.
                                        properties:
                                          command:
                                            description: |-
                                              Command is the command line to execute inside the container, the working directory for the
                                              command  is root ('/') in the container's filesystem. The command is simply exec'd, it is
                                              not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use
                                              a shell, you need to explicitly call out to that shell.
                                              Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
                                            items:
                                              type: string
                                            type: array
                                        type: object
                                      failureThreshold:
                                        description: |-
                                          Minimum consecutive failures for the probe to be considered failed after having succeeded.
                                          Defaults to 3. Minimum value is 1.
                                        format: int32
                                        type: integer
                                      grpc:
                                        description: GRPC specifies an action involving
                                          a GRPC port.
                                        properties:
                                          port:
                                            description: Port number of the gRPC service.
                                              Number must be in the range 1 to 65535.
                                            format: int32
                                            type: integer
                                          service:
                                            description: |-
                                              Service is the name of the service to place in the gRPC HealthCheckRequest
                                              (see https://github.com/grpc/grpc/blob/master/doc/health-checking.md).


                                              If this is not specified, the default behavior is defined by gRPC.
                                            type: string
                                        required:
                                        - port
                                        type: object
                                      httpGet:
                                        description: HTTPGet specifies the http request
                                          to perform.
                                        properties:
                                          host:
                                            description: |-
                                              Host name to connect to, defaults to the pod IP. You probably want to set
                                              "Host" in httpHeaders instead.
                                            type: string
                                          httpHeaders:
                                            description: Custom headers to set in
                                              the request. HTTP allows repeated headers.
                                            items:
                                              description: HTTPHeader describes a
                                                custom header to be used in HTTP probes
                                              properties:
                                                name:
                                                  description: |-
                                                    The header field name.
                                                    This will be canonicalized upon output, so case-variant names will be understood as the same header.
                                                  type: string
                                                value:
                                                  description: The header field value
                                                  type: string
                                              required:
                                              - name
                                              - value
                                              type: object
                                            type: array
                                          path:
                                            description: Path to access on the HTTP
                                              server.
                                            type: string
                                          port:
                                            anyOf:
                                            - type: integer
                                            - type: string
                                            description: |-
                                              Name or number of the port to access on the container.
                                              Number must be in the range 1 to 65535.
                                              Name must be an IANA_SVC_NAME.
                                            x-kubernetes-int-or-string: true
                                          scheme:
                                            description: |-
                                              Scheme to use for connecting to the host.
                                              Defaults to HTTP.
                                            type: string
                                        required:
                                        - port
                                        type: object
                                      initialDelaySeconds:
                                        description: |-
                                          Number of seconds after the container has started before liveness probes are initiated.
                                          More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                        format: int32
                                        type: integer
                                      periodSeconds:
                                        description: |-
                                          How often (in seconds) to perform the probe.
                                          Default to 10 seconds. Minimum value is 1.
                                        format: int32
                                        type: integer
                                      successThreshold:
                                        description: |-
                                          Minimum consecutive successes for the probe to be considered successful after having failed.
                                          Defaults to 1. Must be 1 for liveness and startup. Minimum value is 1.
                                        format: int32
                                        type: integer
                                      tcpSocket:
                                        description: TCPSocket specifies an action
                                          involving a TCP port.
                                        properties:
                                          host:
                                            description: 'Optional: Host name to connect
                                              to, defaults to the pod IP.'
                                            type: string
                                          port:
                                            anyOf:
                                            - type: integer
                                            - type: string
                                            description: |-
                                              Number or name of the port to access on the container.
                                              Number must be in the range 1 to 65535.
                                              Name must be an IANA_SVC_NAME.
                                            x-kubernetes-int-or-string: true
                                        required:
                                        - port
                                        type: object
                                      terminationGracePeriodSeconds:
                                        description: |-
                                          Optional duration in seconds the pod needs to terminate gracefully upon probe failure.
                                          The grace period is the duration in seconds after the processes running in the pod are sent
                                          a termination signal and the time when the processes are forcibly halted with a kill signal.
                                          Set this value longer than the expected cleanup time for your process.
                                          If this value is nil, the pod's terminationGracePeriodSeconds will be used. Otherwise, this
                                          value overrides the value provided by the pod spec.
                                          Value must be non-negative integer. The value zero indicates stop immediately via
                                          the kill signal (no opportunity to shut down).
                                          This is a beta field and requires enabling ProbeTerminationGracePeriod feature gate.
                                          Minimum value is 1. spec.terminationGracePeriodSeconds is used if unset.
                                        format: int64
                                        type: integer
                                      timeoutSeconds:
                                        description: |-
                                          Number of seconds after which the probe times out.
                                          Defaults to 1 second. Minimum value is 1.
                                          More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                        format: int32
                                        type: integer
                                    type: object
                                  name:
                                    description: |-
                                      Name of the container specified as a DNS_LABEL.
                                      Each container in a pod must have a unique name (DNS_LABEL).
                                      Cannot be updated.
                                    type: string
                                  ports:
                                    description: |-
                                      List of ports to expose from the container. Not specifying a port here
                                      DOES NOT prevent that port from being exposed. Any port which is
                                      listening on the default "0.0.0.0" address inside a container will be
                                      accessible from the network.
                                      Modifying this array with strategic merge patch may corrupt the data.
                                      For more information See https://github.com/kubernetes/kubernetes/issues/108255.
                                      Cannot be updated.
                                    items:
                                      description: ContainerPort represents a network
                                        port in a single container.
                                      properties:
                                        containerPort:
                                          description: |-
                                            Number of port to expose on the pod's IP address.
                                            This must be a valid port number, 0 < x < 65536.
                                          format: int32
                                          type: integer
                                        hostIP:
                                          description: What host IP to bind the external
                                            port to.
                                          type: string
                                        hostPort:
                                          description: |-
                                            Number of port to expose on the host.
                                            If specified, this must be a valid port number, 0 < x < 65536.
                                            If HostNetwork is specified, this must match ContainerPort.
                                            Most containers do not need this.
                                          format: int32
                                          type: integer
                                        name:
                                          description: |-
                                            If specified, this must be an IANA_SVC_NAME and unique within the pod. Each
                                            named port in a pod must have a unique name. Name for the port that can be
                                            referred to by services.
                                          type: string
                                        protocol:
                                          default: TCP
                                          description: |-
                                            Protocol for port. Must be UDP, TCP, or SCTP.
                                            Defaults to "TCP".
                                          type: string
                                      required:
                                      - containerPort
                                      type: object
                                    type: array
                                    x-kubernetes-list-map-keys:
                                    - containerPort
                                    - protocol
                                    x-kubernetes-list-type: map
                                  readinessProbe:
                                    description: |-
                                      Periodic probe of container service readiness.
                                      Container will be removed from service endpoints if the probe fails.
                                      Cannot be updated.
                                      More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                    properties:
                                      exec:
                                        description: Exec specifies the action to
                                          take.
                                        properties:
                                          command:
                                            description: |-
                                              Command is the command line to execute inside the container, the working directory for the
                                              command  is root ('/') in the container's filesystem. The command is simply exec'd, it is
                                              not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use
                                              a shell, you need to explicitly call out to that shell.
                                              Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
                                            items:
                                              type: string
                                            type: array
                                        type: object
                                      failureThreshold:
                                        description: |-
                                          Minimum consecutive failures for the probe to be considered failed after having succeeded.
                                          Defaults to 3. Minimum value is 1.
                                        format: int32
                                        type: integer
                                      grpc:
                                        description: GRPC specifies an action involving
                                          a GRPC port.
                                        properties:
                                          port:
                                            description: Port number of the gRPC service.
                                              Number must be in the range 1 to 65535.
                                            format: int32
                                            type: integer
                                          service:
                                            description: |-
                                              Service is the name of the service to place in the gRPC HealthCheckRequest
                                              (see https://github.com/grpc/grpc/blob/master/doc/health-checking.md).


                                              If this is not specified, the default behavior is defined by gRPC.
                                            type: string
                                        required:
                                        - port
                                        type: object
                                      httpGet:
                                        description: HTTPGet specifies the http request
                                          to perform.
                                        properties:
                                          host:
                                            description: |-
                                              Host name to connect to, defaults to the pod IP. You probably want to set
                                              "Host" in httpHeaders instead.
                                            type: string
                                          httpHeaders:
                                            description: Custom headers to set in
                                              the request. HTTP allows repeated headers.
                                            items:
                                              description: HTTPHeader describes a
                                                custom header to be used in HTTP probes
                                              properties:
                                                name:
                                                  description: |-
                                                    The header field name.
                                                    This will be canonicalized upon output, so case-variant names will be understood as the same header.
                                                  type: string
                                                value:
                                                  description: The header field value
                                                  type: string
                                              required:
                                              - name
                                              - value
                                              type: object
                                            type: array
                                          path:
                                            description: Path to access on the HTTP
                                              server.
                                            type: string
                                          port:
                                            anyOf:
                                            - type: integer
                                            - type: string
                                            description: |-
                                              Name or number of the port to access on the container.
                                              Number must be in the range 1 to 65535.
                                              Name must be an IANA_SVC_NAME.
                                            x-kubernetes-int-or-string: true
                                          scheme:
                                            description: |-
                                              Scheme to use for connecting to the host.
                                              Defaults to HTTP.
                                            type: string
                                        required:
                                        - port
                                        type: object
                                      initialDelaySeconds:
                                        description: |-
                                          Number of seconds after the container has started before liveness probes are initiated.
                                          More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                        format: int32
                                        type: integer
                                      periodSeconds:
                                        description: |-
                                          How often (in seconds) to perform the probe.
                                          Default to 10 seconds. Minimum value is 1.
                                        format: int32
                                        type: integer
                                      successThreshold:
                                        description: |-
                                          Minimum consecutive successes for the probe to be considered successful after having failed.
                                          Defaults to 1. Must be 1 for liveness and startup. Minimum value is 1.
                                        format: int32
                                        type: integer
                                      tcpSocket:
                                        description: TCPSocket specifies an action
                                          involving a TCP port.
                                        properties:
                                          host:
                                            description: 'Optional: Host name to connect
                                              to, defaults to the pod IP.'
                                            type: string
                                          port:
                                            anyOf:
                                            - type: integer
                                            - type: string
                                            description: |-
                                              Number or name of the port to access on the container.
                                              Number must be in the range 1 to 65535.
                                              Name must be an IANA_SVC_NAME.
                                            x-kubernetes-int-or-string: true
                                        required:
                                        - port
                                        type: object
                                      terminationGracePeriodSeconds:
                                        description: |-
                                          Optional duration in seconds the pod needs to terminate gracefully upon probe failure.
                                          The grace period is the duration in seconds after the processes running in the pod are sent
                                          a termination signal and the time when the processes are forcibly halted with a kill signal.
                                          Set this value longer than the expected cleanup time for your process.
                                          If this value is nil, the pod's terminationGracePeriodSeconds will be used. Otherwise, this
                                          value overrides the value provided by the pod spec.
                                          Value must be non-negative integer. The value zero indicates stop immediately via
                                          the kill signal (no opportunity to shut down).
                                          This is a beta field and requires enabling ProbeTerminationGracePeriod feature gate.
                                          Minimum value is 1. spec.terminationGracePeriodSeconds is used if unset.
                                        format: int64
                                        type: integer
                                      timeoutSeconds:
                                        description: |-
                                          Number of seconds after which the probe times out.
                                          Defaults to 1 second. Minimum value is 1.
                                          More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                        format: int32
                                        type: integer
                                    type: object
                                  resizePolicy:
                                    description: Resources resize policy for the container.
                                    items:
                                      description: ContainerResizePolicy represents
                                        resource resize policy for the container.
                                      properties:
                                        resourceName:
                                          description: |-
                                            Name of the resource to which this resource resize policy applies.
                                            Supported values: cpu, memory.
                                          type: string
                                        restartPolicy:
                                          description: |-
                                            Restart policy to apply when specified resource is resized.
                                            If not specified, it defaults to NotRequired.
                                          type: string
                                      required:
                                      - resourceName
                                      - restartPolicy
                                      type: object
                                    type: array
                                    x-kubernetes-list-type: atomic
                                  resources:
                                    description: |-
                                      Compute Resources required by this container.
                                      Cannot be updated.
                                      More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                    properties:
                                      claims:
                                        description: |-
                                          Claims lists the names of resources, defined in spec.resourceClaims,
                                          that are used by this container.


                                          This is an alpha field and requires enabling the
                                          DynamicResourceAllocation feature gate.


                                          This field is immutable. It can only be set for containers.
                                        items:
                                          description: ResourceClaim references one
                                            entry in PodSpec.ResourceClaims.
                                          properties:
                                            name:
                                              description: |-
                                                Name must match the name of one entry in pod.spec.resourceClaims of
                                                the Pod where this field is used. It makes that resource available
                                                inside a container.
                                              type: string
                                          required:
                                          - name
                                          type: object
                                        type: array
                                        x-kubernetes-list-map-keys:
                                        - name
                                        x-kubernetes-list-type: map
                                      limits:
                                        additionalProperties:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                        description: |-
                                          Limits describes the maximum amount of compute resources allowed.
                                          More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                        type: object
                                      requests:
                                        additionalProperties:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                        description: |-
                                          Requests describes the minimum amount of compute resources required.
                                          If Requests is omitted for a container, it defaults to Limits if that is explicitly specified,
                                          otherwise to an implementation-defined value. Requests cannot exceed Limits.
                                          More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                        type: object
                                    type: object
                                  restartPolicy:
                                    description: |-
                                      RestartPolicy defines the restart behavior of individual containers in a pod.
                                      This field may only be set for init containers, and the only allowed value is "Always".
                                      For non-init containers or when this field is not specified,
                                      the restart behavior is defined by the Pod's restart policy and the container type.
                                      Setting the RestartPolicy as "Always" for the init container will have the following effect:
                                      this init container will be continually restarted on
                                      exit until all regular containers have terminated. Once all regular
                                      containers have completed, all init containers with restartPolicy "Always"
                                      will be shut down. This lifecycle differs from normal init containers and
                                      is often referred to as a "sidecar" container. Although this init
                                      container still starts in the init container sequence, it does not wait
                                      for the container to complete before proceeding to the next init
                                      container. Instead, the next init container starts immediately after this
                                      init container is started, or after any startupProbe has successfully
                                      completed.
                                    type: string
                                  securityContext:
                                    description: |-
                                      SecurityContext defines the security options the container should be run with.
                                      If set, the fields of SecurityContext override the equivalent fields of PodSecurityContext.
                                      More info: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/
                                    properties:
                                      allowPrivilegeEscalation:
                                        description: |-
                                          AllowPrivilegeEscalation controls whether a process can gain more
                                          privileges than its parent process. This bool directly controls if
                                          the no_new_privs flag will be set on the container process.
                                          AllowPrivilegeEscalation is true always when the container is:
                                          1) run as Privileged
                                          2) has CAP_SYS_ADMIN
                                          Note that this field cannot be set when spec.os.name is windows.
                                        type: boolean
                                      capabilities:
                                        description: |-
                                          The capabilities to add/drop when running containers.
                                          Defaults to the default set of capabilities granted by the container runtime.
                                          Note that this field cannot be set when spec.os.name is windows.
                                        properties:
                                          add:
                                            description: Added capabilities
                                            items:
                                              description: Capability represent POSIX
                                                capabilities type
                                              type: string
                                            type: array
                                          drop:
                                            description: Removed capabilities
                                            items:
                                              description: Capability represent POSIX
                                                capabilities type
                                              type: string
                                            type: array
                                        type: object
                                      privileged:
                                        description: |-
                                          Run container in privileged mode.
                                          Processes in privileged containers are essentially equivalent to root on the host.
                                          Defaults to false.
                                          Note that this field cannot be set when spec.os.name is windows.
                                        type: boolean
                                      procMount:
                                        description: |-
                                          procMount denotes the type of proc mount to use for the containers.
                                          The default is DefaultProcMount which uses the container runtime defaults for
                                          readonly paths and masked paths.
                                          This requires the ProcMountType feature flag to be enabled.
                                          Note that this field cannot be set when spec.os.name is windows.
                                        type: string
                                      readOnlyRootFilesystem:
                                        description: |-
                                          Whether this container has a read-only root filesystem.
                                          Default is false.
                                          Note that this field cannot be set when spec.os.name is windows.
                                        type: boolean
                                      runAsGroup:
                                        description: |-
                                          The GID to run the entrypoint of the container process.
                                          Uses runtime default if unset.
                                          May also be set in PodSecurityContext.  If set in both SecurityContext and
                                          PodSecurityContext, the value specified in SecurityContext takes precedence.
                                          Note that this field cannot be set when spec.os.name is windows.
                                        format: int64
                                        type: integer
                                      runAsNonRoot:
                                        description: |-
                                          Indicates that the container must run as a non-root user.
                                          If true, the Kubelet will validate the image at runtime to ensure that it
                                          does not run as UID 0 (root) and fail to start the container if it does.
                                          If unset or false, no such validation will be performed.
                                          May also be set in PodSecurityContext.  If set in both SecurityContext and
                                          PodSecurityContext, the value specified in SecurityContext takes precedence.
                                        type: boolean
                                      runAsUser:
                                        description: |-
                                          The UID to run the entrypoint of the container process.
                                          Defaults to user specified in image metadata if unspecified.
                                          May also be set in PodSecurityContext.  If set in both SecurityContext and
                                          PodSecurityContext, the value specified in SecurityContext takes precedence.
                                          Note that this field cannot be set when spec.os.name is windows.
                                        format: int64
                                        type: integer
                                      seLinuxOptions:
                                        description: |-
                                          The SELinux context to be applied to the container.
                                          If unspecified, the container runtime will allocate a random SELinux context for each
                                          container.  May also be set in PodSecurityContext.  If set in both SecurityContext and
                                          PodSecurityContext, the value specified in SecurityContext takes precedence.
                                          Note that this field cannot be set when spec.os.name is windows.
                                        properties:
                                          level:
                                            description: Level is SELinux level label
                                              that applies to the container.
                                            type: string
                                          role:
                                            description: Role is a SELinux role label
                                              that applies to the container.
                                            type: string
                                          type:
                                            description: Type is a SELinux type label
                                              that applies to the container.
                                            type: string
                                          user:
                                            description: User is a SELinux user label
                                              that applies to the container.
                                            type: string
                                        type: object
                                      seccompProfile:
                                        description: |-
                                          The seccomp options to use by this container. If seccomp options are
                                          provided at both the pod & container level, the container options
                                          override the pod options.
                                          Note that this field cannot be set when spec.os.name is windows.
                                        properties:
                                          localhostProfile:
                                            description: |-
                                              localhostProfile indicates a profile defined in a file on the node should be used.
                                              The profile must be preconfigured on the node to work.
                                              Must be a descending path, relative to the kubelet's configured seccomp profile location.
                                              Must be set if type is "Localhost". Must NOT be set for any other type.
                                            type: string
                                          type:
                                            description: |-
                                              type indicates which kind of seccomp profile will be applied.
                                              Valid options are:


                                              Localhost - a profile defined in a file on the node should be used.
                                              RuntimeDefault - the container runtime default profile should be used.
                                              Unconfined - no profile should be applied.
                                            type: string
                                        required:
                                        - type
                                        type: object
                                      windowsOptions:
                                        description: |-
                                          The Windows specific settings applied to all containers.
                                          If unspecified, the options from the PodSecurityContext will be used.
                                          If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.
                                          Note that this field cannot be set when spec.os.name is linux.
                                        properties:
                                          gmsaCredentialSpec:
                                            description: |-
                                              GMSACredentialSpec is where the GMSA admission webhook
                                              (https://github.com/kubernetes-sigs/windows-gmsa) inlines the contents of the
                                              GMSA credential spec named by the GMSACredentialSpecName field.
                                            type: string
                                          gmsaCredentialSpecName:
                                            description: GMSACredentialSpecName is
                                              the name of the GMSA credential spec
                                              to use.
                                            type: string
                                          hostProcess:
                                            description: |-
                                              HostProcess determines if a container should be run as a 'Host Process' container.
                                              All of a Pod's containers must have the same effective HostProcess value
                                              (it is not allowed to have a mix of HostProcess containers and non-HostProcess containers).
                                              In addition, if HostProcess is true then HostNetwork must also be set to true.
                                            type: boolean
                                          runAsUserName:
                                            description: |-
                                              The UserName in Windows to run the entrypoint of the container process.
                                              Defaults to the user specified in image metadata if unspecified.
                                              May also be set in PodSecurityContext. If set in both SecurityContext and
                                              PodSecurityContext, the value specified in SecurityContext takes precedence.
                                            type: string
                                        type: object
                                    type: object
                                  startupProbe:
                                    description: |-
                                      StartupProbe indicates that the Pod has successfully initialized.
                                      If specified, no other probes are executed until this completes successfully.
                                      If this probe fails, the Pod will be restarted, just as if the livenessProbe failed.
                                      This can be used to provide different probe parameters at the beginning of a Pod's lifecycle,
                                      when it might take a long time to load data or warm a cache, than during steady-state operation.
                                      This cannot be updated.
                                      More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                    properties:
                                      exec:
                                        description: Exec specifies the action to
                                          take.
                                        properties:
                                          command:
                                            description: |-
                                              Command is the command line to execute inside the container, the working directory for the
                                              command  is root ('/') in the container's filesystem. The command is simply exec'd, it is
                                              not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use
                                              a shell, you need to explicitly call out to that shell.
                                              Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
                                            items:
                                              type: string
                                            type: array
                                        type: object
                                      failureThreshold:
                                        description: |-
                                          Minimum consecutive failures for the probe to be considered failed after having succeeded.
                                          Defaults to 3. Minimum value is 1.
                                        format: int32
                                        type: integer
                                      grpc:
                                        description: GRPC specifies an action involving
                                          a GRPC port.
                                        properties:
                                          port:
                                            description: Port number of the gRPC service.
                                              Number must be in the range 1 to 65535.
                                            format: int32
                                            type: integer
                                          service:
                                            description: |-
                                              Service is the name of the service to place in the gRPC HealthCheckRequest
                                              (see https://github.com/grpc/grpc/blob/master/doc/health-checking.md).


                                              If this is not specified, the default behavior is defined by gRPC.
                                            type: string
                                        required:
                                        - port
                                        type: object
                                      httpGet:
                                        description: HTTPGet specifies the http request
                                          to perform.
                                        properties:
                                          host:
                                            description: |-
                                              Host name to connect to, defaults to the pod IP. You probably want to set
                                              "Host" in httpHeaders instead.
                                            type: string
                                          httpHeaders:
                                            description: Custom headers to set in
                                              the request. HTTP allows repeated headers.
                                            items:
                                              description: HTTPHeader describes a
                                                custom header to be used in HTTP probes
                                              properties:
                                                name:
                                                  description: |-
                                                    The header field name.
                                                    This will be canonicalized upon output, so case-variant names will be understood as the same header.
                                                  type: string
                                                value:
                                                  description: The header field value
                                                  type: string
                                              required:
                                              - name
                                              - value
                                              type: object
                                            type: array
                                          path:
                                            description: Path to access on the HTTP
                                              server.
                                            type: string
                                          port:
                                            anyOf:
                                            - type: integer
                                            - type: string
                                            description: |-
                                              Name or number of the port to access on the container.
                                              Number must be in the range 1 to 65535.
                                              Name must be an IANA_SVC_NAME.
                                            x-kubernetes-int-or-string: true
                                          scheme:
                                            description: |-
                                              Scheme to use for connecting to the host.
                                              Defaults to HTTP.
                                            type: string
                                        required:
                                        - port
                                        type: object
                                      initialDelaySeconds:
                                        description: |-
                                          Number of seconds after the container has started before liveness probes are initiated.
                                          More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                        format: int32
                                        type: integer
                                      periodSeconds:
                                        description: |-
                                          How often (in seconds) to perform the probe.
                                          Default to 10 seconds. Minimum value is 1.
                                        format: int32
                                        type: integer
                                      successThreshold:
                                        description: |-
                                          Minimum consecutive successes for the probe to be considered successful after having failed.
                                          Defaults to 1. Must be 1 for liveness and startup. Minimum value is 1.
                                        format: int32
                                        type: integer
                                      tcpSocket:
                                        description: TCPSocket specifies an action
                                          involving a TCP port.
                                        properties:
                                          host:
                                            description: 'Optional: Host name to connect
                                              to, defaults to the pod IP.'
                                            type: string
                                          port:
                                            anyOf:
                                            - type: integer
                                            - type: string
                                            description: |-
                                              Number or name of the port to access on the container.
                                              Number must be in the range 1 to 65535.
                                              Name must be an IANA_SVC_NAME.
                                            x-kubernetes-int-or-string: true
                                        required:
                                        - port
                                        type: object
                                      terminationGracePeriodSeconds:
                                        description: |-
                                          Optional duration in seconds the pod needs to terminate gracefully upon probe failure.
                                          The grace period is the duration in seconds after the processes running in the pod are sent
                                          a termination signal and the time when the processes are forcibly halted with a kill signal.
                                          Set this value longer than the expected cleanup time for your process.
                                          If this value is nil, the pod's terminationGracePeriodSeconds will be used. Otherwise, this
                                          value overrides the value provided by the pod spec.
                                          Value must be non-negative integer. The value zero indicates stop immediately via
                                          the kill signal (no opportunity to shut down).
                                          This is a beta field and requires enabling ProbeTerminationGracePeriod feature gate.
                                          Minimum value is 1. spec.terminationGracePeriodSeconds is used if unset.
                                        format: int64
                                        type: integer
                                      timeoutSeconds:
                                        description: |-
                                          Number of seconds after which the probe times out.
                                          Defaults to 1 second. Minimum value is 1.
                                          More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                        format: int32
                                        type: integer
                                    type: object
                                  stdin:
                                    description: |-
                                      Whether this container should allocate a buffer for stdin in the container runtime. If this
                                      is not set, reads from stdin in the container will always result in EOF.
                                      Default is false.
                                    type: boolean
                                  stdinOnce:
                                    description: |-
                                      Whether the container runtime should close the stdin channel after it has been opened by
                                      a single attach. When stdin is true the stdin stream will remain open across multiple attach
                                      sessions. If stdinOnce is set to true, stdin is opened on container start, is empty until the
                                      first client attaches to stdin, and then remains open and accepts data until the client disconnects,
                                      at which time stdin is closed and remains closed until the container is restarted. If this
                                      flag is false, a container processes that reads from stdin will never receive an EOF.
                                      Default is false
                                    type: boolean
                                  terminationMessagePath:
                                    description: |-
                                      Optional: Path at which the file to which the container's termination message
                                      will be written is mounted into the container's filesystem.
                                      Message written is intended to be brief final status, such as an assertion failure message.
                                      Will be truncated by the node if greater than 4096 bytes. The total message length across
                                      all containers will be limited to 12kb.
                                      Defaults to /dev/termination-log.
                                      Cannot be updated.
                                    type: string
                                  terminationMessagePolicy:
                                    description: |-
                                      Indicate how the termination message should be populated. File will use the contents of
                                      terminationMessagePath to populate the container status message on both success and failure.
                                      FallbackToLogsOnError will use the last chunk of container log output if the termination
                                      message file is empty and the container exited with an error.
                                      The log output is limited to 2048 bytes or 80 lines, whichever is smaller.
                                      Defaults to File.
                                      Cannot be updated.
                                    type: string
                                  tty:
                                    description: |-
                                      Whether this container should allocate a TTY for itself, also requires 'stdin' to be true.
                                      Default is false.
                                    type: boolean
                                  volumeDevices:
                                    description: volumeDevices is the list of block
                                      devices to be used by the container.
                                    items:
                                      description: volumeDevice describes a mapping
                                        of a raw block device within a container.
                                      properties:
                                        devicePath:
                                          description: devicePath is the path inside
                                            of the container that the device will
                                            be mapped to.
                                          type: string
                                        name:
                                          description: name must match the name of
                                            a persistentVolumeClaim in the pod
                                          type: string
                                      required:
                                      - devicePath
                                      - name
                                      type: object
                                    type: array
                                  volumeMounts:
                                    description: |-
                                      Pod volumes to mount into the container's filesystem.
                                      Cannot be updated.
                                    items:
                                      description: VolumeMount describes a mounting
                                        of a Volume within a container.
                                      properties:
                                        mountPath:
                                          description: |-
                                            Path within the container at which the volume should be mounted.  Must
                                            not contain ':'.
                                          type: string
                                        mountPropagation:
                                          description: |-
                                            mountPropagation determines how mounts are propagated from the host
                                            to container and the other way around.
                                            When not set, MountPropagationNone is used.
                                            This field is beta in 1.10.
                                          type: string
                                        name:
                                          description: This must match the Name of
                                            a Volume.
                                          type: string
                                        readOnly:
                                          description: |-
                                            Mounted read-only if true, read-write otherwise (false or unspecified).
                                            Defaults to false.
                                          type: boolean
                                        subPath:
                                          description: |-
                                            Path within the volume from which the container's volume should be mounted.
                                            Defaults to "" (volume's root).
                                          type: string
                                        subPathExpr:
                                          description: |-
                                            Expanded path within the volume from which the container's volume should be mounted.
                                            Behaves similarly to SubPath but environment variable references $(VAR_NAME) are expanded using the container's environment.
                                            Defaults to "" (volume's root).
                                            SubPathExpr and SubPath are mutually exclusive.
                                          type: string
                                      required:
                                      - mountPath
                                      - name
                                      type: object
                                    type: array
                                  workingDir:
                                    description: |-
                                      Container's working directory.
                                      If not specified, the container runtime's default will be used, which
                                      might be configured in the container image.
                                      Cannot be updated.
                                    type: string
                                required:
                                - name
                                type: object
                              type: array
                            patch:
                              description: Patch defines how to perform the patch
                                operation to deployment
                              properties:
                                type:
                                  description: |-
                                    Type is the type of merge operation to perform


                                    By default, StrategicMerge is used as the patch type.
                                  type: string
                                value:
                                  description: Object contains the raw configuration
                                    for merged object
                                  x-kubernetes-preserve-unknown-fields: true
                              required:
                              - value
                              type: object
                            pod:
                              description: Pod defines the desired specification of
                                pod.
                              properties:
                                affinity:
                                  description: If specified, the pod's scheduling
                                    constraints.
                                  properties:
                                    nodeAffinity:
                                      description: Describes node affinity scheduling
                                        rules for the pod.
                                      properties:
                                        preferredDuringSchedulingIgnoredDuringExecution:
                                          description: |-
                                            The scheduler will prefer to schedule pods to nodes that satisfy
                                            the affinity expressions specified by this field, but it may choose
                                            a node that violates one or more of the expressions. The node that is
                                            most preferred is the one with the greatest sum of weights, i.e.
                                            for each node that meets all of the scheduling requirements (resource
                                            request, requiredDuringScheduling affinity expressions, etc.),
                                            compute a sum by iterating through the elements of this field and adding
                                            "weight" to the sum if the node matches the corresponding matchExpressions; the
                                            node(s) with the highest sum are the most preferred.
                                          items:
                                            description: |-
                                              An empty preferred scheduling term matches all objects with implicit weight 0
                                              (i.e. it's a no-op). A null preferred scheduling term matches no objects (i.e. is also a no-op).
                                            properties:
                                              preference:
                                                description: A node selector term,
                                                  associated with the corresponding
                                                  weight.
                                                properties:
                                                  matchExpressions:
                                                    description: A list of node selector
                                                      requirements by node's labels.
                                                    items:
                                                      description: |-
                                                        A node selector requirement is a selector that contains values, a key, and an operator
                                                        that relates the key and values.
                                                      properties:
                                                        key:
                                                          description: The label key
                                                            that the selector applies
                                                            to.
                                                          type: string
                                                        operator:
                                                          description: |-
                                                            Represents a key's relationship to a set of values.
                                                            Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                                          type: string
                                                        values:
                                                          description: |-
                                                            An array of string values. If the operator is In or NotIn,
                                                            the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                            the values array must be empty. If the operator is Gt or Lt, the values
                                                            array must have a single element, which will be interpreted as an integer.
                                                            This array is replaced during a strategic merge patch.
                                                          items:
                                                            type: string
                                                          type: array
                                                      required:
                                                      - key
                                                      - operator
                                                      type: object
                                                    type: array
                                                  matchFields:
                                                    description: A list of node selector
                                                      requirements by node's fields.
                                                    items:
                                                      description: |-
                                                        A node selector requirement is a selector that contains values, a key, and an operator
                                                        that relates the key and values.
                                                      properties:
                                                        key:
                                                          description: The label key
                                                            that the selector applies
                                                            to.
                                                          type: string
                                                        operator:
                                                          description: |-
                                                            Represents a key's relationship to a set of values.
                                                            Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                                          type: string
                                                        values:
                                                          description: |-
                                                            An array of string values. If the operator is In or NotIn,
                                                            the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                            the values array must be empty. If the operator is Gt or Lt, the values
                                                            array must have a single element, which will be interpreted as an integer.
                                                            This array is replaced during a strategic merge patch.
                                                          items:
                                                            type: string
                                                          type: array
                                                      required:
                                                      - key
                                                      - operator
                                                      type: object
                                                    type: array
                                                type: object
                                                x-kubernetes-map-type: atomic
                                              weight:
                                                description: Weight associated with
                                                  matching the corresponding nodeSelectorTerm,
                                                  in the range 1-100.
                                                format: int32
                                                type: integer
                                            required:
                                            - preference
                                            - weight
                                            type: object
                                          type: array
                                        requiredDuringSchedulingIgnoredDuringExecution:
                                          description: |-
                                            If the affinity requirements specified by this field are not met at
                                            scheduling time, the pod will not be scheduled onto the node.
                                            If the affinity requirements specified by this field cease to be met
                                            at some point during pod execution (e.g. due to an update), the system
                                            may or may not try to eventually evict the pod from its node.
                                          properties:
                                            nodeSelectorTerms:
                                              description: Required. A list of node
                                                selector terms. The terms are ORed.
                                              items:
                                                description: |-
                                                  A null or empty node selector term matches no objects. The requirements of
                                                  them are ANDed.
                                                  The TopologySelectorTerm type implements a subset of the NodeSelectorTerm.
                                                properties:
                                                  matchExpressions:
                                                    description: A list of node selector
                                                      requirements by node's labels.
                                                    items:
                                                      description: |-
                                                        A node selector requirement is a selector that contains values, a key, and an operator
                                                        that relates the key and values.
                                                      properties:
                                                        key:
                                                          description: The label key
                                                            that the selector applies
                                                            to.
                                                          type: string
                                                        operator:
                                                          description: |-
                                                            Represents a key's relationship to a set of values.
                                                            Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                                          type: string
                                                        values:
                                                          description: |-
                                                            An array of string values. If the operator is In or NotIn,
                                                            the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                            the values array must be empty. If the operator is Gt or Lt, the values
                                                            array must have a single element, which will be interpreted as an integer.
                                                            This array is replaced during a strategic merge patch.
                                                          items:
                                                            type: string
                                                          type: array
                                                      required:
                                                      - key
                                                      - operator
                                                      type: object
                                                    type: array
                                                  matchFields:
                                                    description: A list of node selector
                                                      requirements by node's fields.
                                                    items:
                                                      description: |-
                                                        A node selector requirement is a selector that contains values, a key, and an operator
                                                        that relates the key and values.
                                                      properties:
                                                        key:
                                                          description: The label key
                                                            that the selector applies
                                                            to.
                                                          type: string
                                                        operator:
                                                          description: |-
                                                            Represents a key's relationship to a set of values.
                                                            Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                                          type: string
                                                        values:
                                                          description: |-
                                                            An array of string values. If the operator is In or NotIn,
                                                            the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                            the values array must be empty. If the operator is Gt or Lt, the values
                                                            array must have a single element, which will be interpreted as an integer.
                                                            This array is replaced during a strategic merge patch.
                                                          items:
                                                            type: string
                                                          type: array
                                                      required:
                                                      - key
                                                      - operator
                                                      type: object
                                                    type: array
                                                type: object
                                                x-kubernetes-map-type: atomic
                                              type: array
                                          required:
                                          - nodeSelectorTerms
                                          type: object
                                          x-kubernetes-map-type: atomic
                                      type: object
                                    podAffinity:
                                      description: Describes pod affinity scheduling
                                        rules (e.g. co-locate this pod in the same
                                        node, zone, etc. as some other pod(s)).
                                      properties:
                                        preferredDuringSchedulingIgnoredDuringExecution:
                                          description: |-
                                            The scheduler will prefer to schedule pods to nodes that satisfy
                                            the affinity expressions specified by this field, but it may choose
                                            a node that violates one or more of the expressions. The node that is
                                            most preferred is the one with the greatest sum of weights, i.e.
                                            for each node that meets all of the scheduling requirements (resource
                                            request, requiredDuringScheduling affinity expressions, etc.),
                                            compute a sum by iterating through the elements of this field and adding
                                            "weight" to the sum if the node has pods which matches the corresponding podAffinityTerm; the
                                            node(s) with the highest sum are the most preferred.
                                          items:
                                            description: The weights of all of the
                                              matched WeightedPodAffinityTerm fields
                                              are added per-node to find the most
                                              preferred node(s)
                                            properties:
                                              podAffinityTerm:
                                                description: Required. A pod affinity
                                                  term, associated with the corresponding
                                                  weight.
                                                properties:
                                                  labelSelector:
                                                    description: |-
                                                      A label query over a set of resources, in this case pods.
                                                      If it's null, this PodAffinityTerm matches with no Pods.
                                                    properties:
                                                      matchExpressions:
                                                        description: matchExpressions
                                                          is a list of label selector
                                                          requirements. The requirements
                                                          are ANDed.
                                                        items:
                                                          description: |-
                                                            A label selector requirement is a selector that contains values, a key, and an operator that
                                                            relates the key and values.
                                                          properties:
                                                            key:
                                                              description: key is
                                                                the label key that
                                                                the selector applies
                                                                to.
                                                              type: string
                                                            operator:
                                                              description: |-
                                                                operator represents a key's relationship to a set of values.
                                                                Valid operators are In, NotIn, Exists and DoesNotExist.
                                                              type: string
                                                            values:
                                                              description: |-
                                                                values is an array of string values. If the operator is In or NotIn,
                                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                                the values array must be empty. This array is replaced during a strategic
                                                                merge patch.
                                                              items:
                                                                type: string
                                                              type: array
                                                          required:
                                                          - key
                                                          - operator
                                                          type: object
                                                        type: array
                                                      matchLabels:
                                                        additionalProperties:
                                                          type: string
                                                        description: |-
                                                          matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                          map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                          operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                        type: object
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                  matchLabelKeys:
                                                    description: |-
                                                      MatchLabelKeys is a set of pod label keys to select which pods will
                                                      be taken into consideration. The keys are used to lookup values from the
                                                      incoming pod labels, those key-value labels are merged with `LabelSelector` as `key in (value)`
                                                      to select the group of existing pods which pods will be taken into consideration
                                                      for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                      pod labels will be ignored. The default value is empty.
                                                      The same key is forbidden to exist in both MatchLabelKeys and LabelSelector.
                                                      Also, MatchLabelKeys cannot be set when LabelSelector isn't set.
                                                      This is an alpha field and requires enabling MatchLabelKeysInPodAffinity feature gate.
                                                    items:
                                                      type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                  mismatchLabelKeys:
                                                    description: |-
                                                      MismatchLabelKeys is a set of pod label keys to select which pods will
                                                      be taken into consideration. The keys are used to lookup values from the
                                                      incoming pod labels, those key-value labels are merged with `LabelSelector` as `key notin (value)`
                                                      to select the group of existing pods which pods will be taken into consideration
                                                      for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                      pod labels will be ignored. The default value is empty.
                                                      The same key is forbidden to exist in both MismatchLabelKeys and LabelSelector.
                                                      Also, MismatchLabelKeys cannot be set when LabelSelector isn't set.
                                                      This is an alpha field and requires enabling MatchLabelKeysInPodAffinity feature gate.
                                                    items:
                                                      type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                  namespaceSelector:
                                                    description: |-
                                                      A label query over the set of namespaces that the term applies to.
                                                      The term is applied to the union of the namespaces selected by this field
                                                      and the ones listed in the namespaces field.
                                                      null selector and null or empty namespaces list means "this pod's namespace".
                                                      An empty selector ({}) matches all namespaces.
                                                    properties:
                                                      matchExpressions:
                                                        description: matchExpressions
                                                          is a list of label selector
                                                          requirements. The requirements
                                                          are ANDed.
                                                        items:
                                                          description: |-
                                                            A label selector requirement is a selector that contains values, a key, and an operator that
                                                            relates the key and values.
                                                          properties:
                                                            key:
                                                              description: key is
                                                                the label key that
                                                                the selector applies
                                                                to.
                                                              type: string
                                                            operator:
                                                              description: |-
                                                                operator represents a key's relationship to a set of values.
                                                                Valid operators are In, NotIn, Exists and DoesNotExist.
                                                              type: string
                                                            values:
                                                              description: |-
                                                                values is an array of string values. If the operator is In or NotIn,
                                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                                the values array must be empty. This array is replaced during a strategic
                                                                merge patch.
                                                              items:
                                                                type: string
                                                              type: array
                                                          required:
                                                          - key
                                                          - operator
                                                          type: object
                                                        type: array
                                                      matchLabels:
                                                        additionalProperties:
                                                          type: string
                                                        description: |-
                                                          matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                          map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                          operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                        type: object
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                  namespaces:
                                                    description: |-
                                                      namespaces specifies a static list of namespace names that the term applies to.
                                                      The term is applied to the union of the namespaces listed in this field
                                                      and the ones selected by namespaceSelector.
                                                      null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                                    items:
                                                      type: string
                                                    type: array
                                                  topologyKey:
                                                    description: |-
                                                      This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                                      the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                                      whose value of the label with key topologyKey matches that of any node on which any of the
                                                      selected pods is running.
                                                      Empty topologyKey is not allowed.
                                                    type: string
                                                required:
                                                - topologyKey
                                                type: object
                                              weight:
                                                description: |-
                                                  weight associated with matching the corresponding podAffinityTerm,
                                                  in the range 1-100.
                                                format: int32
                                                type: integer
                                            required:
                                            - podAffinityTerm
                                            - weight
                                            type: object
                                          type: array
                                        requiredDuringSchedulingIgnoredDuringExecution:
                                          description: |-
                                            If the affinity requirements specified by this field are not met at
                                            scheduling time, the pod will not be scheduled onto the node.
                                            If the affinity requirements specified by this field cease to be met
                                            at some point during pod execution (e.g. due to a pod label update), the
                                            system may or may not try to eventually evict the pod from its node.
                                            When there are multiple elements, the lists of nodes corresponding to each
                                            podAffinityTerm are intersected, i.e. all terms must be satisfied.
                                          items:
                                            description: |-
                                              Defines a set of pods (namely those matching the labelSelector
                                              relative to the given namespace(s)) that this pod should be
                                              co-located (affinity) or not co-located (anti-affinity) with,
                                              where co-located is defined as running on a node whose value of
                                              the label with key <topologyKey> matches that of any node on which
                                              a pod of the set of pods is running
                                            properties:
                                              labelSelector:
                                                description: |-
                                                  A label query over a set of resources, in this case pods.
                                                  If it's null, this PodAffinityTerm matches with no Pods.
                                                properties:
                                                  matchExpressions:
                                                    description: matchExpressions
                                                      is a list of label selector
                                                      requirements. The requirements
                                                      are ANDed.
                                                    items:
                                                      description: |-
                                                        A label selector requirement is a selector that contains values, a key, and an operator that
                                                        relates the key and values.
                                                      properties:
                                                        key:
                                                          description: key is the
                                                            label key that the selector
                                                            applies to.
                                                          type: string
                                                        operator:
                                                          description: |-
                                                            operator represents a key's relationship to a set of values.
                                                            Valid operators are In, NotIn, Exists and DoesNotExist.
                                                          type: string
                                                        values:
                                                          description: |-
                                                            values is an array of string values. If the operator is In or NotIn,
                                                            the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                            the values array must be empty. This array is replaced during a strategic
                                                            merge patch.
                                                          items:
                                                            type: string
                                                          type: array
                                                      required:
                                                      - key
                                                      - operator
                                                      type: object
                                                    type: array
                                                  matchLabels:
                                                    additionalProperties:
                                                      type: string
                                                    description: |-
                                                      matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                      map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                      operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                    type: object
                                                type: object
                                                x-kubernetes-map-type: atomic
                                              matchLabelKeys:
                                                description: |-
                                                  MatchLabelKeys is a set of pod label keys to select which pods will
                                                  be taken into consideration. The keys are used to lookup values from the
                                                  incoming pod labels, those key-value labels are merged with `LabelSelector` as `key in (value)`
                                                  to select the group of existing pods which pods will be taken into consideration
                                                  for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                  pod labels will be ignored. The default value is empty.
                                                  The same key is forbidden to exist in both MatchLabelKeys and LabelSelector.
                                                  Also, MatchLabelKeys cannot be set when LabelSelector isn't set.
                                                  This is an alpha field and requires enabling MatchLabelKeysInPodAffinity feature gate.
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                              mismatchLabelKeys:
                                                description: |-
                                                  MismatchLabelKeys is a set of pod label keys to select which pods will
                                                  be taken into consideration. The keys are used to lookup values from the
                                                  incoming pod labels, those key-value labels are merged with `LabelSelector` as `key notin (value)`
                                                  to select the group of existing pods which pods will be taken into consideration
                                                  for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                  pod labels will be ignored. The default value is empty.
                                                  The same key is forbidden to exist in both MismatchLabelKeys and LabelSelector.
                                                  Also, MismatchLabelKeys cannot be set when LabelSelector isn't set.
                                                  This is an alpha field and requires enabling MatchLabelKeysInPodAffinity feature gate.
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                              namespaceSelector:
                                                description: |-
                                                  A label query over the set of namespaces that the term applies to.
                                                  The term is applied to the union of the namespaces selected by this field
                                                  and the ones listed in the namespaces field.
                                                  null selector and null or empty namespaces list means "this pod's namespace".
                                                  An empty selector ({}) matches all namespaces.
                                                properties:
                                                  matchExpressions:
                                                    description: matchExpressions
                                                      is a list of label selector
                                                      requirements. The requirements
                                                      are ANDed.
                                                    items:
                                                      description: |-
                                                        A label selector requirement is a selector that contains values, a key, and an operator that
                                                        relates the key and values.
                                                      properties:
                                                        key:
                                                          description: key is the
                                                            label key that the selector
                                                            applies to.
                                                          type: string
                                                        operator:
                                                          description: |-
                                                            operator represents a key's relationship to a set of values.
                                                            Valid operators are In, NotIn, Exists and DoesNotExist.
                                                          type: string
                                                        values:
                                                          description: |-
                                                            values is an array of string values. If the operator is In or NotIn,
                                                            the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                            the values array must be empty. This array is replaced during a strategic
                                                            merge patch.
                                                          items:
                                                            type: string
                                                          type: array
                                                      required:
                                                      - key
                                                      - operator
                                                      type: object
                                                    type: array
                                                  matchLabels:
                                                    additionalProperties:
                                                      type: string
                                                    description: |-
                                                      matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                      map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                      operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                    type: object
                                                type: object
                                                x-kubernetes-map-type: atomic
                                              namespaces:
                                                description: |-
                                                  namespaces specifies a static list of namespace names that the term applies to.
                                                  The term is applied to the union of the namespaces listed in this field
                                                  and the ones selected by namespaceSelector.
                                                  null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                                items:
                                                  type: string
                                                type: array
                                              topologyKey:
                                                description: |-
                                                  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                                  the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                                  whose value of the label with key topologyKey matches that of any node on which any of the
                                                  selected pods is running.
                                                  Empty topologyKey is not allowed.
                                                type: string
                                            required:
                                            - topologyKey
                                            type: object
                                          type: array
                                      type: object
                                    podAntiAffinity:
                                      description: Describes pod anti-affinity scheduling
                                        rules (e.g. avoid putting this pod in the
                                        same node, zone, etc. as some other pod(s)).
                                      properties:
                                        preferredDuringSchedulingIgnoredDuringExecution:
                                          description: |-
                                            The scheduler will prefer to schedule pods to nodes that satisfy
                                            the anti-affinity expressions specified by this field, but it may choose
                                            a node that violates one or more of the expressions. The node that is
                                            most preferred is the one with the greatest sum of weights, i.e.
                                            for each node that meets all of the scheduling requirements (resource
                                            request, requiredDuringScheduling anti-affinity expressions, etc.),
                                            compute a sum by iterating through the elements of this field and adding
                                            "weight" to the sum if the node has pods which matches the corresponding podAffinityTerm; the
                                            node(s) with the highest sum are the most preferred.
                                          items:
                                            description: The weights of all of the
                                              matched WeightedPodAffinityTerm fields
                                              are added per-node to find the most
                                              preferred node(s)
                                            properties:
                                              podAffinityTerm:
                                                description: Required. A pod affinity
                                                  term, associated with the corresponding
                                                  weight.
                                                properties:
                                                  labelSelector:
                                                    description: |-
                                                      A label query over a set of resources, in this case pods.
                                                      If it's null, this PodAffinityTerm matches with no Pods.
                                                    properties:
                                                      matchExpressions:
                                                        description: matchExpressions
                                                          is a list of label selector
                                                          requirements. The requirements
                                                          are ANDed.
                                                        items:
                                                          description: |-
                                                            A label selector requirement is a selector that contains values, a key, and an operator that
                                                            relates the key and values.
                                                          properties:
                                                            key:
                                                              description: key is
                                                                the label key that
                                                                the selector applies
                                                                to.
                                                              type: string
                                                            operator:
                                                              description: |-
                                                                operator represents a key's relationship to a set of values.
                                                                Valid operators are In, NotIn, Exists and DoesNotExist.
                                                              type: string
                                                            values:
                                                              description: |-
                                                                values is an array of string values. If the operator is In or NotIn,
                                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                                the values array must be empty. This array is replaced during a strategic
                                                                merge patch.
                                                              items:
                                                                type: string
                                                              type: array
                                                          required:
                                                          - key
                                                          - operator
                                                          type: object
                                                        type: array
                                                      matchLabels:
                                                        additionalProperties:
                                                          type: string
                                                        description: |-
                                                          matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                          map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                          operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                        type: object
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                  matchLabelKeys:
                                                    description: |-
                                                      MatchLabelKeys is a set of pod label keys to select which pods will
                                                      be taken into consideration. The keys are used to lookup values from the
                                                      incoming pod labels, those key-value labels are merged with `LabelSelector` as `key in (value)`
                                                      to select the group of existing pods which pods will be taken into consideration
                                                      for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                      pod labels will be ignored. The default value is empty.
                                                      The same key is forbidden to exist in both MatchLabelKeys and LabelSelector.
                                                      Also, MatchLabelKeys cannot be set when LabelSelector isn't set.
                                                      This is an alpha field and requires enabling MatchLabelKeysInPodAffinity feature gate.
                                                    items:
                                                      type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                  mismatchLabelKeys:
                                                    description: |-
                                                      MismatchLabelKeys is a set of pod label keys to select which pods will
                                                      be taken into consideration. The keys are used to lookup values from the
                                                      incoming pod labels, those key-value labels are merged with `LabelSelector` as `key notin (value)`
                                                      to select the group of existing pods which pods will be taken into consideration
                                                      for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                      pod labels will be ignored. The default value is empty.
                                                      The same key is forbidden to exist in both MismatchLabelKeys and LabelSelector.
                                                      Also, MismatchLabelKeys cannot be set when LabelSelector isn't set.
                                                      This is an alpha field and requires enabling MatchLabelKeysInPodAffinity feature gate.
                                                    items:
                                                      type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                  namespaceSelector:
                                                    description: |-
                                                      A label query over the set of namespaces that the term applies to.
                                                      The term is applied to the union of the namespaces selected by this field
                                                      and the ones listed in the namespaces field.
                                                      null selector and null or empty namespaces list means "this pod's namespace".
                                                      An empty selector ({}) matches all namespaces.
                                                    properties:
                                                      matchExpressions:
                                                        description: matchExpressions
                                                          is a list of label selector
                                                          requirements. The requirements
                                                          are ANDed.
                                                        items:
                                                          description: |-
                                                            A label selector requirement is a selector that contains values, a key, and an operator that
                                                            relates the key and values.
                                                          properties:
                                                            key:
                                                              description: key is
                                                                the label key that
                                                                the selector applies
                                                                to.
                                                              type: string
                                                            operator:
                                                              description: |-
                                                                operator represents a key's relationship to a set of values.
                                                                Valid operators are In, NotIn, Exists and DoesNotExist.
                                                              type: string
                                                            values:
                                                              description: |-
                                                                values is an array of string values. If the operator is In or NotIn,
                                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                                the values array must be empty. This array is replaced during a strategic
                                                                merge patch.
                                                              items:
                                                                type: string
                                                              type: array
                                                          required:
                                                          - key
                                                          - operator
                                                          type: object
                                                        type: array
                                                      matchLabels:
                                                        additionalProperties:
                                                          type: string
                                                        description: |-
                                                          matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                          map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                          operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                        type: object
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                  namespaces:
                                                    description: |-
                                                      namespaces specifies a static list of namespace names that the term applies to.
                                                      The term is applied to the union of the namespaces listed in this field
                                                      and the ones selected by namespaceSelector.
                                                      null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                                    items:
                                                      type: string
                                                    type: array
                                                  topologyKey:
                                                    description: |-
                                                      This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                                      the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                                      whose value of the label with key topologyKey matches that of any node on which any of the
                                                      selected pods is running.
                                                      Empty topologyKey is not allowed.
                                                    type: string
                                                required:
                                                - topologyKey
                                                type: object
                                              weight:
                                                description: |-
                                                  weight associated with matching the corresponding podAffinityTerm,
                                                  in the range 1-100.
                                                format: int32
                                                type: integer
                                            required:
                                            - podAffinityTerm
                                            - weight
                                            type: object
                                          type: array
                                        requiredDuringSchedulingIgnoredDuringExecution:
                                          description: |-
                                            If the anti-affinity requirements specified by this field are not met at
                                            scheduling time, the pod will not be scheduled onto the node.
                                            If the anti-affinity requirements specified by this field cease to be met
                                            at some point during pod execution (e.g. due to a pod label update), the
                                            system may or may not try to eventually evict the pod from its node.
                                            When there are multiple elements, the lists of nodes corresponding to each
                                            podAffinityTerm are intersected, i.e. all terms must be satisfied.
                                          items:
                                            description: |-
                                              Defines a set of pods (namely those matching the labelSelector
                                              relative to the given namespace(s)) that this pod should be
                                              co-located (affinity) or not co-located (anti-affinity) with,
                                              where co-located is defined as running on a node whose value of
                                              the label with key <topologyKey> matches that of any node on which
                                              a pod of the set of pods is running
                                            properties:
                                              labelSelector:
                                                description: |-
                                                  A label query over a set of resources, in this case pods.
                                                  If it's null, this PodAffinityTerm matches with no Pods.
                                                properties:
                                                  matchExpressions:
                                                    description: matchExpressions
                                                      is a list of label selector
                                                      requirements. The requirements
                                                      are ANDed.
                                                    items:
                                                      description: |-
                                                        A label selector requirement is a selector that contains values, a key, and an operator that
                                                        relates the key and values.
                                                      properties:
                                                        key:
                                                          description: key is the
                                                            label key that the selector
                                                            applies to.
                                                          type: string
                                                        operator:
                                                          description: |-
                                                            operator represents a key's relationship to a set of values.
                                                            Valid operators are In, NotIn, Exists and DoesNotExist.
                                                          type: string
                                                        values:
                                                          description: |-
                                                            values is an array of string values. If the operator is In or NotIn,
                                                            the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                            the values array must be empty. This array is replaced during a strategic
                                                            merge patch.
                                                          items:
                                                            type: string
                                                          type: array
                                                      required:
                                                      - key
                                                      - operator
                                                      type: object
                                                    type: array
                                                  matchLabels:
                                                    additionalProperties:
                                                      type: string
                                                    description: |-
                                                      matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                      map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                      operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                    type: object
                                                type: object
                                                x-kubernetes-map-type: atomic
                                              matchLabelKeys:
                                                description: |-
                                                  MatchLabelKeys is a set of pod label keys to select which pods will
                                                  be taken into consideration. The keys are used to lookup values from the
                                                  incoming pod labels, those key-value labels are merged with `LabelSelector` as `key in (value)`
                                                  to select the group of existing pods which pods will be taken into consideration
                                                  for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                  pod labels will be ignored. The default value is empty.
                                                  The same key is forbidden to exist in both MatchLabelKeys and LabelSelector.
                                                  Also, MatchLabelKeys cannot be set when LabelSelector isn't set.
                                                  This is an alpha field and requires enabling MatchLabelKeysInPodAffinity feature gate.
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                              mismatchLabelKeys:
                                                description: |-
                                                  MismatchLabelKeys is a set of pod label keys to select which pods will
                                                  be taken into consideration. The keys are used to lookup values from the
                                                  incoming pod labels, those key-value labels are merged with `LabelSelector` as `key notin (value)`
                                                  to select the group of existing pods which pods will be taken into consideration
                                                  for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                  pod labels will be ignored. The default value is empty.
                                                  The same key is forbidden to exist in both MismatchLabelKeys and LabelSelector.
                                                  Also, MismatchLabelKeys cannot be set when LabelSelector isn't set.
                                                  This is an alpha field and requires enabling MatchLabelKeysInPodAffinity feature gate.
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                              namespaceSelector:
                                                description: |-
                                                  A label query over the set of namespaces that the term applies to.
                                                  The term is applied to the union of the namespaces selected by this field
                                                  and the ones listed in the namespaces field.
                                                  null selector and null or empty namespaces list means "this pod's namespace".
                                                  An empty selector ({}) matches all namespaces.
                                                properties:
                                                  matchExpressions:
                                                    description: matchExpressions
                                                      is a list of label selector
                                                      requirements. The requirements
                                                      are ANDed.
                                                    items:
                                                      description: |-
                                                        A label selector requirement is a selector that contains values, a key, and an operator that
                                                        relates the key and values.
                                                      properties:
                                                        key:
                                                          description: key is the
                                                            label key that the selector
                                                            applies to.
                                                          type: string
                                                        operator:
                                                          description: |-
                                                            operator represents a key's relationship to a set of values.
                                                            Valid operators are In, NotIn, Exists and DoesNotExist.
                                                          type: string
                                                        values:
                                                          description: |-
                                                            values is an array of string values. If the operator is In or NotIn,
                                                            the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                            the values array must be empty. This array is replaced during a strategic
                                                            merge patch.
                                                          items:
                                                            type: string
                                                          type: array
                                                      required:
                                                      - key
                                                      - operator
                                                      type: object
                                                    type: array
                                                  matchLabels:
                                                    additionalProperties:
                                                      type: string
                                                    description: |-
                                                      matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                      map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                      operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                    type: object
                                                type: object
                                                x-kubernetes-map-type: atomic
                                              namespaces:
                                                description: |-
                                                  namespaces specifies a static list of namespace names that the term applies to.
                                                  The term is applied to the union of the namespaces listed in this field
                                                  and the ones selected by namespaceSelector.
                                                  null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                                items:
                                                  type: string
                                                type: array
                                              topologyKey:
                                                description: |-
                                                  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                                  the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                                  whose value of the label with key topologyKey matches that of any node on which any of the
                                                  selected pods is running.
                                                  Empty topologyKey is not allowed.
                                                type: string
                                            required:
                                            - topologyKey
                                            type: object
                                          type: array
                                      type: object
                                  type: object
                                annotations:
                                  additionalProperties:
                                    type: string
                                  description: |-
                                    Annotations are the annotations that should be appended to the pods.
                                    By default, no pod annotations are appended.
                                  type: object
                                imagePullSecrets:
                                  description: |-
                                    ImagePullSecrets is an optional list of references to secrets
                                    in the same namespace to use for pulling any of the images used by this PodSpec.
                                    If specified, these secrets will be passed to individual puller implementations for them to use.
                                    More info: https://kubernetes.io/docs/concepts/containers/images#specifying-imagepullsecrets-on-a-pod
                                  items:
                                    description: |-
                                      LocalObjectReference contains enough information to let you locate the
                                      referenced object inside the same namespace.
                                    properties:
                                      name:
                                        description: |-
                                          Name of the referent.
                                          More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                          TODO: Add other useful fields. apiVersion, kind, uid?
                                        type: string
                                    type: object
                                    x-kubernetes-map-type: atomic
                                  type: array
                                labels:
                                  additionalProperties:
                                    type: string
                                  description: |-
                                    Labels are the additional labels that should be tagged to the pods.
                                    By default, no additional pod labels are tagged.
                                  type: object
                                nodeSelector:
                                  additionalProperties:
                                    type: string
                                  description: |-
                                    NodeSelector is a selector which must be true for the pod to fit on a node.
                                    Selector which must match a node's labels for the pod to be scheduled on that node.
                                    More info: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
                                  type: object
                                securityContext:
                                  description: |-
                                    SecurityContext holds pod-level security attributes and common container settings.
                                    Optional: Defaults to empty.  See type description for default values of each field.
                                  properties:
                                    fsGroup:
                                      description: |-
                                        A special supplemental group that applies to all containers in a pod.
                                        Some volume types allow the Kubelet to change the ownership of that volume
                                        to be owned by the pod:


                                        1. The owning GID will be the FSGroup
                                        2. The setgid bit is set (new files created in the volume will be owned by FSGroup)
                                        3. The permission bits are OR'd with rw-rw----


                                        If unset, the Kubelet will not modify the ownership and permissions of any volume.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      format: int64
                                      type: integer
                                    fsGroupChangePolicy:
                                      description: |-
                                        fsGroupChangePolicy defines behavior of changing ownership and permission of the volume
                                        before being exposed inside Pod. This field will only apply to
                                        volume types which support fsGroup based ownership(and permissions).
                                        It will have no effect on ephemeral volume types such as: secret, configmaps
                                        and emptydir.
                                        Valid values are "OnRootMismatch" and "Always". If not specified, "Always" is used.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      type: string
                                    runAsGroup:
                                      description: |-
                                        The GID to run the entrypoint of the container process.
                                        Uses runtime default if unset.
                                        May also be set in SecurityContext.  If set in both SecurityContext and
                                        PodSecurityContext, the value specified in SecurityContext takes precedence
                                        for that container.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      format: int64
                                      type: integer
                                    runAsNonRoot:
                                      description: |-
                                        Indicates that the container must run as a non-root user.
                                        If true, the Kubelet will validate the image at runtime to ensure that it
                                        does not run as UID 0 (root) and fail to start the container if it does.
                                        If unset or false, no such validation will be performed.
                                        May also be set in SecurityContext.  If set in both SecurityContext and
                                        PodSecurityContext, the value specified in SecurityContext takes precedence.
                                      type: boolean
                                    runAsUser:
                                      description: |-
                                        The UID to run the entrypoint of the container process.
                                        Defaults to user specified in image metadata if unspecified.
                                        May also be set in SecurityContext.  If set in both SecurityContext and
                                        PodSecurityContext, the value specified in SecurityContext takes precedence
                                        for that container.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      format: int64
                                      type: integer
                                    seLinuxOptions:
                                      description: |-
                                        The SELinux context to be applied to all containers.
                                        If unspecified, the container runtime will allocate a random SELinux context for each
                                        container.  May also be set in SecurityContext.  If set in
                                        both SecurityContext and PodSecurityContext, the value specified in SecurityContext
                                        takes precedence for that container.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      properties:
                                        level:
                                          description: Level is SELinux level label
                                            that applies to the container.
                                          type: string
                                        role:
                                          description: Role is a SELinux role label
                                            that applies to the container.
                                          type: string
                                        type:
                                          description: Type is a SELinux type label
                                            that applies to the container.
                                          type: string
                                        user:
                                          description: User is a SELinux user label
                                            that applies to the container.
                                          type: string
                                      type: object
                                    seccompProfile:
                                      description: |-
                                        The seccomp options to use by the containers in this pod.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      properties:
                                        localhostProfile:
                                          description: |-
                                            localhostProfile indicates a profile defined in a file on the node should be used.
                                            The profile must be preconfigured on the node to work.
                                            Must be a descending path, relative to the kubelet's configured seccomp profile location.
                                            Must be set if type is "Localhost". Must NOT be set for any other type.
                                          type: string
                                        type:
                                          description: |-
                                            type indicates which kind of seccomp profile will be applied.
                                            Valid options are:


                                            Localhost - a profile defined in a file on the node should be used.
                                            RuntimeDefault - the container runtime default profile should be used.
                                            Unconfined - no profile should be applied.
                                          type: string
                                      required:
                                      - type
                                      type: object
                                    supplementalGroups:
                                      description: |-
                                        A list of groups applied to the first process run in each container, in addition
                                        to the container's primary GID, the fsGroup (if specified), and group memberships
                                        defined in the container image for the uid of the container process. If unspecified,
                                        no additional groups are added to any container. Note that group memberships
                                        defined in the container image for the uid of the container process are still effective,
                                        even if they are not included in this list.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      items:
                                        format: int64
                                        type: integer
                                      type: array
                                    sysctls:
                                      description: |-
                                        Sysctls hold a list of namespaced sysctls used for the pod. Pods with unsupported
                                        sysctls (by the container runtime) might fail to launch.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      items:
                                        description: Sysctl defines a kernel parameter
                                          to be set
                                        properties:
                                          name:
                                            description: Name of a property to set
                                            type: string
                                          value:
                                            description: Value of a property to set
                                            type: string
                                        required:
                                        - name
                                        - value
                                        type: object
                                      type: array
                                    windowsOptions:
                                      description: |-
                                        The Windows specific settings applied to all containers.
                                        If unspecified, the options within a container's SecurityContext will be used.
                                        If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.
                                        Note that this field cannot be set when spec.os.name is linux.
                                      properties:
                                        gmsaCredentialSpec:
                                          description: |-
                                            GMSACredentialSpec is where the GMSA admission webhook
                                            (https://github.com/kubernetes-sigs/windows-gmsa) inlines the contents of the
                                            GMSA credential spec named by the GMSACredentialSpecName field.
                                          type: string
                                        gmsaCredentialSpecName:
                                          description: GMSACredentialSpecName is the
                                            name of the GMSA credential spec to use.
                                          type: string
                                        hostProcess:
                                          description: |-
                                            HostProcess determines if a container should be run as a 'Host Process' container.
                                            All of a Pod's containers must have the same effective HostProcess value
                                            (it is not allowed to have a mix of HostProcess containers and non-HostProcess containers).
                                            In addition, if HostProcess is true then HostNetwork must also be set to true.
                                          type: boolean
                                        runAsUserName:
                                          description: |-
                                            The UserName in Windows to run the entrypoint of the container process.
                                            Defaults to the user specified in image metadata if unspecified.
                                            May also be set in PodSecurityContext. If set in both SecurityContext and
                                            PodSecurityContext, the value specified in SecurityContext takes precedence.
                                          type: string
                                      type: object
                                  type: object
                                tolerations:
                                  description: If specified, the pod's tolerations.
                                  items:
                                    description: |-
                                      The pod this Toleration is attached to tolerates any taint that matches
                                      the triple <key,value,effect> using the matching operator <operator>.
                                    properties:
                                      effect:
                                        description: |-
                                          Effect indicates the taint effect to match. Empty means match all taint effects.
                                          When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
                                        type: string
                                      key:
                                        description: |-
                                          Key is the taint key that the toleration applies to. Empty means match all taint keys.
                                          If the key is empty, operator must be Exists; this combination means to match all values and all keys.
                                        type: string
                                      operator:
                                        description: |-
                                          Operator represents a key's relationship to the value.
                                          Valid operators are Exists and Equal. Defaults to Equal.
                                          Exists is equivalent to wildcard for value, so that a pod can
                                          tolerate all taints of a particular category.
                                        type: string
                                      tolerationSeconds:
                                        description: |-
                                          TolerationSeconds represents the period of time the toleration (which must be
                                          of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
                                          it is not set, which means tolerate the taint forever (do not evict). Zero and
                                          negative values will be treated as 0 (evict immediately) by the system.
                                        format: int64
                                        type: integer
                                      value:
                                        description: |-
                                          Value is the taint value the toleration matches to.
                                          If the operator is Exists, the value should be empty, otherwise just a regular string.
                                        type: string
                                    type: object
                                  type: array
                                topologySpreadConstraints:
                                  description: |-
                                    TopologySpreadConstraints describes how a group of pods ought to spread across topology
                                    domains. Scheduler will schedule pods in a way which abides by the constraints.
                                    All topologySpreadConstraints are ANDed.
                                  items:
                                    description: TopologySpreadConstraint specifies
                                      how to spread matching pods among the given
                                      topology.
                                    properties:
                                      labelSelector:
                                        description: |-
                                          LabelSelector is used to find matching pods.
                                          Pods that match this label selector are counted to determine the number of pods
                                          in their corresponding topology domain.
                                        properties:
                                          matchExpressions:
                                            description: matchExpressions is a list
                                              of label selector requirements. The
                                              requirements are ANDed.
                                            items:
                                              description: |-
                                                A label selector requirement is a selector that contains values, a key, and an operator that
                                                relates the key and values.
                                              properties:
                                                key:
                                                  description: key is the label key
                                                    that the selector applies to.
                                                  type: string
                                                operator:
                                                  description: |-
                                                    operator represents a key's relationship to a set of values.
                                                    Valid operators are In, NotIn, Exists and DoesNotExist.
                                                  type: string
                                                values:
                                                  description: |-
                                                    values is an array of string values. If the operator is In or NotIn,
                                                    the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                    the values array must be empty. This array is replaced during a strategic
                                                    merge patch.
                                                  items:
                                                    type: string
                                                  type: array
                                              required:
                                              - key
                                              - operator
                                              type: object
                                            type: array
                                          matchLabels:
                                            additionalProperties:
                                              type: string
                                            description: |-
                                              matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                              map is equivalent to an element of matchExpressions, whose key field is "key", the
                                              operator is "In", and the values array contains only "value". The requirements are ANDed.
                                            type: object
                                        type: object
                                        x-kubernetes-map-type: atomic
                                      matchLabelKeys:
                                        description: |-
                                          MatchLabelKeys is a set of pod label keys to select the pods over which
                                          spreading will be calculated. The keys are used to lookup values from the
                                          incoming pod labels, those key-value labels are ANDed with labelSelector
                                          to select the group of existing pods over which spreading will be calculated
                                          for the incoming pod. The same key is forbidden to exist in both MatchLabelKeys and LabelSelector.
                                          MatchLabelKeys cannot be set when LabelSelector isn't set.
                                          Keys that don't exist in the incoming pod labels will
                                          be ignored. A null or empty list means only match against labelSelector.


                                          This is a beta field and requires the MatchLabelKeysInPodTopologySpread feature gate to be enabled (enabled by default).
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      maxSkew:
                                        description: |-
                                          MaxSkew describes the degree to which pods may be unevenly distributed.
                                          When `whenUnsatisfiable=DoNotSchedule`, it is the maximum permitted difference
                                          between the number of matching pods in the target topology and the global minimum.
                                          The global minimum is the minimum number of matching pods in an eligible domain
                                          or zero if the number of eligible domains is less than MinDomains.
                                          For example, in a 3-zone cluster, MaxSkew is set to 1, and pods with the same
                                          labelSelector spread as 2/2/1:
                                          In this case, the global minimum is 1.
                                          | zone1 | zone2 | zone3 |
                                          |  P P  |  P P  |   P   |
                                          - if MaxSkew is 1, incoming pod can only be scheduled to zone3 to become 2/2/2;
                                          scheduling it onto zone1(zone2) would make the ActualSkew(3-1) on zone1(zone2)
                                          violate MaxSkew(1).
                                          - if MaxSkew is 2, incoming pod can be scheduled onto any zone.
                                          When `whenUnsatisfiable=ScheduleAnyway`, it is used to give higher precedence
                                          to topologies that satisfy it.
                                          It's a required field. Default value is 1 and 0 is not allowed.
                                        format: int32
                                        type: integer
                                      minDomains:
                                        description: |-
                                          MinDomains indicates a minimum number of eligible domains.
                                          When the number of eligible domains with matching topology keys is less than minDomains,
                                          Pod Topology Spread treats "global minimum" as 0, and then the calculation of Skew is performed.
                                          And when the number of eligible domains with matching topology keys equals or greater than minDomains,
                                          this value has no effect on scheduling.
                                          As a result, when the number of eligible domains is less than minDomains,
                                          scheduler won't schedule more than maxSkew Pods to those domains.
                                          If value is nil, the constraint behaves as if MinDomains is equal to 1.
                                          Valid values are integers greater than 0.
                                          When value is not nil, WhenUnsatisfiable must be DoNotSchedule.


                                          For example, in a 3-zone cluster, MaxSkew is set to 2, MinDomains is set to 5 and pods with the same
                                          labelSelector spread as 2/2/2:
                                          | zone1 | zone2 | zone3 |
                                          |  P P  |  P P  |  P P  |
                                          The number of domains is less than 5(MinDomains), so "global minimum" is treated as 0.
                                          In this situation, new pod with the same labelSelector cannot be scheduled,
                                          because computed skew will be 3(3 - 0) if new Pod is scheduled to any of the three zones,
                                          it will violate MaxSkew.


                                          This is a beta field and requires the MinDomainsInPodTopologySpread feature gate to be enabled (enabled by default).
                                        format: int32
                                        type: integer
                                      nodeAffinityPolicy:
                                        description: |-
                                          NodeAffinityPolicy indicates how we will treat Pod's nodeAffinity/nodeSelector
                                          when calculating pod topology spread skew. Options are:
                                          - Honor: only nodes matching nodeAffinity/nodeSelector are included in the calculations.
                                          - Ignore: nodeAffinity/nodeSelector are ignored. All nodes are included in the calculations.


                                          If this value is nil, the behavior is equivalent to the Honor policy.
                                          This is a beta-level feature default enabled by the NodeInclusionPolicyInPodTopologySpread feature flag.
                                        type: string
                                      nodeTaintsPolicy:
                                        description: |-
                                          NodeTaintsPolicy indicates how we will treat node taints when calculating
                                          pod topology spread skew. Options are:
                                          - Honor: nodes without taints, along with tainted nodes for which the incoming pod
                                          has a toleration, are included.
                                          - Ignore: node taints are ignored. All nodes are included.


                                          If this value is nil, the behavior is equivalent to the Ignore policy.
                                          This is a beta-level feature default enabled by the NodeInclusionPolicyInPodTopologySpread feature flag.
                                        type: string
                                      topologyKey:
                                        description: |-
                                          TopologyKey is the key of node labels. Nodes that have a label with this key
                                          and identical values are considered to be in the same topology.
                                          We consider each <key, value> as a "bucket", and try to put balanced number
                                          of pods into each bucket.
                                          We define a domain as a particular instance of a topology.
                                          Also, we define an eligible domain as a domain whose nodes meet the requirements of
                                          nodeAffinityPolicy and nodeTaintsPolicy.
                                          e.g. If TopologyKey is "kubernetes.io/hostname", each Node is a domain of that topology.
                                          And, if TopologyKey is "topology.kubernetes.io/zone", each zone is a domain of that topology.
                                          It's a required field.
                                        type: string
                                      whenUnsatisfiable:
                                        description: |-
                                          WhenUnsatisfiable indicates how to deal with a pod if it doesn't satisfy
                                          the spread constraint.
                                          - DoNotSchedule (default) tells the scheduler not to schedule it.
                                          - ScheduleAnyway tells the scheduler to schedule the pod in any location,
                                            but giving higher precedence to topologies that would help reduce the
                                            skew.
                                          A constraint is considered "Unsatisfiable" for an incoming pod
                                          if and only if every possible node assignment for that pod would violate
                                          "MaxSkew" on some topology.
                                          For example, in a 3-zone cluster, MaxSkew is set to 1, and pods with the same
                                          labelSelector spread as 3/1/1:
                                          | zone1 | zone2 | zone3 |
                                          | P P P |   P   |   P   |
                                          If WhenUnsatisfiable is set to DoNotSchedule, incoming pod can only be scheduled
                                          to zone2(zone3) to become 3/2/1(3/1/2) as ActualSkew(2-1) on zone2(zone3) satisfies
                                          MaxSkew(1). In other words, the cluster can still be imbalanced, but scheduler
                                          won't make it *more* imbalanced.
                                          It's a required field.
                                        type: string
                                    required:
                                    - maxSkew
                                    - topologyKey
                                    - whenUnsatisfiable
                                    type: object
                                  type: array
                                volumes:
                                  description: |-
                                    Volumes that can be mounted by containers belonging to the pod.
                                    More info: https://kubernetes.io/docs/concepts/storage/volumes
                                  items:
                                    description: Volume represents a named volume
                                      in a pod that may be accessed by any container
                                      in the pod.
                                    properties:
                                      awsElasticBlockStore:
                                        description: |-
                                          awsElasticBlockStore represents an AWS Disk resource that is attached to a
                                          kubelet's host machine and then exposed to the pod.
                                          More info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore
                                        properties:
                                          fsType:
                                            description: |-
                                              fsType is the filesystem type of the volume that you want to mount.
                                              Tip: Ensure that the filesystem type is supported by the host operating system.
                                              Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                              More info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore
                                              TODO: how do we prevent errors in the filesystem from compromising the machine
                                            type: string
                                          partition:
                                            description: |-
                                              partition is the partition in the volume that you want to mount.
                                              If omitted, the default is to mount by volume name.
                                              Examples: For volume /dev/sda1, you specify the partition as "1".
                                              Similarly, the volume partition for /dev/sda is "0" (or you can leave the property empty).
                                            format: int32
                                            type: integer
                                          readOnly:
                                            description: |-
                                              readOnly value true will force the readOnly setting in VolumeMounts.
                                              More info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore
                                            type: boolean
                                          volumeID:
                                            description: |-
                                              volumeID is unique ID of the persistent disk resource in AWS (Amazon EBS volume).
                                              More info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore
                                            type: string
                                        required:
                                        - volumeID
                                        type: object
                                      azureDisk:
                                        description: azureDisk represents an Azure
                                          Data Disk mount on the host and bind mount
                                          to the pod.
                                        properties:
                                          cachingMode:
                                            description: 'cachingMode is the Host
                                              Caching mode: None, Read Only, Read
                                              Write.'
                                            type: string
                                          diskName:
                                            description: diskName is the Name of the
                                              data disk in the blob storage
                                            type: string
                                          diskURI:
                                            description: diskURI is the URI of data
                                              disk in the blob storage
                                            type: string
                                          fsType:
                                            description: |-
                                              fsType is Filesystem type to mount.
                                              Must be a filesystem type supported by the host operating system.
                                              Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                            type: string
                                          kind:
                                            description: 'kind expected values are
                                              Shared: multiple blob disks per storage
                                              account  Dedicated: single blob disk
                                              per storage account  Managed: azure
                                              managed data disk (only in managed availability
                                              set). defaults to shared'
                                            type: string
                                          readOnly:
                                            description: |-
                                              readOnly Defaults to false (read/write). ReadOnly here will force
                                              the ReadOnly setting in VolumeMounts.
                                            type: boolean
                                        required:
                                        - diskName
                                        - diskURI
                                        type: object
                                      azureFile:
                                        description: azureFile represents an Azure
                                          File Service mount on the host and bind
                                          mount to the pod.
                                        properties:
                                          readOnly:
                                            description: |-
                                              readOnly defaults to false (read/write). ReadOnly here will force
                                              the ReadOnly setting in VolumeMounts.
                                            type: boolean
                                          secretName:
                                            description: secretName is the  name of
                                              secret that contains Azure Storage Account
                                              Name and Key
                                            type: string
                                          shareName:
                                            description: shareName is the azure share
                                              Name
                                            type: string
                                        required:
                                        - secretName
                                        - shareName
                                        type: object
                                      cephfs:
                                        description: cephFS represents a Ceph FS mount
                                          on the host that shares a pod's lifetime
                                        properties:
                                          monitors:
                                            description: |-
                                              monitors is Required: Monitors is a collection of Ceph monitors
                                              More info: https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it
                                            items:
                                              type: string
                                            type: array
                                          path:
                                            description: 'path is Optional: Used as
                                              the mounted root, rather than the full
                                              Ceph tree, default is /'
                                            type: string
                                          readOnly:
                                            description: |-
                                              readOnly is Optional: Defaults to false (read/write). ReadOnly here will force
                                              the ReadOnly setting in VolumeMounts.
                                              More info: https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it
                                            type: boolean
                                          secretFile:
                                            description: |-
                                              secretFile is Optional: SecretFile is the path to key ring for User, default is /etc/ceph/user.secret
                                              More info: https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it
                                            type: string
                                          secretRef:
                                            description: |-
                                              secretRef is Optional: SecretRef is reference to the authentication secret for User, default is empty.
                                              More info: https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it
                                            properties:
                                              name:
                                                description: |-
                                                  Name of the referent.
                                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                  TODO: Add other useful fields. apiVersion, kind, uid?
                                                type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          user:
                                            description: |-
                                              user is optional: User is the rados user name, default is admin
                                              More info: https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it
                                            type: string
                                        required:
                                        - monitors
                                        type: object
                                      cinder:
                                        description: |-
                                          cinder represents a cinder volume attached and mounted on kubelets host machine.
                                          More info: https://examples.k8s.io/mysql-cinder-pd/README.md
                                        properties:
                                          fsType:
                                            description: |-
                                              fsType is the filesystem type to mount.
                                              Must be a filesystem type supported by the host operating system.
                                              Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                              More info: https://examples.k8s.io/mysql-cinder-pd/README.md
                                            type: string
                                          readOnly:
                                            description: |-
                                              readOnly defaults to false (read/write). ReadOnly here will force
                                              the ReadOnly setting in VolumeMounts.
                                              More info: https://examples.k8s.io/mysql-cinder-pd/README.md
                                            type: boolean
                                          secretRef:
                                            description: |-
                                              secretRef is optional: points to a secret object containing parameters used to connect
                                              to OpenStack.
                                            properties:
                                              name:
                                                description: |-
                                                  Name of the referent.
                                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                  TODO: Add other useful fields. apiVersion, kind, uid?
                                                type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          volumeID:
                                            description: |-
                                              volumeID used to identify the volume in cinder.
                                              More info: https://examples.k8s.io/mysql-cinder-pd/README.md
                                            type: string
                                        required:
                                        - volumeID
                                        type: object
                                      configMap:
                                        description: configMap represents a configMap
                                          that should populate this volume
                                        properties:
                                          defaultMode:
                                            description: |-
                                              defaultMode is optional: mode bits used to set permissions on created files by default.
                                              Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                              YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                              Defaults to 0644.
                                              Directories within the path are not affected by this setting.
                                              This might be in conflict with other options that affect the file
                                              mode, like fsGroup, and the result can be other mode bits set.
                                            format: int32
                                            type: integer
                                          items:
                                            description: |-
                                              items if unspecified, each key-value pair in the Data field of the referenced
                                              ConfigMap will be projected into the volume as a file whose name is the
                                              key and content is the value. If specified, the listed keys will be
                                              projected into the specified paths, and unlisted keys will not be
                                              present. If a key is specified which is not present in the ConfigMap,
                                              the volume setup will error unless it is marked optional. Paths must be
                                              relative and may not contain the '..' path or start with '..'.
                                            items:
                                              description: Maps a string key to a
                                                path within a volume.
                                              properties:
                                                key:
                                                  description: key is the key to project.
                                                  type: string
                                                mode:
                                                  description: |-
                                                    mode is Optional: mode bits used to set permissions on this file.
                                                    Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                                    YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                                    If not specified, the volume defaultMode will be used.
                                                    This might be in conflict with other options that affect the file
                                                    mode, like fsGroup, and the result can be other mode bits set.
                                                  format: int32
                                                  type: integer
                                                path:
                                                  description: |-
                                                    path is the relative path of the file to map the key to.
                                                    May not be an absolute path.
                                                    May not contain the path element '..'.
                                                    May not start with the string '..'.
                                                  type: string
                                              required:
                                              - key
                                              - path
                                              type: object
                                            type: array
                                          name:
                                            description: |-
                                              Name of the referent.
                                              More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              TODO: Add other useful fields. apiVersion, kind, uid?
                                            type: string
                                          optional:
                                            description: optional specify whether
                                              the ConfigMap or its keys must be defined
                                            type: boolean
                                        type: object
                                        x-kubernetes-map-type: atomic
                                      csi:
                                        description: csi (Container Storage Interface)
                                          represents ephemeral storage that is handled
                                          by certain external CSI drivers (Beta feature).
                                        properties:
                                          driver:
                                            description: |-
                                              driver is the name of the CSI driver that handles this volume.
                                              Consult with your admin for the correct name as registered in the cluster.
                                            type: string
                                          fsType:
                                            description: |-
                                              fsType to mount. Ex. "ext4", "xfs", "ntfs".
                                              If not provided, the empty value is passed to the associated CSI driver
                                              which will determine the default filesystem to apply.
                                            type: string
                                          nodePublishSecretRef:
                                            description: |-
                                              nodePublishSecretRef is a reference to the secret object containing
                                              sensitive information to pass to the CSI driver to complete the CSI
                                              NodePublishVolume and NodeUnpublishVolume calls.
                                              This field is optional, and  may be empty if no secret is required. If the
                                              secret object contains more than one secret, all secret references are passed.
                                            properties:
                                              name:
                                                description: |-
                                                  Name of the referent.
                                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                  TODO: Add other useful fields. apiVersion, kind, uid?
                                                type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          readOnly:
                                            description: |-
                                              readOnly specifies a read-only configuration for the volume.
                                              Defaults to false (read/write).
                                            type: boolean
                                          volumeAttributes:
                                            additionalProperties:
                                              type: string
                                            description: |-
                                              volumeAttributes stores driver-specific properties that are passed to the CSI
                                              driver. Consult your driver's documentation for supported values.
                                            type: object
                                        required:
                                        - driver
                                        type: object
                                      downwardAPI:
                                        description: downwardAPI represents downward
                                          API about the pod that should populate this
                                          volume
                                        properties:
                                          defaultMode:
                                            description: |-
                                              Optional: mode bits to use on created files by default. Must be a
                                              Optional: mode bits used to set permissions on created files by default.
                                              Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                              YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                              Defaults to 0644.
                                              Directories within the path are not affected by this setting.
                                              This might be in conflict with other options that affect the file
                                              mode, like fsGroup, and the result can be other mode bits set.
                                            format: int32
                                            type: integer
                                          items:
                                            description: Items is a list of downward
                                              API volume file
                                            items:
                                              description: DownwardAPIVolumeFile represents
                                                information to create the file containing
                                                the pod field
                                              properties:
                                                fieldRef:
                                                  description: 'Required: Selects
                                                    a field of the pod: only annotations,
                                                    labels, name and namespace are
                                                    supported.'
                                                  properties:
                                                    apiVersion:
                                                      description: Version of the
                                                        schema the FieldPath is written
                                                        in terms of, defaults to "v1".
                                                      type: string
                                                    fieldPath:
                                                      description: Path of the field
                                                        to select in the specified
                                                        API version.
                                                      type: string
                                                  required:
                                                  - fieldPath
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                mode:
                                                  description: |-
                                                    Optional: mode bits used to set permissions on this file, must be an octal value
                                                    between 0000 and 0777 or a decimal value between 0 and 511.
                                                    YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                                    If not specified, the volume defaultMode will be used.
                                                    This might be in conflict with other options that affect the file
                                                    mode, like fsGroup, and the result can be other mode bits set.
                                                  format: int32
                                                  type: integer
                                                path:
                                                  description: 'Required: Path is  the
                                                    relative path name of the file
                                                    to be created. Must not be absolute
                                                    or contain the ''..'' path. Must
                                                    be utf-8 encoded. The first item
                                                    of the relative path must not
                                                    start with ''..'''
                                                  type: string
                                                resourceFieldRef:
                                                  description: |-
                                                    Selects a resource of the container: only resources limits and requests
                                                    (limits.cpu, limits.memory, requests.cpu and requests.memory) are currently supported.
                                                  properties:
                                                    containerName:
                                                      description: 'Container name:
                                                        required for volumes, optional
                                                        for env vars'
                                                      type: string
                                                    divisor:
                                                      anyOf:
                                                      - type: integer
                                                      - type: string
                                                      description: Specifies the output
                                                        format of the exposed resources,
                                                        defaults to "1"
                                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                      x-kubernetes-int-or-string: true
                                                    resource:
                                                      description: 'Required: resource
                                                        to select'
                                                      type: string
                                                  required:
                                                  - resource
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                              required:
                                              - path
                                              type: object
                                            type: array
                                        type: object
                                      emptyDir:
                                        description: |-
                                          emptyDir represents a temporary directory that shares a pod's lifetime.
                                          More info: https://kubernetes.io/docs/concepts/storage/volumes#emptydir
                                        properties:
                                          medium:
                                            description: |-
                                              medium represents what type of storage medium should back this directory.
                                              The default is "" which means to use the node's default medium.
                                              Must be an empty string (default) or Memory.
                                              More info: https://kubernetes.io/docs/concepts/storage/volumes#emptydir
                                            type: string
                                          sizeLimit:
                                            anyOf:
                                            - type: integer
                                            - type: string
                                            description: |-
                                              sizeLimit is the total amount of local storage required for this EmptyDir volume.
                                              The size limit is also applicable for memory medium.
                                              The maximum usage on memory medium EmptyDir would be the minimum value between
                                              the SizeLimit specified here and the sum of memory limits of all containers in a pod.
                                              The default is nil which means that the limit is undefined.
                                              More info: https://kubernetes.io/docs/concepts/storage/volumes#emptydir
                                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                            x-kubernetes-int-or-string: true
                                        type: object
                                      ephemeral:
                                        description: |-
                                          ephemeral represents a volume that is handled by a cluster storage driver.
                                          The volume's lifecycle is tied to the pod that defines it - it will be created before the pod starts,
                                          and deleted when the pod is removed.


                                          Use this if:
                                          a) the volume is only needed while the pod runs,
                                          b) features of normal volumes like restoring from snapshot or capacity
                                             tracking are needed,
                                          c) the storage driver is specified through a storage class, and
                                          d) the storage driver supports dynamic volume provisioning through
                                             a PersistentVolumeClaim (see EphemeralVolumeSource for more
                                             information on the connection between this volume type
                                             and PersistentVolumeClaim).


                                          Use PersistentVolumeClaim or one of the vendor-specific
                                          APIs for volumes that persist for longer than the lifecycle
                                          of an individual pod.


                                          Use CSI for light-weight local ephemeral volumes if the CSI driver is meant to
                                          be used that way - see the documentation of the driver for
                                          more information.


                                          A pod can use both types of ephemeral volumes and
                                          persistent volumes at the same time.
                                        properties:
                                          volumeClaimTemplate:
                                            description: |-
                                              Will be used to create a stand-alone PVC to provision the volume.
                                              The pod in which this EphemeralVolumeSource is embedded will be the
                                              owner of the PVC, i.e. the PVC will be deleted together with the
                                              pod.  The name of the PVC will be `<pod name>-<volume name>` where
                                              `<volume name>` is the name from the `PodSpec.Volumes` array
                                              entry. Pod validation will reject the pod if the concatenated name
                                              is not valid for a PVC (for example, too long).


                                              An existing PVC with that name that is not owned by the pod
                                              will *not* be used for the pod to avoid using an unrelated
                                              volume by mistake. Starting the pod is then blocked until
                                              the unrelated PVC is removed. If such a pre-created PVC is
                                              meant to be used by the pod, the PVC has to updated with an
                                              owner reference to the pod once the pod exists. Normally
                                              this should not be necessary, but it may be useful when
                                              manually reconstructing a broken cluster.


                                              This field is read-only and no changes will be made by Kubernetes
                                              to the PVC after it has been created.


                                              Required, must not be nil.
                                            properties:
                                              metadata:
                                                description: |-
                                                  May contain labels and annotations that will be copied into the PVC
                                                  when creating it. No other fields are allowed and will be rejected during
                                                  validation.
                                                type: object
                                              spec:
                                                description: |-
                                                  The specification for the PersistentVolumeClaim. The entire content is
                                                  copied unchanged into the PVC that gets created from this
                                                  template. The same fields as in a PersistentVolumeClaim
                                                  are also valid here.
                                                properties:
                                                  accessModes:
                                                    description: |-
                                                      accessModes contains the desired access modes the volume should have.
                                                      More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#access-modes-1
                                                    items:
                                                      type: string
                                                    type: array
                                                  dataSource:
                                                    description: |-
                                                      dataSource field can be used to specify either:
                                                      * An existing VolumeSnapshot object (snapshot.storage.k8s.io/VolumeSnapshot)
                                                      * An existing PVC (PersistentVolumeClaim)
                                                      If the provisioner or an external controller can support the specified data source,
                                                      it will create a new volume based on the contents of the specified data source.
                                                      When the AnyVolumeDataSource feature gate is enabled, dataSource contents will be copied to dataSourceRef,
                                                      and dataSourceRef contents will be copied to dataSource when dataSourceRef.namespace is not specified.
                                                      If the namespace is specified, then dataSourceRef will not be copied to dataSource.
                                                    properties:
                                                      apiGroup:
                                                        description: |-
                                                          APIGroup is the group for the resource being referenced.
                                                          If APIGroup is not specified, the specified Kind must be in the core API group.
                                                          For any other third-party types, APIGroup is required.
                                                        type: string
                                                      kind:
                                                        description: Kind is the type
                                                          of resource being referenced
                                                        type: string
                                                      name:
                                                        description: Name is the name
                                                          of resource being referenced
                                                        type: string
                                                    required:
                                                    - kind
                                                    - name
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                  dataSourceRef:
                                                    description: |-
                                                      dataSourceRef specifies the object from which to populate the volume with data, if a non-empty
                                                      volume is desired. This may be any object from a non-empty API group (non
                                                      core object) or a PersistentVolumeClaim object.
                                                      When this field is specified, volume binding will only succeed if the type of
                                                      the specified object matches some installed volume populator or dynamic
                                                      provisioner.
                                                      This field will replace the functionality of the dataSource field and as such
                                                      if both fields are non-empty, they must have the same value. For backwards
                                                      compatibility, when namespace isn't specified in dataSourceRef,
                                                      both fields (dataSource and dataSourceRef) will be set to the same
                                                      value automatically if one of them is empty and the other is non-empty.
                                                      When namespace is specified in dataSourceRef,
                                                      dataSource isn't set to the same value and must be empty.
                                                      There are three important differences between dataSource and dataSourceRef:
                                                      * While dataSource only allows two specific types of objects, dataSourceRef
                                                        allows any non-core object, as well as PersistentVolumeClaim objects.
                                                      * While dataSource ignores disallowed values (dropping them), dataSourceRef
                                                        preserves all values, and generates an error if a disallowed value is
                                                        specified.
                                                      * While dataSource only allows local objects, dataSourceRef allows objects
                                                        in any namespaces.
                                                      (Beta) Using this field requires the AnyVolumeDataSource feature gate to be enabled.
                                                      (Alpha) Using the namespace field of dataSourceRef requires the CrossNamespaceVolumeDataSource feature gate to be enabled.
                                                    properties:
                                                      apiGroup:
                                                        description: |-
                                                          APIGroup is the group for the resource being referenced.
                                                          If APIGroup is not specified, the specified Kind must be in the core API group.
                                                          For any other third-party types, APIGroup is required.
                                                        type: string
                                                      kind:
                                                        description: Kind is the type
                                                          of resource being referenced
                                                        type: string
                                                      name:
                                                        description: Name is the name
                                                          of resource being referenced
                                                        type: string
                                                      namespace:
                                                        description: |-
                                                          Namespace is the namespace of resource being referenced
                                                          Note that when a namespace is specified, a gateway.networking.k8s.io/ReferenceGrant object is required in the referent namespace to allow that namespace's owner to accept the reference. See the ReferenceGrant documentation for details.
                                                          (Alpha) This field requires the CrossNamespaceVolumeDataSource feature gate to be enabled.
                                                        type: string
                                                    required:
                                                    - kind
                                                    - name
                                                    type: object
                                                  resources:
                                                    description: |-
                                                      resources represents the minimum resources the volume should have.
                                                      If RecoverVolumeExpansionFailure feature is enabled users are allowed to specify resource requirements
                                                      that are lower than previous value but must still be higher than capacity recorded in the
                                                      status field of the claim.
                                                      More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#resources
                                                    properties:
                                                      limits:
                                                        additionalProperties:
                                                          anyOf:
                                                          - type: integer
                                                          - type: string
                                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                          x-kubernetes-int-or-string: true
                                                        description: |-
                                                          Limits describes the maximum amount of compute resources allowed.
                                                          More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                                        type: object
                                                      requests:
                                                        additionalProperties:
                                                          anyOf:
                                                          - type: integer
                                                          - type: string
                                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                          x-kubernetes-int-or-string: true
                                                        description: |-
                                                          Requests describes the minimum amount of compute resources required.
                                                          If Requests is omitted for a container, it defaults to Limits if that is explicitly specified,
                                                          otherwise to an implementation-defined value. Requests cannot exceed Limits.
                                                          More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                                        type: object
                                                    type: object
                                                  selector:
                                                    description: selector is a label
                                                      query over volumes to consider
                                                      for binding.
                                                    properties:
                                                      matchExpressions:
                                                        description: matchExpressions
                                                          is a list of label selector
                                                          requirements. The requirements
                                                          are ANDed.
                                                        items:
                                                          description: |-
                                                            A label selector requirement is a selector that contains values, a key, and an operator that
                                                            relates the key and values.
                                                          properties:
                                                            key:
                                                              description: key is
                                                                the label key that
                                                                the selector applies
                                                                to.
                                                              type: string
                                                            operator:
                                                              description: |-
                                                                operator represents a key's relationship to a set of values.
                                                                Valid operators are In, NotIn, Exists and DoesNotExist.
                                                              type: string
                                                            values:
                                                              description: |-
                                                                values is an array of string values. If the operator is In or NotIn,
                                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                                the values array must be empty. This array is replaced during a strategic
                                                                merge patch.
                                                              items:
                                                                type: string
                                                              type: array
                                                          required:
                                                          - key
                                                          - operator
                                                          type: object
                                                        type: array
                                                      matchLabels:
                                                        additionalProperties:
                                                          type: string
                                                        description: |-
                                                          matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                          map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                          operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                        type: object
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                  storageClassName:
                                                    description: |-
                                                      storageClassName is the name of the StorageClass required by the claim.
                                                      More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#class-1
                                                    type: string
                                                  volumeAttributesClassName:
                                                    description: |-
                                                      volumeAttributesClassName may be used to set the VolumeAttributesClass used by this claim.
                                                      If specified, the CSI driver will create or update the volume with the attributes defined
                                                      in the corresponding VolumeAttributesClass. This has a different purpose than storageClassName,
                                                      it can be changed after the claim is created. An empty string value means that no VolumeAttributesClass
                                                      will be applied to the claim but it's not allowed to reset this field to empty string once it is set.
                                                      If unspecified and the PersistentVolumeClaim is unbound, the default VolumeAttributesClass
                                                      will be set by the persistentvolume controller if it exists.
                                                      If the resource referred to by volumeAttributesClass does not exist, this PersistentVolumeClaim will be
                                                      set to a Pending state, as reflected by the modifyVolumeStatus field, until such as a resource
                                                      exists.
                                                      More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#volumeattributesclass
                                                      (Alpha) Using this field requires the VolumeAttributesClass feature gate to be enabled.
                                                    type: string
                                                  volumeMode:
                                                    description: |-
                                                      volumeMode defines what type of volume is required by the claim.
                                                      Value of Filesystem is implied when not included in claim spec.
                                                    type: string
                                                  volumeName:
                                                    description: volumeName is the
                                                      binding reference to the PersistentVolume
                                                      backing this claim.
                                                    type: string
                                                type: object
                                            required:
                                            - spec
                                            type: object
                                        type: object
                                      fc:
                                        description: fc represents a Fibre Channel
                                          resource that is attached to a kubelet's
                                          host machine and then exposed to the pod.
                                        properties:
                                          fsType:
                                            description: |-
                                              fsType is the filesystem type to mount.
                                              Must be a filesystem type supported by the host operating system.
                                              Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                              TODO: how do we prevent errors in the filesystem from compromising the machine
                                            type: string
                                          lun:
                                            description: 'lun is Optional: FC target
                                              lun number'
                                            format: int32
                                            type: integer
                                          readOnly:
                                            description: |-
                                              readOnly is Optional: Defaults to false (read/write). ReadOnly here will force
                                              the ReadOnly setting in VolumeMounts.
                                            type: boolean
                                          targetWWNs:
                                            description: 'targetWWNs is Optional:
                                              FC target worldwide names (WWNs)'
                                            items:
                                              type: string
                                            type: array
                                          wwids:
                                            description: |-
                                              wwids Optional: FC volume world wide identifiers (wwids)
                                              Either wwids or combination of targetWWNs and lun must be set, but not both simultaneously.
                                            items:
                                              type: string
                                            type: array
                                        type: object
                                      flexVolume:
                                        description: |-
                                          flexVolume represents a generic volume resource that is
                                          provisioned/attached using an exec based plugin.
                                        properties:
                                          driver:
                                            description: driver is the name of the
                                              driver to use for this volume.
                                            type: string
                                          fsType:
                                            description: |-
                                              fsType is the filesystem type to mount.
                                              Must be a filesystem type supported by the host operating system.
                                              Ex. "ext4", "xfs", "ntfs". The default filesystem depends on FlexVolume script.
                                            type: string
                                          options:
                                            additionalProperties:
                                              type: string
                                            description: 'options is Optional: this
                                              field holds extra command options if
                                              any.'
                                            type: object
                                          readOnly:
                                            description: |-
                                              readOnly is Optional: defaults to false (read/write). ReadOnly here will force
                                              the ReadOnly setting in VolumeMounts.
                                            type: boolean
                                          secretRef:
                                            description: |-
                                              secretRef is Optional: secretRef is reference to the secret object containing
                                              sensitive information to pass to the plugin scripts. This may be
                                              empty if no secret object is specified. If the secret object
                                              contains more than one secret, all secrets are passed to the plugin
                                              scripts.
                                            properties:
                                              name:
                                                description: |-
                                                  Name of the referent.
                                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                  TODO: Add other useful fields. apiVersion, kind, uid?
                                                type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        required:
                                        - driver
                                        type: object
                                      flocker:
                                        description: flocker represents a Flocker
                                          volume attached to a kubelet's host machine.
                                          This depends on the Flocker control service
                                          being running
                                        properties:
                                          datasetName:
                                            description: |-
                                              datasetName is Name of the dataset stored as metadata -> name on the dataset for Flocker
                                              should be considered as deprecated
                                            type: string
                                          datasetUUID:
                                            description: datasetUUID is the UUID of
                                              the dataset. This is unique identifier
                                              of a Flocker dataset
                                            type: string
                                        type: object
                                      gcePersistentDisk:
                                        description: |-
                                          gcePersistentDisk represents a GCE Disk resource that is attached to a
                                          kubelet's host machine and then exposed to the pod.
                                          More info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk
                                        properties:
                                          fsType:
                                            description: |-
                                              fsType is filesystem type of the volume that you want to mount.
                                              Tip: Ensure that the filesystem type is supported by the host operating system.
                                              Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                              More info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk
                                              TODO: how do we prevent errors in the filesystem from compromising the machine
                                            type: string
                                          partition:
                                            description: |-
                                              partition is the partition in the volume that you want to mount.
                                              If omitted, the default is to mount by volume name.
                                              Examples: For volume /dev/sda1, you specify the partition as "1".
                                              Similarly, the volume partition for /dev/sda is "0" (or you can leave the property empty).
                                              More info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk
                                            format: int32
                                            type: integer
                                          pdName:
                                            description: |-
                                              pdName is unique name of the PD resource in GCE. Used to identify the disk in GCE.
                                              More info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk
                                            type: string
                                          readOnly:
                                            description: |-
                                              readOnly here will force the ReadOnly setting in VolumeMounts.
                                              Defaults to false.
                                              More info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk
                                            type: boolean
                                        required:
                                        - pdName
                                        type: object
                                      gitRepo:
                                        description: |-
                                          gitRepo represents a git repository at a particular revision.
                                          DEPRECATED: GitRepo is deprecated. To provision a container with a git repo, mount an
                                          EmptyDir into an InitContainer that clones the repo using git, then mount the EmptyDir
                                          into the Pod's container.
                                        properties:
                                          directory:
                                            description: |-
                                              directory is the target directory name.
                                              Must not contain or start with '..'.  If '.' is supplied, the volume directory will be the
                                              git repository.  Otherwise, if specified, the volume will contain the git repository in
                                              the subdirectory with the given name.
                                            type: string
                                          repository:
                                            description: repository is the URL
                                            type: string
                                          revision:
                                            description: revision is the commit hash
                                              for the specified revision.
                                            type: string
                                        required:
                                        - repository
                                        type: object
                                      glusterfs:
                                        description: |-
                                          glusterfs represents a Glusterfs mount on the host that shares a pod's lifetime.
                                          More info: https://examples.k8s.io/volumes/glusterfs/README.md
                                        properties:
                                          endpoints:
                                            description: |-
                                              endpoints is the endpoint name that details Glusterfs topology.
                                              More info: https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod
                                            type: string
                                          path:
                                            description: |-
                                              path is the Glusterfs volume path.
                                              More info: https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod
                                            type: string
                                          readOnly:
                                            description: |-
                                              readOnly here will force the Glusterfs volume to be mounted with read-only permissions.
                                              Defaults to false.
                                              More info: https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod
                                            type: boolean
                                        required:
                                        - endpoints
                                        - path
                                        type: object
                                      hostPath:
                                        description: |-
                                          hostPath represents a pre-existing file or directory on the host
                                          machine that is directly exposed to the container. This is generally
                                          used for system agents or other privileged things that are allowed
                                          to see the host machine. Most containers will NOT need this.
                                          More info: https://kubernetes.io/docs/concepts/storage/volumes#hostpath
                                          ---
                                          TODO(jonesdl) We need to restrict who can use host directory mounts and who can/can not
                                          mount host directories as read/write.
                                        properties:
                                          path:
                                            description: |-
                                              path of the directory on the host.
                                              If the path is a symlink, it will follow the link to the real path.
                                              More info: https://kubernetes.io/docs/concepts/storage/volumes#hostpath
                                            type: string
                                          type:
                                            description: |-
                                              type for HostPath Volume
                                              Defaults to ""
                                              More info: https://kubernetes.io/docs/concepts/storage/volumes#hostpath
                                            type: string
                                        required:
                                        - path
                                        type: object
                                      iscsi:
                                        description: |-
                                          iscsi represents an ISCSI Disk resource that is attached to a
                                          kubelet's host machine and then exposed to the pod.
                                          More info: https://examples.k8s.io/volumes/iscsi/README.md
                                        properties:
                                          chapAuthDiscovery:
                                            description: chapAuthDiscovery defines
                                              whether support iSCSI Discovery CHAP
                                              authentication
                                            type: boolean
                                          chapAuthSession:
                                            description: chapAuthSession defines whether
                                              support iSCSI Session CHAP authentication
                                            type: boolean
                                          fsType:
                                            description: |-
                                              fsType is the filesystem type of the volume that you want to mount.
                                              Tip: Ensure that the filesystem type is supported by the host operating system.
                                              Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                              More info: https://kubernetes.io/docs/concepts/storage/volumes#iscsi
                                              TODO: how do we prevent errors in the filesystem from compromising the machine
                                            type: string
                                          initiatorName:
                                            description: |-
                                              initiatorName is the custom iSCSI Initiator Name.
                                              If initiatorName is specified with iscsiInterface simultaneously, new iSCSI interface
                                              <target portal>:<volume name> will be created for the connection.
                                            type: string
                                          iqn:
                                            description: iqn is the target iSCSI Qualified
                                              Name.
                                            type: string
                                          iscsiInterface:
                                            description: |-
                                              iscsiInterface is the interface Name that uses an iSCSI transport.
                                              Defaults to 'default' (tcp).
                                            type: string
                                          lun:
                                            description: lun represents iSCSI Target
                                              Lun number.
                                            format: int32
                                            type: integer
                                          portals:
                                            description: |-
                                              portals is the iSCSI Target Portal List. The portal is either an IP or ip_addr:port if the port
                                              is other than default (typically TCP ports 860 and 3260).
                                            items:
                                              type: string
                                            type: array
                                          readOnly:
                                            description: |-
                                              readOnly here will force the ReadOnly setting in VolumeMounts.
                                              Defaults to false.
                                            type: boolean
                                          secretRef:
                                            description: secretRef is the CHAP Secret
                                              for iSCSI target and initiator authentication
                                            properties:
                                              name:
                                                description: |-
                                                  Name of the referent.
                                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                  TODO: Add other useful fields. apiVersion, kind, uid?
                                                type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          targetPortal:
                                            description: |-
                                              targetPortal is iSCSI Target Portal. The Portal is either an IP or ip_addr:port if the port
                                              is other than default (typically TCP ports 860 and 3260).
                                            type: string
                                        required:
                                        - iqn
                                        - lun
                                        - targetPortal
                                        type: object
                                      name:
                                        description: |-
                                          name of the volume.
                                          Must be a DNS_LABEL and unique within the pod.
                                          More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        type: string
                                      nfs:
                                        description: |-
                                          nfs represents an NFS mount on the host that shares a pod's lifetime
                                          More info: https://kubernetes.io/docs/concepts/storage/volumes#nfs
                                        properties:
                                          path:
                                            description: |-
                                              path that is exported by the NFS server.
                                              More info: https://kubernetes.io/docs/concepts/storage/volumes#nfs
                                            type: string
                                          readOnly:
                                            description: |-
                                              readOnly here will force the NFS export to be mounted with read-only permissions.
                                              Defaults to false.
                                              More info: https://kubernetes.io/docs/concepts/storage/volumes#nfs
                                            type: boolean
                                          server:
                                            description: |-
                                              server is the hostname or IP address of the NFS server.
                                              More info: https://kubernetes.io/docs/concepts/storage/volumes#nfs
                                            type: string
                                        required:
                                        - path
                                        - server
                                        type: object
                                      persistentVolumeClaim:
                                        description: |-
                                          persistentVolumeClaimVolumeSource represents a reference to a
                                          PersistentVolumeClaim in the same namespace.
                                          More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims
                                        properties:
                                          claimName:
                                            description: |-
                                              claimName is the name of a PersistentVolumeClaim in the same namespace as the pod using this volume.
                                              More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims
                                            type: string
                                          readOnly:
                                            description: |-
                                              readOnly Will force the ReadOnly setting in VolumeMounts.
                                              Default false.
                                            type: boolean
                                        required:
                                        - claimName
                                        type: object
                                      photonPersistentDisk:
                                        description: photonPersistentDisk represents
                                          a PhotonController persistent disk attached
                                          and mounted on kubelets host machine
                                        properties:
                                          fsType:
                                            description: |-
                                              fsType is the filesystem type to mount.
                                              Must be a filesystem type supported by the host operating system.
                                              Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                            type: string
                                          pdID:
                                            description: pdID is the ID that identifies
                                              Photon Controller persistent disk
                                            type: string
                                        required:
                                        - pdID
                                        type: object
                                      portworxVolume:
                                        description: portworxVolume represents a portworx
                                          volume attached and mounted on kubelets
                                          host machine
                                        properties:
                                          fsType:
                                            description: |-
                                              fSType represents the filesystem type to mount
                                              Must be a filesystem type supported by the host operating system.
                                              Ex. "ext4", "xfs". Implicitly inferred to be "ext4" if unspecified.
                                            type: string
                                          readOnly:
                                            description: |-
                                              readOnly defaults to false (read/write). ReadOnly here will force
                                              the ReadOnly setting in VolumeMounts.
                                            type: boolean
                                          volumeID:
                                            description: volumeID uniquely identifies
                                              a Portworx volume
                                            type: string
                                        required:
                                        - volumeID
                                        type: object
                                      projected:
                                        description: projected items for all in one
                                          resources secrets, configmaps, and downward
                                          API
                                        properties:
                                          defaultMode:
                                            description: |-
                                              defaultMode are the mode bits used to set permissions on created files by default.
                                              Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                              YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                              Directories within the path are not affected by this setting.
                                              This might be in conflict with other options that affect the file
                                              mode, like fsGroup, and the result can be other mode bits set.
                                            format: int32
                                            type: integer
                                          sources:
                                            description: sources is the list of volume
                                              projections
                                            items:
                                              description: Projection that may be
                                                projected along with other supported
                                                volume types
                                              properties:
                                                clusterTrustBundle:
                                                  description: |-
                                                    ClusterTrustBundle allows a pod to access the `.spec.trustBundle` field
                                                    of ClusterTrustBundle objects in an auto-updating file.


                                                    Alpha, gated by the ClusterTrustBundleProjection feature gate.


                                                    ClusterTrustBundle objects can either be selected by name, or by the
                                                    combination of signer name and a label selector.


                                                    Kubelet performs aggressive normalization of the PEM contents written
                                                    into the pod filesystem.  Esoteric PEM features such as inter-block
                                                    comments and block headers are stripped.  Certificates are deduplicated.
                                                    The ordering of certificates within the file is arbitrary, and Kubelet
                                                    may change the order over time.
                                                  properties:
                                                    labelSelector:
                                                      description: |-
                                                        Select all ClusterTrustBundles that match this label selector.  Only has
                                                        effect if signerName is set.  Mutually-exclusive with name.  If unset,
                                                        interpreted as "match nothing".  If set but empty, interpreted as "match
                                                        everything".
                                                      properties:
                                                        matchExpressions:
                                                          description: matchExpressions
                                                            is a list of label selector
                                                            requirements. The requirements
                                                            are ANDed.
                                                          items:
                                                            description: |-
                                                              A label selector requirement is a selector that contains values, a key, and an operator that
                                                              relates the key and values.
                                                            properties:
                                                              key:
                                                                description: key is
                                                                  the label key that
                                                                  the selector applies
                                                                  to.
                                                                type: string
                                                              operator:
                                                                description: |-
                                                                  operator represents a key's relationship to a set of values.
                                                                  Valid operators are In, NotIn, Exists and DoesNotExist.
                                                                type: string
                                                              values:
                                                                description: |-
                                                                  values is an array of string values. If the operator is In or NotIn,
                                                                  the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                                  the values array must be empty. This array is replaced during a strategic
                                                                  merge patch.
                                                                items:
                                                                  type: string
                                                                type: array
                                                            required:
                                                            - key
                                                            - operator
                                                            type: object
                                                          type: array
                                                        matchLabels:
                                                          additionalProperties:
                                                            type: string
                                                          description: |-
                                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                          type: object
                                                      type: object
                                                      x-kubernetes-map-type: atomic
                                                    name:
                                                      description: |-
                                                        Select a single ClusterTrustBundle by object name.  Mutually-exclusive
                                                        with signerName and labelSelector.
                                                      type: string
                                                    optional:
                                                      description: |-
                                                        If true, don't block pod startup if the referenced ClusterTrustBundle(s)
                                                        aren't available.  If using name, then the named ClusterTrustBundle is
                                                        allowed not to exist.  If using signerName, then the combination of
                                                        signerName and labelSelector is allowed to match zero
                                                        ClusterTrustBundles.
                                                      type: boolean
                                                    path:
                                                      description: Relative path from
                                                        the volume root to write the
                                                        bundle.
                                                      type: string
                                                    signerName:
                                                      description: |-
                                                        Select all ClusterTrustBundles that match this signer name.
                                                        Mutually-exclusive with name.  The contents of all selected
                                                        ClusterTrustBundles will be unified and deduplicated.
                                                      type: string
                                                  required:
                                                  - path
                                                  type: object
                                                configMap:
                                                  description: configMap information
                                                    about the configMap data to project
                                                  properties:
                                                    items:
                                                      description: |-
                                                        items if unspecified, each key-value pair in the Data field of the referenced
                                                        ConfigMap will be projected into the volume as a file whose name is the
                                                        key and content is the value. If specified, the listed keys will be
                                                        projected into the specified paths, and unlisted keys will not be
                                                        present. If a key is specified which is not present in the ConfigMap,
                                                        the volume setup will error unless it is marked optional. Paths must be
                                                        relative and may not contain the '..' path or start with '..'.
                                                      items:
                                                        description: Maps a string
                                                          key to a path within a volume.
                                                        properties:
                                                          key:
                                                            description: key is the
                                                              key to project.
                                                            type: string
                                                          mode:
                                                            description: |-
                                                              mode is Optional: mode bits used to set permissions on this file.
                                                              Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                                              YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                                              If not specified, the volume defaultMode will be used.
                                                              This might be in conflict with other options that affect the file
                                                              mode, like fsGroup, and the result can be other mode bits set.
                                                            format: int32
                                                            type: integer
                                                          path:
                                                            description: |-
                                                              path is the relative path of the file to map the key to.
                                                              May not be an absolute path.
                                                              May not contain the path element '..'.
                                                              May not start with the string '..'.
                                                            type: string
                                                        required:
                                                        - key
                                                        - path
                                                        type: object
                                                      type: array
                                                    name:
                                                      description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                        TODO: Add other useful fields. apiVersion, kind, uid?
                                                      type: string
                                                    optional:
                                                      description: optional specify
                                                        whether the ConfigMap or its
                                                        keys must be defined
                                                      type: boolean
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                downwardAPI:
                                                  description: downwardAPI information
                                                    about the downwardAPI data to
                                                    project
                                                  properties:
                                                    items:
                                                      description: Items is a list
                                                        of DownwardAPIVolume file
                                                      items:
                                                        description: DownwardAPIVolumeFile
                                                          represents information to
                                                          create the file containing
                                                          the pod field
                                                        properties:
                                                          fieldRef:
                                                            description: 'Required:
                                                              Selects a field of the
                                                              pod: only annotations,
                                                              labels, name and namespace
                                                              are supported.'
                                                            properties:
                                                              apiVersion:
                                                                description: Version
                                                                  of the schema the
                                                                  FieldPath is written
                                                                  in terms of, defaults
                                                                  to "v1".
                                                                type: string
                                                              fieldPath:
                                                                description: Path
                                                                  of the field to
                                                                  select in the specified
                                                                  API version.
                                                                type: string
                                                            required:
                                                            - fieldPath
                                                            type: object
                                                            x-kubernetes-map-type: atomic
                                                          mode:
                                                            description: |-
                                                              Optional: mode bits used to set permissions on this file, must be an octal value
                                                              between 0000 and 0777 or a decimal value between 0 and 511.
                                                              YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                                              If not specified, the volume defaultMode will be used.
                                                              This might be in conflict with other options that affect the file
                                                              mode, like fsGroup, and the result can be other mode bits set.
                                                            format: int32
                                                            type: integer
                                                          path:
                                                            description: 'Required:
                                                              Path is  the relative
                                                              path name of the file
                                                              to be created. Must
                                                              not be absolute or contain
                                                              the ''..'' path. Must
                                                              be utf-8 encoded. The
                                                              first item of the relative
                                                              path must not start
                                                              with ''..'''
                                                            type: string
                                                          resourceFieldRef:
                                                            description: |-
                                                              Selects a resource of the container: only resources limits and requests
                                                              (limits.cpu, limits.memory, requests.cpu and requests.memory) are currently supported.
                                                            properties:
                                                              containerName:
                                                                description: 'Container
                                                                  name: required for
                                                                  volumes, optional
                                                                  for env vars'
                                                                type: string
                                                              divisor:
                                                                anyOf:
                                                                - type: integer
                                                                - type: string
                                                                description: Specifies
                                                                  the output format
                                                                  of the exposed resources,
                                                                  defaults to "1"
                                                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                                x-kubernetes-int-or-string: true
                                                              resource:
                                                                description: 'Required:
                                                                  resource to select'
                                                                type: string
                                                            required:
                                                            - resource
                                                            type: object
                                                            x-kubernetes-map-type: atomic
                                                        required:
                                                        - path
                                                        type: object
                                                      type: array
                                                  type: object
                                                secret:
                                                  description: secret information
                                                    about the secret data to project
                                                  properties:
                                                    items:
                                                      description: |-
                                                        items if unspecified, each key-value pair in the Data field of the referenced
                                                        Secret will be projected into the volume as a file whose name is the
                                                        key and content is the value. If specified, the listed keys will be
                                                        projected into the specified paths, and unlisted keys will not be
                                                        present. If a key is specified which is not present in the Secret,
                                                        the volume setup will error unless it is marked optional. Paths must be
                                                        relative and may not contain the '..' path or start with '..'.
                                                      items:
                                                        description: Maps a string
                                                          key to a path within a volume.
                                                        properties:
                                                          key:
                                                            description: key is the
                                                              key to project.
                                                            type: string
                                                          mode:
                                                            description: |-
                                                              mode is Optional: mode bits used to set permissions on this file.
                                                              Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                                              YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                                              If not specified, the volume defaultMode will be used.
                                                              This might be in conflict with other options that affect the file
                                                              mode, like fsGroup, and the result can be other mode bits set.
                                                            format: int32
                                                            type: integer
                                                          path:
                                                            description: |-
                                                              path is the relative path of the file to map the key to.
                                                              May not be an absolute path.
                                                              May not contain the path element '..'.
                                                              May not start with the string '..'.
                                                            type: string
                                                        required:
                                                        - key
                                                        - path
                                                        type: object
                                                      type: array
                                                    name:
                                                      description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                        TODO: Add other useful fields. apiVersion, kind, uid?
                                                      type: string
                                                    optional:
                                                      description: optional field
                                                        specify whether the Secret
                                                        or its key must be defined
                                                      type: boolean
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                serviceAccountToken:
                                                  description: serviceAccountToken
                                                    is information about the serviceAccountToken
                                                    data to project
                                                  properties:
                                                    audience:
                                                      description: |-
                                                        audience is the intended audience of the token. A recipient of a token
                                                        must identify itself with an identifier specified in the audience of the
                                                        token, and otherwise should reject the token. The audience defaults to the
                                                        identifier of the apiserver.
                                                      type: string
                                                    expirationSeconds:
                                                      description: |-
                                                        expirationSeconds is the requested duration of validity of the service
                                                        account token. As the token approaches expiration, the kubelet volume
                                                        plugin will proactively rotate the service account token. The kubelet will
                                                        start trying to rotate the token if the token is older than 80 percent of
                                                        its time to live or if the token is older than 24 hours.Defaults to 1 hour
                                                        and must be at least 10 minutes.
                                                      format: int64
                                                      type: integer
                                                    path:
                                                      description: |-
                                                        path is the path relative to the mount point of the file to project the
                                                        token into.
                                                      type: string
                                                  required:
                                                  - path
                                                  type: object
                                              type: object
                                            type: array
                                        type: object
                                      quobyte:
                                        description: quobyte represents a Quobyte
                                          mount on the host that shares a pod's lifetime
                                        properties:
                                          group:
                                            description: |-
                                              group to map volume access to
                                              Default is no group
                                            type: string
                                          readOnly:
                                            description: |-
                                              readOnly here will force the Quobyte volume to be mounted with read-only permissions.
                                              Defaults to false.
                                            type: boolean
                                          registry:
                                            description: |-
                                              registry represents a single or multiple Quobyte Registry services
                                              specified as a string as host:port pair (multiple entries are separated with commas)
                                              which acts as the central registry for volumes
                                            type: string
                                          tenant:
                                            description: |-
                                              tenant owning the given Quobyte volume in the Backend
                                              Used with dynamically provisioned Quobyte volumes, value is set by the plugin
                                            type: string
                                          user:
                                            description: |-
                                              user to map volume access to
                                              Defaults to serivceaccount user
                                            type: string
                                          volume:
                                            description: volume is a string that references
                                              an already created Quobyte volume by
                                              name.
                                            type: string
                                        required:
                                        - registry
                                        - volume
                                        type: object
                                      rbd:
                                        description: |-
                                          rbd represents a Rados Block Device mount on the host that shares a pod's lifetime.
                                          More info: https://examples.k8s.io/volumes/rbd/README.md
                                        properties:
                                          fsType:
                                            description: |-
                                              fsType is the filesystem type of the volume that you want to mount.
                                              Tip: Ensure that the filesystem type is supported by the host operating system.
                                              Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                              More info: https://kubernetes.io/docs/concepts/storage/volumes#rbd
                                              TODO: how do we prevent errors in the filesystem from compromising the machine
                                            type: string
                                          image:
                                            description: |-
                                              image is the rados image name.
                                              More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                            type: string
                                          keyring:
                                            description: |-
                                              keyring is the path to key ring for RBDUser.
                                              Default is /etc/ceph/keyring.
                                              More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                            type: string
                                          monitors:
                                            description: |-
                                              monitors is a collection of Ceph monitors.
                                              More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                            items:
                                              type: string
                                            type: array
                                          pool:
                                            description: |-
                                              pool is the rados pool name.
                                              Default is rbd.
                                              More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                            type: string
                                          readOnly:
                                            description: |-
                                              readOnly here will force the ReadOnly setting in VolumeMounts.
                                              Defaults to false.
                                              More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                            type: boolean
                                          secretRef:
                                            description: |-
                                              secretRef is name of the authentication secret for RBDUser. If provided
                                              overrides keyring.
                                              Default is nil.
                                              More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                            properties:
                                              name:
                                                description: |-
                                                  Name of the referent.
                                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                  TODO: Add other useful fields. apiVersion, kind, uid?
                                                type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          user:
                                            description: |-
                                              user is the rados user name.
                                              Default is admin.
                                              More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                            type: string
                                        required:
                                        - image
                                        - monitors
                                        type: object
                                      scaleIO:
                                        description: scaleIO represents a ScaleIO
                                          persistent volume attached and mounted on
                                          Kubernetes nodes.
                                        properties:
                                          fsType:
                                            description: |-
                                              fsType is the filesystem type to mount.
                                              Must be a filesystem type supported by the host operating system.
                                              Ex. "ext4", "xfs", "ntfs".
                                              Default is "xfs".
                                            type: string
                                          gateway:
                                            description: gateway is the host address
                                              of the ScaleIO API Gateway.
                                            type: string
                                          protectionDomain:
                                            description: protectionDomain is the name
                                              of the ScaleIO Protection Domain for
                                              the configured storage.
                                            type: string
                                          readOnly:
                                            description: |-
                                              readOnly Defaults to false (read/write). ReadOnly here will force
                                              the ReadOnly setting in VolumeMounts.
                                            type: boolean
                                          secretRef:
                                            description: |-
                                              secretRef references to the secret for ScaleIO user and other
                                              sensitive information. If this is not provided, Login operation will fail.
                                            properties:
                                              name:
                                                description: |-
                                                  Name of the referent.
                                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                  TODO: Add other useful fields. apiVersion, kind, uid?
                                                type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          sslEnabled:
                                            description: sslEnabled Flag enable/disable
                                              SSL communication with Gateway, default
                                              false
                                            type: boolean
                                          storageMode:
                                            description: |-
                                              storageMode indicates whether the storage for a volume should be ThickProvisioned or ThinProvisioned.
                                              Default is ThinProvisioned.
                                            type: string
                                          storagePool:
                                            description: storagePool is the ScaleIO
                                              Storage Pool associated with the protection
                                              domain.
                                            type: string
                                          system:
                                            description: system is the name of the
                                              storage system as configured in ScaleIO.
                                            type: string
                                          volumeName:
                                            description: |-
                                              volumeName is the name of a volume already created in the ScaleIO system
                                              that is associated with this volume source.
                                            type: string
                                        required:
                                        - gateway
                                        - secretRef
                                        - system
                                        type: object
                                      secret:
                                        description: |-
                                          secret represents a secret that should populate this volume.
                                          More info: https://kubernetes.io/docs/concepts/storage/volumes#secret
                                        properties:
                                          defaultMode:
                                            description: |-
                                              defaultMode is Optional: mode bits used to set permissions on created files by default.
                                              Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                              YAML accepts both octal and decimal values, JSON requires decimal values
                                              for mode bits. Defaults to 0644.
                                              Directories within the path are not affected by this setting.
                                              This might be in conflict with other options that affect the file
                                              mode, like fsGroup, and the result can be other mode bits set.
                                            format: int32
                                            type: integer
                                          items:
                                            description: |-
                                              items If unspecified, each key-value pair in the Data field of the referenced
                                              Secret will be projected into the volume as a file whose name is the
                                              key and content is the value. If specified, the listed keys will be
                                              projected into the specified paths, and unlisted keys will not be
                                              present. If a key is specified which is not present in the Secret,
                                              the volume setup will error unless it is marked optional. Paths must be
                                              relative and may not contain the '..' path or start with '..'.
                                            items:
                                              description: Maps a string key to a
                                                path within a volume.
                                              properties:
                                                key:
                                                  description: key is the key to project.
                                                  type: string
                                                mode:
                                                  description: |-
                                                    mode is Optional: mode bits used to set permissions on this file.
                                                    Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                                    YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                                    If not specified, the volume defaultMode will be used.
                                                    This might be in conflict with other options that affect the file
                                                    mode, like fsGroup, and the result can be other mode bits set.
                                                  format: int32
                                                  type: integer
                                                path:
                                                  description: |-
                                                    path is the relative path of the file to map the key to.
                                                    May not be an absolute path.
                                                    May not contain the path element '..'.
                                                    May not start with the string '..'.
                                                  type: string
                                              required:
                                              - key
                                              - path
                                              type: object
                                            type: array
                                          optional:
                                            description: optional field specify whether
                                              the Secret or its keys must be defined
                                            type: boolean
                                          secretName:
                                            description: |-
                                              secretName is the name of the secret in the pod's namespace to use.
                                              More info: https://kubernetes.io/docs/concepts/storage/volumes#secret
                                            type: string
                                        type: object
                                      storageos:
                                        description: storageOS represents a StorageOS
                                          volume attached and mounted on Kubernetes
                                          nodes.
                                        properties:
                                          fsType:
                                            description: |-
                                              fsType is the filesystem type to mount.
                                              Must be a filesystem type supported by the host operating system.
                                              Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                            type: string
                                          readOnly:
                                            description: |-
                                              readOnly defaults to false (read/write). ReadOnly here will force
                                              the ReadOnly setting in VolumeMounts.
                                            type: boolean
                                          secretRef:
                                            description: |-
                                              secretRef specifies the secret to use for obtaining the StorageOS API
                                              credentials.  If not specified, default values will be attempted.
                                            properties:
                                              name:
                                                description: |-
                                                  Name of the referent.
                                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                  TODO: Add other useful fields. apiVersion, kind, uid?
                                                type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          volumeName:
                                            description: |-
                                              volumeName is the human-readable name of the StorageOS volume.  Volume
                                              names are only unique within a namespace.
                                            type: string
                                          volumeNamespace:
                                            description: |-
                                              volumeNamespace specifies the scope of the volume within StorageOS.  If no
                                              namespace is specified then the Pod's namespace will be used.  This allows the
                                              Kubernetes name scoping to be mirrored within StorageOS for tighter integration.
                                              Set VolumeName to any name to override the default behaviour.
                                              Set to "default" if you are not using namespaces within StorageOS.
                                              Namespaces that do not pre-exist within StorageOS will be created.
                                            type: string
                                        type: object
                                      vsphereVolume:
                                        description: vsphereVolume represents a vSphere
                                          volume attached and mounted on kubelets
                                          host machine
                                        properties:
                                          fsType:
                                            description: |-
                                              fsType is filesystem type to mount.
                                              Must be a filesystem type supported by the host operating system.
                                              Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                            type: string
                                          storagePolicyID:
                                            description: storagePolicyID is the storage
                                              Policy Based Management (SPBM) profile
                                              ID associated with the StoragePolicyName.
                                            type: string
                                          storagePolicyName:
                                            description: storagePolicyName is the
                                              storage Policy Based Management (SPBM)
                                              profile name.
                                            type: string
                                          volumePath:
                                            description: volumePath is the path that
                                              identifies vSphere volume vmdk
                                            type: string
                                        required:
                                        - volumePath
                                        type: object
                                    required:
                                    - name
                                    type: object
                                  type: array
                              type: object
                            replicas:
                              description: Replicas is the number of desired pods.
                                Defaults to 1.
                              format: int32
                              type: integer
                            strategy:
                              description: The deployment strategy to use to replace
                                existing pods with new ones.
                              properties:
                                rollingUpdate:
                                  description: |-
                                    Rolling update config params. Present only if DeploymentStrategyType =
                                    RollingUpdate.
                                    ---
                                    TODO: Update this to follow our convention for oneOf, whatever we decide it
                                    to be.
                                  properties:
                                    maxSurge:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: |-
                                        The maximum number of pods that can be scheduled above the desired number of
                                        pods.
                                        Value can be an absolute number (ex: 5) or a percentage of desired pods (ex: 10%).
                                        This can not be 0 if MaxUnavailable is 0.
                                        Absolute number is calculated from percentage by rounding up.
                                        Defaults to 25%.
                                        Example: when this is set to 30%, the new ReplicaSet can be scaled up immediately when
                                        the rolling update starts, such that the total number of old and new pods do not exceed
                                        130% of desired pods. Once old pods have been killed,
                                        new ReplicaSet can be scaled up further, ensuring that total number of pods running
                                        at any time during the update is at most 130% of desired pods.
                                      x-kubernetes-int-or-string: true
                                    maxUnavailable:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: |-
                                        The maximum number of pods that can be unavailable during the update.
                                        Value can be an absolute number (ex: 5) or a percentage of desired pods (ex: 10%).
                                        Absolute number is calculated from percentage by rounding down.
                                        This can not be 0 if MaxSurge is 0.
                                        Defaults to 25%.
                                        Example: when this is set to 30%, the old ReplicaSet can be scaled down to 70% of desired pods
                                        immediately when the rolling update starts. Once new pods are ready, old ReplicaSet
                                        can be scaled down further, followed by scaling up the new ReplicaSet, ensuring
                                        that the total number of pods available at all times during the update is at
                                        least 70% of desired pods.
                                      x-kubernetes-int-or-string: true
                                  type: object
                                type:
                                  description: Type of deployment. Can be "Recreate"
                                    or "RollingUpdate". Default is RollingUpdate.
                                  type: string
                              type: object
                          type: object
                        envoyHpa:
                          description: |-
                            EnvoyHpa defines the Horizontal Pod Autoscaler settings for Envoy Proxy Deployment.
                            Once the HPA is being set, Replicas field from EnvoyDeployment will be ignored.
                          properties:
                            behavior:
                              description: |-
                                behavior configures the scaling behavior of the target
                                in both Up and Down directions (scaleUp and scaleDown fields respectively).
                                If not set, the default HPAScalingRules for scale up and scale down are used.
                                See k8s.io.autoscaling.v2.HorizontalPodAutoScalerBehavior.
                              properties:
                                scaleDown:
                                  description: |-
                                    scaleDown is scaling policy for scaling Down.
                                    If not set, the default value is to allow to scale down to minReplicas pods, with a
                                    300 second stabilization window (i.e., the highest recommendation for
                                    the last 300sec is used).
                                  properties:
                                    policies:
                                      description: |-
                                        policies is a list of potential scaling polices which can be used during scaling.
                                        At least one policy must be specified, otherwise the HPAScalingRules will be discarded as invalid
                                      items:
                                        description: HPAScalingPolicy is a single
                                          policy which must hold true for a specified
                                          past interval.
                                        properties:
                                          periodSeconds:
                                            description: |-
                                              periodSeconds specifies the window of time for which the policy should hold true.
                                              PeriodSeconds must be greater than zero and less than or equal to 1800 (30 min).
                                            format: int32
                                            type: integer
                                          type:
                                            description: type is used to specify the
                                              scaling policy.
                                            type: string
                                          value:
                                            description: |-
                                              value contains the amount of change which is permitted by the policy.
                                              It must be greater than zero
                                            format: int32
                                            type: integer
                                        required:
                                        - periodSeconds
                                        - type
                                        - value
                                        type: object
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    selectPolicy:
                                      description: |-
                                        selectPolicy is used to specify which policy should be used.
                                        If not set, the default value Max is used.
                                      type: string
                                    stabilizationWindowSeconds:
                                      description: |-
                                        stabilizationWindowSeconds is the number of seconds for which past recommendations should be
                                        considered while scaling up or scaling down.
                                        StabilizationWindowSeconds must be greater than or equal to zero and less than or equal to 3600 (one hour).
                                        If not set, use the default values:
                                        - For scale up: 0 (i.e. no stabilization is done).
                                        - For scale down: 300 (i.e. the stabilization window is 300 seconds long).
                                      format: int32
                                      type: integer
                                  type: object
                                scaleUp:
                                  description: |-
                                    scaleUp is scaling policy for scaling Up.
                                    If not set, the default value is the higher of:
                                      * increase no more than 4 pods per 60 seconds
                                      * double the number of pods per 60 seconds
                                    No stabilization is used.
                                  properties:
                                    policies:
                                      description: |-
                                        policies is a list of potential scaling polices which can be used during scaling.
                                        At least one policy must be specified, otherwise the HPAScalingRules will be discarded as invalid
                                      items:
                                        description: HPAScalingPolicy is a single
                                          policy which must hold true for a specified
                                          past interval.
                                        properties:
                                          periodSeconds:
                                            description: |-
                                              periodSeconds specifies the window of time for which the policy should hold true.
                                              PeriodSeconds must be greater than zero and less than or equal to 1800 (30 min).
                                            format: int32
                                            type: integer
                                          type:
                                            description: type is used to specify the
                                              scaling policy.
                                            type: string
                                          value:
                                            description: |-
                                              value contains the amount of change which is permitted by the policy.
                                              It must be greater than zero
                                            format: int32
                                            type: integer
                                        required:
                                        - periodSeconds
                                        - type
                                        - value
                                        type: object
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    selectPolicy:
                                      description: |-
                                        selectPolicy is used to specify which policy should be used.
                                        If not set, the default value Max is used.
                                      type: string
                                    stabilizationWindowSeconds:
                                      description: |-
                                        stabilizationWindowSeconds is the number of seconds for which past recommendations should be
                                        considered while scaling up or scaling down.
                                        StabilizationWindowSeconds must be greater than or equal to zero and less than or equal to 3600 (one hour).
                                        If not set, use the default values:
                                        - For scale up: 0 (i.e. no stabilization is done).
                                        - For scale down: 300 (i.e. the stabilization window is 300 seconds long).
                                      format: int32
                                      type: integer
                                  type: object
                              type: object
                            maxReplicas:
                              description: |-
                                maxReplicas is the upper limit for the number of replicas to which the autoscaler can scale up.
                                It cannot be less that minReplicas.
                              format: int32
                              type: integer
                              x-kubernetes-validations:
                              - message: maxReplicas must be greater than 0
                                rule: self > 0
                            metrics:
                              description: |-
                                metrics contains the specifications for which to use to calculate the
                                desired replica count (the maximum replica count across all metrics will
                                be used).
                                If left empty, it defaults to being based on CPU utilization with average on 80% usage.
                              items:
                                description: |-
                                  MetricSpec specifies how to scale based on a single metric
                                  (only `type` and one other matching field should be set at once).
                                properties:
                                  containerResource:
                                    description: |-
                                      containerResource refers to a resource metric (such as those specified in
                                      requests and limits) known to Kubernetes describing a single container in
                                      each pod of the current scale target (e.g. CPU or memory). Such metrics are
                                      built in to Kubernetes, and have special scaling options on top of those
                                      available to normal per-pod metrics using the "pods" source.
                                      This is an alpha feature and can be enabled by the HPAContainerMetrics feature flag.
                                    properties:
                                      container:
                                        description: container is the name of the
                                          container in the pods of the scaling target
                                        type: string
                                      name:
                                        description: name is the name of the resource
                                          in question.
                                        type: string
                                      target:
                                        description: target specifies the target value
                                          for the given metric
                                        properties:
                                          averageUtilization:
                                            description: |-
                                              averageUtilization is the target value of the average of the
                                              resource metric across all relevant pods, represented as a percentage of
                                              the requested value of the resource for the pods.
                                              Currently only valid for Resource metric source type
                                            format: int32
                                            type: integer
                                          averageValue:
                                            anyOf:
                                            - type: integer
                                            - type: string
                                            description: |-
                                              averageValue is the target value of the average of the
                                              metric across all relevant pods (as a quantity)
                                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                            x-kubernetes-int-or-string: true
                                          type:
                                            description: type represents whether the
                                              metric type is Utilization, Value, or
                                              AverageValue
                                            type: string
                                          value:
                                            anyOf:
                                            - type: integer
                                            - type: string
                                            description: value is the target value
                                              of the metric (as a quantity).
                                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                            x-kubernetes-int-or-string: true
                                        required:
                                        - type
                                        type: object
                                    required:
                                    - container
                                    - name
                                    - target
                                    type: object
                                  external:
                                    description: |-
                                      external refers to a global metric that is not associated
                                      with any Kubernetes object. It allows autoscaling based on information
                                      coming from components running outside of cluster
                                      (for example length of queue in cloud messaging service, or
                                      QPS from loadbalancer running outside of cluster).
                                    properties:
                                      metric:
                                        description: metric identifies the target
                                          metric by name and selector
                                        properties:
                                          name:
                                            description: name is the name of the given
                                              metric
                                            type: string
                                          selector:
                                            description: |-
                                              selector is the string-encoded form of a standard kubernetes label selector for the given metric
                                              When set, it is passed as an additional parameter to the metrics server for more specific metrics scoping.
                                              When unset, just the metricName will be used to gather metrics.
                                            properties:
                                              matchExpressions:
                                                description: matchExpressions is a
                                                  list of label selector requirements.
                                                  The requirements are ANDed.
                                                items:
                                                  description: |-
                                                    A label selector requirement is a selector that contains values, a key, and an operator that
                                                    relates the key and values.
                                                  properties:
                                                    key:
                                                      description: key is the label
                                                        key that the selector applies
                                                        to.
                                                      type: string
                                                    operator:
                                                      description: |-
                                                        operator represents a key's relationship to a set of values.
                                                        Valid operators are In, NotIn, Exists and DoesNotExist.
                                                      type: string
                                                    values:
                                                      description: |-
                                                        values is an array of string values. If the operator is In or NotIn,
                                                        the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                        the values array must be empty. This array is replaced during a strategic
                                                        merge patch.
                                                      items:
                                                        type: string
                                                      type: array
                                                  required:
                                                  - key
                                                  - operator
                                                  type: object
                                                type: array
                                              matchLabels:
                                                additionalProperties:
                                                  type: string
                                                description: |-
                                                  matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                  map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                  operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                type: object
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        required:
                                        - name
                                        type: object
                                      target:
                                        description: target specifies the target value
                                          for the given metric
                                        properties:
                                          averageUtilization:
                                            description: |-
                                              averageUtilization is the target value of the average of the
                                              resource metric across all relevant pods, represented as a percentage of
                                              the requested value of the resource for the pods.
                                              Currently only valid for Resource metric source type
                                            format: int32
                                            type: integer
                                          averageValue:
                                            anyOf:
                                            - type: integer
                                            - type: string
                                            description: |-
                                              averageValue is the target value of the average of the
                                              metric across all relevant pods (as a quantity)
                                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                            x-kubernetes-int-or-string: true
                                          type:
                                            description: type represents whether the
                                              metric type is Utilization, Value, or
                                              AverageValue
                                            type: string
                                          value:
                                            anyOf:
                                            - type: integer
                                            - type: string
                                            description: value is the target value
                                              of the metric (as a quantity).
                                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                            x-kubernetes-int-or-string: true
                                        required:
                                        - type
                                        type: object
                                    required:
                                    - metric
                                    - target
                                    type: object
                                  object:
                                    description: |-
                                      object refers to a metric describing a single kubernetes object
                                      (for example, hits-per-second on an Ingress object).
                                    properties:
                                      describedObject:
                                        description: describedObject specifies the
                                          descriptions of a object,such as kind,name
                                          apiVersion
                                        properties:
                                          apiVersion:
                                            description: apiVersion is the API version
                                              of the referent
                                            type: string
                                          kind:
                                            description: 'kind is the kind of the
                                              referent; More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                                            type: string
                                          name:
                                            description: 'name is the name of the
                                              referent; More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                                            type: string
                                        required:
                                        - kind
                                        - name
                                        type: object
                                      metric:
                                        description: metric identifies the target
                                          metric by name and selector
                                        properties:
                                          name:
                                            description: name is the name of the given
                                              metric
                                            type: string
                                          selector:
                                            description: |-
                                              selector is the string-encoded form of a standard kubernetes label selector for the given metric
                                              When set, it is passed as an additional parameter to the metrics server for more specific metrics scoping.
                                              When unset, just the metricName will be used to gather metrics.
                                            properties:
                                              matchExpressions:
                                                description: matchExpressions is a
                                                  list of label selector requirements.
                                                  The requirements are ANDed.
                                                items:
                                                  description: |-
                                                    A label selector requirement is a selector that contains values, a key, and an operator that
                                                    relates the key and values.
                                                  properties:
                                                    key:
                                                      description: key is the label
                                                        key that the selector applies
                                                        to.
                                                      type: string
                                                    operator:
                                                      description: |-
                                                        operator represents a key's relationship to a set of values.
                                                        Valid operators are In, NotIn, Exists and DoesNotExist.
                                                      type: string
                                                    values:
                                                      description: |-
                                                        values is an array of string values. If the operator is In or NotIn,
                                                        the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                        the values array must be empty. This array is replaced during a strategic
                                                        merge patch.
                                                      items:
                                                        type: string
                                                      type: array
                                                  required:
                                                  - key
                                                  - operator
                                                  type: object
                                                type: array
                                              matchLabels:
                                                additionalProperties:
                                                  type: string
                                                description: |-
                                                  matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                  map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                  operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                type: object
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        required:
                                        - name
                                        type: object
                                      target:
                                        description: target specifies the target value
                                          for the given metric
                                        properties:
                                          averageUtilization:
                                            description: |-
                                              averageUtilization is the target value of the average of the
                                              resource metric across all relevant pods, represented as a percentage of
                                              the requested value of the resource for the pods.
                                              Currently only valid for Resource metric source type
                                            format: int32
                                            type: integer
                                          averageValue:
                                            anyOf:
                                            - type: integer
                                            - type: string
                                            description: |-
                                              averageValue is the target value of the average of the
                                              metric across all relevant pods (as a quantity)
                                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                            x-kubernetes-int-or-string: true
                                          type:
                                            description: type represents whether the
                                              metric type is Utilization, Value, or
                                              AverageValue
                                            type: string
                                          value:
                                            anyOf:
                                            - type: integer
                                            - type: string
                                            description: value is the target value
                                              of the metric (as a quantity).
                                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                            x-kubernetes-int-or-string: true
                                        required:
                                        - type
                                        type: object
                                    required:
                                    - describedObject
                                    - metric
                                    - target
                                    type: object
                                  pods:
                                    description: |-
                                      pods refers to a metric describing each pod in the current scale target
                                      (for example, transactions-processed-per-second).  The values will be
                                      averaged together before being compared to the target value.
                                    properties:
                                      metric:
                                        description: metric identifies the target
                                          metric by name and selector
                                        properties:
                                          name:
                                            description: name is the name of the given
                                              metric
                                            type: string
                                          selector:
                                            description: |-
                                              selector is the string-encoded form of a standard kubernetes label selector for the given metric
                                              When set, it is passed as an additional parameter to the metrics server for more specific metrics scoping.
                                              When unset, just the metricName will be used to gather metrics.
                                            properties:
                                              matchExpressions:
                                                description: matchExpressions is a
                                                  list of label selector requirements.
                                                  The requirements are ANDed.
                                                items:
                                                  description: |-
                                                    A label selector requirement is a selector that contains values, a key, and an operator that
                                                    relates the key and values.
                                                  properties:
                                                    key:
                                                      description: key is the label
                                                        key that the selector applies
                                                        to.
                                                      type: string
                                                    operator:
                                                      description: |-
                                                        operator represents a key's relationship to a set of values.
                                                        Valid operators are In, NotIn, Exists and DoesNotExist.
                                                      type: string
                                                    values:
                                                      description: |-
                                                        values is an array of string values. If the operator is In or NotIn,
                                                        the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                        the values array must be empty. This array is replaced during a strategic
                                                        merge patch.
                                                      items:
                                                        type: string
                                                      type: array
                                                  required:
                                                  - key
                                                  - operator
                                                  type: object
                                                type: array
                                              matchLabels:
                                                additionalProperties:
                                                  type: string
                                                description: |-
                                                  matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                  map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                  operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                type: object
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        required:
                                        - name
                                        type: object
                                      target:
                                        description: target specifies the target value
                                          for the given metric
                                        properties:
                                          averageUtilization:
                                            description: |-
                                              averageUtilization is the target value of the average of the
                                              resource metric across all relevant pods, represented as a percentage of
                                              the requested value of the resource for the pods.
                                              Currently only valid for Resource metric source type
                                            format: int32
                                            type: integer
                                          averageValue:
                                            anyOf:
                                            - type: integer
                                            - type: string
                                            description: |-
                                              averageValue is the target value of the average of the
                                              metric across all relevant pods (as a quantity)
                                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                            x-kubernetes-int-or-string: true
                                          type:
                                            description: type represents whether the
                                              metric type is Utilization, Value, or
                                              AverageValue
                                            type: string
                                          value:
                                            anyOf:
                                            - type: integer
                                            - type: string
                                            description: value is the target value
                                              of the metric (as a quantity).
                                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                            x-kubernetes-int-or-string: true
                                        required:
                                        - type
                                        type: object
                                    required:
                                    - metric
                                    - target
                                    type: object
                                  resource:
                                    description: |-
                                      resource refers to a resource metric (such as those specified in
                                      requests and limits) known to Kubernetes describing each pod in the
                                      current scale target (e.g. CPU or memory). Such metrics are built in to
                                      Kubernetes, and have special scaling options on top of those available
                                      to normal per-pod metrics using the "pods" source.
                                    properties:
                                      name:
                                        description: name is the name of the resource
                                          in question.
                                        type: string
                                      target:
                                        description: target specifies the target value
                                          for the given metric
                                        properties:
                                          averageUtilization:
                                            description: |-
                                              averageUtilization is the target value of the average of the
                                              resource metric across all relevant pods, represented as a percentage of
                                              the requested value of the resource for the pods.
                                              Currently only valid for Resource metric source type
                                            format: int32
                                            type: integer
                                          averageValue:
                                            anyOf:
                                            - type: integer
                                            - type: string
                                            description: |-
                                              averageValue is the target value of the average of the
                                              metric across all relevant pods (as a quantity)
                                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                            x-kubernetes-int-or-string: true
                                          type:
                                            description: type represents whether the
                                              metric type is Utilization, Value, or
                                              AverageValue
                                            type: string
                                          value:
                                            anyOf:
                                            - type: integer
                                            - type: string
                                            description: value is the target value
                                              of the metric (as a quantity).
                                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                            x-kubernetes-int-or-string: true
                                        required:
                                        - type
                                        type: object
                                    required:
                                    - name
                                    - target
                                    type: object
                                  type:
                                    description: |-
                                      type is the type of metric source.  It should be one of "ContainerResource", "External",
                                      "Object", "Pods" or "Resource", each mapping to a matching field in the object.
                                      Note: "ContainerResource" type is available on when the feature-gate
                                      HPAContainerMetrics is enabled
                                    type: string
                                required:
                                - type
                                type: object
                              type: array
                            minReplicas:
                              description: |-
                                minReplicas is the lower limit for the number of replicas to which the autoscaler
                                can scale down. It defaults to 1 replica.
                              format: int32
                              type: integer
                              x-kubernetes-validations:
                              - message: minReplicas must be greater than 0
                                rule: self > 0
                          required:
                          - maxReplicas
                          type: object
                          x-kubernetes-validations:
                          - message: maxReplicas cannot be less than minReplicas
                            rule: '!has(self.minReplicas) || self.maxReplicas >= self.minReplicas'
                        envoyService:
                          description: |-
                            EnvoyService defines the desired state of the Envoy service resource.
                            If unspecified, default settings for the managed Envoy service resource
                            are applied.
                          properties:
                            allocateLoadBalancerNodePorts:
                              description: |-
                                AllocateLoadBalancerNodePorts defines if NodePorts will be automatically allocated for
                                services with type LoadBalancer. Default is "true". It may be set to "false" if the cluster
                                load-balancer does not rely on NodePorts. If the caller requests specific NodePorts (by specifying a
                                value), those requests will be respected, regardless of this field. This field may only be set for
                                services with type LoadBalancer and will be cleared if the type is changed to any other type.
                              type: boolean
                            annotations:
                              additionalProperties:
                                type: string
                              description: |-
                                Annotations that should be appended to the service.
                                By default, no annotations are appended.
                              type: object
                            externalTrafficPolicy:
                              default: Local
                              description: |-
                                ExternalTrafficPolicy determines the externalTrafficPolicy for the Envoy Service. Valid options
                                are Local and Cluster. Default is "Local". "Local" means traffic will only go to pods on the node
                                receiving the traffic. "Cluster" means connections are loadbalanced to all pods in the cluster.
                              enum:
                              - Local
                              - Cluster
                              type: string
                            loadBalancerClass:
                              description: |-
                                LoadBalancerClass, when specified, allows for choosing the LoadBalancer provider
                                implementation if more than one are available or is otherwise expected to be specified
                              type: string
                            loadBalancerIP:
                              description: |-
                                LoadBalancerIP defines the IP Address of the underlying load balancer service. This field
                                may be ignored if the load balancer provider does not support this feature.
                                This field has been deprecated in Kubernetes, but it is still used for setting the IP Address in some cloud
                                providers such as GCP.
                              type: string
                              x-kubernetes-validations:
                              - message: loadBalancerIP must be a valid IPv4 address
                                rule: self.matches(r"^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$")
                            patch:
                              description: Patch defines how to perform the patch
                                operation to the service
                              properties:
                                type:
                                  description: |-
                                    Type is the type of merge operation to perform


                                    By default, StrategicMerge is used as the patch type.
                                  type: string
                                value:
                                  description: Object contains the raw configuration
                                    for merged object
                                  x-kubernetes-preserve-unknown-fields: true
                              required:
                              - value
                              type: object
                            type:
                              default: LoadBalancer
                              description: |-
                                Type determines how the Service is exposed. Defaults to LoadBalancer.
                                Valid options are ClusterIP, LoadBalancer and NodePort.
                                "LoadBalancer" means a service will be exposed via an external load balancer (if the cloud provider supports it).
                                "ClusterIP" means a service will only be accessible inside the cluster, via the cluster IP.
                                "NodePort" means a service will be exposed on a static Port on all Nodes of the cluster.
                              enum:
                              - ClusterIP
                              - LoadBalancer
                              - NodePort
                              type: string
                          type: object
                          x-kubernetes-validations:
                          - message: allocateLoadBalancerNodePorts can only be set
                              for LoadBalancer type
                            rule: '!has(self.allocateLoadBalancerNodePorts) || self.type
                              == ''LoadBalancer'''
                          - message: loadBalancerIP can only be set for LoadBalancer
                              type
                            rule: '!has(self.loadBalancerIP) || self.type == ''LoadBalancer'''
                      type: object
                    type:
                      description: |-
                        Type is the type of resource provider to use. A resource provider provides
                        infrastructure resources for running the data plane, e.g. Envoy proxy, and
                        optional auxiliary control planes. Supported types are "Kubernetes".
                      enum:
                      - Kubernetes
                      type: string
                  required:
                  - type
                  type: object
                shutdown:
                  description: Shutdown defines configuration for graceful envoy shutdown
                    process.
                  properties:
                    drainTimeout:
                      description: |-
                        DrainTimeout defines the graceful drain timeout. This should be less than the pod's terminationGracePeriodSeconds.
                        If unspecified, defaults to 600 seconds.
                      type: string
                    minDrainDuration:
                      description: |-
                        MinDrainDuration defines the minimum drain duration allowing time for endpoint deprogramming to complete.
                        If unspecified, defaults to 5 seconds.
                      type: string
                  type: object
                telemetry:
                  description: Telemetry defines telemetry parameters for managed
                    proxies.
                  properties:
                    accessLog:
                      description: |-
                        AccessLogs defines accesslog parameters for managed proxies.
                        If unspecified, will send default format to stdout.
                      properties:
                        disable:
                          description: Disable disables access logging for managed
                            proxies if set to true.
                          type: boolean
                        settings:
                          description: |-
                            Settings defines accesslog settings for managed proxies.
                            If unspecified, will send default format to stdout.
                          items:
                            properties:
                              format:
                                description: Format defines the format of accesslog.
                                properties:
                                  json:
                                    additionalProperties:
                                      type: string
                                    description: |-
                                      JSON is additional attributes that describe the specific event occurrence.
                                      Structured format for the envoy access logs. Envoy [command operators](https://www.envoyproxy.io/docs/envoy/latest/configuration/observability/access_log/usage#command-operators)
                                      can be used as values for fields within the Struct.
                                      It's required when the format type is "JSON".
                                    type: object
                                  text:
                                    description: |-
                                      Text defines the text accesslog format, following Envoy accesslog formatting,
                                      It's required when the format type is "Text".
                                      Envoy [command operators](https://www.envoyproxy.io/docs/envoy/latest/configuration/observability/access_log/usage#command-operators) may be used in the format.
                                      The [format string documentation](https://www.envoyproxy.io/docs/envoy/latest/configuration/observability/access_log/usage#config-access-log-format-strings) provides more information.
                                    type: string
                                  type:
                                    description: Type defines the type of accesslog
                                      format.
                                    enum:
                                    - Text
                                    - JSON
                                    type: string
                                type: object
                                x-kubernetes-validations:
                                - message: If AccessLogFormat type is Text, text field
                                    needs to be set.
                                  rule: 'self.type == ''Text'' ? has(self.text) :
                                    !has(self.text)'
                                - message: If AccessLogFormat type is JSON, json field
                                    needs to be set.
                                  rule: 'self.type == ''JSON'' ? has(self.json) :
                                    !has(self.json)'
                              sinks:
                                description: Sinks defines the sinks of accesslog.
                                items:
                                  description: ProxyAccessLogSink defines the sink
                                    of accesslog.
                                  properties:
                                    file:
                                      description: File defines the file accesslog
                                        sink.
                                      properties:
                                        path:
                                          description: Path defines the file path
                                            used to expose envoy access log(e.g. /dev/stdout).
                                          minLength: 1
                                          type: string
                                      type: object
                                    openTelemetry:
                                      description: OpenTelemetry defines the OpenTelemetry
                                        accesslog sink.
                                      properties:
                                        backendRefs:
                                          description: |-
                                            BackendRefs references a Kubernetes object that represents the
                                            backend server to which the accesslog will be sent.
                                            Only service Kind is supported for now.
                                          items:
                                            description: BackendRef defines how an
                                              ObjectReference that is specific to
                                              BackendRef.
                                            properties:
                                              group:
                                                default: ""
                                                description: |-
                                                  Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                                  When unspecified or empty string, core API group is inferred.
                                                maxLength: 253
                                                pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                                type: string
                                              kind:
                                                default: Service
                                                description: |-
                                                  Kind is the Kubernetes resource kind of the referent. For example
                                                  "Service".


                                                  Defaults to "Service" when not specified.


                                                  ExternalName services can refer to CNAME DNS records that may live
                                                  outside of the cluster and as such are difficult to reason about in
                                                  terms of conformance. They also may not be safe to forward to (see
                                                  CVE-2021-25740 for more information). Implementations SHOULD NOT
                                                  support ExternalName Services.


                                                  Support: Core (Services with a type other than ExternalName)


                                                  Support: Implementation-specific (Services with type ExternalName)
                                                maxLength: 63
                                                minLength: 1
                                                pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                                type: string
                                              name:
                                                description: Name is the name of the
                                                  referent.
                                                maxLength: 253
                                                minLength: 1
                                                type: string
                                              namespace:
                                                description: |-
                                                  Namespace is the namespace of the backend. When unspecified, the local
                                                  namespace is inferred.


                                                  Note that when a namespace different than the local namespace is specified,
                                                  a ReferenceGrant object is required in the referent namespace to allow that
                                                  namespace's owner to accept the reference. See the ReferenceGrant
                                                  documentation for details.


                                                  Support: Core
                                                maxLength: 63
                                                minLength: 1
                                                pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                                type: string
                                              port:
                                                description: |-
                                                  Port specifies the destination port number to use for this resource.
                                                  Port is required when the referent is a Kubernetes Service. In this
                                                  case, the port number is the service port number, not the target port.
                                                  For other resources, destination port might be derived from the referent
                                                  resource or this field.
                                                format: int32
                                                maximum: 65535
                                                minimum: 1
                                                type: integer
                                            required:
                                            - name
                                            type: object
                                            x-kubernetes-validations:
                                            - message: Must have port for Service
                                                reference
                                              rule: '(size(self.group) == 0 && self.kind
                                                == ''Service'') ? has(self.port) :
                                                true'
                                          maxItems: 1
                                          type: array
                                          x-kubernetes-validations:
                                          - message: only support Service kind.
                                            rule: self.all(f, f.kind == 'Service')
                                        host:
                                          description: |-
                                            Host define the extension service hostname.
                                            Deprecated: Use BackendRef instead.
                                          type: string
                                        port:
                                          default: 4317
                                          description: |-
                                            Port defines the port the extension service is exposed on.
                                            Deprecated: Use BackendRef instead.
                                          format: int32
                                          minimum: 0
                                          type: integer
                                        resources:
                                          additionalProperties:
                                            type: string
                                          description: |-
                                            Resources is a set of labels that describe the source of a log entry, including envoy node info.
                                            It's recommended to follow [semantic conventions](https://opentelemetry.io/docs/reference/specification/resource/semantic_conventions/).
                                          type: object
                                      type: object
                                      x-kubernetes-validations:
                                      - message: host or backendRefs needs to be set
                                        rule: has(self.host) || self.backendRefs.size()
                                          > 0
                                    type:
                                      description: Type defines the type of accesslog
                                        sink.
                                      enum:
                                      - File
                                      - OpenTelemetry
                                      type: string
                                  type: object
                                  x-kubernetes-validations:
                                  - message: If AccessLogSink type is File, file field
                                      needs to be set.
                                    rule: 'self.type == ''File'' ? has(self.file)
                                      : !has(self.file)'
                                  - message: If AccessLogSink type is OpenTelemetry,
                                      openTelemetry field needs to be set.
                                    rule: 'self.type == ''OpenTelemetry'' ? has(self.openTelemetry)
                                      : !has(self.openTelemetry)'
                                minItems: 1
                                type: array
                            required:
                            - format
                            - sinks
                            type: object
                          type: array
                      type: object
                    metrics:
                      description: Metrics defines metrics configuration for managed
                        proxies.
                      properties:
                        enableVirtualHostStats:
                          description: EnableVirtualHostStats enables envoy stat metrics
                            for virtual hosts.
                          type: boolean
                        matches:
                          description: |-
                            Matches defines configuration for selecting specific metrics instead of generating all metrics stats
                            that are enabled by default. This helps reduce CPU and memory overhead in Envoy, but eliminating some stats
                            may after critical functionality. Here are the stats that we strongly recommend not disabling:
                            `cluster_manager.warming_clusters`, `cluster.<cluster_name>.membership_total`,`cluster.<cluster_name>.membership_healthy`,
                            `cluster.<cluster_name>.membership_degraded`reference  https://github.com/envoyproxy/envoy/issues/9856,
                            https://github.com/envoyproxy/envoy/issues/14610
                          items:
                            description: |-
                              StringMatch defines how to match any strings.
                              This is a general purpose match condition that can be used by other EG APIs
                              that need to match against a string.
                            properties:
                              type:
                                default: Exact
                                description: Type specifies how to match against a
                                  string.
                                enum:
                                - Exact
                                - Prefix
                                - Suffix
                                - RegularExpression
                                type: string
                              value:
                                description: Value specifies the string value that
                                  the match must have.
                                maxLength: 1024
                                minLength: 1
                                type: string
                            required:
                            - value
                            type: object
                          type: array
                        prometheus:
                          description: Prometheus defines the configuration for Admin
                            endpoint `/stats/prometheus`.
                          properties:
                            disable:
                              description: Disable the Prometheus endpoint.
                              type: boolean
                          type: object
                        sinks:
                          description: Sinks defines the metric sinks where metrics
                            are sent to.
                          items:
                            description: |-
                              ProxyMetricSink defines the sink of metrics.
                              Default metrics sink is OpenTelemetry.
                            properties:
                              openTelemetry:
                                description: |-
                                  OpenTelemetry defines the configuration for OpenTelemetry sink.
                                  It's required if the sink type is OpenTelemetry.
                                properties:
                                  backendRefs:
                                    description: |-
                                      BackendRefs references a Kubernetes object that represents the
                                      backend server to which the metric will be sent.
                                      Only service Kind is supported for now.
                                    items:
                                      description: BackendRef defines how an ObjectReference
                                        that is specific to BackendRef.
                                      properties:
                                        group:
                                          default: ""
                                          description: |-
                                            Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                            When unspecified or empty string, core API group is inferred.
                                          maxLength: 253
                                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                          type: string
                                        kind:
                                          default: Service
                                          description: |-
                                            Kind is the Kubernetes resource kind of the referent. For example
                                            "Service".


                                            Defaults to "Service" when not specified.


                                            ExternalName services can refer to CNAME DNS records that may live
                                            outside of the cluster and as such are difficult to reason about in
                                            terms of conformance. They also may not be safe to forward to (see
                                            CVE-2021-25740 for more information). Implementations SHOULD NOT
                                            support ExternalName Services.


                                            Support: Core (Services with a type other than ExternalName)


                                            Support: Implementation-specific (Services with type ExternalName)
                                          maxLength: 63
                                          minLength: 1
                                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                          type: string
                                        name:
                                          description: Name is the name of the referent.
                                          maxLength: 253
                                          minLength: 1
                                          type: string
                                        namespace:
                                          description: |-
                                            Namespace is the namespace of the backend. When unspecified, the local
                                            namespace is inferred.


                                            Note that when a namespace different than the local namespace is specified,
                                            a ReferenceGrant object is required in the referent namespace to allow that
                                            namespace's owner to accept the reference. See the ReferenceGrant
                                            documentation for details.


                                            Support: Core
                                          maxLength: 63
                                          minLength: 1
                                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                          type: string
                                        port:
                                          description: |-
                                            Port specifies the destination port number to use for this resource.
                                            Port is required when the referent is a Kubernetes Service. In this
                                            case, the port number is the service port number, not the target port.
                                            For other resources, destination port might be derived from the referent
                                            resource or this field.
                                          format: int32
                                          maximum: 65535
                                          minimum: 1
                                          type: integer
                                      required:
                                      - name
                                      type: object
                                      x-kubernetes-validations:
                                      - message: Must have port for Service reference
                                        rule: '(size(self.group) == 0 && self.kind
                                          == ''Service'') ? has(self.port) : true'
                                    maxItems: 1
                                    type: array
                                    x-kubernetes-validations:
                                    - message: only support Service kind.
                                      rule: self.all(f, f.kind == 'Service')
                                  host:
                                    description: |-
                                      Host define the service hostname.
                                      Deprecated: Use BackendRef instead.
                                    type: string
                                  port:
                                    default: 4317
                                    description: |-
                                      Port defines the port the service is exposed on.
                                      Deprecated: Use BackendRef instead.
                                    format: int32
                                    maximum: 65535
                                    minimum: 0
                                    type: integer
                                type: object
                                x-kubernetes-validations:
                                - message: host or backendRefs needs to be set
                                  rule: has(self.host) || self.backendRefs.size()
                                    > 0
                              type:
                                default: OpenTelemetry
                                description: |-
                                  Type defines the metric sink type.
                                  EG currently only supports OpenTelemetry.
                                enum:
                                - OpenTelemetry
                                type: string
                            required:
                            - type
                            type: object
                            x-kubernetes-validations:
                            - message: If MetricSink type is OpenTelemetry, openTelemetry
                                field needs to be set.
                              rule: 'self.type == ''OpenTelemetry'' ? has(self.openTelemetry)
                                : !has(self.openTelemetry)'
                          type: array
                      type: object
                    tracing:
                      description: |-
                        Tracing defines tracing configuration for managed proxies.
                        If unspecified, will not send tracing data.
                      properties:
                        customTags:
                          additionalProperties:
                            properties:
                              environment:
                                description: |-
                                  Environment adds value from environment variable to each span.
                                  It's required when the type is "Environment".
                                properties:
                                  defaultValue:
                                    description: DefaultValue defines the default
                                      value to use if the environment variable is
                                      not set.
                                    type: string
                                  name:
                                    description: Name defines the name of the environment
                                      variable which to extract the value from.
                                    type: string
                                required:
                                - name
                                type: object
                              literal:
                                description: |-
                                  Literal adds hard-coded value to each span.
                                  It's required when the type is "Literal".
                                properties:
                                  value:
                                    description: Value defines the hard-coded value
                                      to add to each span.
                                    type: string
                                required:
                                - value
                                type: object
                              requestHeader:
                                description: |-
                                  RequestHeader adds value from request header to each span.
                                  It's required when the type is "RequestHeader".
                                properties:
                                  defaultValue:
                                    description: DefaultValue defines the default
                                      value to use if the request header is not set.
                                    type: string
                                  name:
                                    description: Name defines the name of the request
                                      header which to extract the value from.
                                    type: string
                                required:
                                - name
                                type: object
                              type:
                                default: Literal
                                description: Type defines the type of custom tag.
                                enum:
                                - Literal
                                - Environment
                                - RequestHeader
                                type: string
                            required:
                            - type
                            type: object
                          description: |-
                            CustomTags defines the custom tags to add to each span.
                            If provider is kubernetes, pod name and namespace are added by default.
                          type: object
                        provider:
                          description: |-
                            Provider defines the tracing provider.
                            Only OpenTelemetry is supported currently.
                          properties:
                            backendRefs:
                              description: |-
                                BackendRefs references a Kubernetes object that represents the
                                backend server to which the accesslog will be sent.
                                Only service Kind is supported for now.
                              items:
                                description: BackendRef defines how an ObjectReference
                                  that is specific to BackendRef.
                                properties:
                                  group:
                                    default: ""
                                    description: |-
                                      Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                      When unspecified or empty string, core API group is inferred.
                                    maxLength: 253
                                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                    type: string
                                  kind:
                                    default: Service
                                    description: |-
                                      Kind is the Kubernetes resource kind of the referent. For example
                                      "Service".


                                      Defaults to "Service" when not specified.


                                      ExternalName services can refer to CNAME DNS records that may live
                                      outside of the cluster and as such are difficult to reason about in
                                      terms of conformance. They also may not be safe to forward to (see
                                      CVE-2021-25740 for more information). Implementations SHOULD NOT
                                      support ExternalName Services.


                                      Support: Core (Services with a type other than ExternalName)


                                      Support: Implementation-specific (Services with type ExternalName)
                                    maxLength: 63
                                    minLength: 1
                                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                    type: string
                                  name:
                                    description: Name is the name of the referent.
                                    maxLength: 253
                                    minLength: 1
                                    type: string
                                  namespace:
                                    description: |-
                                      Namespace is the namespace of the backend. When unspecified, the local
                                      namespace is inferred.


                                      Note that when a namespace different than the local namespace is specified,
                                      a ReferenceGrant object is required in the referent namespace to allow that
                                      namespace's owner to accept the reference. See the ReferenceGrant
                                      documentation for details.


                                      Support: Core
                                    maxLength: 63
                                    minLength: 1
                                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                    type: string
                                  port:
                                    description: |-
                                      Port specifies the destination port number to use for this resource.
                                      Port is required when the referent is a Kubernetes Service. In this
                                      case, the port number is the service port number, not the target port.
                                      For other resources, destination port might be derived from the referent
                                      resource or this field.
                                    format: int32
                                    maximum: 65535
                                    minimum: 1
                                    type: integer
                                required:
                                - name
                                type: object
                                x-kubernetes-validations:
                                - message: Must have port for Service reference
                                  rule: '(size(self.group) == 0 && self.kind == ''Service'')
                                    ? has(self.port) : true'
                              maxItems: 1
                              type: array
                              x-kubernetes-validations:
                              - message: only support Service kind.
                                rule: self.all(f, f.kind == 'Service')
                            host:
                              description: |-
                                Host define the provider service hostname.
                                Deprecated: Use BackendRef instead.
                              type: string
                            port:
                              default: 4317
                              description: |-
                                Port defines the port the provider service is exposed on.
                                Deprecated: Use BackendRef instead.
                              format: int32
                              minimum: 0
                              type: integer
                            type:
                              default: OpenTelemetry
                              description: |-
                                Type defines the tracing provider type.
                                EG currently only supports OpenTelemetry.
                              enum:
                              - OpenTelemetry
                              type: string
                          required:
                          - type
                          type: object
                          x-kubernetes-validations:
                          - message: host or backendRefs needs to be set
                            rule: has(self.host) || self.backendRefs.size() > 0
                        samplingRate:
                          default: 100
                          description: |-
                            SamplingRate controls the rate at which traffic will be
                            selected for tracing if no prior sampling decision has been made.
                            Defaults to 100, valid values [0-100]. 100 indicates 100% sampling.
                          format: int32
                          maximum: 100
                          minimum: 0
                          type: integer
                      required:
                      - provider
                      type: object
                  type: object
              type: object
            status:
              description: EnvoyProxyStatus defines the actual state of EnvoyProxy.
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - envoy-gateway
      kind: EnvoyProxy
      listKind: EnvoyProxyList
      plural: envoyproxies
      shortNames:
      - eproxy
      singular: envoyproxy
    conditions:
    - lastTransitionTime: "2024-04-11T07:49:07Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-11T07:49:07Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      api-approved.kubernetes.io: https://github.com/kubernetes-sigs/gateway-api/pull/2466
      gateway.networking.k8s.io/bundle-version: v1.0.0
      gateway.networking.k8s.io/channel: experimental
    creationTimestamp: "2024-04-11T07:49:06Z"
    generation: 1
    name: gatewayclasses.gateway.networking.k8s.io
    resourceVersion: "2269540"
    uid: b49b34fe-52ef-454c-a359-097ffefef3e0
  spec:
    conversion:
      strategy: None
    group: gateway.networking.k8s.io
    names:
      categories:
      - gateway-api
      kind: GatewayClass
      listKind: GatewayClassList
      plural: gatewayclasses
      shortNames:
      - gc
      singular: gatewayclass
    scope: Cluster
    versions:
    - additionalPrinterColumns:
      - jsonPath: .spec.controllerName
        name: Controller
        type: string
      - jsonPath: .status.conditions[?(@.type=="Accepted")].status
        name: Accepted
        type: string
      - jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      - jsonPath: .spec.description
        name: Description
        priority: 1
        type: string
      name: v1
      schema:
        openAPIV3Schema:
          description: "GatewayClass describes a class of Gateways available to the
            user for creating Gateway resources. \n It is recommended that this resource
            be used as a template for Gateways. This means that a Gateway is based
            on the state of the GatewayClass at the time it was created and changes
            to the GatewayClass or associated parameters are not propagated down to
            existing Gateways. This recommendation is intended to limit the blast
            radius of changes to GatewayClass or associated parameters. If implementations
            choose to propagate GatewayClass changes to existing Gateways, that MUST
            be clearly documented by the implementation. \n Whenever one or more Gateways
            are using a GatewayClass, implementations SHOULD add the `gateway-exists-finalizer.gateway.networking.k8s.io`
            finalizer on the associated GatewayClass. This ensures that a GatewayClass
            associated with a Gateway is not deleted while in use. \n GatewayClass
            is a Cluster level resource."
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: Spec defines the desired state of GatewayClass.
              properties:
                controllerName:
                  description: "ControllerName is the name of the controller that
                    is managing Gateways of this class. The value of this field MUST
                    be a domain prefixed path. \n Example: \"example.net/gateway-controller\".
                    \n This field is not mutable and cannot be empty. \n Support:
                    Core"
                  maxLength: 253
                  minLength: 1
                  pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                  type: string
                  x-kubernetes-validations:
                  - message: Value is immutable
                    rule: self == oldSelf
                description:
                  description: Description helps describe a GatewayClass with more
                    details.
                  maxLength: 64
                  type: string
                parametersRef:
                  description: "ParametersRef is a reference to a resource that contains
                    the configuration parameters corresponding to the GatewayClass.
                    This is optional if the controller does not require any additional
                    configuration. \n ParametersRef can reference a standard Kubernetes
                    resource, i.e. ConfigMap, or an implementation-specific custom
                    resource. The resource can be cluster-scoped or namespace-scoped.
                    \n If the referent cannot be found, the GatewayClass's \"InvalidParameters\"
                    status condition will be true. \n Support: Implementation-specific"
                  properties:
                    group:
                      description: Group is the group of the referent.
                      maxLength: 253
                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    kind:
                      description: Kind is kind of the referent.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                      type: string
                    name:
                      description: Name is the name of the referent.
                      maxLength: 253
                      minLength: 1
                      type: string
                    namespace:
                      description: Namespace is the namespace of the referent. This
                        field is required when referring to a Namespace-scoped resource
                        and MUST be unset when referring to a Cluster-scoped resource.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                      type: string
                  required:
                  - group
                  - kind
                  - name
                  type: object
              required:
              - controllerName
              type: object
            status:
              default:
                conditions:
                - lastTransitionTime: "1970-01-01T00:00:00Z"
                  message: Waiting for controller
                  reason: Waiting
                  status: Unknown
                  type: Accepted
              description: "Status defines the current state of GatewayClass. \n Implementations
                MUST populate status on all GatewayClass resources which specify their
                controller name."
              properties:
                conditions:
                  default:
                  - lastTransitionTime: "1970-01-01T00:00:00Z"
                    message: Waiting for controller
                    reason: Pending
                    status: Unknown
                    type: Accepted
                  description: "Conditions is the current status from the controller
                    for this GatewayClass. \n Controllers should prefer to publish
                    conditions using values of GatewayClassConditionType for the type
                    of each Condition."
                  items:
                    description: "Condition contains details for one aspect of the
                      current state of this API Resource. --- This struct is intended
                      for direct use as an array at the field path .status.conditions.
                      \ For example, \n type FooStatus struct{ // Represents the observations
                      of a foo's current state. // Known .status.conditions.type are:
                      \"Available\", \"Progressing\", and \"Degraded\" // +patchMergeKey=type
                      // +patchStrategy=merge // +listType=map // +listMapKey=type
                      Conditions []metav1.Condition `json:\"conditions,omitempty\"
                      patchStrategy:\"merge\" patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`
                      \n // other fields }"
                    properties:
                      lastTransitionTime:
                        description: lastTransitionTime is the last time the condition
                          transitioned from one status to another. This should be
                          when the underlying condition changed.  If that is not known,
                          then using the time when the API field changed is acceptable.
                        format: date-time
                        type: string
                      message:
                        description: message is a human readable message indicating
                          details about the transition. This may be an empty string.
                        maxLength: 32768
                        type: string
                      observedGeneration:
                        description: observedGeneration represents the .metadata.generation
                          that the condition was set based upon. For instance, if
                          .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration
                          is 9, the condition is out of date with respect to the current
                          state of the instance.
                        format: int64
                        minimum: 0
                        type: integer
                      reason:
                        description: reason contains a programmatic identifier indicating
                          the reason for the condition's last transition. Producers
                          of specific condition types may define expected values and
                          meanings for this field, and whether the values are considered
                          a guaranteed API. The value should be a CamelCase string.
                          This field may not be empty.
                        maxLength: 1024
                        minLength: 1
                        pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                        type: string
                      status:
                        description: status of the condition, one of True, False,
                          Unknown.
                        enum:
                        - "True"
                        - "False"
                        - Unknown
                        type: string
                      type:
                        description: type of condition in CamelCase or in foo.example.com/CamelCase.
                          --- Many .condition.type values are consistent across resources
                          like Available, but because arbitrary conditions can be
                          useful (see .node.status.conditions), the ability to deconflict
                          is important. The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                        maxLength: 316
                        pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                        type: string
                    required:
                    - lastTransitionTime
                    - message
                    - reason
                    - status
                    - type
                    type: object
                  maxItems: 8
                  type: array
                  x-kubernetes-list-map-keys:
                  - type
                  x-kubernetes-list-type: map
                supportedFeatures:
                  description: 'SupportedFeatures is the set of features the GatewayClass
                    support. It MUST be sorted in ascending alphabetical order. '
                  items:
                    description: SupportedFeature is used to describe distinct features
                      that are covered by conformance tests.
                    enum:
                    - Gateway
                    - GatewayPort8080
                    - GatewayStaticAddresses
                    - HTTPRoute
                    - HTTPRouteDestinationPortMatching
                    - HTTPRouteHostRewrite
                    - HTTPRouteMethodMatching
                    - HTTPRoutePathRedirect
                    - HTTPRoutePathRewrite
                    - HTTPRoutePortRedirect
                    - HTTPRouteQueryParamMatching
                    - HTTPRouteRequestMirror
                    - HTTPRouteRequestMultipleMirrors
                    - HTTPRouteResponseHeaderModification
                    - HTTPRouteSchemeRedirect
                    - Mesh
                    - ReferenceGrant
                    - TLSRoute
                    type: string
                  maxItems: 64
                  type: array
                  x-kubernetes-list-type: set
              type: object
          required:
          - spec
          type: object
      served: true
      storage: false
      subresources:
        status: {}
    - additionalPrinterColumns:
      - jsonPath: .spec.controllerName
        name: Controller
        type: string
      - jsonPath: .status.conditions[?(@.type=="Accepted")].status
        name: Accepted
        type: string
      - jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      - jsonPath: .spec.description
        name: Description
        priority: 1
        type: string
      name: v1beta1
      schema:
        openAPIV3Schema:
          description: "GatewayClass describes a class of Gateways available to the
            user for creating Gateway resources. \n It is recommended that this resource
            be used as a template for Gateways. This means that a Gateway is based
            on the state of the GatewayClass at the time it was created and changes
            to the GatewayClass or associated parameters are not propagated down to
            existing Gateways. This recommendation is intended to limit the blast
            radius of changes to GatewayClass or associated parameters. If implementations
            choose to propagate GatewayClass changes to existing Gateways, that MUST
            be clearly documented by the implementation. \n Whenever one or more Gateways
            are using a GatewayClass, implementations SHOULD add the `gateway-exists-finalizer.gateway.networking.k8s.io`
            finalizer on the associated GatewayClass. This ensures that a GatewayClass
            associated with a Gateway is not deleted while in use. \n GatewayClass
            is a Cluster level resource."
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: Spec defines the desired state of GatewayClass.
              properties:
                controllerName:
                  description: "ControllerName is the name of the controller that
                    is managing Gateways of this class. The value of this field MUST
                    be a domain prefixed path. \n Example: \"example.net/gateway-controller\".
                    \n This field is not mutable and cannot be empty. \n Support:
                    Core"
                  maxLength: 253
                  minLength: 1
                  pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                  type: string
                  x-kubernetes-validations:
                  - message: Value is immutable
                    rule: self == oldSelf
                description:
                  description: Description helps describe a GatewayClass with more
                    details.
                  maxLength: 64
                  type: string
                parametersRef:
                  description: "ParametersRef is a reference to a resource that contains
                    the configuration parameters corresponding to the GatewayClass.
                    This is optional if the controller does not require any additional
                    configuration. \n ParametersRef can reference a standard Kubernetes
                    resource, i.e. ConfigMap, or an implementation-specific custom
                    resource. The resource can be cluster-scoped or namespace-scoped.
                    \n If the referent cannot be found, the GatewayClass's \"InvalidParameters\"
                    status condition will be true. \n Support: Implementation-specific"
                  properties:
                    group:
                      description: Group is the group of the referent.
                      maxLength: 253
                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    kind:
                      description: Kind is kind of the referent.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                      type: string
                    name:
                      description: Name is the name of the referent.
                      maxLength: 253
                      minLength: 1
                      type: string
                    namespace:
                      description: Namespace is the namespace of the referent. This
                        field is required when referring to a Namespace-scoped resource
                        and MUST be unset when referring to a Cluster-scoped resource.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                      type: string
                  required:
                  - group
                  - kind
                  - name
                  type: object
              required:
              - controllerName
              type: object
            status:
              default:
                conditions:
                - lastTransitionTime: "1970-01-01T00:00:00Z"
                  message: Waiting for controller
                  reason: Waiting
                  status: Unknown
                  type: Accepted
              description: "Status defines the current state of GatewayClass. \n Implementations
                MUST populate status on all GatewayClass resources which specify their
                controller name."
              properties:
                conditions:
                  default:
                  - lastTransitionTime: "1970-01-01T00:00:00Z"
                    message: Waiting for controller
                    reason: Pending
                    status: Unknown
                    type: Accepted
                  description: "Conditions is the current status from the controller
                    for this GatewayClass. \n Controllers should prefer to publish
                    conditions using values of GatewayClassConditionType for the type
                    of each Condition."
                  items:
                    description: "Condition contains details for one aspect of the
                      current state of this API Resource. --- This struct is intended
                      for direct use as an array at the field path .status.conditions.
                      \ For example, \n type FooStatus struct{ // Represents the observations
                      of a foo's current state. // Known .status.conditions.type are:
                      \"Available\", \"Progressing\", and \"Degraded\" // +patchMergeKey=type
                      // +patchStrategy=merge // +listType=map // +listMapKey=type
                      Conditions []metav1.Condition `json:\"conditions,omitempty\"
                      patchStrategy:\"merge\" patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`
                      \n // other fields }"
                    properties:
                      lastTransitionTime:
                        description: lastTransitionTime is the last time the condition
                          transitioned from one status to another. This should be
                          when the underlying condition changed.  If that is not known,
                          then using the time when the API field changed is acceptable.
                        format: date-time
                        type: string
                      message:
                        description: message is a human readable message indicating
                          details about the transition. This may be an empty string.
                        maxLength: 32768
                        type: string
                      observedGeneration:
                        description: observedGeneration represents the .metadata.generation
                          that the condition was set based upon. For instance, if
                          .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration
                          is 9, the condition is out of date with respect to the current
                          state of the instance.
                        format: int64
                        minimum: 0
                        type: integer
                      reason:
                        description: reason contains a programmatic identifier indicating
                          the reason for the condition's last transition. Producers
                          of specific condition types may define expected values and
                          meanings for this field, and whether the values are considered
                          a guaranteed API. The value should be a CamelCase string.
                          This field may not be empty.
                        maxLength: 1024
                        minLength: 1
                        pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                        type: string
                      status:
                        description: status of the condition, one of True, False,
                          Unknown.
                        enum:
                        - "True"
                        - "False"
                        - Unknown
                        type: string
                      type:
                        description: type of condition in CamelCase or in foo.example.com/CamelCase.
                          --- Many .condition.type values are consistent across resources
                          like Available, but because arbitrary conditions can be
                          useful (see .node.status.conditions), the ability to deconflict
                          is important. The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                        maxLength: 316
                        pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                        type: string
                    required:
                    - lastTransitionTime
                    - message
                    - reason
                    - status
                    - type
                    type: object
                  maxItems: 8
                  type: array
                  x-kubernetes-list-map-keys:
                  - type
                  x-kubernetes-list-type: map
                supportedFeatures:
                  description: 'SupportedFeatures is the set of features the GatewayClass
                    support. It MUST be sorted in ascending alphabetical order. '
                  items:
                    description: SupportedFeature is used to describe distinct features
                      that are covered by conformance tests.
                    enum:
                    - Gateway
                    - GatewayPort8080
                    - GatewayStaticAddresses
                    - HTTPRoute
                    - HTTPRouteDestinationPortMatching
                    - HTTPRouteHostRewrite
                    - HTTPRouteMethodMatching
                    - HTTPRoutePathRedirect
                    - HTTPRoutePathRewrite
                    - HTTPRoutePortRedirect
                    - HTTPRouteQueryParamMatching
                    - HTTPRouteRequestMirror
                    - HTTPRouteRequestMultipleMirrors
                    - HTTPRouteResponseHeaderModification
                    - HTTPRouteSchemeRedirect
                    - Mesh
                    - ReferenceGrant
                    - TLSRoute
                    type: string
                  maxItems: 64
                  type: array
                  x-kubernetes-list-type: set
              type: object
          required:
          - spec
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - gateway-api
      kind: GatewayClass
      listKind: GatewayClassList
      plural: gatewayclasses
      shortNames:
      - gc
      singular: gatewayclass
    conditions:
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: approved in https://github.com/kubernetes-sigs/gateway-api/pull/2466
      reason: ApprovedAnnotation
      status: "True"
      type: KubernetesAPIApprovalPolicyConformant
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1beta1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      api-approved.kubernetes.io: https://github.com/kubernetes-sigs/gateway-api/pull/2466
      gateway.networking.k8s.io/bundle-version: v1.0.0
      gateway.networking.k8s.io/channel: experimental
    creationTimestamp: "2024-04-11T07:49:06Z"
    generation: 1
    name: gateways.gateway.networking.k8s.io
    resourceVersion: "2269536"
    uid: c9288c34-3b31-46b6-bae3-d11091a973f2
  spec:
    conversion:
      strategy: None
    group: gateway.networking.k8s.io
    names:
      categories:
      - gateway-api
      kind: Gateway
      listKind: GatewayList
      plural: gateways
      shortNames:
      - gtw
      singular: gateway
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - jsonPath: .spec.gatewayClassName
        name: Class
        type: string
      - jsonPath: .status.addresses[*].value
        name: Address
        type: string
      - jsonPath: .status.conditions[?(@.type=="Programmed")].status
        name: Programmed
        type: string
      - jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1
      schema:
        openAPIV3Schema:
          description: Gateway represents an instance of a service-traffic handling
            infrastructure by binding Listeners to a set of IP addresses.
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: Spec defines the desired state of Gateway.
              properties:
                addresses:
                  description: "Addresses requested for this Gateway. This is optional
                    and behavior can depend on the implementation. If a value is set
                    in the spec and the requested address is invalid or unavailable,
                    the implementation MUST indicate this in the associated entry
                    in GatewayStatus.Addresses. \n The Addresses field represents
                    a request for the address(es) on the \"outside of the Gateway\",
                    that traffic bound for this Gateway will use. This could be the
                    IP address or hostname of an external load balancer or other networking
                    infrastructure, or some other address that traffic will be sent
                    to. \n If no Addresses are specified, the implementation MAY schedule
                    the Gateway in an implementation-specific manner, assigning an
                    appropriate set of Addresses. \n The implementation MUST bind
                    all Listeners to every GatewayAddress that it assigns to the Gateway
                    and add a corresponding entry in GatewayStatus.Addresses. \n Support:
                    Extended \n "
                  items:
                    description: GatewayAddress describes an address that can be bound
                      to a Gateway.
                    oneOf:
                    - properties:
                        type:
                          enum:
                          - IPAddress
                        value:
                          anyOf:
                          - format: ipv4
                          - format: ipv6
                    - properties:
                        type:
                          not:
                            enum:
                            - IPAddress
                    properties:
                      type:
                        default: IPAddress
                        description: Type of the address.
                        maxLength: 253
                        minLength: 1
                        pattern: ^Hostname|IPAddress|NamedAddress|[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                        type: string
                      value:
                        description: "Value of the address. The validity of the values
                          will depend on the type and support by the controller. \n
                          Examples: `1.2.3.4`, `128::1`, `my-ip-address`."
                        maxLength: 253
                        minLength: 1
                        type: string
                    required:
                    - value
                    type: object
                    x-kubernetes-validations:
                    - message: Hostname value must only contain valid characters (matching
                        ^(\*\.)?[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$)
                      rule: 'self.type == ''Hostname'' ? self.value.matches(r"""^(\*\.)?[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$"""):
                        true'
                  maxItems: 16
                  type: array
                  x-kubernetes-validations:
                  - message: IPAddress values must be unique
                    rule: 'self.all(a1, a1.type == ''IPAddress'' ? self.exists_one(a2,
                      a2.type == a1.type && a2.value == a1.value) : true )'
                  - message: Hostname values must be unique
                    rule: 'self.all(a1, a1.type == ''Hostname'' ? self.exists_one(a2,
                      a2.type == a1.type && a2.value == a1.value) : true )'
                gatewayClassName:
                  description: GatewayClassName used for this Gateway. This is the
                    name of a GatewayClass resource.
                  maxLength: 253
                  minLength: 1
                  type: string
                infrastructure:
                  description: "Infrastructure defines infrastructure level attributes
                    about this Gateway instance. \n Support: Core \n "
                  properties:
                    annotations:
                      additionalProperties:
                        description: AnnotationValue is the value of an annotation
                          in Gateway API. This is used for validation of maps such
                          as TLS options. This roughly matches Kubernetes annotation
                          validation, although the length validation in that case
                          is based on the entire size of the annotations struct.
                        maxLength: 4096
                        minLength: 0
                        type: string
                      description: "Annotations that SHOULD be applied to any resources
                        created in response to this Gateway. \n For implementations
                        creating other Kubernetes objects, this should be the `metadata.annotations`
                        field on resources. For other implementations, this refers
                        to any relevant (implementation specific) \"annotations\"
                        concepts. \n An implementation may chose to add additional
                        implementation-specific annotations as they see fit. \n Support:
                        Extended"
                      maxProperties: 8
                      type: object
                    labels:
                      additionalProperties:
                        description: AnnotationValue is the value of an annotation
                          in Gateway API. This is used for validation of maps such
                          as TLS options. This roughly matches Kubernetes annotation
                          validation, although the length validation in that case
                          is based on the entire size of the annotations struct.
                        maxLength: 4096
                        minLength: 0
                        type: string
                      description: "Labels that SHOULD be applied to any resources
                        created in response to this Gateway. \n For implementations
                        creating other Kubernetes objects, this should be the `metadata.labels`
                        field on resources. For other implementations, this refers
                        to any relevant (implementation specific) \"labels\" concepts.
                        \n An implementation may chose to add additional implementation-specific
                        labels as they see fit. \n Support: Extended"
                      maxProperties: 8
                      type: object
                  type: object
                listeners:
                  description: "Listeners associated with this Gateway. Listeners
                    define logical endpoints that are bound on this Gateway's addresses.
                    At least one Listener MUST be specified. \n Each Listener in a
                    set of Listeners (for example, in a single Gateway) MUST be _distinct_,
                    in that a traffic flow MUST be able to be assigned to exactly
                    one listener. (This section uses \"set of Listeners\" rather than
                    \"Listeners in a single Gateway\" because implementations MAY
                    merge configuration from multiple Gateways onto a single data
                    plane, and these rules _also_ apply in that case). \n Practically,
                    this means that each listener in a set MUST have a unique combination
                    of Port, Protocol, and, if supported by the protocol, Hostname.
                    \n Some combinations of port, protocol, and TLS settings are considered
                    Core support and MUST be supported by implementations based on
                    their targeted conformance profile: \n HTTP Profile \n 1. HTTPRoute,
                    Port: 80, Protocol: HTTP 2. HTTPRoute, Port: 443, Protocol: HTTPS,
                    TLS Mode: Terminate, TLS keypair provided \n TLS Profile \n 1.
                    TLSRoute, Port: 443, Protocol: TLS, TLS Mode: Passthrough \n \"Distinct\"
                    Listeners have the following property: \n The implementation can
                    match inbound requests to a single distinct Listener. When multiple
                    Listeners share values for fields (for example, two Listeners
                    with the same Port value), the implementation can match requests
                    to only one of the Listeners using other Listener fields. \n For
                    example, the following Listener scenarios are distinct: \n 1.
                    Multiple Listeners with the same Port that all use the \"HTTP\"
                    Protocol that all have unique Hostname values. 2. Multiple Listeners
                    with the same Port that use either the \"HTTPS\" or \"TLS\" Protocol
                    that all have unique Hostname values. 3. A mixture of \"TCP\"
                    and \"UDP\" Protocol Listeners, where no Listener with the same
                    Protocol has the same Port value. \n Some fields in the Listener
                    struct have possible values that affect whether the Listener is
                    distinct. Hostname is particularly relevant for HTTP or HTTPS
                    protocols. \n When using the Hostname value to select between
                    same-Port, same-Protocol Listeners, the Hostname value must be
                    different on each Listener for the Listener to be distinct. \n
                    When the Listeners are distinct based on Hostname, inbound request
                    hostnames MUST match from the most specific to least specific
                    Hostname values to choose the correct Listener and its associated
                    set of Routes. \n Exact matches must be processed before wildcard
                    matches, and wildcard matches must be processed before fallback
                    (empty Hostname value) matches. For example, `\"foo.example.com\"`
                    takes precedence over `\"*.example.com\"`, and `\"*.example.com\"`
                    takes precedence over `\"\"`. \n Additionally, if there are multiple
                    wildcard entries, more specific wildcard entries must be processed
                    before less specific wildcard entries. For example, `\"*.foo.example.com\"`
                    takes precedence over `\"*.example.com\"`. The precise definition
                    here is that the higher the number of dots in the hostname to
                    the right of the wildcard character, the higher the precedence.
                    \n The wildcard character will match any number of characters
                    _and dots_ to the left, however, so `\"*.example.com\"` will match
                    both `\"foo.bar.example.com\"` _and_ `\"bar.example.com\"`. \n
                    If a set of Listeners contains Listeners that are not distinct,
                    then those Listeners are Conflicted, and the implementation MUST
                    set the \"Conflicted\" condition in the Listener Status to \"True\".
                    \n Implementations MAY choose to accept a Gateway with some Conflicted
                    Listeners only if they only accept the partial Listener set that
                    contains no Conflicted Listeners. To put this another way, implementations
                    may accept a partial Listener set only if they throw out *all*
                    the conflicting Listeners. No picking one of the conflicting listeners
                    as the winner. This also means that the Gateway must have at least
                    one non-conflicting Listener in this case, otherwise it violates
                    the requirement that at least one Listener must be present. \n
                    The implementation MUST set a \"ListenersNotValid\" condition
                    on the Gateway Status when the Gateway contains Conflicted Listeners
                    whether or not they accept the Gateway. That Condition SHOULD
                    clearly indicate in the Message which Listeners are conflicted,
                    and which are Accepted. Additionally, the Listener status for
                    those listeners SHOULD indicate which Listeners are conflicted
                    and not Accepted. \n A Gateway's Listeners are considered \"compatible\"
                    if: \n 1. They are distinct. 2. The implementation can serve them
                    in compliance with the Addresses requirement that all Listeners
                    are available on all assigned addresses. \n Compatible combinations
                    in Extended support are expected to vary across implementations.
                    A combination that is compatible for one implementation may not
                    be compatible for another. \n For example, an implementation that
                    cannot serve both TCP and UDP listeners on the same address, or
                    cannot mix HTTPS and generic TLS listens on the same port would
                    not consider those cases compatible, even though they are distinct.
                    \n Note that requests SHOULD match at most one Listener. For example,
                    if Listeners are defined for \"foo.example.com\" and \"*.example.com\",
                    a request to \"foo.example.com\" SHOULD only be routed using routes
                    attached to the \"foo.example.com\" Listener (and not the \"*.example.com\"
                    Listener). This concept is known as \"Listener Isolation\". Implementations
                    that do not support Listener Isolation MUST clearly document this.
                    \n Implementations MAY merge separate Gateways onto a single set
                    of Addresses if all Listeners across all Gateways are compatible.
                    \n Support: Core"
                  items:
                    description: Listener embodies the concept of a logical endpoint
                      where a Gateway accepts network connections.
                    properties:
                      allowedRoutes:
                        default:
                          namespaces:
                            from: Same
                        description: "AllowedRoutes defines the types of routes that
                          MAY be attached to a Listener and the trusted namespaces
                          where those Route resources MAY be present. \n Although
                          a client request may match multiple route rules, only one
                          rule may ultimately receive the request. Matching precedence
                          MUST be determined in order of the following criteria: \n
                          * The most specific match as defined by the Route type.
                          * The oldest Route based on creation timestamp. For example,
                          a Route with a creation timestamp of \"2020-09-08 01:02:03\"
                          is given precedence over a Route with a creation timestamp
                          of \"2020-09-08 01:02:04\". * If everything else is equivalent,
                          the Route appearing first in alphabetical order (namespace/name)
                          should be given precedence. For example, foo/bar is given
                          precedence over foo/baz. \n All valid rules within a Route
                          attached to this Listener should be implemented. Invalid
                          Route rules can be ignored (sometimes that will mean the
                          full Route). If a Route rule transitions from valid to invalid,
                          support for that Route rule should be dropped to ensure
                          consistency. For example, even if a filter specified by
                          a Route rule is invalid, the rest of the rules within that
                          Route should still be supported. \n Support: Core"
                        properties:
                          kinds:
                            description: "Kinds specifies the groups and kinds of
                              Routes that are allowed to bind to this Gateway Listener.
                              When unspecified or empty, the kinds of Routes selected
                              are determined using the Listener protocol. \n A RouteGroupKind
                              MUST correspond to kinds of Routes that are compatible
                              with the application protocol specified in the Listener's
                              Protocol field. If an implementation does not support
                              or recognize this resource type, it MUST set the \"ResolvedRefs\"
                              condition to False for this Listener with the \"InvalidRouteKinds\"
                              reason. \n Support: Core"
                            items:
                              description: RouteGroupKind indicates the group and
                                kind of a Route resource.
                              properties:
                                group:
                                  default: gateway.networking.k8s.io
                                  description: Group is the group of the Route.
                                  maxLength: 253
                                  pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                  type: string
                                kind:
                                  description: Kind is the kind of the Route.
                                  maxLength: 63
                                  minLength: 1
                                  pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                  type: string
                              required:
                              - kind
                              type: object
                            maxItems: 8
                            type: array
                          namespaces:
                            default:
                              from: Same
                            description: "Namespaces indicates namespaces from which
                              Routes may be attached to this Listener. This is restricted
                              to the namespace of this Gateway by default. \n Support:
                              Core"
                            properties:
                              from:
                                default: Same
                                description: "From indicates where Routes will be
                                  selected for this Gateway. Possible values are:
                                  \n * All: Routes in all namespaces may be used by
                                  this Gateway. * Selector: Routes in namespaces selected
                                  by the selector may be used by this Gateway. * Same:
                                  Only Routes in the same namespace may be used by
                                  this Gateway. \n Support: Core"
                                enum:
                                - All
                                - Selector
                                - Same
                                type: string
                              selector:
                                description: "Selector must be specified when From
                                  is set to \"Selector\". In that case, only Routes
                                  in Namespaces matching this Selector will be selected
                                  by this Gateway. This field is ignored for other
                                  values of \"From\". \n Support: Core"
                                properties:
                                  matchExpressions:
                                    description: matchExpressions is a list of label
                                      selector requirements. The requirements are
                                      ANDed.
                                    items:
                                      description: A label selector requirement is
                                        a selector that contains values, a key, and
                                        an operator that relates the key and values.
                                      properties:
                                        key:
                                          description: key is the label key that the
                                            selector applies to.
                                          type: string
                                        operator:
                                          description: operator represents a key's
                                            relationship to a set of values. Valid
                                            operators are In, NotIn, Exists and DoesNotExist.
                                          type: string
                                        values:
                                          description: values is an array of string
                                            values. If the operator is In or NotIn,
                                            the values array must be non-empty. If
                                            the operator is Exists or DoesNotExist,
                                            the values array must be empty. This array
                                            is replaced during a strategic merge patch.
                                          items:
                                            type: string
                                          type: array
                                      required:
                                      - key
                                      - operator
                                      type: object
                                    type: array
                                  matchLabels:
                                    additionalProperties:
                                      type: string
                                    description: matchLabels is a map of {key,value}
                                      pairs. A single {key,value} in the matchLabels
                                      map is equivalent to an element of matchExpressions,
                                      whose key field is "key", the operator is "In",
                                      and the values array contains only "value".
                                      The requirements are ANDed.
                                    type: object
                                type: object
                                x-kubernetes-map-type: atomic
                            type: object
                        type: object
                      hostname:
                        description: "Hostname specifies the virtual hostname to match
                          for protocol types that define this concept. When unspecified,
                          all hostnames are matched. This field is ignored for protocols
                          that don't require hostname based matching. \n Implementations
                          MUST apply Hostname matching appropriately for each of the
                          following protocols: \n * TLS: The Listener Hostname MUST
                          match the SNI. * HTTP: The Listener Hostname MUST match
                          the Host header of the request. * HTTPS: The Listener Hostname
                          SHOULD match at both the TLS and HTTP protocol layers as
                          described above. If an implementation does not ensure that
                          both the SNI and Host header match the Listener hostname,
                          it MUST clearly document that. \n For HTTPRoute and TLSRoute
                          resources, there is an interaction with the `spec.hostnames`
                          array. When both listener and route specify hostnames, there
                          MUST be an intersection between the values for a Route to
                          be accepted. For more information, refer to the Route specific
                          Hostnames documentation. \n Hostnames that are prefixed
                          with a wildcard label (`*.`) are interpreted as a suffix
                          match. That means that a match for `*.example.com` would
                          match both `test.example.com`, and `foo.test.example.com`,
                          but not `example.com`. \n Support: Core"
                        maxLength: 253
                        minLength: 1
                        pattern: ^(\*\.)?[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                      name:
                        description: "Name is the name of the Listener. This name
                          MUST be unique within a Gateway. \n Support: Core"
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                      port:
                        description: "Port is the network port. Multiple listeners
                          may use the same port, subject to the Listener compatibility
                          rules. \n Support: Core"
                        format: int32
                        maximum: 65535
                        minimum: 1
                        type: integer
                      protocol:
                        description: "Protocol specifies the network protocol this
                          listener expects to receive. \n Support: Core"
                        maxLength: 255
                        minLength: 1
                        pattern: ^[a-zA-Z0-9]([-a-zSA-Z0-9]*[a-zA-Z0-9])?$|[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9]+$
                        type: string
                      tls:
                        description: "TLS is the TLS configuration for the Listener.
                          This field is required if the Protocol field is \"HTTPS\"
                          or \"TLS\". It is invalid to set this field if the Protocol
                          field is \"HTTP\", \"TCP\", or \"UDP\". \n The association
                          of SNIs to Certificate defined in GatewayTLSConfig is defined
                          based on the Hostname field for this listener. \n The GatewayClass
                          MUST use the longest matching SNI out of all available certificates
                          for any TLS handshake. \n Support: Core"
                        properties:
                          certificateRefs:
                            description: "CertificateRefs contains a series of references
                              to Kubernetes objects that contains TLS certificates
                              and private keys. These certificates are used to establish
                              a TLS handshake for requests that match the hostname
                              of the associated listener. \n A single CertificateRef
                              to a Kubernetes Secret has \"Core\" support. Implementations
                              MAY choose to support attaching multiple certificates
                              to a Listener, but this behavior is implementation-specific.
                              \n References to a resource in different namespace are
                              invalid UNLESS there is a ReferenceGrant in the target
                              namespace that allows the certificate to be attached.
                              If a ReferenceGrant does not allow this reference, the
                              \"ResolvedRefs\" condition MUST be set to False for
                              this listener with the \"RefNotPermitted\" reason. \n
                              This field is required to have at least one element
                              when the mode is set to \"Terminate\" (default) and
                              is optional otherwise. \n CertificateRefs can reference
                              to standard Kubernetes resources, i.e. Secret, or implementation-specific
                              custom resources. \n Support: Core - A single reference
                              to a Kubernetes Secret of type kubernetes.io/tls \n
                              Support: Implementation-specific (More than one reference
                              or other resource types)"
                            items:
                              description: "SecretObjectReference identifies an API
                                object including its namespace, defaulting to Secret.
                                \n The API object must be valid in the cluster; the
                                Group and Kind must be registered in the cluster for
                                this reference to be valid. \n References to objects
                                with invalid Group and Kind are not valid, and must
                                be rejected by the implementation, with appropriate
                                Conditions set on the containing object."
                              properties:
                                group:
                                  default: ""
                                  description: Group is the group of the referent.
                                    For example, "gateway.networking.k8s.io". When
                                    unspecified or empty string, core API group is
                                    inferred.
                                  maxLength: 253
                                  pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                  type: string
                                kind:
                                  default: Secret
                                  description: Kind is kind of the referent. For example
                                    "Secret".
                                  maxLength: 63
                                  minLength: 1
                                  pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                  type: string
                                name:
                                  description: Name is the name of the referent.
                                  maxLength: 253
                                  minLength: 1
                                  type: string
                                namespace:
                                  description: "Namespace is the namespace of the
                                    referenced object. When unspecified, the local
                                    namespace is inferred. \n Note that when a namespace
                                    different than the local namespace is specified,
                                    a ReferenceGrant object is required in the referent
                                    namespace to allow that namespace's owner to accept
                                    the reference. See the ReferenceGrant documentation
                                    for details. \n Support: Core"
                                  maxLength: 63
                                  minLength: 1
                                  pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                  type: string
                              required:
                              - name
                              type: object
                            maxItems: 64
                            type: array
                          mode:
                            default: Terminate
                            description: "Mode defines the TLS behavior for the TLS
                              session initiated by the client. There are two possible
                              modes: \n - Terminate: The TLS session between the downstream
                              client and the Gateway is terminated at the Gateway.
                              This mode requires certificateRefs to be set and contain
                              at least one element. - Passthrough: The TLS session
                              is NOT terminated by the Gateway. This implies that
                              the Gateway can't decipher the TLS stream except for
                              the ClientHello message of the TLS protocol. CertificateRefs
                              field is ignored in this mode. \n Support: Core"
                            enum:
                            - Terminate
                            - Passthrough
                            type: string
                          options:
                            additionalProperties:
                              description: AnnotationValue is the value of an annotation
                                in Gateway API. This is used for validation of maps
                                such as TLS options. This roughly matches Kubernetes
                                annotation validation, although the length validation
                                in that case is based on the entire size of the annotations
                                struct.
                              maxLength: 4096
                              minLength: 0
                              type: string
                            description: "Options are a list of key/value pairs to
                              enable extended TLS configuration for each implementation.
                              For example, configuring the minimum TLS version or
                              supported cipher suites. \n A set of common keys MAY
                              be defined by the API in the future. To avoid any ambiguity,
                              implementation-specific definitions MUST use domain-prefixed
                              names, such as `example.com/my-custom-option`. Un-prefixed
                              names are reserved for key names defined by Gateway
                              API. \n Support: Implementation-specific"
                            maxProperties: 16
                            type: object
                        type: object
                        x-kubernetes-validations:
                        - message: certificateRefs must be specified when TLSModeType
                            is Terminate
                          rule: 'self.mode == ''Terminate'' ? size(self.certificateRefs)
                            > 0 : true'
                    required:
                    - name
                    - port
                    - protocol
                    type: object
                  maxItems: 64
                  minItems: 1
                  type: array
                  x-kubernetes-list-map-keys:
                  - name
                  x-kubernetes-list-type: map
                  x-kubernetes-validations:
                  - message: tls must be specified for protocols ['HTTPS', 'TLS']
                    rule: 'self.all(l, l.protocol in [''HTTPS'', ''TLS''] ? has(l.tls)
                      : true)'
                  - message: tls must not be specified for protocols ['HTTP', 'TCP',
                      'UDP']
                    rule: 'self.all(l, l.protocol in [''HTTP'', ''TCP'', ''UDP'']
                      ? !has(l.tls) : true)'
                  - message: hostname must not be specified for protocols ['TCP',
                      'UDP']
                    rule: 'self.all(l, l.protocol in [''TCP'', ''UDP'']  ? (!has(l.hostname)
                      || l.hostname == '''') : true)'
                  - message: Listener name must be unique within the Gateway
                    rule: self.all(l1, self.exists_one(l2, l1.name == l2.name))
                  - message: Combination of port, protocol and hostname must be unique
                      for each listener
                    rule: 'self.all(l1, self.exists_one(l2, l1.port == l2.port &&
                      l1.protocol == l2.protocol && (has(l1.hostname) && has(l2.hostname)
                      ? l1.hostname == l2.hostname : !has(l1.hostname) && !has(l2.hostname))))'
              required:
              - gatewayClassName
              - listeners
              type: object
            status:
              default:
                conditions:
                - lastTransitionTime: "1970-01-01T00:00:00Z"
                  message: Waiting for controller
                  reason: Pending
                  status: Unknown
                  type: Accepted
                - lastTransitionTime: "1970-01-01T00:00:00Z"
                  message: Waiting for controller
                  reason: Pending
                  status: Unknown
                  type: Programmed
              description: Status defines the current state of Gateway.
              properties:
                addresses:
                  description: "Addresses lists the network addresses that have been
                    bound to the Gateway. \n This list may differ from the addresses
                    provided in the spec under some conditions: \n * no addresses
                    are specified, all addresses are dynamically assigned * a combination
                    of specified and dynamic addresses are assigned * a specified
                    address was unusable (e.g. already in use) \n "
                  items:
                    description: GatewayStatusAddress describes a network address
                      that is bound to a Gateway.
                    oneOf:
                    - properties:
                        type:
                          enum:
                          - IPAddress
                        value:
                          anyOf:
                          - format: ipv4
                          - format: ipv6
                    - properties:
                        type:
                          not:
                            enum:
                            - IPAddress
                    properties:
                      type:
                        default: IPAddress
                        description: Type of the address.
                        maxLength: 253
                        minLength: 1
                        pattern: ^Hostname|IPAddress|NamedAddress|[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                        type: string
                      value:
                        description: "Value of the address. The validity of the values
                          will depend on the type and support by the controller. \n
                          Examples: `1.2.3.4`, `128::1`, `my-ip-address`."
                        maxLength: 253
                        minLength: 1
                        type: string
                    required:
                    - value
                    type: object
                    x-kubernetes-validations:
                    - message: Hostname value must only contain valid characters (matching
                        ^(\*\.)?[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$)
                      rule: 'self.type == ''Hostname'' ? self.value.matches(r"""^(\*\.)?[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$"""):
                        true'
                  maxItems: 16
                  type: array
                conditions:
                  default:
                  - lastTransitionTime: "1970-01-01T00:00:00Z"
                    message: Waiting for controller
                    reason: Pending
                    status: Unknown
                    type: Accepted
                  - lastTransitionTime: "1970-01-01T00:00:00Z"
                    message: Waiting for controller
                    reason: Pending
                    status: Unknown
                    type: Programmed
                  description: "Conditions describe the current conditions of the
                    Gateway. \n Implementations should prefer to express Gateway conditions
                    using the `GatewayConditionType` and `GatewayConditionReason`
                    constants so that operators and tools can converge on a common
                    vocabulary to describe Gateway state. \n Known condition types
                    are: \n * \"Accepted\" * \"Programmed\" * \"Ready\""
                  items:
                    description: "Condition contains details for one aspect of the
                      current state of this API Resource. --- This struct is intended
                      for direct use as an array at the field path .status.conditions.
                      \ For example, \n type FooStatus struct{ // Represents the observations
                      of a foo's current state. // Known .status.conditions.type are:
                      \"Available\", \"Progressing\", and \"Degraded\" // +patchMergeKey=type
                      // +patchStrategy=merge // +listType=map // +listMapKey=type
                      Conditions []metav1.Condition `json:\"conditions,omitempty\"
                      patchStrategy:\"merge\" patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`
                      \n // other fields }"
                    properties:
                      lastTransitionTime:
                        description: lastTransitionTime is the last time the condition
                          transitioned from one status to another. This should be
                          when the underlying condition changed.  If that is not known,
                          then using the time when the API field changed is acceptable.
                        format: date-time
                        type: string
                      message:
                        description: message is a human readable message indicating
                          details about the transition. This may be an empty string.
                        maxLength: 32768
                        type: string
                      observedGeneration:
                        description: observedGeneration represents the .metadata.generation
                          that the condition was set based upon. For instance, if
                          .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration
                          is 9, the condition is out of date with respect to the current
                          state of the instance.
                        format: int64
                        minimum: 0
                        type: integer
                      reason:
                        description: reason contains a programmatic identifier indicating
                          the reason for the condition's last transition. Producers
                          of specific condition types may define expected values and
                          meanings for this field, and whether the values are considered
                          a guaranteed API. The value should be a CamelCase string.
                          This field may not be empty.
                        maxLength: 1024
                        minLength: 1
                        pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                        type: string
                      status:
                        description: status of the condition, one of True, False,
                          Unknown.
                        enum:
                        - "True"
                        - "False"
                        - Unknown
                        type: string
                      type:
                        description: type of condition in CamelCase or in foo.example.com/CamelCase.
                          --- Many .condition.type values are consistent across resources
                          like Available, but because arbitrary conditions can be
                          useful (see .node.status.conditions), the ability to deconflict
                          is important. The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                        maxLength: 316
                        pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                        type: string
                    required:
                    - lastTransitionTime
                    - message
                    - reason
                    - status
                    - type
                    type: object
                  maxItems: 8
                  type: array
                  x-kubernetes-list-map-keys:
                  - type
                  x-kubernetes-list-type: map
                listeners:
                  description: Listeners provide status for each unique listener port
                    defined in the Spec.
                  items:
                    description: ListenerStatus is the status associated with a Listener.
                    properties:
                      attachedRoutes:
                        description: "AttachedRoutes represents the total number of
                          Routes that have been successfully attached to this Listener.
                          \n Successful attachment of a Route to a Listener is based
                          solely on the combination of the AllowedRoutes field on
                          the corresponding Listener and the Route's ParentRefs field.
                          A Route is successfully attached to a Listener when it is
                          selected by the Listener's AllowedRoutes field AND the Route
                          has a valid ParentRef selecting the whole Gateway resource
                          or a specific Listener as a parent resource (more detail
                          on attachment semantics can be found in the documentation
                          on the various Route kinds ParentRefs fields). Listener
                          or Route status does not impact successful attachment, i.e.
                          the AttachedRoutes field count MUST be set for Listeners
                          with condition Accepted: false and MUST count successfully
                          attached Routes that may themselves have Accepted: false
                          conditions. \n Uses for this field include troubleshooting
                          Route attachment and measuring blast radius/impact of changes
                          to a Listener."
                        format: int32
                        type: integer
                      conditions:
                        description: Conditions describe the current condition of
                          this listener.
                        items:
                          description: "Condition contains details for one aspect
                            of the current state of this API Resource. --- This struct
                            is intended for direct use as an array at the field path
                            .status.conditions.  For example, \n type FooStatus struct{
                            // Represents the observations of a foo's current state.
                            // Known .status.conditions.type are: \"Available\", \"Progressing\",
                            and \"Degraded\" // +patchMergeKey=type // +patchStrategy=merge
                            // +listType=map // +listMapKey=type Conditions []metav1.Condition
                            `json:\"conditions,omitempty\" patchStrategy:\"merge\"
                            patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`
                            \n // other fields }"
                          properties:
                            lastTransitionTime:
                              description: lastTransitionTime is the last time the
                                condition transitioned from one status to another.
                                This should be when the underlying condition changed.  If
                                that is not known, then using the time when the API
                                field changed is acceptable.
                              format: date-time
                              type: string
                            message:
                              description: message is a human readable message indicating
                                details about the transition. This may be an empty
                                string.
                              maxLength: 32768
                              type: string
                            observedGeneration:
                              description: observedGeneration represents the .metadata.generation
                                that the condition was set based upon. For instance,
                                if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration
                                is 9, the condition is out of date with respect to
                                the current state of the instance.
                              format: int64
                              minimum: 0
                              type: integer
                            reason:
                              description: reason contains a programmatic identifier
                                indicating the reason for the condition's last transition.
                                Producers of specific condition types may define expected
                                values and meanings for this field, and whether the
                                values are considered a guaranteed API. The value
                                should be a CamelCase string. This field may not be
                                empty.
                              maxLength: 1024
                              minLength: 1
                              pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                              type: string
                            status:
                              description: status of the condition, one of True, False,
                                Unknown.
                              enum:
                              - "True"
                              - "False"
                              - Unknown
                              type: string
                            type:
                              description: type of condition in CamelCase or in foo.example.com/CamelCase.
                                --- Many .condition.type values are consistent across
                                resources like Available, but because arbitrary conditions
                                can be useful (see .node.status.conditions), the ability
                                to deconflict is important. The regex it matches is
                                (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                              maxLength: 316
                              pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                              type: string
                          required:
                          - lastTransitionTime
                          - message
                          - reason
                          - status
                          - type
                          type: object
                        maxItems: 8
                        type: array
                        x-kubernetes-list-map-keys:
                        - type
                        x-kubernetes-list-type: map
                      name:
                        description: Name is the name of the Listener that this status
                          corresponds to.
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                      supportedKinds:
                        description: "SupportedKinds is the list indicating the Kinds
                          supported by this listener. This MUST represent the kinds
                          an implementation supports for that Listener configuration.
                          \n If kinds are specified in Spec that are not supported,
                          they MUST NOT appear in this list and an implementation
                          MUST set the \"ResolvedRefs\" condition to \"False\" with
                          the \"InvalidRouteKinds\" reason. If both valid and invalid
                          Route kinds are specified, the implementation MUST reference
                          the valid Route kinds that have been specified."
                        items:
                          description: RouteGroupKind indicates the group and kind
                            of a Route resource.
                          properties:
                            group:
                              default: gateway.networking.k8s.io
                              description: Group is the group of the Route.
                              maxLength: 253
                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                            kind:
                              description: Kind is the kind of the Route.
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                              type: string
                          required:
                          - kind
                          type: object
                        maxItems: 8
                        type: array
                    required:
                    - attachedRoutes
                    - conditions
                    - name
                    - supportedKinds
                    type: object
                  maxItems: 64
                  type: array
                  x-kubernetes-list-map-keys:
                  - name
                  x-kubernetes-list-type: map
              type: object
          required:
          - spec
          type: object
      served: true
      storage: false
      subresources:
        status: {}
    - additionalPrinterColumns:
      - jsonPath: .spec.gatewayClassName
        name: Class
        type: string
      - jsonPath: .status.addresses[*].value
        name: Address
        type: string
      - jsonPath: .status.conditions[?(@.type=="Programmed")].status
        name: Programmed
        type: string
      - jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1beta1
      schema:
        openAPIV3Schema:
          description: Gateway represents an instance of a service-traffic handling
            infrastructure by binding Listeners to a set of IP addresses.
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: Spec defines the desired state of Gateway.
              properties:
                addresses:
                  description: "Addresses requested for this Gateway. This is optional
                    and behavior can depend on the implementation. If a value is set
                    in the spec and the requested address is invalid or unavailable,
                    the implementation MUST indicate this in the associated entry
                    in GatewayStatus.Addresses. \n The Addresses field represents
                    a request for the address(es) on the \"outside of the Gateway\",
                    that traffic bound for this Gateway will use. This could be the
                    IP address or hostname of an external load balancer or other networking
                    infrastructure, or some other address that traffic will be sent
                    to. \n If no Addresses are specified, the implementation MAY schedule
                    the Gateway in an implementation-specific manner, assigning an
                    appropriate set of Addresses. \n The implementation MUST bind
                    all Listeners to every GatewayAddress that it assigns to the Gateway
                    and add a corresponding entry in GatewayStatus.Addresses. \n Support:
                    Extended \n "
                  items:
                    description: GatewayAddress describes an address that can be bound
                      to a Gateway.
                    oneOf:
                    - properties:
                        type:
                          enum:
                          - IPAddress
                        value:
                          anyOf:
                          - format: ipv4
                          - format: ipv6
                    - properties:
                        type:
                          not:
                            enum:
                            - IPAddress
                    properties:
                      type:
                        default: IPAddress
                        description: Type of the address.
                        maxLength: 253
                        minLength: 1
                        pattern: ^Hostname|IPAddress|NamedAddress|[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                        type: string
                      value:
                        description: "Value of the address. The validity of the values
                          will depend on the type and support by the controller. \n
                          Examples: `1.2.3.4`, `128::1`, `my-ip-address`."
                        maxLength: 253
                        minLength: 1
                        type: string
                    required:
                    - value
                    type: object
                    x-kubernetes-validations:
                    - message: Hostname value must only contain valid characters (matching
                        ^(\*\.)?[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$)
                      rule: 'self.type == ''Hostname'' ? self.value.matches(r"""^(\*\.)?[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$"""):
                        true'
                  maxItems: 16
                  type: array
                  x-kubernetes-validations:
                  - message: IPAddress values must be unique
                    rule: 'self.all(a1, a1.type == ''IPAddress'' ? self.exists_one(a2,
                      a2.type == a1.type && a2.value == a1.value) : true )'
                  - message: Hostname values must be unique
                    rule: 'self.all(a1, a1.type == ''Hostname'' ? self.exists_one(a2,
                      a2.type == a1.type && a2.value == a1.value) : true )'
                gatewayClassName:
                  description: GatewayClassName used for this Gateway. This is the
                    name of a GatewayClass resource.
                  maxLength: 253
                  minLength: 1
                  type: string
                infrastructure:
                  description: "Infrastructure defines infrastructure level attributes
                    about this Gateway instance. \n Support: Core \n "
                  properties:
                    annotations:
                      additionalProperties:
                        description: AnnotationValue is the value of an annotation
                          in Gateway API. This is used for validation of maps such
                          as TLS options. This roughly matches Kubernetes annotation
                          validation, although the length validation in that case
                          is based on the entire size of the annotations struct.
                        maxLength: 4096
                        minLength: 0
                        type: string
                      description: "Annotations that SHOULD be applied to any resources
                        created in response to this Gateway. \n For implementations
                        creating other Kubernetes objects, this should be the `metadata.annotations`
                        field on resources. For other implementations, this refers
                        to any relevant (implementation specific) \"annotations\"
                        concepts. \n An implementation may chose to add additional
                        implementation-specific annotations as they see fit. \n Support:
                        Extended"
                      maxProperties: 8
                      type: object
                    labels:
                      additionalProperties:
                        description: AnnotationValue is the value of an annotation
                          in Gateway API. This is used for validation of maps such
                          as TLS options. This roughly matches Kubernetes annotation
                          validation, although the length validation in that case
                          is based on the entire size of the annotations struct.
                        maxLength: 4096
                        minLength: 0
                        type: string
                      description: "Labels that SHOULD be applied to any resources
                        created in response to this Gateway. \n For implementations
                        creating other Kubernetes objects, this should be the `metadata.labels`
                        field on resources. For other implementations, this refers
                        to any relevant (implementation specific) \"labels\" concepts.
                        \n An implementation may chose to add additional implementation-specific
                        labels as they see fit. \n Support: Extended"
                      maxProperties: 8
                      type: object
                  type: object
                listeners:
                  description: "Listeners associated with this Gateway. Listeners
                    define logical endpoints that are bound on this Gateway's addresses.
                    At least one Listener MUST be specified. \n Each Listener in a
                    set of Listeners (for example, in a single Gateway) MUST be _distinct_,
                    in that a traffic flow MUST be able to be assigned to exactly
                    one listener. (This section uses \"set of Listeners\" rather than
                    \"Listeners in a single Gateway\" because implementations MAY
                    merge configuration from multiple Gateways onto a single data
                    plane, and these rules _also_ apply in that case). \n Practically,
                    this means that each listener in a set MUST have a unique combination
                    of Port, Protocol, and, if supported by the protocol, Hostname.
                    \n Some combinations of port, protocol, and TLS settings are considered
                    Core support and MUST be supported by implementations based on
                    their targeted conformance profile: \n HTTP Profile \n 1. HTTPRoute,
                    Port: 80, Protocol: HTTP 2. HTTPRoute, Port: 443, Protocol: HTTPS,
                    TLS Mode: Terminate, TLS keypair provided \n TLS Profile \n 1.
                    TLSRoute, Port: 443, Protocol: TLS, TLS Mode: Passthrough \n \"Distinct\"
                    Listeners have the following property: \n The implementation can
                    match inbound requests to a single distinct Listener. When multiple
                    Listeners share values for fields (for example, two Listeners
                    with the same Port value), the implementation can match requests
                    to only one of the Listeners using other Listener fields. \n For
                    example, the following Listener scenarios are distinct: \n 1.
                    Multiple Listeners with the same Port that all use the \"HTTP\"
                    Protocol that all have unique Hostname values. 2. Multiple Listeners
                    with the same Port that use either the \"HTTPS\" or \"TLS\" Protocol
                    that all have unique Hostname values. 3. A mixture of \"TCP\"
                    and \"UDP\" Protocol Listeners, where no Listener with the same
                    Protocol has the same Port value. \n Some fields in the Listener
                    struct have possible values that affect whether the Listener is
                    distinct. Hostname is particularly relevant for HTTP or HTTPS
                    protocols. \n When using the Hostname value to select between
                    same-Port, same-Protocol Listeners, the Hostname value must be
                    different on each Listener for the Listener to be distinct. \n
                    When the Listeners are distinct based on Hostname, inbound request
                    hostnames MUST match from the most specific to least specific
                    Hostname values to choose the correct Listener and its associated
                    set of Routes. \n Exact matches must be processed before wildcard
                    matches, and wildcard matches must be processed before fallback
                    (empty Hostname value) matches. For example, `\"foo.example.com\"`
                    takes precedence over `\"*.example.com\"`, and `\"*.example.com\"`
                    takes precedence over `\"\"`. \n Additionally, if there are multiple
                    wildcard entries, more specific wildcard entries must be processed
                    before less specific wildcard entries. For example, `\"*.foo.example.com\"`
                    takes precedence over `\"*.example.com\"`. The precise definition
                    here is that the higher the number of dots in the hostname to
                    the right of the wildcard character, the higher the precedence.
                    \n The wildcard character will match any number of characters
                    _and dots_ to the left, however, so `\"*.example.com\"` will match
                    both `\"foo.bar.example.com\"` _and_ `\"bar.example.com\"`. \n
                    If a set of Listeners contains Listeners that are not distinct,
                    then those Listeners are Conflicted, and the implementation MUST
                    set the \"Conflicted\" condition in the Listener Status to \"True\".
                    \n Implementations MAY choose to accept a Gateway with some Conflicted
                    Listeners only if they only accept the partial Listener set that
                    contains no Conflicted Listeners. To put this another way, implementations
                    may accept a partial Listener set only if they throw out *all*
                    the conflicting Listeners. No picking one of the conflicting listeners
                    as the winner. This also means that the Gateway must have at least
                    one non-conflicting Listener in this case, otherwise it violates
                    the requirement that at least one Listener must be present. \n
                    The implementation MUST set a \"ListenersNotValid\" condition
                    on the Gateway Status when the Gateway contains Conflicted Listeners
                    whether or not they accept the Gateway. That Condition SHOULD
                    clearly indicate in the Message which Listeners are conflicted,
                    and which are Accepted. Additionally, the Listener status for
                    those listeners SHOULD indicate which Listeners are conflicted
                    and not Accepted. \n A Gateway's Listeners are considered \"compatible\"
                    if: \n 1. They are distinct. 2. The implementation can serve them
                    in compliance with the Addresses requirement that all Listeners
                    are available on all assigned addresses. \n Compatible combinations
                    in Extended support are expected to vary across implementations.
                    A combination that is compatible for one implementation may not
                    be compatible for another. \n For example, an implementation that
                    cannot serve both TCP and UDP listeners on the same address, or
                    cannot mix HTTPS and generic TLS listens on the same port would
                    not consider those cases compatible, even though they are distinct.
                    \n Note that requests SHOULD match at most one Listener. For example,
                    if Listeners are defined for \"foo.example.com\" and \"*.example.com\",
                    a request to \"foo.example.com\" SHOULD only be routed using routes
                    attached to the \"foo.example.com\" Listener (and not the \"*.example.com\"
                    Listener). This concept is known as \"Listener Isolation\". Implementations
                    that do not support Listener Isolation MUST clearly document this.
                    \n Implementations MAY merge separate Gateways onto a single set
                    of Addresses if all Listeners across all Gateways are compatible.
                    \n Support: Core"
                  items:
                    description: Listener embodies the concept of a logical endpoint
                      where a Gateway accepts network connections.
                    properties:
                      allowedRoutes:
                        default:
                          namespaces:
                            from: Same
                        description: "AllowedRoutes defines the types of routes that
                          MAY be attached to a Listener and the trusted namespaces
                          where those Route resources MAY be present. \n Although
                          a client request may match multiple route rules, only one
                          rule may ultimately receive the request. Matching precedence
                          MUST be determined in order of the following criteria: \n
                          * The most specific match as defined by the Route type.
                          * The oldest Route based on creation timestamp. For example,
                          a Route with a creation timestamp of \"2020-09-08 01:02:03\"
                          is given precedence over a Route with a creation timestamp
                          of \"2020-09-08 01:02:04\". * If everything else is equivalent,
                          the Route appearing first in alphabetical order (namespace/name)
                          should be given precedence. For example, foo/bar is given
                          precedence over foo/baz. \n All valid rules within a Route
                          attached to this Listener should be implemented. Invalid
                          Route rules can be ignored (sometimes that will mean the
                          full Route). If a Route rule transitions from valid to invalid,
                          support for that Route rule should be dropped to ensure
                          consistency. For example, even if a filter specified by
                          a Route rule is invalid, the rest of the rules within that
                          Route should still be supported. \n Support: Core"
                        properties:
                          kinds:
                            description: "Kinds specifies the groups and kinds of
                              Routes that are allowed to bind to this Gateway Listener.
                              When unspecified or empty, the kinds of Routes selected
                              are determined using the Listener protocol. \n A RouteGroupKind
                              MUST correspond to kinds of Routes that are compatible
                              with the application protocol specified in the Listener's
                              Protocol field. If an implementation does not support
                              or recognize this resource type, it MUST set the \"ResolvedRefs\"
                              condition to False for this Listener with the \"InvalidRouteKinds\"
                              reason. \n Support: Core"
                            items:
                              description: RouteGroupKind indicates the group and
                                kind of a Route resource.
                              properties:
                                group:
                                  default: gateway.networking.k8s.io
                                  description: Group is the group of the Route.
                                  maxLength: 253
                                  pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                  type: string
                                kind:
                                  description: Kind is the kind of the Route.
                                  maxLength: 63
                                  minLength: 1
                                  pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                  type: string
                              required:
                              - kind
                              type: object
                            maxItems: 8
                            type: array
                          namespaces:
                            default:
                              from: Same
                            description: "Namespaces indicates namespaces from which
                              Routes may be attached to this Listener. This is restricted
                              to the namespace of this Gateway by default. \n Support:
                              Core"
                            properties:
                              from:
                                default: Same
                                description: "From indicates where Routes will be
                                  selected for this Gateway. Possible values are:
                                  \n * All: Routes in all namespaces may be used by
                                  this Gateway. * Selector: Routes in namespaces selected
                                  by the selector may be used by this Gateway. * Same:
                                  Only Routes in the same namespace may be used by
                                  this Gateway. \n Support: Core"
                                enum:
                                - All
                                - Selector
                                - Same
                                type: string
                              selector:
                                description: "Selector must be specified when From
                                  is set to \"Selector\". In that case, only Routes
                                  in Namespaces matching this Selector will be selected
                                  by this Gateway. This field is ignored for other
                                  values of \"From\". \n Support: Core"
                                properties:
                                  matchExpressions:
                                    description: matchExpressions is a list of label
                                      selector requirements. The requirements are
                                      ANDed.
                                    items:
                                      description: A label selector requirement is
                                        a selector that contains values, a key, and
                                        an operator that relates the key and values.
                                      properties:
                                        key:
                                          description: key is the label key that the
                                            selector applies to.
                                          type: string
                                        operator:
                                          description: operator represents a key's
                                            relationship to a set of values. Valid
                                            operators are In, NotIn, Exists and DoesNotExist.
                                          type: string
                                        values:
                                          description: values is an array of string
                                            values. If the operator is In or NotIn,
                                            the values array must be non-empty. If
                                            the operator is Exists or DoesNotExist,
                                            the values array must be empty. This array
                                            is replaced during a strategic merge patch.
                                          items:
                                            type: string
                                          type: array
                                      required:
                                      - key
                                      - operator
                                      type: object
                                    type: array
                                  matchLabels:
                                    additionalProperties:
                                      type: string
                                    description: matchLabels is a map of {key,value}
                                      pairs. A single {key,value} in the matchLabels
                                      map is equivalent to an element of matchExpressions,
                                      whose key field is "key", the operator is "In",
                                      and the values array contains only "value".
                                      The requirements are ANDed.
                                    type: object
                                type: object
                                x-kubernetes-map-type: atomic
                            type: object
                        type: object
                      hostname:
                        description: "Hostname specifies the virtual hostname to match
                          for protocol types that define this concept. When unspecified,
                          all hostnames are matched. This field is ignored for protocols
                          that don't require hostname based matching. \n Implementations
                          MUST apply Hostname matching appropriately for each of the
                          following protocols: \n * TLS: The Listener Hostname MUST
                          match the SNI. * HTTP: The Listener Hostname MUST match
                          the Host header of the request. * HTTPS: The Listener Hostname
                          SHOULD match at both the TLS and HTTP protocol layers as
                          described above. If an implementation does not ensure that
                          both the SNI and Host header match the Listener hostname,
                          it MUST clearly document that. \n For HTTPRoute and TLSRoute
                          resources, there is an interaction with the `spec.hostnames`
                          array. When both listener and route specify hostnames, there
                          MUST be an intersection between the values for a Route to
                          be accepted. For more information, refer to the Route specific
                          Hostnames documentation. \n Hostnames that are prefixed
                          with a wildcard label (`*.`) are interpreted as a suffix
                          match. That means that a match for `*.example.com` would
                          match both `test.example.com`, and `foo.test.example.com`,
                          but not `example.com`. \n Support: Core"
                        maxLength: 253
                        minLength: 1
                        pattern: ^(\*\.)?[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                      name:
                        description: "Name is the name of the Listener. This name
                          MUST be unique within a Gateway. \n Support: Core"
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                      port:
                        description: "Port is the network port. Multiple listeners
                          may use the same port, subject to the Listener compatibility
                          rules. \n Support: Core"
                        format: int32
                        maximum: 65535
                        minimum: 1
                        type: integer
                      protocol:
                        description: "Protocol specifies the network protocol this
                          listener expects to receive. \n Support: Core"
                        maxLength: 255
                        minLength: 1
                        pattern: ^[a-zA-Z0-9]([-a-zSA-Z0-9]*[a-zA-Z0-9])?$|[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9]+$
                        type: string
                      tls:
                        description: "TLS is the TLS configuration for the Listener.
                          This field is required if the Protocol field is \"HTTPS\"
                          or \"TLS\". It is invalid to set this field if the Protocol
                          field is \"HTTP\", \"TCP\", or \"UDP\". \n The association
                          of SNIs to Certificate defined in GatewayTLSConfig is defined
                          based on the Hostname field for this listener. \n The GatewayClass
                          MUST use the longest matching SNI out of all available certificates
                          for any TLS handshake. \n Support: Core"
                        properties:
                          certificateRefs:
                            description: "CertificateRefs contains a series of references
                              to Kubernetes objects that contains TLS certificates
                              and private keys. These certificates are used to establish
                              a TLS handshake for requests that match the hostname
                              of the associated listener. \n A single CertificateRef
                              to a Kubernetes Secret has \"Core\" support. Implementations
                              MAY choose to support attaching multiple certificates
                              to a Listener, but this behavior is implementation-specific.
                              \n References to a resource in different namespace are
                              invalid UNLESS there is a ReferenceGrant in the target
                              namespace that allows the certificate to be attached.
                              If a ReferenceGrant does not allow this reference, the
                              \"ResolvedRefs\" condition MUST be set to False for
                              this listener with the \"RefNotPermitted\" reason. \n
                              This field is required to have at least one element
                              when the mode is set to \"Terminate\" (default) and
                              is optional otherwise. \n CertificateRefs can reference
                              to standard Kubernetes resources, i.e. Secret, or implementation-specific
                              custom resources. \n Support: Core - A single reference
                              to a Kubernetes Secret of type kubernetes.io/tls \n
                              Support: Implementation-specific (More than one reference
                              or other resource types)"
                            items:
                              description: "SecretObjectReference identifies an API
                                object including its namespace, defaulting to Secret.
                                \n The API object must be valid in the cluster; the
                                Group and Kind must be registered in the cluster for
                                this reference to be valid. \n References to objects
                                with invalid Group and Kind are not valid, and must
                                be rejected by the implementation, with appropriate
                                Conditions set on the containing object."
                              properties:
                                group:
                                  default: ""
                                  description: Group is the group of the referent.
                                    For example, "gateway.networking.k8s.io". When
                                    unspecified or empty string, core API group is
                                    inferred.
                                  maxLength: 253
                                  pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                  type: string
                                kind:
                                  default: Secret
                                  description: Kind is kind of the referent. For example
                                    "Secret".
                                  maxLength: 63
                                  minLength: 1
                                  pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                  type: string
                                name:
                                  description: Name is the name of the referent.
                                  maxLength: 253
                                  minLength: 1
                                  type: string
                                namespace:
                                  description: "Namespace is the namespace of the
                                    referenced object. When unspecified, the local
                                    namespace is inferred. \n Note that when a namespace
                                    different than the local namespace is specified,
                                    a ReferenceGrant object is required in the referent
                                    namespace to allow that namespace's owner to accept
                                    the reference. See the ReferenceGrant documentation
                                    for details. \n Support: Core"
                                  maxLength: 63
                                  minLength: 1
                                  pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                  type: string
                              required:
                              - name
                              type: object
                            maxItems: 64
                            type: array
                          mode:
                            default: Terminate
                            description: "Mode defines the TLS behavior for the TLS
                              session initiated by the client. There are two possible
                              modes: \n - Terminate: The TLS session between the downstream
                              client and the Gateway is terminated at the Gateway.
                              This mode requires certificateRefs to be set and contain
                              at least one element. - Passthrough: The TLS session
                              is NOT terminated by the Gateway. This implies that
                              the Gateway can't decipher the TLS stream except for
                              the ClientHello message of the TLS protocol. CertificateRefs
                              field is ignored in this mode. \n Support: Core"
                            enum:
                            - Terminate
                            - Passthrough
                            type: string
                          options:
                            additionalProperties:
                              description: AnnotationValue is the value of an annotation
                                in Gateway API. This is used for validation of maps
                                such as TLS options. This roughly matches Kubernetes
                                annotation validation, although the length validation
                                in that case is based on the entire size of the annotations
                                struct.
                              maxLength: 4096
                              minLength: 0
                              type: string
                            description: "Options are a list of key/value pairs to
                              enable extended TLS configuration for each implementation.
                              For example, configuring the minimum TLS version or
                              supported cipher suites. \n A set of common keys MAY
                              be defined by the API in the future. To avoid any ambiguity,
                              implementation-specific definitions MUST use domain-prefixed
                              names, such as `example.com/my-custom-option`. Un-prefixed
                              names are reserved for key names defined by Gateway
                              API. \n Support: Implementation-specific"
                            maxProperties: 16
                            type: object
                        type: object
                        x-kubernetes-validations:
                        - message: certificateRefs must be specified when TLSModeType
                            is Terminate
                          rule: 'self.mode == ''Terminate'' ? size(self.certificateRefs)
                            > 0 : true'
                    required:
                    - name
                    - port
                    - protocol
                    type: object
                  maxItems: 64
                  minItems: 1
                  type: array
                  x-kubernetes-list-map-keys:
                  - name
                  x-kubernetes-list-type: map
                  x-kubernetes-validations:
                  - message: tls must be specified for protocols ['HTTPS', 'TLS']
                    rule: 'self.all(l, l.protocol in [''HTTPS'', ''TLS''] ? has(l.tls)
                      : true)'
                  - message: tls must not be specified for protocols ['HTTP', 'TCP',
                      'UDP']
                    rule: 'self.all(l, l.protocol in [''HTTP'', ''TCP'', ''UDP'']
                      ? !has(l.tls) : true)'
                  - message: hostname must not be specified for protocols ['TCP',
                      'UDP']
                    rule: 'self.all(l, l.protocol in [''TCP'', ''UDP'']  ? (!has(l.hostname)
                      || l.hostname == '''') : true)'
                  - message: Listener name must be unique within the Gateway
                    rule: self.all(l1, self.exists_one(l2, l1.name == l2.name))
                  - message: Combination of port, protocol and hostname must be unique
                      for each listener
                    rule: 'self.all(l1, self.exists_one(l2, l1.port == l2.port &&
                      l1.protocol == l2.protocol && (has(l1.hostname) && has(l2.hostname)
                      ? l1.hostname == l2.hostname : !has(l1.hostname) && !has(l2.hostname))))'
              required:
              - gatewayClassName
              - listeners
              type: object
            status:
              default:
                conditions:
                - lastTransitionTime: "1970-01-01T00:00:00Z"
                  message: Waiting for controller
                  reason: Pending
                  status: Unknown
                  type: Accepted
                - lastTransitionTime: "1970-01-01T00:00:00Z"
                  message: Waiting for controller
                  reason: Pending
                  status: Unknown
                  type: Programmed
              description: Status defines the current state of Gateway.
              properties:
                addresses:
                  description: "Addresses lists the network addresses that have been
                    bound to the Gateway. \n This list may differ from the addresses
                    provided in the spec under some conditions: \n * no addresses
                    are specified, all addresses are dynamically assigned * a combination
                    of specified and dynamic addresses are assigned * a specified
                    address was unusable (e.g. already in use) \n "
                  items:
                    description: GatewayStatusAddress describes a network address
                      that is bound to a Gateway.
                    oneOf:
                    - properties:
                        type:
                          enum:
                          - IPAddress
                        value:
                          anyOf:
                          - format: ipv4
                          - format: ipv6
                    - properties:
                        type:
                          not:
                            enum:
                            - IPAddress
                    properties:
                      type:
                        default: IPAddress
                        description: Type of the address.
                        maxLength: 253
                        minLength: 1
                        pattern: ^Hostname|IPAddress|NamedAddress|[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                        type: string
                      value:
                        description: "Value of the address. The validity of the values
                          will depend on the type and support by the controller. \n
                          Examples: `1.2.3.4`, `128::1`, `my-ip-address`."
                        maxLength: 253
                        minLength: 1
                        type: string
                    required:
                    - value
                    type: object
                    x-kubernetes-validations:
                    - message: Hostname value must only contain valid characters (matching
                        ^(\*\.)?[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$)
                      rule: 'self.type == ''Hostname'' ? self.value.matches(r"""^(\*\.)?[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$"""):
                        true'
                  maxItems: 16
                  type: array
                conditions:
                  default:
                  - lastTransitionTime: "1970-01-01T00:00:00Z"
                    message: Waiting for controller
                    reason: Pending
                    status: Unknown
                    type: Accepted
                  - lastTransitionTime: "1970-01-01T00:00:00Z"
                    message: Waiting for controller
                    reason: Pending
                    status: Unknown
                    type: Programmed
                  description: "Conditions describe the current conditions of the
                    Gateway. \n Implementations should prefer to express Gateway conditions
                    using the `GatewayConditionType` and `GatewayConditionReason`
                    constants so that operators and tools can converge on a common
                    vocabulary to describe Gateway state. \n Known condition types
                    are: \n * \"Accepted\" * \"Programmed\" * \"Ready\""
                  items:
                    description: "Condition contains details for one aspect of the
                      current state of this API Resource. --- This struct is intended
                      for direct use as an array at the field path .status.conditions.
                      \ For example, \n type FooStatus struct{ // Represents the observations
                      of a foo's current state. // Known .status.conditions.type are:
                      \"Available\", \"Progressing\", and \"Degraded\" // +patchMergeKey=type
                      // +patchStrategy=merge // +listType=map // +listMapKey=type
                      Conditions []metav1.Condition `json:\"conditions,omitempty\"
                      patchStrategy:\"merge\" patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`
                      \n // other fields }"
                    properties:
                      lastTransitionTime:
                        description: lastTransitionTime is the last time the condition
                          transitioned from one status to another. This should be
                          when the underlying condition changed.  If that is not known,
                          then using the time when the API field changed is acceptable.
                        format: date-time
                        type: string
                      message:
                        description: message is a human readable message indicating
                          details about the transition. This may be an empty string.
                        maxLength: 32768
                        type: string
                      observedGeneration:
                        description: observedGeneration represents the .metadata.generation
                          that the condition was set based upon. For instance, if
                          .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration
                          is 9, the condition is out of date with respect to the current
                          state of the instance.
                        format: int64
                        minimum: 0
                        type: integer
                      reason:
                        description: reason contains a programmatic identifier indicating
                          the reason for the condition's last transition. Producers
                          of specific condition types may define expected values and
                          meanings for this field, and whether the values are considered
                          a guaranteed API. The value should be a CamelCase string.
                          This field may not be empty.
                        maxLength: 1024
                        minLength: 1
                        pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                        type: string
                      status:
                        description: status of the condition, one of True, False,
                          Unknown.
                        enum:
                        - "True"
                        - "False"
                        - Unknown
                        type: string
                      type:
                        description: type of condition in CamelCase or in foo.example.com/CamelCase.
                          --- Many .condition.type values are consistent across resources
                          like Available, but because arbitrary conditions can be
                          useful (see .node.status.conditions), the ability to deconflict
                          is important. The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                        maxLength: 316
                        pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                        type: string
                    required:
                    - lastTransitionTime
                    - message
                    - reason
                    - status
                    - type
                    type: object
                  maxItems: 8
                  type: array
                  x-kubernetes-list-map-keys:
                  - type
                  x-kubernetes-list-type: map
                listeners:
                  description: Listeners provide status for each unique listener port
                    defined in the Spec.
                  items:
                    description: ListenerStatus is the status associated with a Listener.
                    properties:
                      attachedRoutes:
                        description: "AttachedRoutes represents the total number of
                          Routes that have been successfully attached to this Listener.
                          \n Successful attachment of a Route to a Listener is based
                          solely on the combination of the AllowedRoutes field on
                          the corresponding Listener and the Route's ParentRefs field.
                          A Route is successfully attached to a Listener when it is
                          selected by the Listener's AllowedRoutes field AND the Route
                          has a valid ParentRef selecting the whole Gateway resource
                          or a specific Listener as a parent resource (more detail
                          on attachment semantics can be found in the documentation
                          on the various Route kinds ParentRefs fields). Listener
                          or Route status does not impact successful attachment, i.e.
                          the AttachedRoutes field count MUST be set for Listeners
                          with condition Accepted: false and MUST count successfully
                          attached Routes that may themselves have Accepted: false
                          conditions. \n Uses for this field include troubleshooting
                          Route attachment and measuring blast radius/impact of changes
                          to a Listener."
                        format: int32
                        type: integer
                      conditions:
                        description: Conditions describe the current condition of
                          this listener.
                        items:
                          description: "Condition contains details for one aspect
                            of the current state of this API Resource. --- This struct
                            is intended for direct use as an array at the field path
                            .status.conditions.  For example, \n type FooStatus struct{
                            // Represents the observations of a foo's current state.
                            // Known .status.conditions.type are: \"Available\", \"Progressing\",
                            and \"Degraded\" // +patchMergeKey=type // +patchStrategy=merge
                            // +listType=map // +listMapKey=type Conditions []metav1.Condition
                            `json:\"conditions,omitempty\" patchStrategy:\"merge\"
                            patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`
                            \n // other fields }"
                          properties:
                            lastTransitionTime:
                              description: lastTransitionTime is the last time the
                                condition transitioned from one status to another.
                                This should be when the underlying condition changed.  If
                                that is not known, then using the time when the API
                                field changed is acceptable.
                              format: date-time
                              type: string
                            message:
                              description: message is a human readable message indicating
                                details about the transition. This may be an empty
                                string.
                              maxLength: 32768
                              type: string
                            observedGeneration:
                              description: observedGeneration represents the .metadata.generation
                                that the condition was set based upon. For instance,
                                if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration
                                is 9, the condition is out of date with respect to
                                the current state of the instance.
                              format: int64
                              minimum: 0
                              type: integer
                            reason:
                              description: reason contains a programmatic identifier
                                indicating the reason for the condition's last transition.
                                Producers of specific condition types may define expected
                                values and meanings for this field, and whether the
                                values are considered a guaranteed API. The value
                                should be a CamelCase string. This field may not be
                                empty.
                              maxLength: 1024
                              minLength: 1
                              pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                              type: string
                            status:
                              description: status of the condition, one of True, False,
                                Unknown.
                              enum:
                              - "True"
                              - "False"
                              - Unknown
                              type: string
                            type:
                              description: type of condition in CamelCase or in foo.example.com/CamelCase.
                                --- Many .condition.type values are consistent across
                                resources like Available, but because arbitrary conditions
                                can be useful (see .node.status.conditions), the ability
                                to deconflict is important. The regex it matches is
                                (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                              maxLength: 316
                              pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                              type: string
                          required:
                          - lastTransitionTime
                          - message
                          - reason
                          - status
                          - type
                          type: object
                        maxItems: 8
                        type: array
                        x-kubernetes-list-map-keys:
                        - type
                        x-kubernetes-list-type: map
                      name:
                        description: Name is the name of the Listener that this status
                          corresponds to.
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                      supportedKinds:
                        description: "SupportedKinds is the list indicating the Kinds
                          supported by this listener. This MUST represent the kinds
                          an implementation supports for that Listener configuration.
                          \n If kinds are specified in Spec that are not supported,
                          they MUST NOT appear in this list and an implementation
                          MUST set the \"ResolvedRefs\" condition to \"False\" with
                          the \"InvalidRouteKinds\" reason. If both valid and invalid
                          Route kinds are specified, the implementation MUST reference
                          the valid Route kinds that have been specified."
                        items:
                          description: RouteGroupKind indicates the group and kind
                            of a Route resource.
                          properties:
                            group:
                              default: gateway.networking.k8s.io
                              description: Group is the group of the Route.
                              maxLength: 253
                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                            kind:
                              description: Kind is the kind of the Route.
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                              type: string
                          required:
                          - kind
                          type: object
                        maxItems: 8
                        type: array
                    required:
                    - attachedRoutes
                    - conditions
                    - name
                    - supportedKinds
                    type: object
                  maxItems: 64
                  type: array
                  x-kubernetes-list-map-keys:
                  - name
                  x-kubernetes-list-type: map
              type: object
          required:
          - spec
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - gateway-api
      kind: Gateway
      listKind: GatewayList
      plural: gateways
      shortNames:
      - gtw
      singular: gateway
    conditions:
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: approved in https://github.com/kubernetes-sigs/gateway-api/pull/2466
      reason: ApprovedAnnotation
      status: "True"
      type: KubernetesAPIApprovalPolicyConformant
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1beta1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      helm.sh/resource-policy: keep
    creationTimestamp: "2024-04-07T12:56:56Z"
    generation: 1
    labels:
      app: istio-pilot
      chart: istio
      heritage: Tiller
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio.io/rev: default
      operator.istio.io/component: Base
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: gateways.networking.istio.io
    resourceVersion: "1904517"
    uid: f1716545-e54c-49b5-93f2-f449fb4dde88
  spec:
    conversion:
      strategy: None
    group: networking.istio.io
    names:
      categories:
      - istio-io
      - networking-istio-io
      kind: Gateway
      listKind: GatewayList
      plural: gateways
      shortNames:
      - gw
      singular: gateway
    scope: Namespaced
    versions:
    - name: v1alpha3
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting edge load balancer. See more details
                at: https://istio.io/docs/reference/config/networking/gateway.html'
              properties:
                selector:
                  additionalProperties:
                    type: string
                  description: One or more labels that indicate a specific set of
                    pods/VMs on which this gateway configuration should be applied.
                  type: object
                servers:
                  description: A list of server specifications.
                  items:
                    properties:
                      bind:
                        description: The ip or the Unix domain socket to which the
                          listener should be bound to.
                        type: string
                      defaultEndpoint:
                        type: string
                      hosts:
                        description: One or more hosts exposed by this gateway.
                        items:
                          type: string
                        type: array
                      name:
                        description: An optional name of the server, when set must
                          be unique across all servers.
                        type: string
                      port:
                        description: The Port on which the proxy should listen for
                          incoming connections.
                        properties:
                          name:
                            description: Label assigned to the port.
                            type: string
                          number:
                            description: A valid non-negative integer port number.
                            type: integer
                          protocol:
                            description: The protocol exposed on the port.
                            type: string
                          targetPort:
                            type: integer
                        required:
                        - number
                        - protocol
                        - name
                        type: object
                      tls:
                        description: Set of TLS related options that govern the server's
                          behavior.
                        properties:
                          caCertificates:
                            description: REQUIRED if mode is `MUTUAL` or `OPTIONAL_MUTUAL`.
                            type: string
                          cipherSuites:
                            description: 'Optional: If specified, only support the
                              specified cipher list.'
                            items:
                              type: string
                            type: array
                          credentialName:
                            description: For gateways running on Kubernetes, the name
                              of the secret that holds the TLS certs including the
                              CA certificates.
                            type: string
                          httpsRedirect:
                            description: If set to true, the load balancer will send
                              a 301 redirect for all http connections, asking the
                              clients to use HTTPS.
                            type: boolean
                          maxProtocolVersion:
                            description: 'Optional: Maximum TLS protocol version.'
                            enum:
                            - TLS_AUTO
                            - TLSV1_0
                            - TLSV1_1
                            - TLSV1_2
                            - TLSV1_3
                            type: string
                          minProtocolVersion:
                            description: 'Optional: Minimum TLS protocol version.'
                            enum:
                            - TLS_AUTO
                            - TLSV1_0
                            - TLSV1_1
                            - TLSV1_2
                            - TLSV1_3
                            type: string
                          mode:
                            description: 'Optional: Indicates whether connections
                              to this port should be secured using TLS.'
                            enum:
                            - PASSTHROUGH
                            - SIMPLE
                            - MUTUAL
                            - AUTO_PASSTHROUGH
                            - ISTIO_MUTUAL
                            - OPTIONAL_MUTUAL
                            type: string
                          privateKey:
                            description: REQUIRED if mode is `SIMPLE` or `MUTUAL`.
                            type: string
                          serverCertificate:
                            description: REQUIRED if mode is `SIMPLE` or `MUTUAL`.
                            type: string
                          subjectAltNames:
                            description: A list of alternate names to verify the subject
                              identity in the certificate presented by the client.
                            items:
                              type: string
                            type: array
                          verifyCertificateHash:
                            description: An optional list of hex-encoded SHA-256 hashes
                              of the authorized client certificates.
                            items:
                              type: string
                            type: array
                          verifyCertificateSpki:
                            description: An optional list of base64-encoded SHA-256
                              hashes of the SPKIs of authorized client certificates.
                            items:
                              type: string
                            type: array
                        type: object
                    required:
                    - port
                    - hosts
                    type: object
                  type: array
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: true
      subresources:
        status: {}
    - name: v1beta1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting edge load balancer. See more details
                at: https://istio.io/docs/reference/config/networking/gateway.html'
              properties:
                selector:
                  additionalProperties:
                    type: string
                  description: One or more labels that indicate a specific set of
                    pods/VMs on which this gateway configuration should be applied.
                  type: object
                servers:
                  description: A list of server specifications.
                  items:
                    properties:
                      bind:
                        description: The ip or the Unix domain socket to which the
                          listener should be bound to.
                        type: string
                      defaultEndpoint:
                        type: string
                      hosts:
                        description: One or more hosts exposed by this gateway.
                        items:
                          type: string
                        type: array
                      name:
                        description: An optional name of the server, when set must
                          be unique across all servers.
                        type: string
                      port:
                        description: The Port on which the proxy should listen for
                          incoming connections.
                        properties:
                          name:
                            description: Label assigned to the port.
                            type: string
                          number:
                            description: A valid non-negative integer port number.
                            type: integer
                          protocol:
                            description: The protocol exposed on the port.
                            type: string
                          targetPort:
                            type: integer
                        required:
                        - number
                        - protocol
                        - name
                        type: object
                      tls:
                        description: Set of TLS related options that govern the server's
                          behavior.
                        properties:
                          caCertificates:
                            description: REQUIRED if mode is `MUTUAL` or `OPTIONAL_MUTUAL`.
                            type: string
                          cipherSuites:
                            description: 'Optional: If specified, only support the
                              specified cipher list.'
                            items:
                              type: string
                            type: array
                          credentialName:
                            description: For gateways running on Kubernetes, the name
                              of the secret that holds the TLS certs including the
                              CA certificates.
                            type: string
                          httpsRedirect:
                            description: If set to true, the load balancer will send
                              a 301 redirect for all http connections, asking the
                              clients to use HTTPS.
                            type: boolean
                          maxProtocolVersion:
                            description: 'Optional: Maximum TLS protocol version.'
                            enum:
                            - TLS_AUTO
                            - TLSV1_0
                            - TLSV1_1
                            - TLSV1_2
                            - TLSV1_3
                            type: string
                          minProtocolVersion:
                            description: 'Optional: Minimum TLS protocol version.'
                            enum:
                            - TLS_AUTO
                            - TLSV1_0
                            - TLSV1_1
                            - TLSV1_2
                            - TLSV1_3
                            type: string
                          mode:
                            description: 'Optional: Indicates whether connections
                              to this port should be secured using TLS.'
                            enum:
                            - PASSTHROUGH
                            - SIMPLE
                            - MUTUAL
                            - AUTO_PASSTHROUGH
                            - ISTIO_MUTUAL
                            - OPTIONAL_MUTUAL
                            type: string
                          privateKey:
                            description: REQUIRED if mode is `SIMPLE` or `MUTUAL`.
                            type: string
                          serverCertificate:
                            description: REQUIRED if mode is `SIMPLE` or `MUTUAL`.
                            type: string
                          subjectAltNames:
                            description: A list of alternate names to verify the subject
                              identity in the certificate presented by the client.
                            items:
                              type: string
                            type: array
                          verifyCertificateHash:
                            description: An optional list of hex-encoded SHA-256 hashes
                              of the authorized client certificates.
                            items:
                              type: string
                            type: array
                          verifyCertificateSpki:
                            description: An optional list of base64-encoded SHA-256
                              hashes of the SPKIs of authorized client certificates.
                            items:
                              type: string
                            type: array
                        type: object
                    required:
                    - port
                    - hosts
                    type: object
                  type: array
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: false
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - istio-io
      - networking-istio-io
      kind: Gateway
      listKind: GatewayList
      plural: gateways
      shortNames:
      - gw
      singular: gateway
    conditions:
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha3
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      api-approved.kubernetes.io: https://github.com/kubernetes-sigs/gateway-api/pull/2466
      gateway.networking.k8s.io/bundle-version: v1.0.0
      gateway.networking.k8s.io/channel: experimental
    creationTimestamp: "2024-04-11T07:49:06Z"
    generation: 1
    name: grpcroutes.gateway.networking.k8s.io
    resourceVersion: "2269544"
    uid: 98b9ffe6-6bed-4fd5-9885-fc6e7db653fe
  spec:
    conversion:
      strategy: None
    group: gateway.networking.k8s.io
    names:
      categories:
      - gateway-api
      kind: GRPCRoute
      listKind: GRPCRouteList
      plural: grpcroutes
      singular: grpcroute
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - jsonPath: .spec.hostnames
        name: Hostnames
        type: string
      - jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1alpha2
      schema:
        openAPIV3Schema:
          description: "GRPCRoute provides a way to route gRPC requests. This includes
            the capability to match requests by hostname, gRPC service, gRPC method,
            or HTTP/2 header. Filters can be used to specify additional processing
            steps. Backends specify where matching requests will be routed. \n GRPCRoute
            falls under extended support within the Gateway API. Within the following
            specification, the word \"MUST\" indicates that an implementation supporting
            GRPCRoute must conform to the indicated requirement, but an implementation
            not supporting this route type need not follow the requirement unless
            explicitly indicated. \n Implementations supporting `GRPCRoute` with the
            `HTTPS` `ProtocolType` MUST accept HTTP/2 connections without an initial
            upgrade from HTTP/1.1, i.e. via ALPN. If the implementation does not support
            this, then it MUST set the \"Accepted\" condition to \"False\" for the
            affected listener with a reason of \"UnsupportedProtocol\".  Implementations
            MAY also accept HTTP/2 connections with an upgrade from HTTP/1. \n Implementations
            supporting `GRPCRoute` with the `HTTP` `ProtocolType` MUST support HTTP/2
            over cleartext TCP (h2c, https://www.rfc-editor.org/rfc/rfc7540#section-3.1)
            without an initial upgrade from HTTP/1.1, i.e. with prior knowledge (https://www.rfc-editor.org/rfc/rfc7540#section-3.4).
            If the implementation does not support this, then it MUST set the \"Accepted\"
            condition to \"False\" for the affected listener with a reason of \"UnsupportedProtocol\".
            Implementations MAY also accept HTTP/2 connections with an upgrade from
            HTTP/1, i.e. without prior knowledge."
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: Spec defines the desired state of GRPCRoute.
              properties:
                hostnames:
                  description: "Hostnames defines a set of hostnames to match against
                    the GRPC Host header to select a GRPCRoute to process the request.
                    This matches the RFC 1123 definition of a hostname with 2 notable
                    exceptions: \n 1. IPs are not allowed. 2. A hostname may be prefixed
                    with a wildcard label (`*.`). The wildcard label MUST appear by
                    itself as the first label. \n If a hostname is specified by both
                    the Listener and GRPCRoute, there MUST be at least one intersecting
                    hostname for the GRPCRoute to be attached to the Listener. For
                    example: \n * A Listener with `test.example.com` as the hostname
                    matches GRPCRoutes that have either not specified any hostnames,
                    or have specified at least one of `test.example.com` or `*.example.com`.
                    * A Listener with `*.example.com` as the hostname matches GRPCRoutes
                    that have either not specified any hostnames or have specified
                    at least one hostname that matches the Listener hostname. For
                    example, `test.example.com` and `*.example.com` would both match.
                    On the other hand, `example.com` and `test.example.net` would
                    not match. \n Hostnames that are prefixed with a wildcard label
                    (`*.`) are interpreted as a suffix match. That means that a match
                    for `*.example.com` would match both `test.example.com`, and `foo.test.example.com`,
                    but not `example.com`. \n If both the Listener and GRPCRoute have
                    specified hostnames, any GRPCRoute hostnames that do not match
                    the Listener hostname MUST be ignored. For example, if a Listener
                    specified `*.example.com`, and the GRPCRoute specified `test.example.com`
                    and `test.example.net`, `test.example.net` MUST NOT be considered
                    for a match. \n If both the Listener and GRPCRoute have specified
                    hostnames, and none match with the criteria above, then the GRPCRoute
                    MUST NOT be accepted by the implementation. The implementation
                    MUST raise an 'Accepted' Condition with a status of `False` in
                    the corresponding RouteParentStatus. \n If a Route (A) of type
                    HTTPRoute or GRPCRoute is attached to a Listener and that listener
                    already has another Route (B) of the other type attached and the
                    intersection of the hostnames of A and B is non-empty, then the
                    implementation MUST accept exactly one of these two routes, determined
                    by the following criteria, in order: \n * The oldest Route based
                    on creation timestamp. * The Route appearing first in alphabetical
                    order by \"{namespace}/{name}\". \n The rejected Route MUST raise
                    an 'Accepted' condition with a status of 'False' in the corresponding
                    RouteParentStatus. \n Support: Core"
                  items:
                    description: "Hostname is the fully qualified domain name of a
                      network host. This matches the RFC 1123 definition of a hostname
                      with 2 notable exceptions: \n 1. IPs are not allowed. 2. A hostname
                      may be prefixed with a wildcard label (`*.`). The wildcard label
                      must appear by itself as the first label. \n Hostname can be
                      \"precise\" which is a domain name without the terminating dot
                      of a network host (e.g. \"foo.example.com\") or \"wildcard\",
                      which is a domain name prefixed with a single wildcard label
                      (e.g. `*.example.com`). \n Note that as per RFC1035 and RFC1123,
                      a *label* must consist of lower case alphanumeric characters
                      or '-', and must start and end with an alphanumeric character.
                      No other punctuation is allowed."
                    maxLength: 253
                    minLength: 1
                    pattern: ^(\*\.)?[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  maxItems: 16
                  type: array
                parentRefs:
                  description: "ParentRefs references the resources (usually Gateways)
                    that a Route wants to be attached to. Note that the referenced
                    parent resource needs to allow this for the attachment to be complete.
                    For Gateways, that means the Gateway needs to allow attachment
                    from Routes of this kind and namespace. For Services, that means
                    the Service must either be in the same namespace for a \"producer\"
                    route, or the mesh implementation must support and allow \"consumer\"
                    routes for the referenced Service. ReferenceGrant is not applicable
                    for governing ParentRefs to Services - it is not possible to create
                    a \"producer\" route for a Service in a different namespace from
                    the Route. \n There are two kinds of parent resources with \"Core\"
                    support: \n * Gateway (Gateway conformance profile)  * Service
                    (Mesh conformance profile, experimental, ClusterIP Services only)
                    \ This API may be extended in the future to support additional
                    kinds of parent resources. \n ParentRefs must be _distinct_. This
                    means either that: \n * They select different objects.  If this
                    is the case, then parentRef entries are distinct. In terms of
                    fields, this means that the multi-part key defined by `group`,
                    `kind`, `namespace`, and `name` must be unique across all parentRef
                    entries in the Route. * They do not select different objects,
                    but for each optional field used, each ParentRef that selects
                    the same object must set the same set of optional fields to different
                    values. If one ParentRef sets a combination of optional fields,
                    all must set the same combination. \n Some examples: \n * If one
                    ParentRef sets `sectionName`, all ParentRefs referencing the same
                    object must also set `sectionName`. * If one ParentRef sets `port`,
                    all ParentRefs referencing the same object must also set `port`.
                    * If one ParentRef sets `sectionName` and `port`, all ParentRefs
                    referencing the same object must also set `sectionName` and `port`.
                    \n It is possible to separately reference multiple distinct objects
                    that may be collapsed by an implementation. For example, some
                    implementations may choose to merge compatible Gateway Listeners
                    together. If that is the case, the list of routes attached to
                    those resources should also be merged. \n Note that for ParentRefs
                    that cross namespace boundaries, there are specific rules. Cross-namespace
                    references are only valid if they are explicitly allowed by something
                    in the namespace they are referring to. For example, Gateway has
                    the AllowedRoutes field, and ReferenceGrant provides a generic
                    way to enable other kinds of cross-namespace reference. \n  ParentRefs
                    from a Route to a Service in the same namespace are \"producer\"
                    routes, which apply default routing rules to inbound connections
                    from any namespace to the Service. \n ParentRefs from a Route
                    to a Service in a different namespace are \"consumer\" routes,
                    and these routing rules are only applied to outbound connections
                    originating from the same namespace as the Route, for which the
                    intended destination of the connections are a Service targeted
                    as a ParentRef of the Route.  \n "
                  items:
                    description: "ParentReference identifies an API object (usually
                      a Gateway) that can be considered a parent of this resource
                      (usually a route). There are two kinds of parent resources with
                      \"Core\" support: \n * Gateway (Gateway conformance profile)
                      * Service (Mesh conformance profile, experimental, ClusterIP
                      Services only) \n This API may be extended in the future to
                      support additional kinds of parent resources. \n The API object
                      must be valid in the cluster; the Group and Kind must be registered
                      in the cluster for this reference to be valid."
                    properties:
                      group:
                        default: gateway.networking.k8s.io
                        description: "Group is the group of the referent. When unspecified,
                          \"gateway.networking.k8s.io\" is inferred. To set the core
                          API group (such as for a \"Service\" kind referent), Group
                          must be explicitly set to \"\" (empty string). \n Support:
                          Core"
                        maxLength: 253
                        pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                      kind:
                        default: Gateway
                        description: "Kind is kind of the referent. \n There are two
                          kinds of parent resources with \"Core\" support: \n * Gateway
                          (Gateway conformance profile) * Service (Mesh conformance
                          profile, experimental, ClusterIP Services only) \n Support
                          for other resources is Implementation-Specific."
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                        type: string
                      name:
                        description: "Name is the name of the referent. \n Support:
                          Core"
                        maxLength: 253
                        minLength: 1
                        type: string
                      namespace:
                        description: "Namespace is the namespace of the referent.
                          When unspecified, this refers to the local namespace of
                          the Route. \n Note that there are specific rules for ParentRefs
                          which cross namespace boundaries. Cross-namespace references
                          are only valid if they are explicitly allowed by something
                          in the namespace they are referring to. For example: Gateway
                          has the AllowedRoutes field, and ReferenceGrant provides
                          a generic way to enable any other kind of cross-namespace
                          reference. \n  ParentRefs from a Route to a Service in the
                          same namespace are \"producer\" routes, which apply default
                          routing rules to inbound connections from any namespace
                          to the Service. \n ParentRefs from a Route to a Service
                          in a different namespace are \"consumer\" routes, and these
                          routing rules are only applied to outbound connections originating
                          from the same namespace as the Route, for which the intended
                          destination of the connections are a Service targeted as
                          a ParentRef of the Route.  \n Support: Core"
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                        type: string
                      port:
                        description: "Port is the network port this Route targets.
                          It can be interpreted differently based on the type of parent
                          resource. \n When the parent resource is a Gateway, this
                          targets all listeners listening on the specified port that
                          also support this kind of Route(and select this Route).
                          It's not recommended to set `Port` unless the networking
                          behaviors specified in a Route must apply to a specific
                          port as opposed to a listener(s) whose port(s) may be changed.
                          When both Port and SectionName are specified, the name and
                          port of the selected listener must match both specified
                          values. \n  When the parent resource is a Service, this
                          targets a specific port in the Service spec. When both Port
                          (experimental) and SectionName are specified, the name and
                          port of the selected port must match both specified values.
                          \ \n Implementations MAY choose to support other parent
                          resources. Implementations supporting other types of parent
                          resources MUST clearly document how/if Port is interpreted.
                          \n For the purpose of status, an attachment is considered
                          successful as long as the parent resource accepts it partially.
                          For example, Gateway listeners can restrict which Routes
                          can attach to them by Route kind, namespace, or hostname.
                          If 1 of 2 Gateway listeners accept attachment from the referencing
                          Route, the Route MUST be considered successfully attached.
                          If no Gateway listeners accept attachment from this Route,
                          the Route MUST be considered detached from the Gateway.
                          \n Support: Extended \n "
                        format: int32
                        maximum: 65535
                        minimum: 1
                        type: integer
                      sectionName:
                        description: "SectionName is the name of a section within
                          the target resource. In the following resources, SectionName
                          is interpreted as the following: \n * Gateway: Listener
                          Name. When both Port (experimental) and SectionName are
                          specified, the name and port of the selected listener must
                          match both specified values. * Service: Port Name. When
                          both Port (experimental) and SectionName are specified,
                          the name and port of the selected listener must match both
                          specified values. Note that attaching Routes to Services
                          as Parents is part of experimental Mesh support and is not
                          supported for any other purpose. \n Implementations MAY
                          choose to support attaching Routes to other resources. If
                          that is the case, they MUST clearly document how SectionName
                          is interpreted. \n When unspecified (empty string), this
                          will reference the entire resource. For the purpose of status,
                          an attachment is considered successful if at least one section
                          in the parent resource accepts it. For example, Gateway
                          listeners can restrict which Routes can attach to them by
                          Route kind, namespace, or hostname. If 1 of 2 Gateway listeners
                          accept attachment from the referencing Route, the Route
                          MUST be considered successfully attached. If no Gateway
                          listeners accept attachment from this Route, the Route MUST
                          be considered detached from the Gateway. \n Support: Core"
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                    required:
                    - name
                    type: object
                  maxItems: 32
                  type: array
                  x-kubernetes-validations:
                  - message: sectionName or port must be specified when parentRefs
                      includes 2 or more references to the same parent
                    rule: 'self.all(p1, self.all(p2, p1.group == p2.group && p1.kind
                      == p2.kind && p1.name == p2.name && (((!has(p1.__namespace__)
                      || p1.__namespace__ == '''') && (!has(p2.__namespace__) || p2.__namespace__
                      == '''')) || (has(p1.__namespace__) && has(p2.__namespace__)
                      && p1.__namespace__ == p2.__namespace__)) ? ((!has(p1.sectionName)
                      || p1.sectionName == '''') == (!has(p2.sectionName) || p2.sectionName
                      == '''') && (!has(p1.port) || p1.port == 0) == (!has(p2.port)
                      || p2.port == 0)): true))'
                  - message: sectionName or port must be unique when parentRefs includes
                      2 or more references to the same parent
                    rule: self.all(p1, self.exists_one(p2, p1.group == p2.group &&
                      p1.kind == p2.kind && p1.name == p2.name && (((!has(p1.__namespace__)
                      || p1.__namespace__ == '') && (!has(p2.__namespace__) || p2.__namespace__
                      == '')) || (has(p1.__namespace__) && has(p2.__namespace__) &&
                      p1.__namespace__ == p2.__namespace__ )) && (((!has(p1.sectionName)
                      || p1.sectionName == '') && (!has(p2.sectionName) || p2.sectionName
                      == '')) || ( has(p1.sectionName) && has(p2.sectionName) && p1.sectionName
                      == p2.sectionName)) && (((!has(p1.port) || p1.port == 0) &&
                      (!has(p2.port) || p2.port == 0)) || (has(p1.port) && has(p2.port)
                      && p1.port == p2.port))))
                rules:
                  description: Rules are a list of GRPC matchers, filters and actions.
                  items:
                    description: GRPCRouteRule defines the semantics for matching
                      a gRPC request based on conditions (matches), processing it
                      (filters), and forwarding the request to an API object (backendRefs).
                    properties:
                      backendRefs:
                        description: "BackendRefs defines the backend(s) where matching
                          requests should be sent. \n Failure behavior here depends
                          on how many BackendRefs are specified and how many are invalid.
                          \n If *all* entries in BackendRefs are invalid, and there
                          are also no filters specified in this route rule, *all*
                          traffic which matches this rule MUST receive an `UNAVAILABLE`
                          status. \n See the GRPCBackendRef definition for the rules
                          about what makes a single GRPCBackendRef invalid. \n When
                          a GRPCBackendRef is invalid, `UNAVAILABLE` statuses MUST
                          be returned for requests that would have otherwise been
                          routed to an invalid backend. If multiple backends are specified,
                          and some are invalid, the proportion of requests that would
                          otherwise have been routed to an invalid backend MUST receive
                          an `UNAVAILABLE` status. \n For example, if two backends
                          are specified with equal weights, and one is invalid, 50
                          percent of traffic MUST receive an `UNAVAILABLE` status.
                          Implementations may choose how that 50 percent is determined.
                          \n Support: Core for Kubernetes Service \n Support: Implementation-specific
                          for any other resource \n Support for weight: Core"
                        items:
                          description: "GRPCBackendRef defines how a GRPCRoute forwards
                            a gRPC request. \n Note that when a namespace different
                            than the local namespace is specified, a ReferenceGrant
                            object is required in the referent namespace to allow
                            that namespace's owner to accept the reference. See the
                            ReferenceGrant documentation for details. \n <gateway:experimental:description>
                            \n When the BackendRef points to a Kubernetes Service,
                            implementations SHOULD honor the appProtocol field if
                            it is set for the target Service Port. \n Implementations
                            supporting appProtocol SHOULD recognize the Kubernetes
                            Standard Application Protocols defined in KEP-3726. \n
                            If a Service appProtocol isn't specified, an implementation
                            MAY infer the backend protocol through its own means.
                            Implementations MAY infer the protocol from the Route
                            type referring to the backend Service. \n If a Route is
                            not able to send traffic to the backend using the specified
                            protocol then the backend is considered invalid. Implementations
                            MUST set the \"ResolvedRefs\" condition to \"False\" with
                            the \"UnsupportedProtocol\" reason. \n </gateway:experimental:description>"
                          properties:
                            filters:
                              description: "Filters defined at this level MUST be
                                executed if and only if the request is being forwarded
                                to the backend defined here. \n Support: Implementation-specific
                                (For broader support of filters, use the Filters field
                                in GRPCRouteRule.)"
                              items:
                                description: GRPCRouteFilter defines processing steps
                                  that must be completed during the request or response
                                  lifecycle. GRPCRouteFilters are meant as an extension
                                  point to express processing that may be done in
                                  Gateway implementations. Some examples include request
                                  or response modification, implementing authentication
                                  strategies, rate-limiting, and traffic shaping.
                                  API guarantee/conformance is defined based on the
                                  type of the filter.
                                properties:
                                  extensionRef:
                                    description: "ExtensionRef is an optional, implementation-specific
                                      extension to the \"filter\" behavior.  For example,
                                      resource \"myroutefilter\" in group \"networking.example.net\").
                                      ExtensionRef MUST NOT be used for core and extended
                                      filters. \n Support: Implementation-specific
                                      \n This filter can be used multiple times within
                                      the same rule."
                                    properties:
                                      group:
                                        description: Group is the group of the referent.
                                          For example, "gateway.networking.k8s.io".
                                          When unspecified or empty string, core API
                                          group is inferred.
                                        maxLength: 253
                                        pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                        type: string
                                      kind:
                                        description: Kind is kind of the referent.
                                          For example "HTTPRoute" or "Service".
                                        maxLength: 63
                                        minLength: 1
                                        pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                        type: string
                                      name:
                                        description: Name is the name of the referent.
                                        maxLength: 253
                                        minLength: 1
                                        type: string
                                    required:
                                    - group
                                    - kind
                                    - name
                                    type: object
                                  requestHeaderModifier:
                                    description: "RequestHeaderModifier defines a
                                      schema for a filter that modifies request headers.
                                      \n Support: Core"
                                    properties:
                                      add:
                                        description: "Add adds the given header(s)
                                          (name, value) to the request before the
                                          action. It appends to any existing values
                                          associated with the header name. \n Input:
                                          GET /foo HTTP/1.1 my-header: foo \n Config:
                                          add: - name: \"my-header\" value: \"bar,baz\"
                                          \n Output: GET /foo HTTP/1.1 my-header:
                                          foo,bar,baz"
                                        items:
                                          description: HTTPHeader represents an HTTP
                                            Header name and value as defined by RFC
                                            7230.
                                          properties:
                                            name:
                                              description: "Name is the name of the
                                                HTTP Header to be matched. Name matching
                                                MUST be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                                \n If multiple entries specify equivalent
                                                header names, the first entry with
                                                an equivalent name MUST be considered
                                                for a match. Subsequent entries with
                                                an equivalent header name MUST be
                                                ignored. Due to the case-insensitivity
                                                of header names, \"foo\" and \"Foo\"
                                                are considered equivalent."
                                              maxLength: 256
                                              minLength: 1
                                              pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                              type: string
                                            value:
                                              description: Value is the value of HTTP
                                                Header to be matched.
                                              maxLength: 4096
                                              minLength: 1
                                              type: string
                                          required:
                                          - name
                                          - value
                                          type: object
                                        maxItems: 16
                                        type: array
                                        x-kubernetes-list-map-keys:
                                        - name
                                        x-kubernetes-list-type: map
                                      remove:
                                        description: "Remove the given header(s) from
                                          the HTTP request before the action. The
                                          value of Remove is a list of HTTP header
                                          names. Note that the header names are case-insensitive
                                          (see https://datatracker.ietf.org/doc/html/rfc2616#section-4.2).
                                          \n Input: GET /foo HTTP/1.1 my-header1:
                                          foo my-header2: bar my-header3: baz \n Config:
                                          remove: [\"my-header1\", \"my-header3\"]
                                          \n Output: GET /foo HTTP/1.1 my-header2:
                                          bar"
                                        items:
                                          type: string
                                        maxItems: 16
                                        type: array
                                        x-kubernetes-list-type: set
                                      set:
                                        description: "Set overwrites the request with
                                          the given header (name, value) before the
                                          action. \n Input: GET /foo HTTP/1.1 my-header:
                                          foo \n Config: set: - name: \"my-header\"
                                          value: \"bar\" \n Output: GET /foo HTTP/1.1
                                          my-header: bar"
                                        items:
                                          description: HTTPHeader represents an HTTP
                                            Header name and value as defined by RFC
                                            7230.
                                          properties:
                                            name:
                                              description: "Name is the name of the
                                                HTTP Header to be matched. Name matching
                                                MUST be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                                \n If multiple entries specify equivalent
                                                header names, the first entry with
                                                an equivalent name MUST be considered
                                                for a match. Subsequent entries with
                                                an equivalent header name MUST be
                                                ignored. Due to the case-insensitivity
                                                of header names, \"foo\" and \"Foo\"
                                                are considered equivalent."
                                              maxLength: 256
                                              minLength: 1
                                              pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                              type: string
                                            value:
                                              description: Value is the value of HTTP
                                                Header to be matched.
                                              maxLength: 4096
                                              minLength: 1
                                              type: string
                                          required:
                                          - name
                                          - value
                                          type: object
                                        maxItems: 16
                                        type: array
                                        x-kubernetes-list-map-keys:
                                        - name
                                        x-kubernetes-list-type: map
                                    type: object
                                  requestMirror:
                                    description: "RequestMirror defines a schema for
                                      a filter that mirrors requests. Requests are
                                      sent to the specified destination, but responses
                                      from that destination are ignored. \n This filter
                                      can be used multiple times within the same rule.
                                      Note that not all implementations will be able
                                      to support mirroring to multiple backends. \n
                                      Support: Extended"
                                    properties:
                                      backendRef:
                                        description: "BackendRef references a resource
                                          where mirrored requests are sent. \n Mirrored
                                          requests must be sent only to a single destination
                                          endpoint within this BackendRef, irrespective
                                          of how many endpoints are present within
                                          this BackendRef. \n If the referent cannot
                                          be found, this BackendRef is invalid and
                                          must be dropped from the Gateway. The controller
                                          must ensure the \"ResolvedRefs\" condition
                                          on the Route status is set to `status: False`
                                          and not configure this backend in the underlying
                                          implementation. \n If there is a cross-namespace
                                          reference to an *existing* object that is
                                          not allowed by a ReferenceGrant, the controller
                                          must ensure the \"ResolvedRefs\"  condition
                                          on the Route is set to `status: False`,
                                          with the \"RefNotPermitted\" reason and
                                          not configure this backend in the underlying
                                          implementation. \n In either error case,
                                          the Message of the `ResolvedRefs` Condition
                                          should be used to provide more detail about
                                          the problem. \n Support: Extended for Kubernetes
                                          Service \n Support: Implementation-specific
                                          for any other resource"
                                        properties:
                                          group:
                                            default: ""
                                            description: Group is the group of the
                                              referent. For example, "gateway.networking.k8s.io".
                                              When unspecified or empty string, core
                                              API group is inferred.
                                            maxLength: 253
                                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                            type: string
                                          kind:
                                            default: Service
                                            description: "Kind is the Kubernetes resource
                                              kind of the referent. For example \"Service\".
                                              \n Defaults to \"Service\" when not
                                              specified. \n ExternalName services
                                              can refer to CNAME DNS records that
                                              may live outside of the cluster and
                                              as such are difficult to reason about
                                              in terms of conformance. They also may
                                              not be safe to forward to (see CVE-2021-25740
                                              for more information). Implementations
                                              SHOULD NOT support ExternalName Services.
                                              \n Support: Core (Services with a type
                                              other than ExternalName) \n Support:
                                              Implementation-specific (Services with
                                              type ExternalName)"
                                            maxLength: 63
                                            minLength: 1
                                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                            type: string
                                          name:
                                            description: Name is the name of the referent.
                                            maxLength: 253
                                            minLength: 1
                                            type: string
                                          namespace:
                                            description: "Namespace is the namespace
                                              of the backend. When unspecified, the
                                              local namespace is inferred. \n Note
                                              that when a namespace different than
                                              the local namespace is specified, a
                                              ReferenceGrant object is required in
                                              the referent namespace to allow that
                                              namespace's owner to accept the reference.
                                              See the ReferenceGrant documentation
                                              for details. \n Support: Core"
                                            maxLength: 63
                                            minLength: 1
                                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                            type: string
                                          port:
                                            description: Port specifies the destination
                                              port number to use for this resource.
                                              Port is required when the referent is
                                              a Kubernetes Service. In this case,
                                              the port number is the service port
                                              number, not the target port. For other
                                              resources, destination port might be
                                              derived from the referent resource or
                                              this field.
                                            format: int32
                                            maximum: 65535
                                            minimum: 1
                                            type: integer
                                        required:
                                        - name
                                        type: object
                                        x-kubernetes-validations:
                                        - message: Must have port for Service reference
                                          rule: '(size(self.group) == 0 && self.kind
                                            == ''Service'') ? has(self.port) : true'
                                    required:
                                    - backendRef
                                    type: object
                                  responseHeaderModifier:
                                    description: "ResponseHeaderModifier defines a
                                      schema for a filter that modifies response headers.
                                      \n Support: Extended"
                                    properties:
                                      add:
                                        description: "Add adds the given header(s)
                                          (name, value) to the request before the
                                          action. It appends to any existing values
                                          associated with the header name. \n Input:
                                          GET /foo HTTP/1.1 my-header: foo \n Config:
                                          add: - name: \"my-header\" value: \"bar,baz\"
                                          \n Output: GET /foo HTTP/1.1 my-header:
                                          foo,bar,baz"
                                        items:
                                          description: HTTPHeader represents an HTTP
                                            Header name and value as defined by RFC
                                            7230.
                                          properties:
                                            name:
                                              description: "Name is the name of the
                                                HTTP Header to be matched. Name matching
                                                MUST be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                                \n If multiple entries specify equivalent
                                                header names, the first entry with
                                                an equivalent name MUST be considered
                                                for a match. Subsequent entries with
                                                an equivalent header name MUST be
                                                ignored. Due to the case-insensitivity
                                                of header names, \"foo\" and \"Foo\"
                                                are considered equivalent."
                                              maxLength: 256
                                              minLength: 1
                                              pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                              type: string
                                            value:
                                              description: Value is the value of HTTP
                                                Header to be matched.
                                              maxLength: 4096
                                              minLength: 1
                                              type: string
                                          required:
                                          - name
                                          - value
                                          type: object
                                        maxItems: 16
                                        type: array
                                        x-kubernetes-list-map-keys:
                                        - name
                                        x-kubernetes-list-type: map
                                      remove:
                                        description: "Remove the given header(s) from
                                          the HTTP request before the action. The
                                          value of Remove is a list of HTTP header
                                          names. Note that the header names are case-insensitive
                                          (see https://datatracker.ietf.org/doc/html/rfc2616#section-4.2).
                                          \n Input: GET /foo HTTP/1.1 my-header1:
                                          foo my-header2: bar my-header3: baz \n Config:
                                          remove: [\"my-header1\", \"my-header3\"]
                                          \n Output: GET /foo HTTP/1.1 my-header2:
                                          bar"
                                        items:
                                          type: string
                                        maxItems: 16
                                        type: array
                                        x-kubernetes-list-type: set
                                      set:
                                        description: "Set overwrites the request with
                                          the given header (name, value) before the
                                          action. \n Input: GET /foo HTTP/1.1 my-header:
                                          foo \n Config: set: - name: \"my-header\"
                                          value: \"bar\" \n Output: GET /foo HTTP/1.1
                                          my-header: bar"
                                        items:
                                          description: HTTPHeader represents an HTTP
                                            Header name and value as defined by RFC
                                            7230.
                                          properties:
                                            name:
                                              description: "Name is the name of the
                                                HTTP Header to be matched. Name matching
                                                MUST be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                                \n If multiple entries specify equivalent
                                                header names, the first entry with
                                                an equivalent name MUST be considered
                                                for a match. Subsequent entries with
                                                an equivalent header name MUST be
                                                ignored. Due to the case-insensitivity
                                                of header names, \"foo\" and \"Foo\"
                                                are considered equivalent."
                                              maxLength: 256
                                              minLength: 1
                                              pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                              type: string
                                            value:
                                              description: Value is the value of HTTP
                                                Header to be matched.
                                              maxLength: 4096
                                              minLength: 1
                                              type: string
                                          required:
                                          - name
                                          - value
                                          type: object
                                        maxItems: 16
                                        type: array
                                        x-kubernetes-list-map-keys:
                                        - name
                                        x-kubernetes-list-type: map
                                    type: object
                                  type:
                                    description: "Type identifies the type of filter
                                      to apply. As with other API fields, types are
                                      classified into three conformance levels: \n
                                      - Core: Filter types and their corresponding
                                      configuration defined by \"Support: Core\" in
                                      this package, e.g. \"RequestHeaderModifier\".
                                      All implementations supporting GRPCRoute MUST
                                      support core filters. \n - Extended: Filter
                                      types and their corresponding configuration
                                      defined by \"Support: Extended\" in this package,
                                      e.g. \"RequestMirror\". Implementers are encouraged
                                      to support extended filters. \n - Implementation-specific:
                                      Filters that are defined and supported by specific
                                      vendors. In the future, filters showing convergence
                                      in behavior across multiple implementations
                                      will be considered for inclusion in extended
                                      or core conformance levels. Filter-specific
                                      configuration for such filters is specified
                                      using the ExtensionRef field. `Type` MUST be
                                      set to \"ExtensionRef\" for custom filters.
                                      \n Implementers are encouraged to define custom
                                      implementation types to extend the core API
                                      with implementation-specific behavior. \n If
                                      a reference to a custom filter type cannot be
                                      resolved, the filter MUST NOT be skipped. Instead,
                                      requests that would have been processed by that
                                      filter MUST receive a HTTP error response. \n "
                                    enum:
                                    - ResponseHeaderModifier
                                    - RequestHeaderModifier
                                    - RequestMirror
                                    - ExtensionRef
                                    type: string
                                required:
                                - type
                                type: object
                                x-kubernetes-validations:
                                - message: filter.requestHeaderModifier must be nil
                                    if the filter.type is not RequestHeaderModifier
                                  rule: '!(has(self.requestHeaderModifier) && self.type
                                    != ''RequestHeaderModifier'')'
                                - message: filter.requestHeaderModifier must be specified
                                    for RequestHeaderModifier filter.type
                                  rule: '!(!has(self.requestHeaderModifier) && self.type
                                    == ''RequestHeaderModifier'')'
                                - message: filter.responseHeaderModifier must be nil
                                    if the filter.type is not ResponseHeaderModifier
                                  rule: '!(has(self.responseHeaderModifier) && self.type
                                    != ''ResponseHeaderModifier'')'
                                - message: filter.responseHeaderModifier must be specified
                                    for ResponseHeaderModifier filter.type
                                  rule: '!(!has(self.responseHeaderModifier) && self.type
                                    == ''ResponseHeaderModifier'')'
                                - message: filter.requestMirror must be nil if the
                                    filter.type is not RequestMirror
                                  rule: '!(has(self.requestMirror) && self.type !=
                                    ''RequestMirror'')'
                                - message: filter.requestMirror must be specified
                                    for RequestMirror filter.type
                                  rule: '!(!has(self.requestMirror) && self.type ==
                                    ''RequestMirror'')'
                                - message: filter.extensionRef must be nil if the
                                    filter.type is not ExtensionRef
                                  rule: '!(has(self.extensionRef) && self.type !=
                                    ''ExtensionRef'')'
                                - message: filter.extensionRef must be specified for
                                    ExtensionRef filter.type
                                  rule: '!(!has(self.extensionRef) && self.type ==
                                    ''ExtensionRef'')'
                              maxItems: 16
                              type: array
                              x-kubernetes-validations:
                              - message: RequestHeaderModifier filter cannot be repeated
                                rule: self.filter(f, f.type == 'RequestHeaderModifier').size()
                                  <= 1
                              - message: ResponseHeaderModifier filter cannot be repeated
                                rule: self.filter(f, f.type == 'ResponseHeaderModifier').size()
                                  <= 1
                            group:
                              default: ""
                              description: Group is the group of the referent. For
                                example, "gateway.networking.k8s.io". When unspecified
                                or empty string, core API group is inferred.
                              maxLength: 253
                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                            kind:
                              default: Service
                              description: "Kind is the Kubernetes resource kind of
                                the referent. For example \"Service\". \n Defaults
                                to \"Service\" when not specified. \n ExternalName
                                services can refer to CNAME DNS records that may live
                                outside of the cluster and as such are difficult to
                                reason about in terms of conformance. They also may
                                not be safe to forward to (see CVE-2021-25740 for
                                more information). Implementations SHOULD NOT support
                                ExternalName Services. \n Support: Core (Services
                                with a type other than ExternalName) \n Support: Implementation-specific
                                (Services with type ExternalName)"
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                              type: string
                            name:
                              description: Name is the name of the referent.
                              maxLength: 253
                              minLength: 1
                              type: string
                            namespace:
                              description: "Namespace is the namespace of the backend.
                                When unspecified, the local namespace is inferred.
                                \n Note that when a namespace different than the local
                                namespace is specified, a ReferenceGrant object is
                                required in the referent namespace to allow that namespace's
                                owner to accept the reference. See the ReferenceGrant
                                documentation for details. \n Support: Core"
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                              type: string
                            port:
                              description: Port specifies the destination port number
                                to use for this resource. Port is required when the
                                referent is a Kubernetes Service. In this case, the
                                port number is the service port number, not the target
                                port. For other resources, destination port might
                                be derived from the referent resource or this field.
                              format: int32
                              maximum: 65535
                              minimum: 1
                              type: integer
                            weight:
                              default: 1
                              description: "Weight specifies the proportion of requests
                                forwarded to the referenced backend. This is computed
                                as weight/(sum of all weights in this BackendRefs
                                list). For non-zero values, there may be some epsilon
                                from the exact proportion defined here depending on
                                the precision an implementation supports. Weight is
                                not a percentage and the sum of weights does not need
                                to equal 100. \n If only one backend is specified
                                and it has a weight greater than 0, 100% of the traffic
                                is forwarded to that backend. If weight is set to
                                0, no traffic should be forwarded for this entry.
                                If unspecified, weight defaults to 1. \n Support for
                                this field varies based on the context where used."
                              format: int32
                              maximum: 1000000
                              minimum: 0
                              type: integer
                          required:
                          - name
                          type: object
                          x-kubernetes-validations:
                          - message: Must have port for Service reference
                            rule: '(size(self.group) == 0 && self.kind == ''Service'')
                              ? has(self.port) : true'
                        maxItems: 16
                        type: array
                      filters:
                        description: "Filters define the filters that are applied
                          to requests that match this rule. \n The effects of ordering
                          of multiple behaviors are currently unspecified. This can
                          change in the future based on feedback during the alpha
                          stage. \n Conformance-levels at this level are defined based
                          on the type of filter: \n - ALL core filters MUST be supported
                          by all implementations that support GRPCRoute. - Implementers
                          are encouraged to support extended filters. - Implementation-specific
                          custom filters have no API guarantees across implementations.
                          \n Specifying the same filter multiple times is not supported
                          unless explicitly indicated in the filter. \n If an implementation
                          can not support a combination of filters, it must clearly
                          document that limitation. In cases where incompatible or
                          unsupported filters are specified and cause the `Accepted`
                          condition to be set to status `False`, implementations may
                          use the `IncompatibleFilters` reason to specify this configuration
                          error. \n Support: Core"
                        items:
                          description: GRPCRouteFilter defines processing steps that
                            must be completed during the request or response lifecycle.
                            GRPCRouteFilters are meant as an extension point to express
                            processing that may be done in Gateway implementations.
                            Some examples include request or response modification,
                            implementing authentication strategies, rate-limiting,
                            and traffic shaping. API guarantee/conformance is defined
                            based on the type of the filter.
                          properties:
                            extensionRef:
                              description: "ExtensionRef is an optional, implementation-specific
                                extension to the \"filter\" behavior.  For example,
                                resource \"myroutefilter\" in group \"networking.example.net\").
                                ExtensionRef MUST NOT be used for core and extended
                                filters. \n Support: Implementation-specific \n This
                                filter can be used multiple times within the same
                                rule."
                              properties:
                                group:
                                  description: Group is the group of the referent.
                                    For example, "gateway.networking.k8s.io". When
                                    unspecified or empty string, core API group is
                                    inferred.
                                  maxLength: 253
                                  pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                  type: string
                                kind:
                                  description: Kind is kind of the referent. For example
                                    "HTTPRoute" or "Service".
                                  maxLength: 63
                                  minLength: 1
                                  pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                  type: string
                                name:
                                  description: Name is the name of the referent.
                                  maxLength: 253
                                  minLength: 1
                                  type: string
                              required:
                              - group
                              - kind
                              - name
                              type: object
                            requestHeaderModifier:
                              description: "RequestHeaderModifier defines a schema
                                for a filter that modifies request headers. \n Support:
                                Core"
                              properties:
                                add:
                                  description: "Add adds the given header(s) (name,
                                    value) to the request before the action. It appends
                                    to any existing values associated with the header
                                    name. \n Input: GET /foo HTTP/1.1 my-header: foo
                                    \n Config: add: - name: \"my-header\" value: \"bar,baz\"
                                    \n Output: GET /foo HTTP/1.1 my-header: foo,bar,baz"
                                  items:
                                    description: HTTPHeader represents an HTTP Header
                                      name and value as defined by RFC 7230.
                                    properties:
                                      name:
                                        description: "Name is the name of the HTTP
                                          Header to be matched. Name matching MUST
                                          be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                          \n If multiple entries specify equivalent
                                          header names, the first entry with an equivalent
                                          name MUST be considered for a match. Subsequent
                                          entries with an equivalent header name MUST
                                          be ignored. Due to the case-insensitivity
                                          of header names, \"foo\" and \"Foo\" are
                                          considered equivalent."
                                        maxLength: 256
                                        minLength: 1
                                        pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                        type: string
                                      value:
                                        description: Value is the value of HTTP Header
                                          to be matched.
                                        maxLength: 4096
                                        minLength: 1
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  maxItems: 16
                                  type: array
                                  x-kubernetes-list-map-keys:
                                  - name
                                  x-kubernetes-list-type: map
                                remove:
                                  description: "Remove the given header(s) from the
                                    HTTP request before the action. The value of Remove
                                    is a list of HTTP header names. Note that the
                                    header names are case-insensitive (see https://datatracker.ietf.org/doc/html/rfc2616#section-4.2).
                                    \n Input: GET /foo HTTP/1.1 my-header1: foo my-header2:
                                    bar my-header3: baz \n Config: remove: [\"my-header1\",
                                    \"my-header3\"] \n Output: GET /foo HTTP/1.1 my-header2:
                                    bar"
                                  items:
                                    type: string
                                  maxItems: 16
                                  type: array
                                  x-kubernetes-list-type: set
                                set:
                                  description: "Set overwrites the request with the
                                    given header (name, value) before the action.
                                    \n Input: GET /foo HTTP/1.1 my-header: foo \n
                                    Config: set: - name: \"my-header\" value: \"bar\"
                                    \n Output: GET /foo HTTP/1.1 my-header: bar"
                                  items:
                                    description: HTTPHeader represents an HTTP Header
                                      name and value as defined by RFC 7230.
                                    properties:
                                      name:
                                        description: "Name is the name of the HTTP
                                          Header to be matched. Name matching MUST
                                          be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                          \n If multiple entries specify equivalent
                                          header names, the first entry with an equivalent
                                          name MUST be considered for a match. Subsequent
                                          entries with an equivalent header name MUST
                                          be ignored. Due to the case-insensitivity
                                          of header names, \"foo\" and \"Foo\" are
                                          considered equivalent."
                                        maxLength: 256
                                        minLength: 1
                                        pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                        type: string
                                      value:
                                        description: Value is the value of HTTP Header
                                          to be matched.
                                        maxLength: 4096
                                        minLength: 1
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  maxItems: 16
                                  type: array
                                  x-kubernetes-list-map-keys:
                                  - name
                                  x-kubernetes-list-type: map
                              type: object
                            requestMirror:
                              description: "RequestMirror defines a schema for a filter
                                that mirrors requests. Requests are sent to the specified
                                destination, but responses from that destination are
                                ignored. \n This filter can be used multiple times
                                within the same rule. Note that not all implementations
                                will be able to support mirroring to multiple backends.
                                \n Support: Extended"
                              properties:
                                backendRef:
                                  description: "BackendRef references a resource where
                                    mirrored requests are sent. \n Mirrored requests
                                    must be sent only to a single destination endpoint
                                    within this BackendRef, irrespective of how many
                                    endpoints are present within this BackendRef.
                                    \n If the referent cannot be found, this BackendRef
                                    is invalid and must be dropped from the Gateway.
                                    The controller must ensure the \"ResolvedRefs\"
                                    condition on the Route status is set to `status:
                                    False` and not configure this backend in the underlying
                                    implementation. \n If there is a cross-namespace
                                    reference to an *existing* object that is not
                                    allowed by a ReferenceGrant, the controller must
                                    ensure the \"ResolvedRefs\"  condition on the
                                    Route is set to `status: False`, with the \"RefNotPermitted\"
                                    reason and not configure this backend in the underlying
                                    implementation. \n In either error case, the Message
                                    of the `ResolvedRefs` Condition should be used
                                    to provide more detail about the problem. \n Support:
                                    Extended for Kubernetes Service \n Support: Implementation-specific
                                    for any other resource"
                                  properties:
                                    group:
                                      default: ""
                                      description: Group is the group of the referent.
                                        For example, "gateway.networking.k8s.io".
                                        When unspecified or empty string, core API
                                        group is inferred.
                                      maxLength: 253
                                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                      type: string
                                    kind:
                                      default: Service
                                      description: "Kind is the Kubernetes resource
                                        kind of the referent. For example \"Service\".
                                        \n Defaults to \"Service\" when not specified.
                                        \n ExternalName services can refer to CNAME
                                        DNS records that may live outside of the cluster
                                        and as such are difficult to reason about
                                        in terms of conformance. They also may not
                                        be safe to forward to (see CVE-2021-25740
                                        for more information). Implementations SHOULD
                                        NOT support ExternalName Services. \n Support:
                                        Core (Services with a type other than ExternalName)
                                        \n Support: Implementation-specific (Services
                                        with type ExternalName)"
                                      maxLength: 63
                                      minLength: 1
                                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                      type: string
                                    name:
                                      description: Name is the name of the referent.
                                      maxLength: 253
                                      minLength: 1
                                      type: string
                                    namespace:
                                      description: "Namespace is the namespace of
                                        the backend. When unspecified, the local namespace
                                        is inferred. \n Note that when a namespace
                                        different than the local namespace is specified,
                                        a ReferenceGrant object is required in the
                                        referent namespace to allow that namespace's
                                        owner to accept the reference. See the ReferenceGrant
                                        documentation for details. \n Support: Core"
                                      maxLength: 63
                                      minLength: 1
                                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                      type: string
                                    port:
                                      description: Port specifies the destination
                                        port number to use for this resource. Port
                                        is required when the referent is a Kubernetes
                                        Service. In this case, the port number is
                                        the service port number, not the target port.
                                        For other resources, destination port might
                                        be derived from the referent resource or this
                                        field.
                                      format: int32
                                      maximum: 65535
                                      minimum: 1
                                      type: integer
                                  required:
                                  - name
                                  type: object
                                  x-kubernetes-validations:
                                  - message: Must have port for Service reference
                                    rule: '(size(self.group) == 0 && self.kind ==
                                      ''Service'') ? has(self.port) : true'
                              required:
                              - backendRef
                              type: object
                            responseHeaderModifier:
                              description: "ResponseHeaderModifier defines a schema
                                for a filter that modifies response headers. \n Support:
                                Extended"
                              properties:
                                add:
                                  description: "Add adds the given header(s) (name,
                                    value) to the request before the action. It appends
                                    to any existing values associated with the header
                                    name. \n Input: GET /foo HTTP/1.1 my-header: foo
                                    \n Config: add: - name: \"my-header\" value: \"bar,baz\"
                                    \n Output: GET /foo HTTP/1.1 my-header: foo,bar,baz"
                                  items:
                                    description: HTTPHeader represents an HTTP Header
                                      name and value as defined by RFC 7230.
                                    properties:
                                      name:
                                        description: "Name is the name of the HTTP
                                          Header to be matched. Name matching MUST
                                          be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                          \n If multiple entries specify equivalent
                                          header names, the first entry with an equivalent
                                          name MUST be considered for a match. Subsequent
                                          entries with an equivalent header name MUST
                                          be ignored. Due to the case-insensitivity
                                          of header names, \"foo\" and \"Foo\" are
                                          considered equivalent."
                                        maxLength: 256
                                        minLength: 1
                                        pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                        type: string
                                      value:
                                        description: Value is the value of HTTP Header
                                          to be matched.
                                        maxLength: 4096
                                        minLength: 1
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  maxItems: 16
                                  type: array
                                  x-kubernetes-list-map-keys:
                                  - name
                                  x-kubernetes-list-type: map
                                remove:
                                  description: "Remove the given header(s) from the
                                    HTTP request before the action. The value of Remove
                                    is a list of HTTP header names. Note that the
                                    header names are case-insensitive (see https://datatracker.ietf.org/doc/html/rfc2616#section-4.2).
                                    \n Input: GET /foo HTTP/1.1 my-header1: foo my-header2:
                                    bar my-header3: baz \n Config: remove: [\"my-header1\",
                                    \"my-header3\"] \n Output: GET /foo HTTP/1.1 my-header2:
                                    bar"
                                  items:
                                    type: string
                                  maxItems: 16
                                  type: array
                                  x-kubernetes-list-type: set
                                set:
                                  description: "Set overwrites the request with the
                                    given header (name, value) before the action.
                                    \n Input: GET /foo HTTP/1.1 my-header: foo \n
                                    Config: set: - name: \"my-header\" value: \"bar\"
                                    \n Output: GET /foo HTTP/1.1 my-header: bar"
                                  items:
                                    description: HTTPHeader represents an HTTP Header
                                      name and value as defined by RFC 7230.
                                    properties:
                                      name:
                                        description: "Name is the name of the HTTP
                                          Header to be matched. Name matching MUST
                                          be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                          \n If multiple entries specify equivalent
                                          header names, the first entry with an equivalent
                                          name MUST be considered for a match. Subsequent
                                          entries with an equivalent header name MUST
                                          be ignored. Due to the case-insensitivity
                                          of header names, \"foo\" and \"Foo\" are
                                          considered equivalent."
                                        maxLength: 256
                                        minLength: 1
                                        pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                        type: string
                                      value:
                                        description: Value is the value of HTTP Header
                                          to be matched.
                                        maxLength: 4096
                                        minLength: 1
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  maxItems: 16
                                  type: array
                                  x-kubernetes-list-map-keys:
                                  - name
                                  x-kubernetes-list-type: map
                              type: object
                            type:
                              description: "Type identifies the type of filter to
                                apply. As with other API fields, types are classified
                                into three conformance levels: \n - Core: Filter types
                                and their corresponding configuration defined by \"Support:
                                Core\" in this package, e.g. \"RequestHeaderModifier\".
                                All implementations supporting GRPCRoute MUST support
                                core filters. \n - Extended: Filter types and their
                                corresponding configuration defined by \"Support:
                                Extended\" in this package, e.g. \"RequestMirror\".
                                Implementers are encouraged to support extended filters.
                                \n - Implementation-specific: Filters that are defined
                                and supported by specific vendors. In the future,
                                filters showing convergence in behavior across multiple
                                implementations will be considered for inclusion in
                                extended or core conformance levels. Filter-specific
                                configuration for such filters is specified using
                                the ExtensionRef field. `Type` MUST be set to \"ExtensionRef\"
                                for custom filters. \n Implementers are encouraged
                                to define custom implementation types to extend the
                                core API with implementation-specific behavior. \n
                                If a reference to a custom filter type cannot be resolved,
                                the filter MUST NOT be skipped. Instead, requests
                                that would have been processed by that filter MUST
                                receive a HTTP error response. \n "
                              enum:
                              - ResponseHeaderModifier
                              - RequestHeaderModifier
                              - RequestMirror
                              - ExtensionRef
                              type: string
                          required:
                          - type
                          type: object
                          x-kubernetes-validations:
                          - message: filter.requestHeaderModifier must be nil if the
                              filter.type is not RequestHeaderModifier
                            rule: '!(has(self.requestHeaderModifier) && self.type
                              != ''RequestHeaderModifier'')'
                          - message: filter.requestHeaderModifier must be specified
                              for RequestHeaderModifier filter.type
                            rule: '!(!has(self.requestHeaderModifier) && self.type
                              == ''RequestHeaderModifier'')'
                          - message: filter.responseHeaderModifier must be nil if
                              the filter.type is not ResponseHeaderModifier
                            rule: '!(has(self.responseHeaderModifier) && self.type
                              != ''ResponseHeaderModifier'')'
                          - message: filter.responseHeaderModifier must be specified
                              for ResponseHeaderModifier filter.type
                            rule: '!(!has(self.responseHeaderModifier) && self.type
                              == ''ResponseHeaderModifier'')'
                          - message: filter.requestMirror must be nil if the filter.type
                              is not RequestMirror
                            rule: '!(has(self.requestMirror) && self.type != ''RequestMirror'')'
                          - message: filter.requestMirror must be specified for RequestMirror
                              filter.type
                            rule: '!(!has(self.requestMirror) && self.type == ''RequestMirror'')'
                          - message: filter.extensionRef must be nil if the filter.type
                              is not ExtensionRef
                            rule: '!(has(self.extensionRef) && self.type != ''ExtensionRef'')'
                          - message: filter.extensionRef must be specified for ExtensionRef
                              filter.type
                            rule: '!(!has(self.extensionRef) && self.type == ''ExtensionRef'')'
                        maxItems: 16
                        type: array
                        x-kubernetes-validations:
                        - message: RequestHeaderModifier filter cannot be repeated
                          rule: self.filter(f, f.type == 'RequestHeaderModifier').size()
                            <= 1
                        - message: ResponseHeaderModifier filter cannot be repeated
                          rule: self.filter(f, f.type == 'ResponseHeaderModifier').size()
                            <= 1
                      matches:
                        description: "Matches define conditions used for matching
                          the rule against incoming gRPC requests. Each match is independent,
                          i.e. this rule will be matched if **any** one of the matches
                          is satisfied. \n For example, take the following matches
                          configuration: \n ``` matches: - method: service: foo.bar
                          headers: values: version: 2 - method: service: foo.bar.v2
                          ``` \n For a request to match against this rule, it MUST
                          satisfy EITHER of the two conditions: \n - service of foo.bar
                          AND contains the header `version: 2` - service of foo.bar.v2
                          \n See the documentation for GRPCRouteMatch on how to specify
                          multiple match conditions to be ANDed together. \n If no
                          matches are specified, the implementation MUST match every
                          gRPC request. \n Proxy or Load Balancer routing configuration
                          generated from GRPCRoutes MUST prioritize rules based on
                          the following criteria, continuing on ties. Merging MUST
                          not be done between GRPCRoutes and HTTPRoutes. Precedence
                          MUST be given to the rule with the largest number of: \n
                          * Characters in a matching non-wildcard hostname. * Characters
                          in a matching hostname. * Characters in a matching service.
                          * Characters in a matching method. * Header matches. \n
                          If ties still exist across multiple Routes, matching precedence
                          MUST be determined in order of the following criteria, continuing
                          on ties: \n * The oldest Route based on creation timestamp.
                          * The Route appearing first in alphabetical order by \"{namespace}/{name}\".
                          \n If ties still exist within the Route that has been given
                          precedence, matching precedence MUST be granted to the first
                          matching rule meeting the above criteria."
                        items:
                          description: "GRPCRouteMatch defines the predicate used
                            to match requests to a given action. Multiple match types
                            are ANDed together, i.e. the match will evaluate to true
                            only if all conditions are satisfied. \n For example,
                            the match below will match a gRPC request only if its
                            service is `foo` AND it contains the `version: v1` header:
                            \n ``` matches: - method: type: Exact service: \"foo\"
                            headers: - name: \"version\" value \"v1\" \n ```"
                          properties:
                            headers:
                              description: Headers specifies gRPC request header matchers.
                                Multiple match values are ANDed together, meaning,
                                a request MUST match all the specified headers to
                                select the route.
                              items:
                                description: GRPCHeaderMatch describes how to select
                                  a gRPC route by matching gRPC request headers.
                                properties:
                                  name:
                                    description: "Name is the name of the gRPC Header
                                      to be matched. \n If multiple entries specify
                                      equivalent header names, only the first entry
                                      with an equivalent name MUST be considered for
                                      a match. Subsequent entries with an equivalent
                                      header name MUST be ignored. Due to the case-insensitivity
                                      of header names, \"foo\" and \"Foo\" are considered
                                      equivalent."
                                    maxLength: 256
                                    minLength: 1
                                    pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                    type: string
                                  type:
                                    default: Exact
                                    description: Type specifies how to match against
                                      the value of the header.
                                    enum:
                                    - Exact
                                    - RegularExpression
                                    type: string
                                  value:
                                    description: Value is the value of the gRPC Header
                                      to be matched.
                                    maxLength: 4096
                                    minLength: 1
                                    type: string
                                required:
                                - name
                                - value
                                type: object
                              maxItems: 16
                              type: array
                              x-kubernetes-list-map-keys:
                              - name
                              x-kubernetes-list-type: map
                            method:
                              description: Method specifies a gRPC request service/method
                                matcher. If this field is not specified, all services
                                and methods will match.
                              properties:
                                method:
                                  description: "Value of the method to match against.
                                    If left empty or omitted, will match all services.
                                    \n At least one of Service and Method MUST be
                                    a non-empty string."
                                  maxLength: 1024
                                  type: string
                                service:
                                  description: "Value of the service to match against.
                                    If left empty or omitted, will match any service.
                                    \n At least one of Service and Method MUST be
                                    a non-empty string."
                                  maxLength: 1024
                                  type: string
                                type:
                                  default: Exact
                                  description: "Type specifies how to match against
                                    the service and/or method. Support: Core (Exact
                                    with service and method specified) \n Support:
                                    Implementation-specific (Exact with method specified
                                    but no service specified) \n Support: Implementation-specific
                                    (RegularExpression)"
                                  enum:
                                  - Exact
                                  - RegularExpression
                                  type: string
                              type: object
                              x-kubernetes-validations:
                              - message: One or both of 'service' or 'method' must
                                  be specified
                                rule: 'has(self.type) ? has(self.service) || has(self.method)
                                  : true'
                              - message: service must only contain valid characters
                                  (matching ^(?i)\.?[a-z_][a-z_0-9]*(\.[a-z_][a-z_0-9]*)*$)
                                rule: '(!has(self.type) || self.type == ''Exact'')
                                  && has(self.service) ? self.service.matches(r"""^(?i)\.?[a-z_][a-z_0-9]*(\.[a-z_][a-z_0-9]*)*$"""):
                                  true'
                              - message: method must only contain valid characters
                                  (matching ^[A-Za-z_][A-Za-z_0-9]*$)
                                rule: '(!has(self.type) || self.type == ''Exact'')
                                  && has(self.method) ? self.method.matches(r"""^[A-Za-z_][A-Za-z_0-9]*$"""):
                                  true'
                          type: object
                        maxItems: 8
                        type: array
                    type: object
                  maxItems: 16
                  type: array
              type: object
            status:
              description: Status defines the current state of GRPCRoute.
              properties:
                parents:
                  description: "Parents is a list of parent resources (usually Gateways)
                    that are associated with the route, and the status of the route
                    with respect to each parent. When this route attaches to a parent,
                    the controller that manages the parent must add an entry to this
                    list when the controller first sees the route and should update
                    the entry as appropriate when the route or gateway is modified.
                    \n Note that parent references that cannot be resolved by an implementation
                    of this API will not be added to this list. Implementations of
                    this API can only populate Route status for the Gateways/parent
                    resources they are responsible for. \n A maximum of 32 Gateways
                    will be represented in this list. An empty list means the route
                    has not been attached to any Gateway."
                  items:
                    description: RouteParentStatus describes the status of a route
                      with respect to an associated Parent.
                    properties:
                      conditions:
                        description: "Conditions describes the status of the route
                          with respect to the Gateway. Note that the route's availability
                          is also subject to the Gateway's own status conditions and
                          listener status. \n If the Route's ParentRef specifies an
                          existing Gateway that supports Routes of this kind AND that
                          Gateway's controller has sufficient access, then that Gateway's
                          controller MUST set the \"Accepted\" condition on the Route,
                          to indicate whether the route has been accepted or rejected
                          by the Gateway, and why. \n A Route MUST be considered \"Accepted\"
                          if at least one of the Route's rules is implemented by the
                          Gateway. \n There are a number of cases where the \"Accepted\"
                          condition may not be set due to lack of controller visibility,
                          that includes when: \n * The Route refers to a non-existent
                          parent. * The Route is of a type that the controller does
                          not support. * The Route is in a namespace the controller
                          does not have access to."
                        items:
                          description: "Condition contains details for one aspect
                            of the current state of this API Resource. --- This struct
                            is intended for direct use as an array at the field path
                            .status.conditions.  For example, \n type FooStatus struct{
                            // Represents the observations of a foo's current state.
                            // Known .status.conditions.type are: \"Available\", \"Progressing\",
                            and \"Degraded\" // +patchMergeKey=type // +patchStrategy=merge
                            // +listType=map // +listMapKey=type Conditions []metav1.Condition
                            `json:\"conditions,omitempty\" patchStrategy:\"merge\"
                            patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`
                            \n // other fields }"
                          properties:
                            lastTransitionTime:
                              description: lastTransitionTime is the last time the
                                condition transitioned from one status to another.
                                This should be when the underlying condition changed.  If
                                that is not known, then using the time when the API
                                field changed is acceptable.
                              format: date-time
                              type: string
                            message:
                              description: message is a human readable message indicating
                                details about the transition. This may be an empty
                                string.
                              maxLength: 32768
                              type: string
                            observedGeneration:
                              description: observedGeneration represents the .metadata.generation
                                that the condition was set based upon. For instance,
                                if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration
                                is 9, the condition is out of date with respect to
                                the current state of the instance.
                              format: int64
                              minimum: 0
                              type: integer
                            reason:
                              description: reason contains a programmatic identifier
                                indicating the reason for the condition's last transition.
                                Producers of specific condition types may define expected
                                values and meanings for this field, and whether the
                                values are considered a guaranteed API. The value
                                should be a CamelCase string. This field may not be
                                empty.
                              maxLength: 1024
                              minLength: 1
                              pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                              type: string
                            status:
                              description: status of the condition, one of True, False,
                                Unknown.
                              enum:
                              - "True"
                              - "False"
                              - Unknown
                              type: string
                            type:
                              description: type of condition in CamelCase or in foo.example.com/CamelCase.
                                --- Many .condition.type values are consistent across
                                resources like Available, but because arbitrary conditions
                                can be useful (see .node.status.conditions), the ability
                                to deconflict is important. The regex it matches is
                                (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                              maxLength: 316
                              pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                              type: string
                          required:
                          - lastTransitionTime
                          - message
                          - reason
                          - status
                          - type
                          type: object
                        maxItems: 8
                        minItems: 1
                        type: array
                        x-kubernetes-list-map-keys:
                        - type
                        x-kubernetes-list-type: map
                      controllerName:
                        description: "ControllerName is a domain/path string that
                          indicates the name of the controller that wrote this status.
                          This corresponds with the controllerName field on GatewayClass.
                          \n Example: \"example.net/gateway-controller\". \n The format
                          of this field is DOMAIN \"/\" PATH, where DOMAIN and PATH
                          are valid Kubernetes names (https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names).
                          \n Controllers MUST populate this field when writing status.
                          Controllers should ensure that entries to status populated
                          with their ControllerName are cleaned up when they are no
                          longer necessary."
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                        type: string
                      parentRef:
                        description: ParentRef corresponds with a ParentRef in the
                          spec that this RouteParentStatus struct describes the status
                          of.
                        properties:
                          group:
                            default: gateway.networking.k8s.io
                            description: "Group is the group of the referent. When
                              unspecified, \"gateway.networking.k8s.io\" is inferred.
                              To set the core API group (such as for a \"Service\"
                              kind referent), Group must be explicitly set to \"\"
                              (empty string). \n Support: Core"
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Gateway
                            description: "Kind is kind of the referent. \n There are
                              two kinds of parent resources with \"Core\" support:
                              \n * Gateway (Gateway conformance profile) * Service
                              (Mesh conformance profile, experimental, ClusterIP Services
                              only) \n Support for other resources is Implementation-Specific."
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: "Name is the name of the referent. \n Support:
                              Core"
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: "Namespace is the namespace of the referent.
                              When unspecified, this refers to the local namespace
                              of the Route. \n Note that there are specific rules
                              for ParentRefs which cross namespace boundaries. Cross-namespace
                              references are only valid if they are explicitly allowed
                              by something in the namespace they are referring to.
                              For example: Gateway has the AllowedRoutes field, and
                              ReferenceGrant provides a generic way to enable any
                              other kind of cross-namespace reference. \n  ParentRefs
                              from a Route to a Service in the same namespace are
                              \"producer\" routes, which apply default routing rules
                              to inbound connections from any namespace to the Service.
                              \n ParentRefs from a Route to a Service in a different
                              namespace are \"consumer\" routes, and these routing
                              rules are only applied to outbound connections originating
                              from the same namespace as the Route, for which the
                              intended destination of the connections are a Service
                              targeted as a ParentRef of the Route.  \n Support: Core"
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                          port:
                            description: "Port is the network port this Route targets.
                              It can be interpreted differently based on the type
                              of parent resource. \n When the parent resource is a
                              Gateway, this targets all listeners listening on the
                              specified port that also support this kind of Route(and
                              select this Route). It's not recommended to set `Port`
                              unless the networking behaviors specified in a Route
                              must apply to a specific port as opposed to a listener(s)
                              whose port(s) may be changed. When both Port and SectionName
                              are specified, the name and port of the selected listener
                              must match both specified values. \n  When the parent
                              resource is a Service, this targets a specific port
                              in the Service spec. When both Port (experimental) and
                              SectionName are specified, the name and port of the
                              selected port must match both specified values.  \n
                              Implementations MAY choose to support other parent resources.
                              Implementations supporting other types of parent resources
                              MUST clearly document how/if Port is interpreted. \n
                              For the purpose of status, an attachment is considered
                              successful as long as the parent resource accepts it
                              partially. For example, Gateway listeners can restrict
                              which Routes can attach to them by Route kind, namespace,
                              or hostname. If 1 of 2 Gateway listeners accept attachment
                              from the referencing Route, the Route MUST be considered
                              successfully attached. If no Gateway listeners accept
                              attachment from this Route, the Route MUST be considered
                              detached from the Gateway. \n Support: Extended \n "
                            format: int32
                            maximum: 65535
                            minimum: 1
                            type: integer
                          sectionName:
                            description: "SectionName is the name of a section within
                              the target resource. In the following resources, SectionName
                              is interpreted as the following: \n * Gateway: Listener
                              Name. When both Port (experimental) and SectionName
                              are specified, the name and port of the selected listener
                              must match both specified values. * Service: Port Name.
                              When both Port (experimental) and SectionName are specified,
                              the name and port of the selected listener must match
                              both specified values. Note that attaching Routes to
                              Services as Parents is part of experimental Mesh support
                              and is not supported for any other purpose. \n Implementations
                              MAY choose to support attaching Routes to other resources.
                              If that is the case, they MUST clearly document how
                              SectionName is interpreted. \n When unspecified (empty
                              string), this will reference the entire resource. For
                              the purpose of status, an attachment is considered successful
                              if at least one section in the parent resource accepts
                              it. For example, Gateway listeners can restrict which
                              Routes can attach to them by Route kind, namespace,
                              or hostname. If 1 of 2 Gateway listeners accept attachment
                              from the referencing Route, the Route MUST be considered
                              successfully attached. If no Gateway listeners accept
                              attachment from this Route, the Route MUST be considered
                              detached from the Gateway. \n Support: Core"
                            maxLength: 253
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                        required:
                        - name
                        type: object
                    required:
                    - controllerName
                    - parentRef
                    type: object
                  maxItems: 32
                  type: array
              required:
              - parents
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - gateway-api
      kind: GRPCRoute
      listKind: GRPCRouteList
      plural: grpcroutes
      singular: grpcroute
    conditions:
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: approved in https://github.com/kubernetes-sigs/gateway-api/pull/2466
      reason: ApprovedAnnotation
      status: "True"
      type: KubernetesAPIApprovalPolicyConformant
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha2
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      api-approved.kubernetes.io: https://github.com/kubernetes-sigs/gateway-api/pull/2466
      gateway.networking.k8s.io/bundle-version: v1.0.0
      gateway.networking.k8s.io/channel: experimental
    creationTimestamp: "2024-04-11T07:49:06Z"
    generation: 1
    name: httproutes.gateway.networking.k8s.io
    resourceVersion: "2269559"
    uid: e6f0223e-0dc7-4db7-ac76-e109c372ec24
  spec:
    conversion:
      strategy: None
    group: gateway.networking.k8s.io
    names:
      categories:
      - gateway-api
      kind: HTTPRoute
      listKind: HTTPRouteList
      plural: httproutes
      singular: httproute
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - jsonPath: .spec.hostnames
        name: Hostnames
        type: string
      - jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1
      schema:
        openAPIV3Schema:
          description: HTTPRoute provides a way to route HTTP requests. This includes
            the capability to match requests by hostname, path, header, or query param.
            Filters can be used to specify additional processing steps. Backends specify
            where matching requests should be routed.
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: Spec defines the desired state of HTTPRoute.
              properties:
                hostnames:
                  description: "Hostnames defines a set of hostnames that should match
                    against the HTTP Host header to select a HTTPRoute used to process
                    the request. Implementations MUST ignore any port value specified
                    in the HTTP Host header while performing a match and (absent of
                    any applicable header modification configuration) MUST forward
                    this header unmodified to the backend. \n Valid values for Hostnames
                    are determined by RFC 1123 definition of a hostname with 2 notable
                    exceptions: \n 1. IPs are not allowed. 2. A hostname may be prefixed
                    with a wildcard label (`*.`). The wildcard label must appear by
                    itself as the first label. \n If a hostname is specified by both
                    the Listener and HTTPRoute, there must be at least one intersecting
                    hostname for the HTTPRoute to be attached to the Listener. For
                    example: \n * A Listener with `test.example.com` as the hostname
                    matches HTTPRoutes that have either not specified any hostnames,
                    or have specified at least one of `test.example.com` or `*.example.com`.
                    * A Listener with `*.example.com` as the hostname matches HTTPRoutes
                    that have either not specified any hostnames or have specified
                    at least one hostname that matches the Listener hostname. For
                    example, `*.example.com`, `test.example.com`, and `foo.test.example.com`
                    would all match. On the other hand, `example.com` and `test.example.net`
                    would not match. \n Hostnames that are prefixed with a wildcard
                    label (`*.`) are interpreted as a suffix match. That means that
                    a match for `*.example.com` would match both `test.example.com`,
                    and `foo.test.example.com`, but not `example.com`. \n If both
                    the Listener and HTTPRoute have specified hostnames, any HTTPRoute
                    hostnames that do not match the Listener hostname MUST be ignored.
                    For example, if a Listener specified `*.example.com`, and the
                    HTTPRoute specified `test.example.com` and `test.example.net`,
                    `test.example.net` must not be considered for a match. \n If both
                    the Listener and HTTPRoute have specified hostnames, and none
                    match with the criteria above, then the HTTPRoute is not accepted.
                    The implementation must raise an 'Accepted' Condition with a status
                    of `False` in the corresponding RouteParentStatus. \n In the event
                    that multiple HTTPRoutes specify intersecting hostnames (e.g.
                    overlapping wildcard matching and exact matching hostnames), precedence
                    must be given to rules from the HTTPRoute with the largest number
                    of: \n * Characters in a matching non-wildcard hostname. * Characters
                    in a matching hostname. \n If ties exist across multiple Routes,
                    the matching precedence rules for HTTPRouteMatches takes over.
                    \n Support: Core"
                  items:
                    description: "Hostname is the fully qualified domain name of a
                      network host. This matches the RFC 1123 definition of a hostname
                      with 2 notable exceptions: \n 1. IPs are not allowed. 2. A hostname
                      may be prefixed with a wildcard label (`*.`). The wildcard label
                      must appear by itself as the first label. \n Hostname can be
                      \"precise\" which is a domain name without the terminating dot
                      of a network host (e.g. \"foo.example.com\") or \"wildcard\",
                      which is a domain name prefixed with a single wildcard label
                      (e.g. `*.example.com`). \n Note that as per RFC1035 and RFC1123,
                      a *label* must consist of lower case alphanumeric characters
                      or '-', and must start and end with an alphanumeric character.
                      No other punctuation is allowed."
                    maxLength: 253
                    minLength: 1
                    pattern: ^(\*\.)?[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  maxItems: 16
                  type: array
                parentRefs:
                  description: "ParentRefs references the resources (usually Gateways)
                    that a Route wants to be attached to. Note that the referenced
                    parent resource needs to allow this for the attachment to be complete.
                    For Gateways, that means the Gateway needs to allow attachment
                    from Routes of this kind and namespace. For Services, that means
                    the Service must either be in the same namespace for a \"producer\"
                    route, or the mesh implementation must support and allow \"consumer\"
                    routes for the referenced Service. ReferenceGrant is not applicable
                    for governing ParentRefs to Services - it is not possible to create
                    a \"producer\" route for a Service in a different namespace from
                    the Route. \n There are two kinds of parent resources with \"Core\"
                    support: \n * Gateway (Gateway conformance profile)  * Service
                    (Mesh conformance profile, experimental, ClusterIP Services only)
                    \ This API may be extended in the future to support additional
                    kinds of parent resources. \n ParentRefs must be _distinct_. This
                    means either that: \n * They select different objects.  If this
                    is the case, then parentRef entries are distinct. In terms of
                    fields, this means that the multi-part key defined by `group`,
                    `kind`, `namespace`, and `name` must be unique across all parentRef
                    entries in the Route. * They do not select different objects,
                    but for each optional field used, each ParentRef that selects
                    the same object must set the same set of optional fields to different
                    values. If one ParentRef sets a combination of optional fields,
                    all must set the same combination. \n Some examples: \n * If one
                    ParentRef sets `sectionName`, all ParentRefs referencing the same
                    object must also set `sectionName`. * If one ParentRef sets `port`,
                    all ParentRefs referencing the same object must also set `port`.
                    * If one ParentRef sets `sectionName` and `port`, all ParentRefs
                    referencing the same object must also set `sectionName` and `port`.
                    \n It is possible to separately reference multiple distinct objects
                    that may be collapsed by an implementation. For example, some
                    implementations may choose to merge compatible Gateway Listeners
                    together. If that is the case, the list of routes attached to
                    those resources should also be merged. \n Note that for ParentRefs
                    that cross namespace boundaries, there are specific rules. Cross-namespace
                    references are only valid if they are explicitly allowed by something
                    in the namespace they are referring to. For example, Gateway has
                    the AllowedRoutes field, and ReferenceGrant provides a generic
                    way to enable other kinds of cross-namespace reference. \n  ParentRefs
                    from a Route to a Service in the same namespace are \"producer\"
                    routes, which apply default routing rules to inbound connections
                    from any namespace to the Service. \n ParentRefs from a Route
                    to a Service in a different namespace are \"consumer\" routes,
                    and these routing rules are only applied to outbound connections
                    originating from the same namespace as the Route, for which the
                    intended destination of the connections are a Service targeted
                    as a ParentRef of the Route.  \n "
                  items:
                    description: "ParentReference identifies an API object (usually
                      a Gateway) that can be considered a parent of this resource
                      (usually a route). There are two kinds of parent resources with
                      \"Core\" support: \n * Gateway (Gateway conformance profile)
                      * Service (Mesh conformance profile, experimental, ClusterIP
                      Services only) \n This API may be extended in the future to
                      support additional kinds of parent resources. \n The API object
                      must be valid in the cluster; the Group and Kind must be registered
                      in the cluster for this reference to be valid."
                    properties:
                      group:
                        default: gateway.networking.k8s.io
                        description: "Group is the group of the referent. When unspecified,
                          \"gateway.networking.k8s.io\" is inferred. To set the core
                          API group (such as for a \"Service\" kind referent), Group
                          must be explicitly set to \"\" (empty string). \n Support:
                          Core"
                        maxLength: 253
                        pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                      kind:
                        default: Gateway
                        description: "Kind is kind of the referent. \n There are two
                          kinds of parent resources with \"Core\" support: \n * Gateway
                          (Gateway conformance profile) * Service (Mesh conformance
                          profile, experimental, ClusterIP Services only) \n Support
                          for other resources is Implementation-Specific."
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                        type: string
                      name:
                        description: "Name is the name of the referent. \n Support:
                          Core"
                        maxLength: 253
                        minLength: 1
                        type: string
                      namespace:
                        description: "Namespace is the namespace of the referent.
                          When unspecified, this refers to the local namespace of
                          the Route. \n Note that there are specific rules for ParentRefs
                          which cross namespace boundaries. Cross-namespace references
                          are only valid if they are explicitly allowed by something
                          in the namespace they are referring to. For example: Gateway
                          has the AllowedRoutes field, and ReferenceGrant provides
                          a generic way to enable any other kind of cross-namespace
                          reference. \n  ParentRefs from a Route to a Service in the
                          same namespace are \"producer\" routes, which apply default
                          routing rules to inbound connections from any namespace
                          to the Service. \n ParentRefs from a Route to a Service
                          in a different namespace are \"consumer\" routes, and these
                          routing rules are only applied to outbound connections originating
                          from the same namespace as the Route, for which the intended
                          destination of the connections are a Service targeted as
                          a ParentRef of the Route.  \n Support: Core"
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                        type: string
                      port:
                        description: "Port is the network port this Route targets.
                          It can be interpreted differently based on the type of parent
                          resource. \n When the parent resource is a Gateway, this
                          targets all listeners listening on the specified port that
                          also support this kind of Route(and select this Route).
                          It's not recommended to set `Port` unless the networking
                          behaviors specified in a Route must apply to a specific
                          port as opposed to a listener(s) whose port(s) may be changed.
                          When both Port and SectionName are specified, the name and
                          port of the selected listener must match both specified
                          values. \n  When the parent resource is a Service, this
                          targets a specific port in the Service spec. When both Port
                          (experimental) and SectionName are specified, the name and
                          port of the selected port must match both specified values.
                          \ \n Implementations MAY choose to support other parent
                          resources. Implementations supporting other types of parent
                          resources MUST clearly document how/if Port is interpreted.
                          \n For the purpose of status, an attachment is considered
                          successful as long as the parent resource accepts it partially.
                          For example, Gateway listeners can restrict which Routes
                          can attach to them by Route kind, namespace, or hostname.
                          If 1 of 2 Gateway listeners accept attachment from the referencing
                          Route, the Route MUST be considered successfully attached.
                          If no Gateway listeners accept attachment from this Route,
                          the Route MUST be considered detached from the Gateway.
                          \n Support: Extended \n "
                        format: int32
                        maximum: 65535
                        minimum: 1
                        type: integer
                      sectionName:
                        description: "SectionName is the name of a section within
                          the target resource. In the following resources, SectionName
                          is interpreted as the following: \n * Gateway: Listener
                          Name. When both Port (experimental) and SectionName are
                          specified, the name and port of the selected listener must
                          match both specified values. * Service: Port Name. When
                          both Port (experimental) and SectionName are specified,
                          the name and port of the selected listener must match both
                          specified values. Note that attaching Routes to Services
                          as Parents is part of experimental Mesh support and is not
                          supported for any other purpose. \n Implementations MAY
                          choose to support attaching Routes to other resources. If
                          that is the case, they MUST clearly document how SectionName
                          is interpreted. \n When unspecified (empty string), this
                          will reference the entire resource. For the purpose of status,
                          an attachment is considered successful if at least one section
                          in the parent resource accepts it. For example, Gateway
                          listeners can restrict which Routes can attach to them by
                          Route kind, namespace, or hostname. If 1 of 2 Gateway listeners
                          accept attachment from the referencing Route, the Route
                          MUST be considered successfully attached. If no Gateway
                          listeners accept attachment from this Route, the Route MUST
                          be considered detached from the Gateway. \n Support: Core"
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                    required:
                    - name
                    type: object
                  maxItems: 32
                  type: array
                  x-kubernetes-validations:
                  - message: sectionName or port must be specified when parentRefs
                      includes 2 or more references to the same parent
                    rule: 'self.all(p1, self.all(p2, p1.group == p2.group && p1.kind
                      == p2.kind && p1.name == p2.name && (((!has(p1.__namespace__)
                      || p1.__namespace__ == '''') && (!has(p2.__namespace__) || p2.__namespace__
                      == '''')) || (has(p1.__namespace__) && has(p2.__namespace__)
                      && p1.__namespace__ == p2.__namespace__)) ? ((!has(p1.sectionName)
                      || p1.sectionName == '''') == (!has(p2.sectionName) || p2.sectionName
                      == '''') && (!has(p1.port) || p1.port == 0) == (!has(p2.port)
                      || p2.port == 0)): true))'
                  - message: sectionName or port must be unique when parentRefs includes
                      2 or more references to the same parent
                    rule: self.all(p1, self.exists_one(p2, p1.group == p2.group &&
                      p1.kind == p2.kind && p1.name == p2.name && (((!has(p1.__namespace__)
                      || p1.__namespace__ == '') && (!has(p2.__namespace__) || p2.__namespace__
                      == '')) || (has(p1.__namespace__) && has(p2.__namespace__) &&
                      p1.__namespace__ == p2.__namespace__ )) && (((!has(p1.sectionName)
                      || p1.sectionName == '') && (!has(p2.sectionName) || p2.sectionName
                      == '')) || ( has(p1.sectionName) && has(p2.sectionName) && p1.sectionName
                      == p2.sectionName)) && (((!has(p1.port) || p1.port == 0) &&
                      (!has(p2.port) || p2.port == 0)) || (has(p1.port) && has(p2.port)
                      && p1.port == p2.port))))
                rules:
                  default:
                  - matches:
                    - path:
                        type: PathPrefix
                        value: /
                  description: Rules are a list of HTTP matchers, filters and actions.
                  items:
                    description: HTTPRouteRule defines semantics for matching an HTTP
                      request based on conditions (matches), processing it (filters),
                      and forwarding the request to an API object (backendRefs).
                    properties:
                      backendRefs:
                        description: "BackendRefs defines the backend(s) where matching
                          requests should be sent. \n Failure behavior here depends
                          on how many BackendRefs are specified and how many are invalid.
                          \n If *all* entries in BackendRefs are invalid, and there
                          are also no filters specified in this route rule, *all*
                          traffic which matches this rule MUST receive a 500 status
                          code. \n See the HTTPBackendRef definition for the rules
                          about what makes a single HTTPBackendRef invalid. \n When
                          a HTTPBackendRef is invalid, 500 status codes MUST be returned
                          for requests that would have otherwise been routed to an
                          invalid backend. If multiple backends are specified, and
                          some are invalid, the proportion of requests that would
                          otherwise have been routed to an invalid backend MUST receive
                          a 500 status code. \n For example, if two backends are specified
                          with equal weights, and one is invalid, 50 percent of traffic
                          must receive a 500. Implementations may choose how that
                          50 percent is determined. \n Support: Core for Kubernetes
                          Service \n Support: Extended for Kubernetes ServiceImport
                          \n Support: Implementation-specific for any other resource
                          \n Support for weight: Core"
                        items:
                          description: "HTTPBackendRef defines how a HTTPRoute forwards
                            a HTTP request. \n Note that when a namespace different
                            than the local namespace is specified, a ReferenceGrant
                            object is required in the referent namespace to allow
                            that namespace's owner to accept the reference. See the
                            ReferenceGrant documentation for details. \n <gateway:experimental:description>
                            \n When the BackendRef points to a Kubernetes Service,
                            implementations SHOULD honor the appProtocol field if
                            it is set for the target Service Port. \n Implementations
                            supporting appProtocol SHOULD recognize the Kubernetes
                            Standard Application Protocols defined in KEP-3726. \n
                            If a Service appProtocol isn't specified, an implementation
                            MAY infer the backend protocol through its own means.
                            Implementations MAY infer the protocol from the Route
                            type referring to the backend Service. \n If a Route is
                            not able to send traffic to the backend using the specified
                            protocol then the backend is considered invalid. Implementations
                            MUST set the \"ResolvedRefs\" condition to \"False\" with
                            the \"UnsupportedProtocol\" reason. \n </gateway:experimental:description>"
                          properties:
                            filters:
                              description: "Filters defined at this level should be
                                executed if and only if the request is being forwarded
                                to the backend defined here. \n Support: Implementation-specific
                                (For broader support of filters, use the Filters field
                                in HTTPRouteRule.)"
                              items:
                                description: HTTPRouteFilter defines processing steps
                                  that must be completed during the request or response
                                  lifecycle. HTTPRouteFilters are meant as an extension
                                  point to express processing that may be done in
                                  Gateway implementations. Some examples include request
                                  or response modification, implementing authentication
                                  strategies, rate-limiting, and traffic shaping.
                                  API guarantee/conformance is defined based on the
                                  type of the filter.
                                properties:
                                  extensionRef:
                                    description: "ExtensionRef is an optional, implementation-specific
                                      extension to the \"filter\" behavior.  For example,
                                      resource \"myroutefilter\" in group \"networking.example.net\").
                                      ExtensionRef MUST NOT be used for core and extended
                                      filters. \n This filter can be used multiple
                                      times within the same rule. \n Support: Implementation-specific"
                                    properties:
                                      group:
                                        description: Group is the group of the referent.
                                          For example, "gateway.networking.k8s.io".
                                          When unspecified or empty string, core API
                                          group is inferred.
                                        maxLength: 253
                                        pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                        type: string
                                      kind:
                                        description: Kind is kind of the referent.
                                          For example "HTTPRoute" or "Service".
                                        maxLength: 63
                                        minLength: 1
                                        pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                        type: string
                                      name:
                                        description: Name is the name of the referent.
                                        maxLength: 253
                                        minLength: 1
                                        type: string
                                    required:
                                    - group
                                    - kind
                                    - name
                                    type: object
                                  requestHeaderModifier:
                                    description: "RequestHeaderModifier defines a
                                      schema for a filter that modifies request headers.
                                      \n Support: Core"
                                    properties:
                                      add:
                                        description: "Add adds the given header(s)
                                          (name, value) to the request before the
                                          action. It appends to any existing values
                                          associated with the header name. \n Input:
                                          GET /foo HTTP/1.1 my-header: foo \n Config:
                                          add: - name: \"my-header\" value: \"bar,baz\"
                                          \n Output: GET /foo HTTP/1.1 my-header:
                                          foo,bar,baz"
                                        items:
                                          description: HTTPHeader represents an HTTP
                                            Header name and value as defined by RFC
                                            7230.
                                          properties:
                                            name:
                                              description: "Name is the name of the
                                                HTTP Header to be matched. Name matching
                                                MUST be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                                \n If multiple entries specify equivalent
                                                header names, the first entry with
                                                an equivalent name MUST be considered
                                                for a match. Subsequent entries with
                                                an equivalent header name MUST be
                                                ignored. Due to the case-insensitivity
                                                of header names, \"foo\" and \"Foo\"
                                                are considered equivalent."
                                              maxLength: 256
                                              minLength: 1
                                              pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                              type: string
                                            value:
                                              description: Value is the value of HTTP
                                                Header to be matched.
                                              maxLength: 4096
                                              minLength: 1
                                              type: string
                                          required:
                                          - name
                                          - value
                                          type: object
                                        maxItems: 16
                                        type: array
                                        x-kubernetes-list-map-keys:
                                        - name
                                        x-kubernetes-list-type: map
                                      remove:
                                        description: "Remove the given header(s) from
                                          the HTTP request before the action. The
                                          value of Remove is a list of HTTP header
                                          names. Note that the header names are case-insensitive
                                          (see https://datatracker.ietf.org/doc/html/rfc2616#section-4.2).
                                          \n Input: GET /foo HTTP/1.1 my-header1:
                                          foo my-header2: bar my-header3: baz \n Config:
                                          remove: [\"my-header1\", \"my-header3\"]
                                          \n Output: GET /foo HTTP/1.1 my-header2:
                                          bar"
                                        items:
                                          type: string
                                        maxItems: 16
                                        type: array
                                        x-kubernetes-list-type: set
                                      set:
                                        description: "Set overwrites the request with
                                          the given header (name, value) before the
                                          action. \n Input: GET /foo HTTP/1.1 my-header:
                                          foo \n Config: set: - name: \"my-header\"
                                          value: \"bar\" \n Output: GET /foo HTTP/1.1
                                          my-header: bar"
                                        items:
                                          description: HTTPHeader represents an HTTP
                                            Header name and value as defined by RFC
                                            7230.
                                          properties:
                                            name:
                                              description: "Name is the name of the
                                                HTTP Header to be matched. Name matching
                                                MUST be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                                \n If multiple entries specify equivalent
                                                header names, the first entry with
                                                an equivalent name MUST be considered
                                                for a match. Subsequent entries with
                                                an equivalent header name MUST be
                                                ignored. Due to the case-insensitivity
                                                of header names, \"foo\" and \"Foo\"
                                                are considered equivalent."
                                              maxLength: 256
                                              minLength: 1
                                              pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                              type: string
                                            value:
                                              description: Value is the value of HTTP
                                                Header to be matched.
                                              maxLength: 4096
                                              minLength: 1
                                              type: string
                                          required:
                                          - name
                                          - value
                                          type: object
                                        maxItems: 16
                                        type: array
                                        x-kubernetes-list-map-keys:
                                        - name
                                        x-kubernetes-list-type: map
                                    type: object
                                  requestMirror:
                                    description: "RequestMirror defines a schema for
                                      a filter that mirrors requests. Requests are
                                      sent to the specified destination, but responses
                                      from that destination are ignored. \n This filter
                                      can be used multiple times within the same rule.
                                      Note that not all implementations will be able
                                      to support mirroring to multiple backends. \n
                                      Support: Extended"
                                    properties:
                                      backendRef:
                                        description: "BackendRef references a resource
                                          where mirrored requests are sent. \n Mirrored
                                          requests must be sent only to a single destination
                                          endpoint within this BackendRef, irrespective
                                          of how many endpoints are present within
                                          this BackendRef. \n If the referent cannot
                                          be found, this BackendRef is invalid and
                                          must be dropped from the Gateway. The controller
                                          must ensure the \"ResolvedRefs\" condition
                                          on the Route status is set to `status: False`
                                          and not configure this backend in the underlying
                                          implementation. \n If there is a cross-namespace
                                          reference to an *existing* object that is
                                          not allowed by a ReferenceGrant, the controller
                                          must ensure the \"ResolvedRefs\"  condition
                                          on the Route is set to `status: False`,
                                          with the \"RefNotPermitted\" reason and
                                          not configure this backend in the underlying
                                          implementation. \n In either error case,
                                          the Message of the `ResolvedRefs` Condition
                                          should be used to provide more detail about
                                          the problem. \n Support: Extended for Kubernetes
                                          Service \n Support: Implementation-specific
                                          for any other resource"
                                        properties:
                                          group:
                                            default: ""
                                            description: Group is the group of the
                                              referent. For example, "gateway.networking.k8s.io".
                                              When unspecified or empty string, core
                                              API group is inferred.
                                            maxLength: 253
                                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                            type: string
                                          kind:
                                            default: Service
                                            description: "Kind is the Kubernetes resource
                                              kind of the referent. For example \"Service\".
                                              \n Defaults to \"Service\" when not
                                              specified. \n ExternalName services
                                              can refer to CNAME DNS records that
                                              may live outside of the cluster and
                                              as such are difficult to reason about
                                              in terms of conformance. They also may
                                              not be safe to forward to (see CVE-2021-25740
                                              for more information). Implementations
                                              SHOULD NOT support ExternalName Services.
                                              \n Support: Core (Services with a type
                                              other than ExternalName) \n Support:
                                              Implementation-specific (Services with
                                              type ExternalName)"
                                            maxLength: 63
                                            minLength: 1
                                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                            type: string
                                          name:
                                            description: Name is the name of the referent.
                                            maxLength: 253
                                            minLength: 1
                                            type: string
                                          namespace:
                                            description: "Namespace is the namespace
                                              of the backend. When unspecified, the
                                              local namespace is inferred. \n Note
                                              that when a namespace different than
                                              the local namespace is specified, a
                                              ReferenceGrant object is required in
                                              the referent namespace to allow that
                                              namespace's owner to accept the reference.
                                              See the ReferenceGrant documentation
                                              for details. \n Support: Core"
                                            maxLength: 63
                                            minLength: 1
                                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                            type: string
                                          port:
                                            description: Port specifies the destination
                                              port number to use for this resource.
                                              Port is required when the referent is
                                              a Kubernetes Service. In this case,
                                              the port number is the service port
                                              number, not the target port. For other
                                              resources, destination port might be
                                              derived from the referent resource or
                                              this field.
                                            format: int32
                                            maximum: 65535
                                            minimum: 1
                                            type: integer
                                        required:
                                        - name
                                        type: object
                                        x-kubernetes-validations:
                                        - message: Must have port for Service reference
                                          rule: '(size(self.group) == 0 && self.kind
                                            == ''Service'') ? has(self.port) : true'
                                    required:
                                    - backendRef
                                    type: object
                                  requestRedirect:
                                    description: "RequestRedirect defines a schema
                                      for a filter that responds to the request with
                                      an HTTP redirection. \n Support: Core"
                                    properties:
                                      hostname:
                                        description: "Hostname is the hostname to
                                          be used in the value of the `Location` header
                                          in the response. When empty, the hostname
                                          in the `Host` header of the request is used.
                                          \n Support: Core"
                                        maxLength: 253
                                        minLength: 1
                                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                        type: string
                                      path:
                                        description: "Path defines parameters used
                                          to modify the path of the incoming request.
                                          The modified path is then used to construct
                                          the `Location` header. When empty, the request
                                          path is used as-is. \n Support: Extended"
                                        properties:
                                          replaceFullPath:
                                            description: ReplaceFullPath specifies
                                              the value with which to replace the
                                              full path of a request during a rewrite
                                              or redirect.
                                            maxLength: 1024
                                            type: string
                                          replacePrefixMatch:
                                            description: "ReplacePrefixMatch specifies
                                              the value with which to replace the
                                              prefix match of a request during a rewrite
                                              or redirect. For example, a request
                                              to \"/foo/bar\" with a prefix match
                                              of \"/foo\" and a ReplacePrefixMatch
                                              of \"/xyz\" would be modified to \"/xyz/bar\".
                                              \n Note that this matches the behavior
                                              of the PathPrefix match type. This matches
                                              full path elements. A path element refers
                                              to the list of labels in the path split
                                              by the `/` separator. When specified,
                                              a trailing `/` is ignored. For example,
                                              the paths `/abc`, `/abc/`, and `/abc/def`
                                              would all match the prefix `/abc`, but
                                              the path `/abcd` would not. \n ReplacePrefixMatch
                                              is only compatible with a `PathPrefix`
                                              HTTPRouteMatch. Using any other HTTPRouteMatch
                                              type on the same HTTPRouteRule will
                                              result in the implementation setting
                                              the Accepted Condition for the Route
                                              to `status: False`. \n Request Path
                                              | Prefix Match | Replace Prefix | Modified
                                              Path -------------|--------------|----------------|----------
                                              /foo/bar     | /foo         | /xyz           |
                                              /xyz/bar /foo/bar     | /foo         |
                                              /xyz/          | /xyz/bar /foo/bar     |
                                              /foo/        | /xyz           | /xyz/bar
                                              /foo/bar     | /foo/        | /xyz/
                                              \         | /xyz/bar /foo         |
                                              /foo         | /xyz           | /xyz
                                              /foo/        | /foo         | /xyz           |
                                              /xyz/ /foo/bar     | /foo         |
                                              <empty string> | /bar /foo/        |
                                              /foo         | <empty string> | / /foo
                                              \        | /foo         | <empty string>
                                              | / /foo/        | /foo         | /
                                              \             | / /foo         | /foo
                                              \        | /              | /"
                                            maxLength: 1024
                                            type: string
                                          type:
                                            description: "Type defines the type of
                                              path modifier. Additional types may
                                              be added in a future release of the
                                              API. \n Note that values may be added
                                              to this enum, implementations must ensure
                                              that unknown values will not cause a
                                              crash. \n Unknown values here must result
                                              in the implementation setting the Accepted
                                              Condition for the Route to `status:
                                              False`, with a Reason of `UnsupportedValue`."
                                            enum:
                                            - ReplaceFullPath
                                            - ReplacePrefixMatch
                                            type: string
                                        required:
                                        - type
                                        type: object
                                        x-kubernetes-validations:
                                        - message: replaceFullPath must be specified
                                            when type is set to 'ReplaceFullPath'
                                          rule: 'self.type == ''ReplaceFullPath''
                                            ? has(self.replaceFullPath) : true'
                                        - message: type must be 'ReplaceFullPath'
                                            when replaceFullPath is set
                                          rule: 'has(self.replaceFullPath) ? self.type
                                            == ''ReplaceFullPath'' : true'
                                        - message: replacePrefixMatch must be specified
                                            when type is set to 'ReplacePrefixMatch'
                                          rule: 'self.type == ''ReplacePrefixMatch''
                                            ? has(self.replacePrefixMatch) : true'
                                        - message: type must be 'ReplacePrefixMatch'
                                            when replacePrefixMatch is set
                                          rule: 'has(self.replacePrefixMatch) ? self.type
                                            == ''ReplacePrefixMatch'' : true'
                                      port:
                                        description: "Port is the port to be used
                                          in the value of the `Location` header in
                                          the response. \n If no port is specified,
                                          the redirect port MUST be derived using
                                          the following rules: \n * If redirect scheme
                                          is not-empty, the redirect port MUST be
                                          the well-known port associated with the
                                          redirect scheme. Specifically \"http\" to
                                          port 80 and \"https\" to port 443. If the
                                          redirect scheme does not have a well-known
                                          port, the listener port of the Gateway SHOULD
                                          be used. * If redirect scheme is empty,
                                          the redirect port MUST be the Gateway Listener
                                          port. \n Implementations SHOULD NOT add
                                          the port number in the 'Location' header
                                          in the following cases: \n * A Location
                                          header that will use HTTP (whether that
                                          is determined via the Listener protocol
                                          or the Scheme field) _and_ use port 80.
                                          * A Location header that will use HTTPS
                                          (whether that is determined via the Listener
                                          protocol or the Scheme field) _and_ use
                                          port 443. \n Support: Extended"
                                        format: int32
                                        maximum: 65535
                                        minimum: 1
                                        type: integer
                                      scheme:
                                        description: "Scheme is the scheme to be used
                                          in the value of the `Location` header in
                                          the response. When empty, the scheme of
                                          the request is used. \n Scheme redirects
                                          can affect the port of the redirect, for
                                          more information, refer to the documentation
                                          for the port field of this filter. \n Note
                                          that values may be added to this enum, implementations
                                          must ensure that unknown values will not
                                          cause a crash. \n Unknown values here must
                                          result in the implementation setting the
                                          Accepted Condition for the Route to `status:
                                          False`, with a Reason of `UnsupportedValue`.
                                          \n Support: Extended"
                                        enum:
                                        - http
                                        - https
                                        type: string
                                      statusCode:
                                        default: 302
                                        description: "StatusCode is the HTTP status
                                          code to be used in response. \n Note that
                                          values may be added to this enum, implementations
                                          must ensure that unknown values will not
                                          cause a crash. \n Unknown values here must
                                          result in the implementation setting the
                                          Accepted Condition for the Route to `status:
                                          False`, with a Reason of `UnsupportedValue`.
                                          \n Support: Core"
                                        enum:
                                        - 301
                                        - 302
                                        type: integer
                                    type: object
                                  responseHeaderModifier:
                                    description: "ResponseHeaderModifier defines a
                                      schema for a filter that modifies response headers.
                                      \n Support: Extended"
                                    properties:
                                      add:
                                        description: "Add adds the given header(s)
                                          (name, value) to the request before the
                                          action. It appends to any existing values
                                          associated with the header name. \n Input:
                                          GET /foo HTTP/1.1 my-header: foo \n Config:
                                          add: - name: \"my-header\" value: \"bar,baz\"
                                          \n Output: GET /foo HTTP/1.1 my-header:
                                          foo,bar,baz"
                                        items:
                                          description: HTTPHeader represents an HTTP
                                            Header name and value as defined by RFC
                                            7230.
                                          properties:
                                            name:
                                              description: "Name is the name of the
                                                HTTP Header to be matched. Name matching
                                                MUST be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                                \n If multiple entries specify equivalent
                                                header names, the first entry with
                                                an equivalent name MUST be considered
                                                for a match. Subsequent entries with
                                                an equivalent header name MUST be
                                                ignored. Due to the case-insensitivity
                                                of header names, \"foo\" and \"Foo\"
                                                are considered equivalent."
                                              maxLength: 256
                                              minLength: 1
                                              pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                              type: string
                                            value:
                                              description: Value is the value of HTTP
                                                Header to be matched.
                                              maxLength: 4096
                                              minLength: 1
                                              type: string
                                          required:
                                          - name
                                          - value
                                          type: object
                                        maxItems: 16
                                        type: array
                                        x-kubernetes-list-map-keys:
                                        - name
                                        x-kubernetes-list-type: map
                                      remove:
                                        description: "Remove the given header(s) from
                                          the HTTP request before the action. The
                                          value of Remove is a list of HTTP header
                                          names. Note that the header names are case-insensitive
                                          (see https://datatracker.ietf.org/doc/html/rfc2616#section-4.2).
                                          \n Input: GET /foo HTTP/1.1 my-header1:
                                          foo my-header2: bar my-header3: baz \n Config:
                                          remove: [\"my-header1\", \"my-header3\"]
                                          \n Output: GET /foo HTTP/1.1 my-header2:
                                          bar"
                                        items:
                                          type: string
                                        maxItems: 16
                                        type: array
                                        x-kubernetes-list-type: set
                                      set:
                                        description: "Set overwrites the request with
                                          the given header (name, value) before the
                                          action. \n Input: GET /foo HTTP/1.1 my-header:
                                          foo \n Config: set: - name: \"my-header\"
                                          value: \"bar\" \n Output: GET /foo HTTP/1.1
                                          my-header: bar"
                                        items:
                                          description: HTTPHeader represents an HTTP
                                            Header name and value as defined by RFC
                                            7230.
                                          properties:
                                            name:
                                              description: "Name is the name of the
                                                HTTP Header to be matched. Name matching
                                                MUST be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                                \n If multiple entries specify equivalent
                                                header names, the first entry with
                                                an equivalent name MUST be considered
                                                for a match. Subsequent entries with
                                                an equivalent header name MUST be
                                                ignored. Due to the case-insensitivity
                                                of header names, \"foo\" and \"Foo\"
                                                are considered equivalent."
                                              maxLength: 256
                                              minLength: 1
                                              pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                              type: string
                                            value:
                                              description: Value is the value of HTTP
                                                Header to be matched.
                                              maxLength: 4096
                                              minLength: 1
                                              type: string
                                          required:
                                          - name
                                          - value
                                          type: object
                                        maxItems: 16
                                        type: array
                                        x-kubernetes-list-map-keys:
                                        - name
                                        x-kubernetes-list-type: map
                                    type: object
                                  type:
                                    description: "Type identifies the type of filter
                                      to apply. As with other API fields, types are
                                      classified into three conformance levels: \n
                                      - Core: Filter types and their corresponding
                                      configuration defined by \"Support: Core\" in
                                      this package, e.g. \"RequestHeaderModifier\".
                                      All implementations must support core filters.
                                      \n - Extended: Filter types and their corresponding
                                      configuration defined by \"Support: Extended\"
                                      in this package, e.g. \"RequestMirror\". Implementers
                                      are encouraged to support extended filters.
                                      \n - Implementation-specific: Filters that are
                                      defined and supported by specific vendors. In
                                      the future, filters showing convergence in behavior
                                      across multiple implementations will be considered
                                      for inclusion in extended or core conformance
                                      levels. Filter-specific configuration for such
                                      filters is specified using the ExtensionRef
                                      field. `Type` should be set to \"ExtensionRef\"
                                      for custom filters. \n Implementers are encouraged
                                      to define custom implementation types to extend
                                      the core API with implementation-specific behavior.
                                      \n If a reference to a custom filter type cannot
                                      be resolved, the filter MUST NOT be skipped.
                                      Instead, requests that would have been processed
                                      by that filter MUST receive a HTTP error response.
                                      \n Note that values may be added to this enum,
                                      implementations must ensure that unknown values
                                      will not cause a crash. \n Unknown values here
                                      must result in the implementation setting the
                                      Accepted Condition for the Route to `status:
                                      False`, with a Reason of `UnsupportedValue`."
                                    enum:
                                    - RequestHeaderModifier
                                    - ResponseHeaderModifier
                                    - RequestMirror
                                    - RequestRedirect
                                    - URLRewrite
                                    - ExtensionRef
                                    type: string
                                  urlRewrite:
                                    description: "URLRewrite defines a schema for
                                      a filter that modifies a request during forwarding.
                                      \n Support: Extended"
                                    properties:
                                      hostname:
                                        description: "Hostname is the value to be
                                          used to replace the Host header value during
                                          forwarding. \n Support: Extended"
                                        maxLength: 253
                                        minLength: 1
                                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                        type: string
                                      path:
                                        description: "Path defines a path rewrite.
                                          \n Support: Extended"
                                        properties:
                                          replaceFullPath:
                                            description: ReplaceFullPath specifies
                                              the value with which to replace the
                                              full path of a request during a rewrite
                                              or redirect.
                                            maxLength: 1024
                                            type: string
                                          replacePrefixMatch:
                                            description: "ReplacePrefixMatch specifies
                                              the value with which to replace the
                                              prefix match of a request during a rewrite
                                              or redirect. For example, a request
                                              to \"/foo/bar\" with a prefix match
                                              of \"/foo\" and a ReplacePrefixMatch
                                              of \"/xyz\" would be modified to \"/xyz/bar\".
                                              \n Note that this matches the behavior
                                              of the PathPrefix match type. This matches
                                              full path elements. A path element refers
                                              to the list of labels in the path split
                                              by the `/` separator. When specified,
                                              a trailing `/` is ignored. For example,
                                              the paths `/abc`, `/abc/`, and `/abc/def`
                                              would all match the prefix `/abc`, but
                                              the path `/abcd` would not. \n ReplacePrefixMatch
                                              is only compatible with a `PathPrefix`
                                              HTTPRouteMatch. Using any other HTTPRouteMatch
                                              type on the same HTTPRouteRule will
                                              result in the implementation setting
                                              the Accepted Condition for the Route
                                              to `status: False`. \n Request Path
                                              | Prefix Match | Replace Prefix | Modified
                                              Path -------------|--------------|----------------|----------
                                              /foo/bar     | /foo         | /xyz           |
                                              /xyz/bar /foo/bar     | /foo         |
                                              /xyz/          | /xyz/bar /foo/bar     |
                                              /foo/        | /xyz           | /xyz/bar
                                              /foo/bar     | /foo/        | /xyz/
                                              \         | /xyz/bar /foo         |
                                              /foo         | /xyz           | /xyz
                                              /foo/        | /foo         | /xyz           |
                                              /xyz/ /foo/bar     | /foo         |
                                              <empty string> | /bar /foo/        |
                                              /foo         | <empty string> | / /foo
                                              \        | /foo         | <empty string>
                                              | / /foo/        | /foo         | /
                                              \             | / /foo         | /foo
                                              \        | /              | /"
                                            maxLength: 1024
                                            type: string
                                          type:
                                            description: "Type defines the type of
                                              path modifier. Additional types may
                                              be added in a future release of the
                                              API. \n Note that values may be added
                                              to this enum, implementations must ensure
                                              that unknown values will not cause a
                                              crash. \n Unknown values here must result
                                              in the implementation setting the Accepted
                                              Condition for the Route to `status:
                                              False`, with a Reason of `UnsupportedValue`."
                                            enum:
                                            - ReplaceFullPath
                                            - ReplacePrefixMatch
                                            type: string
                                        required:
                                        - type
                                        type: object
                                        x-kubernetes-validations:
                                        - message: replaceFullPath must be specified
                                            when type is set to 'ReplaceFullPath'
                                          rule: 'self.type == ''ReplaceFullPath''
                                            ? has(self.replaceFullPath) : true'
                                        - message: type must be 'ReplaceFullPath'
                                            when replaceFullPath is set
                                          rule: 'has(self.replaceFullPath) ? self.type
                                            == ''ReplaceFullPath'' : true'
                                        - message: replacePrefixMatch must be specified
                                            when type is set to 'ReplacePrefixMatch'
                                          rule: 'self.type == ''ReplacePrefixMatch''
                                            ? has(self.replacePrefixMatch) : true'
                                        - message: type must be 'ReplacePrefixMatch'
                                            when replacePrefixMatch is set
                                          rule: 'has(self.replacePrefixMatch) ? self.type
                                            == ''ReplacePrefixMatch'' : true'
                                    type: object
                                required:
                                - type
                                type: object
                                x-kubernetes-validations:
                                - message: filter.requestHeaderModifier must be nil
                                    if the filter.type is not RequestHeaderModifier
                                  rule: '!(has(self.requestHeaderModifier) && self.type
                                    != ''RequestHeaderModifier'')'
                                - message: filter.requestHeaderModifier must be specified
                                    for RequestHeaderModifier filter.type
                                  rule: '!(!has(self.requestHeaderModifier) && self.type
                                    == ''RequestHeaderModifier'')'
                                - message: filter.responseHeaderModifier must be nil
                                    if the filter.type is not ResponseHeaderModifier
                                  rule: '!(has(self.responseHeaderModifier) && self.type
                                    != ''ResponseHeaderModifier'')'
                                - message: filter.responseHeaderModifier must be specified
                                    for ResponseHeaderModifier filter.type
                                  rule: '!(!has(self.responseHeaderModifier) && self.type
                                    == ''ResponseHeaderModifier'')'
                                - message: filter.requestMirror must be nil if the
                                    filter.type is not RequestMirror
                                  rule: '!(has(self.requestMirror) && self.type !=
                                    ''RequestMirror'')'
                                - message: filter.requestMirror must be specified
                                    for RequestMirror filter.type
                                  rule: '!(!has(self.requestMirror) && self.type ==
                                    ''RequestMirror'')'
                                - message: filter.requestRedirect must be nil if the
                                    filter.type is not RequestRedirect
                                  rule: '!(has(self.requestRedirect) && self.type
                                    != ''RequestRedirect'')'
                                - message: filter.requestRedirect must be specified
                                    for RequestRedirect filter.type
                                  rule: '!(!has(self.requestRedirect) && self.type
                                    == ''RequestRedirect'')'
                                - message: filter.urlRewrite must be nil if the filter.type
                                    is not URLRewrite
                                  rule: '!(has(self.urlRewrite) && self.type != ''URLRewrite'')'
                                - message: filter.urlRewrite must be specified for
                                    URLRewrite filter.type
                                  rule: '!(!has(self.urlRewrite) && self.type == ''URLRewrite'')'
                                - message: filter.extensionRef must be nil if the
                                    filter.type is not ExtensionRef
                                  rule: '!(has(self.extensionRef) && self.type !=
                                    ''ExtensionRef'')'
                                - message: filter.extensionRef must be specified for
                                    ExtensionRef filter.type
                                  rule: '!(!has(self.extensionRef) && self.type ==
                                    ''ExtensionRef'')'
                              maxItems: 16
                              type: array
                              x-kubernetes-validations:
                              - message: May specify either httpRouteFilterRequestRedirect
                                  or httpRouteFilterRequestRewrite, but not both
                                rule: '!(self.exists(f, f.type == ''RequestRedirect'')
                                  && self.exists(f, f.type == ''URLRewrite''))'
                              - message: May specify either httpRouteFilterRequestRedirect
                                  or httpRouteFilterRequestRewrite, but not both
                                rule: '!(self.exists(f, f.type == ''RequestRedirect'')
                                  && self.exists(f, f.type == ''URLRewrite''))'
                              - message: RequestHeaderModifier filter cannot be repeated
                                rule: self.filter(f, f.type == 'RequestHeaderModifier').size()
                                  <= 1
                              - message: ResponseHeaderModifier filter cannot be repeated
                                rule: self.filter(f, f.type == 'ResponseHeaderModifier').size()
                                  <= 1
                              - message: RequestRedirect filter cannot be repeated
                                rule: self.filter(f, f.type == 'RequestRedirect').size()
                                  <= 1
                              - message: URLRewrite filter cannot be repeated
                                rule: self.filter(f, f.type == 'URLRewrite').size()
                                  <= 1
                            group:
                              default: ""
                              description: Group is the group of the referent. For
                                example, "gateway.networking.k8s.io". When unspecified
                                or empty string, core API group is inferred.
                              maxLength: 253
                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                            kind:
                              default: Service
                              description: "Kind is the Kubernetes resource kind of
                                the referent. For example \"Service\". \n Defaults
                                to \"Service\" when not specified. \n ExternalName
                                services can refer to CNAME DNS records that may live
                                outside of the cluster and as such are difficult to
                                reason about in terms of conformance. They also may
                                not be safe to forward to (see CVE-2021-25740 for
                                more information). Implementations SHOULD NOT support
                                ExternalName Services. \n Support: Core (Services
                                with a type other than ExternalName) \n Support: Implementation-specific
                                (Services with type ExternalName)"
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                              type: string
                            name:
                              description: Name is the name of the referent.
                              maxLength: 253
                              minLength: 1
                              type: string
                            namespace:
                              description: "Namespace is the namespace of the backend.
                                When unspecified, the local namespace is inferred.
                                \n Note that when a namespace different than the local
                                namespace is specified, a ReferenceGrant object is
                                required in the referent namespace to allow that namespace's
                                owner to accept the reference. See the ReferenceGrant
                                documentation for details. \n Support: Core"
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                              type: string
                            port:
                              description: Port specifies the destination port number
                                to use for this resource. Port is required when the
                                referent is a Kubernetes Service. In this case, the
                                port number is the service port number, not the target
                                port. For other resources, destination port might
                                be derived from the referent resource or this field.
                              format: int32
                              maximum: 65535
                              minimum: 1
                              type: integer
                            weight:
                              default: 1
                              description: "Weight specifies the proportion of requests
                                forwarded to the referenced backend. This is computed
                                as weight/(sum of all weights in this BackendRefs
                                list). For non-zero values, there may be some epsilon
                                from the exact proportion defined here depending on
                                the precision an implementation supports. Weight is
                                not a percentage and the sum of weights does not need
                                to equal 100. \n If only one backend is specified
                                and it has a weight greater than 0, 100% of the traffic
                                is forwarded to that backend. If weight is set to
                                0, no traffic should be forwarded for this entry.
                                If unspecified, weight defaults to 1. \n Support for
                                this field varies based on the context where used."
                              format: int32
                              maximum: 1000000
                              minimum: 0
                              type: integer
                          required:
                          - name
                          type: object
                          x-kubernetes-validations:
                          - message: Must have port for Service reference
                            rule: '(size(self.group) == 0 && self.kind == ''Service'')
                              ? has(self.port) : true'
                        maxItems: 16
                        type: array
                      filters:
                        description: "Filters define the filters that are applied
                          to requests that match this rule. \n The effects of ordering
                          of multiple behaviors are currently unspecified. This can
                          change in the future based on feedback during the alpha
                          stage. \n Conformance-levels at this level are defined based
                          on the type of filter: \n - ALL core filters MUST be supported
                          by all implementations. - Implementers are encouraged to
                          support extended filters. - Implementation-specific custom
                          filters have no API guarantees across implementations. \n
                          Specifying the same filter multiple times is not supported
                          unless explicitly indicated in the filter. \n All filters
                          are expected to be compatible with each other except for
                          the URLRewrite and RequestRedirect filters, which may not
                          be combined. If an implementation can not support other
                          combinations of filters, they must clearly document that
                          limitation. In cases where incompatible or unsupported filters
                          are specified and cause the `Accepted` condition to be set
                          to status `False`, implementations may use the `IncompatibleFilters`
                          reason to specify this configuration error. \n Support:
                          Core"
                        items:
                          description: HTTPRouteFilter defines processing steps that
                            must be completed during the request or response lifecycle.
                            HTTPRouteFilters are meant as an extension point to express
                            processing that may be done in Gateway implementations.
                            Some examples include request or response modification,
                            implementing authentication strategies, rate-limiting,
                            and traffic shaping. API guarantee/conformance is defined
                            based on the type of the filter.
                          properties:
                            extensionRef:
                              description: "ExtensionRef is an optional, implementation-specific
                                extension to the \"filter\" behavior.  For example,
                                resource \"myroutefilter\" in group \"networking.example.net\").
                                ExtensionRef MUST NOT be used for core and extended
                                filters. \n This filter can be used multiple times
                                within the same rule. \n Support: Implementation-specific"
                              properties:
                                group:
                                  description: Group is the group of the referent.
                                    For example, "gateway.networking.k8s.io". When
                                    unspecified or empty string, core API group is
                                    inferred.
                                  maxLength: 253
                                  pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                  type: string
                                kind:
                                  description: Kind is kind of the referent. For example
                                    "HTTPRoute" or "Service".
                                  maxLength: 63
                                  minLength: 1
                                  pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                  type: string
                                name:
                                  description: Name is the name of the referent.
                                  maxLength: 253
                                  minLength: 1
                                  type: string
                              required:
                              - group
                              - kind
                              - name
                              type: object
                            requestHeaderModifier:
                              description: "RequestHeaderModifier defines a schema
                                for a filter that modifies request headers. \n Support:
                                Core"
                              properties:
                                add:
                                  description: "Add adds the given header(s) (name,
                                    value) to the request before the action. It appends
                                    to any existing values associated with the header
                                    name. \n Input: GET /foo HTTP/1.1 my-header: foo
                                    \n Config: add: - name: \"my-header\" value: \"bar,baz\"
                                    \n Output: GET /foo HTTP/1.1 my-header: foo,bar,baz"
                                  items:
                                    description: HTTPHeader represents an HTTP Header
                                      name and value as defined by RFC 7230.
                                    properties:
                                      name:
                                        description: "Name is the name of the HTTP
                                          Header to be matched. Name matching MUST
                                          be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                          \n If multiple entries specify equivalent
                                          header names, the first entry with an equivalent
                                          name MUST be considered for a match. Subsequent
                                          entries with an equivalent header name MUST
                                          be ignored. Due to the case-insensitivity
                                          of header names, \"foo\" and \"Foo\" are
                                          considered equivalent."
                                        maxLength: 256
                                        minLength: 1
                                        pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                        type: string
                                      value:
                                        description: Value is the value of HTTP Header
                                          to be matched.
                                        maxLength: 4096
                                        minLength: 1
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  maxItems: 16
                                  type: array
                                  x-kubernetes-list-map-keys:
                                  - name
                                  x-kubernetes-list-type: map
                                remove:
                                  description: "Remove the given header(s) from the
                                    HTTP request before the action. The value of Remove
                                    is a list of HTTP header names. Note that the
                                    header names are case-insensitive (see https://datatracker.ietf.org/doc/html/rfc2616#section-4.2).
                                    \n Input: GET /foo HTTP/1.1 my-header1: foo my-header2:
                                    bar my-header3: baz \n Config: remove: [\"my-header1\",
                                    \"my-header3\"] \n Output: GET /foo HTTP/1.1 my-header2:
                                    bar"
                                  items:
                                    type: string
                                  maxItems: 16
                                  type: array
                                  x-kubernetes-list-type: set
                                set:
                                  description: "Set overwrites the request with the
                                    given header (name, value) before the action.
                                    \n Input: GET /foo HTTP/1.1 my-header: foo \n
                                    Config: set: - name: \"my-header\" value: \"bar\"
                                    \n Output: GET /foo HTTP/1.1 my-header: bar"
                                  items:
                                    description: HTTPHeader represents an HTTP Header
                                      name and value as defined by RFC 7230.
                                    properties:
                                      name:
                                        description: "Name is the name of the HTTP
                                          Header to be matched. Name matching MUST
                                          be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                          \n If multiple entries specify equivalent
                                          header names, the first entry with an equivalent
                                          name MUST be considered for a match. Subsequent
                                          entries with an equivalent header name MUST
                                          be ignored. Due to the case-insensitivity
                                          of header names, \"foo\" and \"Foo\" are
                                          considered equivalent."
                                        maxLength: 256
                                        minLength: 1
                                        pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                        type: string
                                      value:
                                        description: Value is the value of HTTP Header
                                          to be matched.
                                        maxLength: 4096
                                        minLength: 1
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  maxItems: 16
                                  type: array
                                  x-kubernetes-list-map-keys:
                                  - name
                                  x-kubernetes-list-type: map
                              type: object
                            requestMirror:
                              description: "RequestMirror defines a schema for a filter
                                that mirrors requests. Requests are sent to the specified
                                destination, but responses from that destination are
                                ignored. \n This filter can be used multiple times
                                within the same rule. Note that not all implementations
                                will be able to support mirroring to multiple backends.
                                \n Support: Extended"
                              properties:
                                backendRef:
                                  description: "BackendRef references a resource where
                                    mirrored requests are sent. \n Mirrored requests
                                    must be sent only to a single destination endpoint
                                    within this BackendRef, irrespective of how many
                                    endpoints are present within this BackendRef.
                                    \n If the referent cannot be found, this BackendRef
                                    is invalid and must be dropped from the Gateway.
                                    The controller must ensure the \"ResolvedRefs\"
                                    condition on the Route status is set to `status:
                                    False` and not configure this backend in the underlying
                                    implementation. \n If there is a cross-namespace
                                    reference to an *existing* object that is not
                                    allowed by a ReferenceGrant, the controller must
                                    ensure the \"ResolvedRefs\"  condition on the
                                    Route is set to `status: False`, with the \"RefNotPermitted\"
                                    reason and not configure this backend in the underlying
                                    implementation. \n In either error case, the Message
                                    of the `ResolvedRefs` Condition should be used
                                    to provide more detail about the problem. \n Support:
                                    Extended for Kubernetes Service \n Support: Implementation-specific
                                    for any other resource"
                                  properties:
                                    group:
                                      default: ""
                                      description: Group is the group of the referent.
                                        For example, "gateway.networking.k8s.io".
                                        When unspecified or empty string, core API
                                        group is inferred.
                                      maxLength: 253
                                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                      type: string
                                    kind:
                                      default: Service
                                      description: "Kind is the Kubernetes resource
                                        kind of the referent. For example \"Service\".
                                        \n Defaults to \"Service\" when not specified.
                                        \n ExternalName services can refer to CNAME
                                        DNS records that may live outside of the cluster
                                        and as such are difficult to reason about
                                        in terms of conformance. They also may not
                                        be safe to forward to (see CVE-2021-25740
                                        for more information). Implementations SHOULD
                                        NOT support ExternalName Services. \n Support:
                                        Core (Services with a type other than ExternalName)
                                        \n Support: Implementation-specific (Services
                                        with type ExternalName)"
                                      maxLength: 63
                                      minLength: 1
                                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                      type: string
                                    name:
                                      description: Name is the name of the referent.
                                      maxLength: 253
                                      minLength: 1
                                      type: string
                                    namespace:
                                      description: "Namespace is the namespace of
                                        the backend. When unspecified, the local namespace
                                        is inferred. \n Note that when a namespace
                                        different than the local namespace is specified,
                                        a ReferenceGrant object is required in the
                                        referent namespace to allow that namespace's
                                        owner to accept the reference. See the ReferenceGrant
                                        documentation for details. \n Support: Core"
                                      maxLength: 63
                                      minLength: 1
                                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                      type: string
                                    port:
                                      description: Port specifies the destination
                                        port number to use for this resource. Port
                                        is required when the referent is a Kubernetes
                                        Service. In this case, the port number is
                                        the service port number, not the target port.
                                        For other resources, destination port might
                                        be derived from the referent resource or this
                                        field.
                                      format: int32
                                      maximum: 65535
                                      minimum: 1
                                      type: integer
                                  required:
                                  - name
                                  type: object
                                  x-kubernetes-validations:
                                  - message: Must have port for Service reference
                                    rule: '(size(self.group) == 0 && self.kind ==
                                      ''Service'') ? has(self.port) : true'
                              required:
                              - backendRef
                              type: object
                            requestRedirect:
                              description: "RequestRedirect defines a schema for a
                                filter that responds to the request with an HTTP redirection.
                                \n Support: Core"
                              properties:
                                hostname:
                                  description: "Hostname is the hostname to be used
                                    in the value of the `Location` header in the response.
                                    When empty, the hostname in the `Host` header
                                    of the request is used. \n Support: Core"
                                  maxLength: 253
                                  minLength: 1
                                  pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                  type: string
                                path:
                                  description: "Path defines parameters used to modify
                                    the path of the incoming request. The modified
                                    path is then used to construct the `Location`
                                    header. When empty, the request path is used as-is.
                                    \n Support: Extended"
                                  properties:
                                    replaceFullPath:
                                      description: ReplaceFullPath specifies the value
                                        with which to replace the full path of a request
                                        during a rewrite or redirect.
                                      maxLength: 1024
                                      type: string
                                    replacePrefixMatch:
                                      description: "ReplacePrefixMatch specifies the
                                        value with which to replace the prefix match
                                        of a request during a rewrite or redirect.
                                        For example, a request to \"/foo/bar\" with
                                        a prefix match of \"/foo\" and a ReplacePrefixMatch
                                        of \"/xyz\" would be modified to \"/xyz/bar\".
                                        \n Note that this matches the behavior of
                                        the PathPrefix match type. This matches full
                                        path elements. A path element refers to the
                                        list of labels in the path split by the `/`
                                        separator. When specified, a trailing `/`
                                        is ignored. For example, the paths `/abc`,
                                        `/abc/`, and `/abc/def` would all match the
                                        prefix `/abc`, but the path `/abcd` would
                                        not. \n ReplacePrefixMatch is only compatible
                                        with a `PathPrefix` HTTPRouteMatch. Using
                                        any other HTTPRouteMatch type on the same
                                        HTTPRouteRule will result in the implementation
                                        setting the Accepted Condition for the Route
                                        to `status: False`. \n Request Path | Prefix
                                        Match | Replace Prefix | Modified Path -------------|--------------|----------------|----------
                                        /foo/bar     | /foo         | /xyz           |
                                        /xyz/bar /foo/bar     | /foo         | /xyz/
                                        \         | /xyz/bar /foo/bar     | /foo/
                                        \       | /xyz           | /xyz/bar /foo/bar
                                        \    | /foo/        | /xyz/          | /xyz/bar
                                        /foo         | /foo         | /xyz           |
                                        /xyz /foo/        | /foo         | /xyz           |
                                        /xyz/ /foo/bar     | /foo         | <empty
                                        string> | /bar /foo/        | /foo         |
                                        <empty string> | / /foo         | /foo         |
                                        <empty string> | / /foo/        | /foo         |
                                        /              | / /foo         | /foo         |
                                        /              | /"
                                      maxLength: 1024
                                      type: string
                                    type:
                                      description: "Type defines the type of path
                                        modifier. Additional types may be added in
                                        a future release of the API. \n Note that
                                        values may be added to this enum, implementations
                                        must ensure that unknown values will not cause
                                        a crash. \n Unknown values here must result
                                        in the implementation setting the Accepted
                                        Condition for the Route to `status: False`,
                                        with a Reason of `UnsupportedValue`."
                                      enum:
                                      - ReplaceFullPath
                                      - ReplacePrefixMatch
                                      type: string
                                  required:
                                  - type
                                  type: object
                                  x-kubernetes-validations:
                                  - message: replaceFullPath must be specified when
                                      type is set to 'ReplaceFullPath'
                                    rule: 'self.type == ''ReplaceFullPath'' ? has(self.replaceFullPath)
                                      : true'
                                  - message: type must be 'ReplaceFullPath' when replaceFullPath
                                      is set
                                    rule: 'has(self.replaceFullPath) ? self.type ==
                                      ''ReplaceFullPath'' : true'
                                  - message: replacePrefixMatch must be specified
                                      when type is set to 'ReplacePrefixMatch'
                                    rule: 'self.type == ''ReplacePrefixMatch'' ? has(self.replacePrefixMatch)
                                      : true'
                                  - message: type must be 'ReplacePrefixMatch' when
                                      replacePrefixMatch is set
                                    rule: 'has(self.replacePrefixMatch) ? self.type
                                      == ''ReplacePrefixMatch'' : true'
                                port:
                                  description: "Port is the port to be used in the
                                    value of the `Location` header in the response.
                                    \n If no port is specified, the redirect port
                                    MUST be derived using the following rules: \n
                                    * If redirect scheme is not-empty, the redirect
                                    port MUST be the well-known port associated with
                                    the redirect scheme. Specifically \"http\" to
                                    port 80 and \"https\" to port 443. If the redirect
                                    scheme does not have a well-known port, the listener
                                    port of the Gateway SHOULD be used. * If redirect
                                    scheme is empty, the redirect port MUST be the
                                    Gateway Listener port. \n Implementations SHOULD
                                    NOT add the port number in the 'Location' header
                                    in the following cases: \n * A Location header
                                    that will use HTTP (whether that is determined
                                    via the Listener protocol or the Scheme field)
                                    _and_ use port 80. * A Location header that will
                                    use HTTPS (whether that is determined via the
                                    Listener protocol or the Scheme field) _and_ use
                                    port 443. \n Support: Extended"
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                                scheme:
                                  description: "Scheme is the scheme to be used in
                                    the value of the `Location` header in the response.
                                    When empty, the scheme of the request is used.
                                    \n Scheme redirects can affect the port of the
                                    redirect, for more information, refer to the documentation
                                    for the port field of this filter. \n Note that
                                    values may be added to this enum, implementations
                                    must ensure that unknown values will not cause
                                    a crash. \n Unknown values here must result in
                                    the implementation setting the Accepted Condition
                                    for the Route to `status: False`, with a Reason
                                    of `UnsupportedValue`. \n Support: Extended"
                                  enum:
                                  - http
                                  - https
                                  type: string
                                statusCode:
                                  default: 302
                                  description: "StatusCode is the HTTP status code
                                    to be used in response. \n Note that values may
                                    be added to this enum, implementations must ensure
                                    that unknown values will not cause a crash. \n
                                    Unknown values here must result in the implementation
                                    setting the Accepted Condition for the Route to
                                    `status: False`, with a Reason of `UnsupportedValue`.
                                    \n Support: Core"
                                  enum:
                                  - 301
                                  - 302
                                  type: integer
                              type: object
                            responseHeaderModifier:
                              description: "ResponseHeaderModifier defines a schema
                                for a filter that modifies response headers. \n Support:
                                Extended"
                              properties:
                                add:
                                  description: "Add adds the given header(s) (name,
                                    value) to the request before the action. It appends
                                    to any existing values associated with the header
                                    name. \n Input: GET /foo HTTP/1.1 my-header: foo
                                    \n Config: add: - name: \"my-header\" value: \"bar,baz\"
                                    \n Output: GET /foo HTTP/1.1 my-header: foo,bar,baz"
                                  items:
                                    description: HTTPHeader represents an HTTP Header
                                      name and value as defined by RFC 7230.
                                    properties:
                                      name:
                                        description: "Name is the name of the HTTP
                                          Header to be matched. Name matching MUST
                                          be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                          \n If multiple entries specify equivalent
                                          header names, the first entry with an equivalent
                                          name MUST be considered for a match. Subsequent
                                          entries with an equivalent header name MUST
                                          be ignored. Due to the case-insensitivity
                                          of header names, \"foo\" and \"Foo\" are
                                          considered equivalent."
                                        maxLength: 256
                                        minLength: 1
                                        pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                        type: string
                                      value:
                                        description: Value is the value of HTTP Header
                                          to be matched.
                                        maxLength: 4096
                                        minLength: 1
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  maxItems: 16
                                  type: array
                                  x-kubernetes-list-map-keys:
                                  - name
                                  x-kubernetes-list-type: map
                                remove:
                                  description: "Remove the given header(s) from the
                                    HTTP request before the action. The value of Remove
                                    is a list of HTTP header names. Note that the
                                    header names are case-insensitive (see https://datatracker.ietf.org/doc/html/rfc2616#section-4.2).
                                    \n Input: GET /foo HTTP/1.1 my-header1: foo my-header2:
                                    bar my-header3: baz \n Config: remove: [\"my-header1\",
                                    \"my-header3\"] \n Output: GET /foo HTTP/1.1 my-header2:
                                    bar"
                                  items:
                                    type: string
                                  maxItems: 16
                                  type: array
                                  x-kubernetes-list-type: set
                                set:
                                  description: "Set overwrites the request with the
                                    given header (name, value) before the action.
                                    \n Input: GET /foo HTTP/1.1 my-header: foo \n
                                    Config: set: - name: \"my-header\" value: \"bar\"
                                    \n Output: GET /foo HTTP/1.1 my-header: bar"
                                  items:
                                    description: HTTPHeader represents an HTTP Header
                                      name and value as defined by RFC 7230.
                                    properties:
                                      name:
                                        description: "Name is the name of the HTTP
                                          Header to be matched. Name matching MUST
                                          be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                          \n If multiple entries specify equivalent
                                          header names, the first entry with an equivalent
                                          name MUST be considered for a match. Subsequent
                                          entries with an equivalent header name MUST
                                          be ignored. Due to the case-insensitivity
                                          of header names, \"foo\" and \"Foo\" are
                                          considered equivalent."
                                        maxLength: 256
                                        minLength: 1
                                        pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                        type: string
                                      value:
                                        description: Value is the value of HTTP Header
                                          to be matched.
                                        maxLength: 4096
                                        minLength: 1
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  maxItems: 16
                                  type: array
                                  x-kubernetes-list-map-keys:
                                  - name
                                  x-kubernetes-list-type: map
                              type: object
                            type:
                              description: "Type identifies the type of filter to
                                apply. As with other API fields, types are classified
                                into three conformance levels: \n - Core: Filter types
                                and their corresponding configuration defined by \"Support:
                                Core\" in this package, e.g. \"RequestHeaderModifier\".
                                All implementations must support core filters. \n
                                - Extended: Filter types and their corresponding configuration
                                defined by \"Support: Extended\" in this package,
                                e.g. \"RequestMirror\". Implementers are encouraged
                                to support extended filters. \n - Implementation-specific:
                                Filters that are defined and supported by specific
                                vendors. In the future, filters showing convergence
                                in behavior across multiple implementations will be
                                considered for inclusion in extended or core conformance
                                levels. Filter-specific configuration for such filters
                                is specified using the ExtensionRef field. `Type`
                                should be set to \"ExtensionRef\" for custom filters.
                                \n Implementers are encouraged to define custom implementation
                                types to extend the core API with implementation-specific
                                behavior. \n If a reference to a custom filter type
                                cannot be resolved, the filter MUST NOT be skipped.
                                Instead, requests that would have been processed by
                                that filter MUST receive a HTTP error response. \n
                                Note that values may be added to this enum, implementations
                                must ensure that unknown values will not cause a crash.
                                \n Unknown values here must result in the implementation
                                setting the Accepted Condition for the Route to `status:
                                False`, with a Reason of `UnsupportedValue`."
                              enum:
                              - RequestHeaderModifier
                              - ResponseHeaderModifier
                              - RequestMirror
                              - RequestRedirect
                              - URLRewrite
                              - ExtensionRef
                              type: string
                            urlRewrite:
                              description: "URLRewrite defines a schema for a filter
                                that modifies a request during forwarding. \n Support:
                                Extended"
                              properties:
                                hostname:
                                  description: "Hostname is the value to be used to
                                    replace the Host header value during forwarding.
                                    \n Support: Extended"
                                  maxLength: 253
                                  minLength: 1
                                  pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                  type: string
                                path:
                                  description: "Path defines a path rewrite. \n Support:
                                    Extended"
                                  properties:
                                    replaceFullPath:
                                      description: ReplaceFullPath specifies the value
                                        with which to replace the full path of a request
                                        during a rewrite or redirect.
                                      maxLength: 1024
                                      type: string
                                    replacePrefixMatch:
                                      description: "ReplacePrefixMatch specifies the
                                        value with which to replace the prefix match
                                        of a request during a rewrite or redirect.
                                        For example, a request to \"/foo/bar\" with
                                        a prefix match of \"/foo\" and a ReplacePrefixMatch
                                        of \"/xyz\" would be modified to \"/xyz/bar\".
                                        \n Note that this matches the behavior of
                                        the PathPrefix match type. This matches full
                                        path elements. A path element refers to the
                                        list of labels in the path split by the `/`
                                        separator. When specified, a trailing `/`
                                        is ignored. For example, the paths `/abc`,
                                        `/abc/`, and `/abc/def` would all match the
                                        prefix `/abc`, but the path `/abcd` would
                                        not. \n ReplacePrefixMatch is only compatible
                                        with a `PathPrefix` HTTPRouteMatch. Using
                                        any other HTTPRouteMatch type on the same
                                        HTTPRouteRule will result in the implementation
                                        setting the Accepted Condition for the Route
                                        to `status: False`. \n Request Path | Prefix
                                        Match | Replace Prefix | Modified Path -------------|--------------|----------------|----------
                                        /foo/bar     | /foo         | /xyz           |
                                        /xyz/bar /foo/bar     | /foo         | /xyz/
                                        \         | /xyz/bar /foo/bar     | /foo/
                                        \       | /xyz           | /xyz/bar /foo/bar
                                        \    | /foo/        | /xyz/          | /xyz/bar
                                        /foo         | /foo         | /xyz           |
                                        /xyz /foo/        | /foo         | /xyz           |
                                        /xyz/ /foo/bar     | /foo         | <empty
                                        string> | /bar /foo/        | /foo         |
                                        <empty string> | / /foo         | /foo         |
                                        <empty string> | / /foo/        | /foo         |
                                        /              | / /foo         | /foo         |
                                        /              | /"
                                      maxLength: 1024
                                      type: string
                                    type:
                                      description: "Type defines the type of path
                                        modifier. Additional types may be added in
                                        a future release of the API. \n Note that
                                        values may be added to this enum, implementations
                                        must ensure that unknown values will not cause
                                        a crash. \n Unknown values here must result
                                        in the implementation setting the Accepted
                                        Condition for the Route to `status: False`,
                                        with a Reason of `UnsupportedValue`."
                                      enum:
                                      - ReplaceFullPath
                                      - ReplacePrefixMatch
                                      type: string
                                  required:
                                  - type
                                  type: object
                                  x-kubernetes-validations:
                                  - message: replaceFullPath must be specified when
                                      type is set to 'ReplaceFullPath'
                                    rule: 'self.type == ''ReplaceFullPath'' ? has(self.replaceFullPath)
                                      : true'
                                  - message: type must be 'ReplaceFullPath' when replaceFullPath
                                      is set
                                    rule: 'has(self.replaceFullPath) ? self.type ==
                                      ''ReplaceFullPath'' : true'
                                  - message: replacePrefixMatch must be specified
                                      when type is set to 'ReplacePrefixMatch'
                                    rule: 'self.type == ''ReplacePrefixMatch'' ? has(self.replacePrefixMatch)
                                      : true'
                                  - message: type must be 'ReplacePrefixMatch' when
                                      replacePrefixMatch is set
                                    rule: 'has(self.replacePrefixMatch) ? self.type
                                      == ''ReplacePrefixMatch'' : true'
                              type: object
                          required:
                          - type
                          type: object
                          x-kubernetes-validations:
                          - message: filter.requestHeaderModifier must be nil if the
                              filter.type is not RequestHeaderModifier
                            rule: '!(has(self.requestHeaderModifier) && self.type
                              != ''RequestHeaderModifier'')'
                          - message: filter.requestHeaderModifier must be specified
                              for RequestHeaderModifier filter.type
                            rule: '!(!has(self.requestHeaderModifier) && self.type
                              == ''RequestHeaderModifier'')'
                          - message: filter.responseHeaderModifier must be nil if
                              the filter.type is not ResponseHeaderModifier
                            rule: '!(has(self.responseHeaderModifier) && self.type
                              != ''ResponseHeaderModifier'')'
                          - message: filter.responseHeaderModifier must be specified
                              for ResponseHeaderModifier filter.type
                            rule: '!(!has(self.responseHeaderModifier) && self.type
                              == ''ResponseHeaderModifier'')'
                          - message: filter.requestMirror must be nil if the filter.type
                              is not RequestMirror
                            rule: '!(has(self.requestMirror) && self.type != ''RequestMirror'')'
                          - message: filter.requestMirror must be specified for RequestMirror
                              filter.type
                            rule: '!(!has(self.requestMirror) && self.type == ''RequestMirror'')'
                          - message: filter.requestRedirect must be nil if the filter.type
                              is not RequestRedirect
                            rule: '!(has(self.requestRedirect) && self.type != ''RequestRedirect'')'
                          - message: filter.requestRedirect must be specified for
                              RequestRedirect filter.type
                            rule: '!(!has(self.requestRedirect) && self.type == ''RequestRedirect'')'
                          - message: filter.urlRewrite must be nil if the filter.type
                              is not URLRewrite
                            rule: '!(has(self.urlRewrite) && self.type != ''URLRewrite'')'
                          - message: filter.urlRewrite must be specified for URLRewrite
                              filter.type
                            rule: '!(!has(self.urlRewrite) && self.type == ''URLRewrite'')'
                          - message: filter.extensionRef must be nil if the filter.type
                              is not ExtensionRef
                            rule: '!(has(self.extensionRef) && self.type != ''ExtensionRef'')'
                          - message: filter.extensionRef must be specified for ExtensionRef
                              filter.type
                            rule: '!(!has(self.extensionRef) && self.type == ''ExtensionRef'')'
                        maxItems: 16
                        type: array
                        x-kubernetes-validations:
                        - message: May specify either httpRouteFilterRequestRedirect
                            or httpRouteFilterRequestRewrite, but not both
                          rule: '!(self.exists(f, f.type == ''RequestRedirect'') &&
                            self.exists(f, f.type == ''URLRewrite''))'
                        - message: RequestHeaderModifier filter cannot be repeated
                          rule: self.filter(f, f.type == 'RequestHeaderModifier').size()
                            <= 1
                        - message: ResponseHeaderModifier filter cannot be repeated
                          rule: self.filter(f, f.type == 'ResponseHeaderModifier').size()
                            <= 1
                        - message: RequestRedirect filter cannot be repeated
                          rule: self.filter(f, f.type == 'RequestRedirect').size()
                            <= 1
                        - message: URLRewrite filter cannot be repeated
                          rule: self.filter(f, f.type == 'URLRewrite').size() <= 1
                      matches:
                        default:
                        - path:
                            type: PathPrefix
                            value: /
                        description: "Matches define conditions used for matching
                          the rule against incoming HTTP requests. Each match is independent,
                          i.e. this rule will be matched if **any** one of the matches
                          is satisfied. \n For example, take the following matches
                          configuration: \n ``` matches: - path: value: \"/foo\" headers:
                          - name: \"version\" value: \"v2\" - path: value: \"/v2/foo\"
                          ``` \n For a request to match against this rule, a request
                          must satisfy EITHER of the two conditions: \n - path prefixed
                          with `/foo` AND contains the header `version: v2` - path
                          prefix of `/v2/foo` \n See the documentation for HTTPRouteMatch
                          on how to specify multiple match conditions that should
                          be ANDed together. \n If no matches are specified, the default
                          is a prefix path match on \"/\", which has the effect of
                          matching every HTTP request. \n Proxy or Load Balancer routing
                          configuration generated from HTTPRoutes MUST prioritize
                          matches based on the following criteria, continuing on ties.
                          Across all rules specified on applicable Routes, precedence
                          must be given to the match having: \n * \"Exact\" path match.
                          * \"Prefix\" path match with largest number of characters.
                          * Method match. * Largest number of header matches. * Largest
                          number of query param matches. \n Note: The precedence of
                          RegularExpression path matches are implementation-specific.
                          \n If ties still exist across multiple Routes, matching
                          precedence MUST be determined in order of the following
                          criteria, continuing on ties: \n * The oldest Route based
                          on creation timestamp. * The Route appearing first in alphabetical
                          order by \"{namespace}/{name}\". \n If ties still exist
                          within an HTTPRoute, matching precedence MUST be granted
                          to the FIRST matching rule (in list order) with a match
                          meeting the above criteria. \n When no rules matching a
                          request have been successfully attached to the parent a
                          request is coming from, a HTTP 404 status code MUST be returned."
                        items:
                          description: "HTTPRouteMatch defines the predicate used
                            to match requests to a given action. Multiple match types
                            are ANDed together, i.e. the match will evaluate to true
                            only if all conditions are satisfied. \n For example,
                            the match below will match a HTTP request only if its
                            path starts with `/foo` AND it contains the `version:
                            v1` header: \n ``` match: \n path: value: \"/foo\" headers:
                            - name: \"version\" value \"v1\" \n ```"
                          properties:
                            headers:
                              description: Headers specifies HTTP request header matchers.
                                Multiple match values are ANDed together, meaning,
                                a request must match all the specified headers to
                                select the route.
                              items:
                                description: HTTPHeaderMatch describes how to select
                                  a HTTP route by matching HTTP request headers.
                                properties:
                                  name:
                                    description: "Name is the name of the HTTP Header
                                      to be matched. Name matching MUST be case insensitive.
                                      (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                      \n If multiple entries specify equivalent header
                                      names, only the first entry with an equivalent
                                      name MUST be considered for a match. Subsequent
                                      entries with an equivalent header name MUST
                                      be ignored. Due to the case-insensitivity of
                                      header names, \"foo\" and \"Foo\" are considered
                                      equivalent. \n When a header is repeated in
                                      an HTTP request, it is implementation-specific
                                      behavior as to how this is represented. Generally,
                                      proxies should follow the guidance from the
                                      RFC: https://www.rfc-editor.org/rfc/rfc7230.html#section-3.2.2
                                      regarding processing a repeated header, with
                                      special handling for \"Set-Cookie\"."
                                    maxLength: 256
                                    minLength: 1
                                    pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                    type: string
                                  type:
                                    default: Exact
                                    description: "Type specifies how to match against
                                      the value of the header. \n Support: Core (Exact)
                                      \n Support: Implementation-specific (RegularExpression)
                                      \n Since RegularExpression HeaderMatchType has
                                      implementation-specific conformance, implementations
                                      can support POSIX, PCRE or any other dialects
                                      of regular expressions. Please read the implementation's
                                      documentation to determine the supported dialect."
                                    enum:
                                    - Exact
                                    - RegularExpression
                                    type: string
                                  value:
                                    description: Value is the value of HTTP Header
                                      to be matched.
                                    maxLength: 4096
                                    minLength: 1
                                    type: string
                                required:
                                - name
                                - value
                                type: object
                              maxItems: 16
                              type: array
                              x-kubernetes-list-map-keys:
                              - name
                              x-kubernetes-list-type: map
                            method:
                              description: "Method specifies HTTP method matcher.
                                When specified, this route will be matched only if
                                the request has the specified method. \n Support:
                                Extended"
                              enum:
                              - GET
                              - HEAD
                              - POST
                              - PUT
                              - DELETE
                              - CONNECT
                              - OPTIONS
                              - TRACE
                              - PATCH
                              type: string
                            path:
                              default:
                                type: PathPrefix
                                value: /
                              description: Path specifies a HTTP request path matcher.
                                If this field is not specified, a default prefix match
                                on the "/" path is provided.
                              properties:
                                type:
                                  default: PathPrefix
                                  description: "Type specifies how to match against
                                    the path Value. \n Support: Core (Exact, PathPrefix)
                                    \n Support: Implementation-specific (RegularExpression)"
                                  enum:
                                  - Exact
                                  - PathPrefix
                                  - RegularExpression
                                  type: string
                                value:
                                  default: /
                                  description: Value of the HTTP path to match against.
                                  maxLength: 1024
                                  type: string
                              type: object
                              x-kubernetes-validations:
                              - message: value must be an absolute path and start
                                  with '/' when type one of ['Exact', 'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  self.value.startsWith(''/'') : true'
                              - message: must not contain '//' when type one of ['Exact',
                                  'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  !self.value.contains(''//'') : true'
                              - message: must not contain '/./' when type one of ['Exact',
                                  'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  !self.value.contains(''/./'') : true'
                              - message: must not contain '/../' when type one of
                                  ['Exact', 'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  !self.value.contains(''/../'') : true'
                              - message: must not contain '%2f' when type one of ['Exact',
                                  'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  !self.value.contains(''%2f'') : true'
                              - message: must not contain '%2F' when type one of ['Exact',
                                  'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  !self.value.contains(''%2F'') : true'
                              - message: must not contain '#' when type one of ['Exact',
                                  'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  !self.value.contains(''#'') : true'
                              - message: must not end with '/..' when type one of
                                  ['Exact', 'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  !self.value.endsWith(''/..'') : true'
                              - message: must not end with '/.' when type one of ['Exact',
                                  'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  !self.value.endsWith(''/.'') : true'
                              - message: type must be one of ['Exact', 'PathPrefix',
                                  'RegularExpression']
                                rule: self.type in ['Exact','PathPrefix'] || self.type
                                  == 'RegularExpression'
                              - message: must only contain valid characters (matching
                                  ^(?:[-A-Za-z0-9/._~!$&'()*+,;=:@]|[%][0-9a-fA-F]{2})+$)
                                  for types ['Exact', 'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  self.value.matches(r"""^(?:[-A-Za-z0-9/._~!$&''()*+,;=:@]|[%][0-9a-fA-F]{2})+$""")
                                  : true'
                            queryParams:
                              description: "QueryParams specifies HTTP query parameter
                                matchers. Multiple match values are ANDed together,
                                meaning, a request must match all the specified query
                                parameters to select the route. \n Support: Extended"
                              items:
                                description: HTTPQueryParamMatch describes how to
                                  select a HTTP route by matching HTTP query parameters.
                                properties:
                                  name:
                                    description: "Name is the name of the HTTP query
                                      param to be matched. This must be an exact string
                                      match. (See https://tools.ietf.org/html/rfc7230#section-2.7.3).
                                      \n If multiple entries specify equivalent query
                                      param names, only the first entry with an equivalent
                                      name MUST be considered for a match. Subsequent
                                      entries with an equivalent query param name
                                      MUST be ignored. \n If a query param is repeated
                                      in an HTTP request, the behavior is purposely
                                      left undefined, since different data planes
                                      have different capabilities. However, it is
                                      *recommended* that implementations should match
                                      against the first value of the param if the
                                      data plane supports it, as this behavior is
                                      expected in other load balancing contexts outside
                                      of the Gateway API. \n Users SHOULD NOT route
                                      traffic based on repeated query params to guard
                                      themselves against potential differences in
                                      the implementations."
                                    maxLength: 256
                                    minLength: 1
                                    pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                    type: string
                                  type:
                                    default: Exact
                                    description: "Type specifies how to match against
                                      the value of the query parameter. \n Support:
                                      Extended (Exact) \n Support: Implementation-specific
                                      (RegularExpression) \n Since RegularExpression
                                      QueryParamMatchType has Implementation-specific
                                      conformance, implementations can support POSIX,
                                      PCRE or any other dialects of regular expressions.
                                      Please read the implementation's documentation
                                      to determine the supported dialect."
                                    enum:
                                    - Exact
                                    - RegularExpression
                                    type: string
                                  value:
                                    description: Value is the value of HTTP query
                                      param to be matched.
                                    maxLength: 1024
                                    minLength: 1
                                    type: string
                                required:
                                - name
                                - value
                                type: object
                              maxItems: 16
                              type: array
                              x-kubernetes-list-map-keys:
                              - name
                              x-kubernetes-list-type: map
                          type: object
                        maxItems: 8
                        type: array
                      timeouts:
                        description: "Timeouts defines the timeouts that can be configured
                          for an HTTP request. \n Support: Extended \n "
                        properties:
                          backendRequest:
                            description: "BackendRequest specifies a timeout for an
                              individual request from the gateway to a backend. This
                              covers the time from when the request first starts being
                              sent from the gateway to when the full response has
                              been received from the backend. \n An entire client
                              HTTP transaction with a gateway, covered by the Request
                              timeout, may result in more than one call from the gateway
                              to the destination backend, for example, if automatic
                              retries are supported. \n Because the Request timeout
                              encompasses the BackendRequest timeout, the value of
                              BackendRequest must be <= the value of Request timeout.
                              \n Support: Extended"
                            pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                            type: string
                          request:
                            description: "Request specifies the maximum duration for
                              a gateway to respond to an HTTP request. If the gateway
                              has not been able to respond before this deadline is
                              met, the gateway MUST return a timeout error. \n For
                              example, setting the `rules.timeouts.request` field
                              to the value `10s` in an `HTTPRoute` will cause a timeout
                              if a client request is taking longer than 10 seconds
                              to complete. \n This timeout is intended to cover as
                              close to the whole request-response transaction as possible
                              although an implementation MAY choose to start the timeout
                              after the entire request stream has been received instead
                              of immediately after the transaction is initiated by
                              the client. \n When this field is unspecified, request
                              timeout behavior is implementation-specific. \n Support:
                              Extended"
                            pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                            type: string
                        type: object
                        x-kubernetes-validations:
                        - message: backendRequest timeout cannot be longer than request
                            timeout
                          rule: '!(has(self.request) && has(self.backendRequest) &&
                            duration(self.request) != duration(''0s'') && duration(self.backendRequest)
                            > duration(self.request))'
                    type: object
                    x-kubernetes-validations:
                    - message: RequestRedirect filter must not be used together with
                        backendRefs
                      rule: '(has(self.backendRefs) && size(self.backendRefs) > 0)
                        ? (!has(self.filters) || self.filters.all(f, !has(f.requestRedirect))):
                        true'
                    - message: When using RequestRedirect filter with path.replacePrefixMatch,
                        exactly one PathPrefix match must be specified
                      rule: '(has(self.filters) && self.filters.exists_one(f, has(f.requestRedirect)
                        && has(f.requestRedirect.path) && f.requestRedirect.path.type
                        == ''ReplacePrefixMatch'' && has(f.requestRedirect.path.replacePrefixMatch)))
                        ? ((size(self.matches) != 1 || !has(self.matches[0].path)
                        || self.matches[0].path.type != ''PathPrefix'') ? false :
                        true) : true'
                    - message: When using URLRewrite filter with path.replacePrefixMatch,
                        exactly one PathPrefix match must be specified
                      rule: '(has(self.filters) && self.filters.exists_one(f, has(f.urlRewrite)
                        && has(f.urlRewrite.path) && f.urlRewrite.path.type == ''ReplacePrefixMatch''
                        && has(f.urlRewrite.path.replacePrefixMatch))) ? ((size(self.matches)
                        != 1 || !has(self.matches[0].path) || self.matches[0].path.type
                        != ''PathPrefix'') ? false : true) : true'
                    - message: Within backendRefs, when using RequestRedirect filter
                        with path.replacePrefixMatch, exactly one PathPrefix match
                        must be specified
                      rule: '(has(self.backendRefs) && self.backendRefs.exists_one(b,
                        (has(b.filters) && b.filters.exists_one(f, has(f.requestRedirect)
                        && has(f.requestRedirect.path) && f.requestRedirect.path.type
                        == ''ReplacePrefixMatch'' && has(f.requestRedirect.path.replacePrefixMatch)))
                        )) ? ((size(self.matches) != 1 || !has(self.matches[0].path)
                        || self.matches[0].path.type != ''PathPrefix'') ? false :
                        true) : true'
                    - message: Within backendRefs, When using URLRewrite filter with
                        path.replacePrefixMatch, exactly one PathPrefix match must
                        be specified
                      rule: '(has(self.backendRefs) && self.backendRefs.exists_one(b,
                        (has(b.filters) && b.filters.exists_one(f, has(f.urlRewrite)
                        && has(f.urlRewrite.path) && f.urlRewrite.path.type == ''ReplacePrefixMatch''
                        && has(f.urlRewrite.path.replacePrefixMatch))) )) ? ((size(self.matches)
                        != 1 || !has(self.matches[0].path) || self.matches[0].path.type
                        != ''PathPrefix'') ? false : true) : true'
                  maxItems: 16
                  type: array
              type: object
            status:
              description: Status defines the current state of HTTPRoute.
              properties:
                parents:
                  description: "Parents is a list of parent resources (usually Gateways)
                    that are associated with the route, and the status of the route
                    with respect to each parent. When this route attaches to a parent,
                    the controller that manages the parent must add an entry to this
                    list when the controller first sees the route and should update
                    the entry as appropriate when the route or gateway is modified.
                    \n Note that parent references that cannot be resolved by an implementation
                    of this API will not be added to this list. Implementations of
                    this API can only populate Route status for the Gateways/parent
                    resources they are responsible for. \n A maximum of 32 Gateways
                    will be represented in this list. An empty list means the route
                    has not been attached to any Gateway."
                  items:
                    description: RouteParentStatus describes the status of a route
                      with respect to an associated Parent.
                    properties:
                      conditions:
                        description: "Conditions describes the status of the route
                          with respect to the Gateway. Note that the route's availability
                          is also subject to the Gateway's own status conditions and
                          listener status. \n If the Route's ParentRef specifies an
                          existing Gateway that supports Routes of this kind AND that
                          Gateway's controller has sufficient access, then that Gateway's
                          controller MUST set the \"Accepted\" condition on the Route,
                          to indicate whether the route has been accepted or rejected
                          by the Gateway, and why. \n A Route MUST be considered \"Accepted\"
                          if at least one of the Route's rules is implemented by the
                          Gateway. \n There are a number of cases where the \"Accepted\"
                          condition may not be set due to lack of controller visibility,
                          that includes when: \n * The Route refers to a non-existent
                          parent. * The Route is of a type that the controller does
                          not support. * The Route is in a namespace the controller
                          does not have access to."
                        items:
                          description: "Condition contains details for one aspect
                            of the current state of this API Resource. --- This struct
                            is intended for direct use as an array at the field path
                            .status.conditions.  For example, \n type FooStatus struct{
                            // Represents the observations of a foo's current state.
                            // Known .status.conditions.type are: \"Available\", \"Progressing\",
                            and \"Degraded\" // +patchMergeKey=type // +patchStrategy=merge
                            // +listType=map // +listMapKey=type Conditions []metav1.Condition
                            `json:\"conditions,omitempty\" patchStrategy:\"merge\"
                            patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`
                            \n // other fields }"
                          properties:
                            lastTransitionTime:
                              description: lastTransitionTime is the last time the
                                condition transitioned from one status to another.
                                This should be when the underlying condition changed.  If
                                that is not known, then using the time when the API
                                field changed is acceptable.
                              format: date-time
                              type: string
                            message:
                              description: message is a human readable message indicating
                                details about the transition. This may be an empty
                                string.
                              maxLength: 32768
                              type: string
                            observedGeneration:
                              description: observedGeneration represents the .metadata.generation
                                that the condition was set based upon. For instance,
                                if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration
                                is 9, the condition is out of date with respect to
                                the current state of the instance.
                              format: int64
                              minimum: 0
                              type: integer
                            reason:
                              description: reason contains a programmatic identifier
                                indicating the reason for the condition's last transition.
                                Producers of specific condition types may define expected
                                values and meanings for this field, and whether the
                                values are considered a guaranteed API. The value
                                should be a CamelCase string. This field may not be
                                empty.
                              maxLength: 1024
                              minLength: 1
                              pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                              type: string
                            status:
                              description: status of the condition, one of True, False,
                                Unknown.
                              enum:
                              - "True"
                              - "False"
                              - Unknown
                              type: string
                            type:
                              description: type of condition in CamelCase or in foo.example.com/CamelCase.
                                --- Many .condition.type values are consistent across
                                resources like Available, but because arbitrary conditions
                                can be useful (see .node.status.conditions), the ability
                                to deconflict is important. The regex it matches is
                                (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                              maxLength: 316
                              pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                              type: string
                          required:
                          - lastTransitionTime
                          - message
                          - reason
                          - status
                          - type
                          type: object
                        maxItems: 8
                        minItems: 1
                        type: array
                        x-kubernetes-list-map-keys:
                        - type
                        x-kubernetes-list-type: map
                      controllerName:
                        description: "ControllerName is a domain/path string that
                          indicates the name of the controller that wrote this status.
                          This corresponds with the controllerName field on GatewayClass.
                          \n Example: \"example.net/gateway-controller\". \n The format
                          of this field is DOMAIN \"/\" PATH, where DOMAIN and PATH
                          are valid Kubernetes names (https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names).
                          \n Controllers MUST populate this field when writing status.
                          Controllers should ensure that entries to status populated
                          with their ControllerName are cleaned up when they are no
                          longer necessary."
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                        type: string
                      parentRef:
                        description: ParentRef corresponds with a ParentRef in the
                          spec that this RouteParentStatus struct describes the status
                          of.
                        properties:
                          group:
                            default: gateway.networking.k8s.io
                            description: "Group is the group of the referent. When
                              unspecified, \"gateway.networking.k8s.io\" is inferred.
                              To set the core API group (such as for a \"Service\"
                              kind referent), Group must be explicitly set to \"\"
                              (empty string). \n Support: Core"
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Gateway
                            description: "Kind is kind of the referent. \n There are
                              two kinds of parent resources with \"Core\" support:
                              \n * Gateway (Gateway conformance profile) * Service
                              (Mesh conformance profile, experimental, ClusterIP Services
                              only) \n Support for other resources is Implementation-Specific."
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: "Name is the name of the referent. \n Support:
                              Core"
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: "Namespace is the namespace of the referent.
                              When unspecified, this refers to the local namespace
                              of the Route. \n Note that there are specific rules
                              for ParentRefs which cross namespace boundaries. Cross-namespace
                              references are only valid if they are explicitly allowed
                              by something in the namespace they are referring to.
                              For example: Gateway has the AllowedRoutes field, and
                              ReferenceGrant provides a generic way to enable any
                              other kind of cross-namespace reference. \n  ParentRefs
                              from a Route to a Service in the same namespace are
                              \"producer\" routes, which apply default routing rules
                              to inbound connections from any namespace to the Service.
                              \n ParentRefs from a Route to a Service in a different
                              namespace are \"consumer\" routes, and these routing
                              rules are only applied to outbound connections originating
                              from the same namespace as the Route, for which the
                              intended destination of the connections are a Service
                              targeted as a ParentRef of the Route.  \n Support: Core"
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                          port:
                            description: "Port is the network port this Route targets.
                              It can be interpreted differently based on the type
                              of parent resource. \n When the parent resource is a
                              Gateway, this targets all listeners listening on the
                              specified port that also support this kind of Route(and
                              select this Route). It's not recommended to set `Port`
                              unless the networking behaviors specified in a Route
                              must apply to a specific port as opposed to a listener(s)
                              whose port(s) may be changed. When both Port and SectionName
                              are specified, the name and port of the selected listener
                              must match both specified values. \n  When the parent
                              resource is a Service, this targets a specific port
                              in the Service spec. When both Port (experimental) and
                              SectionName are specified, the name and port of the
                              selected port must match both specified values.  \n
                              Implementations MAY choose to support other parent resources.
                              Implementations supporting other types of parent resources
                              MUST clearly document how/if Port is interpreted. \n
                              For the purpose of status, an attachment is considered
                              successful as long as the parent resource accepts it
                              partially. For example, Gateway listeners can restrict
                              which Routes can attach to them by Route kind, namespace,
                              or hostname. If 1 of 2 Gateway listeners accept attachment
                              from the referencing Route, the Route MUST be considered
                              successfully attached. If no Gateway listeners accept
                              attachment from this Route, the Route MUST be considered
                              detached from the Gateway. \n Support: Extended \n "
                            format: int32
                            maximum: 65535
                            minimum: 1
                            type: integer
                          sectionName:
                            description: "SectionName is the name of a section within
                              the target resource. In the following resources, SectionName
                              is interpreted as the following: \n * Gateway: Listener
                              Name. When both Port (experimental) and SectionName
                              are specified, the name and port of the selected listener
                              must match both specified values. * Service: Port Name.
                              When both Port (experimental) and SectionName are specified,
                              the name and port of the selected listener must match
                              both specified values. Note that attaching Routes to
                              Services as Parents is part of experimental Mesh support
                              and is not supported for any other purpose. \n Implementations
                              MAY choose to support attaching Routes to other resources.
                              If that is the case, they MUST clearly document how
                              SectionName is interpreted. \n When unspecified (empty
                              string), this will reference the entire resource. For
                              the purpose of status, an attachment is considered successful
                              if at least one section in the parent resource accepts
                              it. For example, Gateway listeners can restrict which
                              Routes can attach to them by Route kind, namespace,
                              or hostname. If 1 of 2 Gateway listeners accept attachment
                              from the referencing Route, the Route MUST be considered
                              successfully attached. If no Gateway listeners accept
                              attachment from this Route, the Route MUST be considered
                              detached from the Gateway. \n Support: Core"
                            maxLength: 253
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                        required:
                        - name
                        type: object
                    required:
                    - controllerName
                    - parentRef
                    type: object
                  maxItems: 32
                  type: array
              required:
              - parents
              type: object
          required:
          - spec
          type: object
      served: true
      storage: false
      subresources:
        status: {}
    - additionalPrinterColumns:
      - jsonPath: .spec.hostnames
        name: Hostnames
        type: string
      - jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1beta1
      schema:
        openAPIV3Schema:
          description: HTTPRoute provides a way to route HTTP requests. This includes
            the capability to match requests by hostname, path, header, or query param.
            Filters can be used to specify additional processing steps. Backends specify
            where matching requests should be routed.
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: Spec defines the desired state of HTTPRoute.
              properties:
                hostnames:
                  description: "Hostnames defines a set of hostnames that should match
                    against the HTTP Host header to select a HTTPRoute used to process
                    the request. Implementations MUST ignore any port value specified
                    in the HTTP Host header while performing a match and (absent of
                    any applicable header modification configuration) MUST forward
                    this header unmodified to the backend. \n Valid values for Hostnames
                    are determined by RFC 1123 definition of a hostname with 2 notable
                    exceptions: \n 1. IPs are not allowed. 2. A hostname may be prefixed
                    with a wildcard label (`*.`). The wildcard label must appear by
                    itself as the first label. \n If a hostname is specified by both
                    the Listener and HTTPRoute, there must be at least one intersecting
                    hostname for the HTTPRoute to be attached to the Listener. For
                    example: \n * A Listener with `test.example.com` as the hostname
                    matches HTTPRoutes that have either not specified any hostnames,
                    or have specified at least one of `test.example.com` or `*.example.com`.
                    * A Listener with `*.example.com` as the hostname matches HTTPRoutes
                    that have either not specified any hostnames or have specified
                    at least one hostname that matches the Listener hostname. For
                    example, `*.example.com`, `test.example.com`, and `foo.test.example.com`
                    would all match. On the other hand, `example.com` and `test.example.net`
                    would not match. \n Hostnames that are prefixed with a wildcard
                    label (`*.`) are interpreted as a suffix match. That means that
                    a match for `*.example.com` would match both `test.example.com`,
                    and `foo.test.example.com`, but not `example.com`. \n If both
                    the Listener and HTTPRoute have specified hostnames, any HTTPRoute
                    hostnames that do not match the Listener hostname MUST be ignored.
                    For example, if a Listener specified `*.example.com`, and the
                    HTTPRoute specified `test.example.com` and `test.example.net`,
                    `test.example.net` must not be considered for a match. \n If both
                    the Listener and HTTPRoute have specified hostnames, and none
                    match with the criteria above, then the HTTPRoute is not accepted.
                    The implementation must raise an 'Accepted' Condition with a status
                    of `False` in the corresponding RouteParentStatus. \n In the event
                    that multiple HTTPRoutes specify intersecting hostnames (e.g.
                    overlapping wildcard matching and exact matching hostnames), precedence
                    must be given to rules from the HTTPRoute with the largest number
                    of: \n * Characters in a matching non-wildcard hostname. * Characters
                    in a matching hostname. \n If ties exist across multiple Routes,
                    the matching precedence rules for HTTPRouteMatches takes over.
                    \n Support: Core"
                  items:
                    description: "Hostname is the fully qualified domain name of a
                      network host. This matches the RFC 1123 definition of a hostname
                      with 2 notable exceptions: \n 1. IPs are not allowed. 2. A hostname
                      may be prefixed with a wildcard label (`*.`). The wildcard label
                      must appear by itself as the first label. \n Hostname can be
                      \"precise\" which is a domain name without the terminating dot
                      of a network host (e.g. \"foo.example.com\") or \"wildcard\",
                      which is a domain name prefixed with a single wildcard label
                      (e.g. `*.example.com`). \n Note that as per RFC1035 and RFC1123,
                      a *label* must consist of lower case alphanumeric characters
                      or '-', and must start and end with an alphanumeric character.
                      No other punctuation is allowed."
                    maxLength: 253
                    minLength: 1
                    pattern: ^(\*\.)?[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  maxItems: 16
                  type: array
                parentRefs:
                  description: "ParentRefs references the resources (usually Gateways)
                    that a Route wants to be attached to. Note that the referenced
                    parent resource needs to allow this for the attachment to be complete.
                    For Gateways, that means the Gateway needs to allow attachment
                    from Routes of this kind and namespace. For Services, that means
                    the Service must either be in the same namespace for a \"producer\"
                    route, or the mesh implementation must support and allow \"consumer\"
                    routes for the referenced Service. ReferenceGrant is not applicable
                    for governing ParentRefs to Services - it is not possible to create
                    a \"producer\" route for a Service in a different namespace from
                    the Route. \n There are two kinds of parent resources with \"Core\"
                    support: \n * Gateway (Gateway conformance profile)  * Service
                    (Mesh conformance profile, experimental, ClusterIP Services only)
                    \ This API may be extended in the future to support additional
                    kinds of parent resources. \n ParentRefs must be _distinct_. This
                    means either that: \n * They select different objects.  If this
                    is the case, then parentRef entries are distinct. In terms of
                    fields, this means that the multi-part key defined by `group`,
                    `kind`, `namespace`, and `name` must be unique across all parentRef
                    entries in the Route. * They do not select different objects,
                    but for each optional field used, each ParentRef that selects
                    the same object must set the same set of optional fields to different
                    values. If one ParentRef sets a combination of optional fields,
                    all must set the same combination. \n Some examples: \n * If one
                    ParentRef sets `sectionName`, all ParentRefs referencing the same
                    object must also set `sectionName`. * If one ParentRef sets `port`,
                    all ParentRefs referencing the same object must also set `port`.
                    * If one ParentRef sets `sectionName` and `port`, all ParentRefs
                    referencing the same object must also set `sectionName` and `port`.
                    \n It is possible to separately reference multiple distinct objects
                    that may be collapsed by an implementation. For example, some
                    implementations may choose to merge compatible Gateway Listeners
                    together. If that is the case, the list of routes attached to
                    those resources should also be merged. \n Note that for ParentRefs
                    that cross namespace boundaries, there are specific rules. Cross-namespace
                    references are only valid if they are explicitly allowed by something
                    in the namespace they are referring to. For example, Gateway has
                    the AllowedRoutes field, and ReferenceGrant provides a generic
                    way to enable other kinds of cross-namespace reference. \n  ParentRefs
                    from a Route to a Service in the same namespace are \"producer\"
                    routes, which apply default routing rules to inbound connections
                    from any namespace to the Service. \n ParentRefs from a Route
                    to a Service in a different namespace are \"consumer\" routes,
                    and these routing rules are only applied to outbound connections
                    originating from the same namespace as the Route, for which the
                    intended destination of the connections are a Service targeted
                    as a ParentRef of the Route.  \n "
                  items:
                    description: "ParentReference identifies an API object (usually
                      a Gateway) that can be considered a parent of this resource
                      (usually a route). There are two kinds of parent resources with
                      \"Core\" support: \n * Gateway (Gateway conformance profile)
                      * Service (Mesh conformance profile, experimental, ClusterIP
                      Services only) \n This API may be extended in the future to
                      support additional kinds of parent resources. \n The API object
                      must be valid in the cluster; the Group and Kind must be registered
                      in the cluster for this reference to be valid."
                    properties:
                      group:
                        default: gateway.networking.k8s.io
                        description: "Group is the group of the referent. When unspecified,
                          \"gateway.networking.k8s.io\" is inferred. To set the core
                          API group (such as for a \"Service\" kind referent), Group
                          must be explicitly set to \"\" (empty string). \n Support:
                          Core"
                        maxLength: 253
                        pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                      kind:
                        default: Gateway
                        description: "Kind is kind of the referent. \n There are two
                          kinds of parent resources with \"Core\" support: \n * Gateway
                          (Gateway conformance profile) * Service (Mesh conformance
                          profile, experimental, ClusterIP Services only) \n Support
                          for other resources is Implementation-Specific."
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                        type: string
                      name:
                        description: "Name is the name of the referent. \n Support:
                          Core"
                        maxLength: 253
                        minLength: 1
                        type: string
                      namespace:
                        description: "Namespace is the namespace of the referent.
                          When unspecified, this refers to the local namespace of
                          the Route. \n Note that there are specific rules for ParentRefs
                          which cross namespace boundaries. Cross-namespace references
                          are only valid if they are explicitly allowed by something
                          in the namespace they are referring to. For example: Gateway
                          has the AllowedRoutes field, and ReferenceGrant provides
                          a generic way to enable any other kind of cross-namespace
                          reference. \n  ParentRefs from a Route to a Service in the
                          same namespace are \"producer\" routes, which apply default
                          routing rules to inbound connections from any namespace
                          to the Service. \n ParentRefs from a Route to a Service
                          in a different namespace are \"consumer\" routes, and these
                          routing rules are only applied to outbound connections originating
                          from the same namespace as the Route, for which the intended
                          destination of the connections are a Service targeted as
                          a ParentRef of the Route.  \n Support: Core"
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                        type: string
                      port:
                        description: "Port is the network port this Route targets.
                          It can be interpreted differently based on the type of parent
                          resource. \n When the parent resource is a Gateway, this
                          targets all listeners listening on the specified port that
                          also support this kind of Route(and select this Route).
                          It's not recommended to set `Port` unless the networking
                          behaviors specified in a Route must apply to a specific
                          port as opposed to a listener(s) whose port(s) may be changed.
                          When both Port and SectionName are specified, the name and
                          port of the selected listener must match both specified
                          values. \n  When the parent resource is a Service, this
                          targets a specific port in the Service spec. When both Port
                          (experimental) and SectionName are specified, the name and
                          port of the selected port must match both specified values.
                          \ \n Implementations MAY choose to support other parent
                          resources. Implementations supporting other types of parent
                          resources MUST clearly document how/if Port is interpreted.
                          \n For the purpose of status, an attachment is considered
                          successful as long as the parent resource accepts it partially.
                          For example, Gateway listeners can restrict which Routes
                          can attach to them by Route kind, namespace, or hostname.
                          If 1 of 2 Gateway listeners accept attachment from the referencing
                          Route, the Route MUST be considered successfully attached.
                          If no Gateway listeners accept attachment from this Route,
                          the Route MUST be considered detached from the Gateway.
                          \n Support: Extended \n "
                        format: int32
                        maximum: 65535
                        minimum: 1
                        type: integer
                      sectionName:
                        description: "SectionName is the name of a section within
                          the target resource. In the following resources, SectionName
                          is interpreted as the following: \n * Gateway: Listener
                          Name. When both Port (experimental) and SectionName are
                          specified, the name and port of the selected listener must
                          match both specified values. * Service: Port Name. When
                          both Port (experimental) and SectionName are specified,
                          the name and port of the selected listener must match both
                          specified values. Note that attaching Routes to Services
                          as Parents is part of experimental Mesh support and is not
                          supported for any other purpose. \n Implementations MAY
                          choose to support attaching Routes to other resources. If
                          that is the case, they MUST clearly document how SectionName
                          is interpreted. \n When unspecified (empty string), this
                          will reference the entire resource. For the purpose of status,
                          an attachment is considered successful if at least one section
                          in the parent resource accepts it. For example, Gateway
                          listeners can restrict which Routes can attach to them by
                          Route kind, namespace, or hostname. If 1 of 2 Gateway listeners
                          accept attachment from the referencing Route, the Route
                          MUST be considered successfully attached. If no Gateway
                          listeners accept attachment from this Route, the Route MUST
                          be considered detached from the Gateway. \n Support: Core"
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                    required:
                    - name
                    type: object
                  maxItems: 32
                  type: array
                  x-kubernetes-validations:
                  - message: sectionName or port must be specified when parentRefs
                      includes 2 or more references to the same parent
                    rule: 'self.all(p1, self.all(p2, p1.group == p2.group && p1.kind
                      == p2.kind && p1.name == p2.name && (((!has(p1.__namespace__)
                      || p1.__namespace__ == '''') && (!has(p2.__namespace__) || p2.__namespace__
                      == '''')) || (has(p1.__namespace__) && has(p2.__namespace__)
                      && p1.__namespace__ == p2.__namespace__)) ? ((!has(p1.sectionName)
                      || p1.sectionName == '''') == (!has(p2.sectionName) || p2.sectionName
                      == '''') && (!has(p1.port) || p1.port == 0) == (!has(p2.port)
                      || p2.port == 0)): true))'
                  - message: sectionName or port must be unique when parentRefs includes
                      2 or more references to the same parent
                    rule: self.all(p1, self.exists_one(p2, p1.group == p2.group &&
                      p1.kind == p2.kind && p1.name == p2.name && (((!has(p1.__namespace__)
                      || p1.__namespace__ == '') && (!has(p2.__namespace__) || p2.__namespace__
                      == '')) || (has(p1.__namespace__) && has(p2.__namespace__) &&
                      p1.__namespace__ == p2.__namespace__ )) && (((!has(p1.sectionName)
                      || p1.sectionName == '') && (!has(p2.sectionName) || p2.sectionName
                      == '')) || ( has(p1.sectionName) && has(p2.sectionName) && p1.sectionName
                      == p2.sectionName)) && (((!has(p1.port) || p1.port == 0) &&
                      (!has(p2.port) || p2.port == 0)) || (has(p1.port) && has(p2.port)
                      && p1.port == p2.port))))
                rules:
                  default:
                  - matches:
                    - path:
                        type: PathPrefix
                        value: /
                  description: Rules are a list of HTTP matchers, filters and actions.
                  items:
                    description: HTTPRouteRule defines semantics for matching an HTTP
                      request based on conditions (matches), processing it (filters),
                      and forwarding the request to an API object (backendRefs).
                    properties:
                      backendRefs:
                        description: "BackendRefs defines the backend(s) where matching
                          requests should be sent. \n Failure behavior here depends
                          on how many BackendRefs are specified and how many are invalid.
                          \n If *all* entries in BackendRefs are invalid, and there
                          are also no filters specified in this route rule, *all*
                          traffic which matches this rule MUST receive a 500 status
                          code. \n See the HTTPBackendRef definition for the rules
                          about what makes a single HTTPBackendRef invalid. \n When
                          a HTTPBackendRef is invalid, 500 status codes MUST be returned
                          for requests that would have otherwise been routed to an
                          invalid backend. If multiple backends are specified, and
                          some are invalid, the proportion of requests that would
                          otherwise have been routed to an invalid backend MUST receive
                          a 500 status code. \n For example, if two backends are specified
                          with equal weights, and one is invalid, 50 percent of traffic
                          must receive a 500. Implementations may choose how that
                          50 percent is determined. \n Support: Core for Kubernetes
                          Service \n Support: Extended for Kubernetes ServiceImport
                          \n Support: Implementation-specific for any other resource
                          \n Support for weight: Core"
                        items:
                          description: "HTTPBackendRef defines how a HTTPRoute forwards
                            a HTTP request. \n Note that when a namespace different
                            than the local namespace is specified, a ReferenceGrant
                            object is required in the referent namespace to allow
                            that namespace's owner to accept the reference. See the
                            ReferenceGrant documentation for details. \n <gateway:experimental:description>
                            \n When the BackendRef points to a Kubernetes Service,
                            implementations SHOULD honor the appProtocol field if
                            it is set for the target Service Port. \n Implementations
                            supporting appProtocol SHOULD recognize the Kubernetes
                            Standard Application Protocols defined in KEP-3726. \n
                            If a Service appProtocol isn't specified, an implementation
                            MAY infer the backend protocol through its own means.
                            Implementations MAY infer the protocol from the Route
                            type referring to the backend Service. \n If a Route is
                            not able to send traffic to the backend using the specified
                            protocol then the backend is considered invalid. Implementations
                            MUST set the \"ResolvedRefs\" condition to \"False\" with
                            the \"UnsupportedProtocol\" reason. \n </gateway:experimental:description>"
                          properties:
                            filters:
                              description: "Filters defined at this level should be
                                executed if and only if the request is being forwarded
                                to the backend defined here. \n Support: Implementation-specific
                                (For broader support of filters, use the Filters field
                                in HTTPRouteRule.)"
                              items:
                                description: HTTPRouteFilter defines processing steps
                                  that must be completed during the request or response
                                  lifecycle. HTTPRouteFilters are meant as an extension
                                  point to express processing that may be done in
                                  Gateway implementations. Some examples include request
                                  or response modification, implementing authentication
                                  strategies, rate-limiting, and traffic shaping.
                                  API guarantee/conformance is defined based on the
                                  type of the filter.
                                properties:
                                  extensionRef:
                                    description: "ExtensionRef is an optional, implementation-specific
                                      extension to the \"filter\" behavior.  For example,
                                      resource \"myroutefilter\" in group \"networking.example.net\").
                                      ExtensionRef MUST NOT be used for core and extended
                                      filters. \n This filter can be used multiple
                                      times within the same rule. \n Support: Implementation-specific"
                                    properties:
                                      group:
                                        description: Group is the group of the referent.
                                          For example, "gateway.networking.k8s.io".
                                          When unspecified or empty string, core API
                                          group is inferred.
                                        maxLength: 253
                                        pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                        type: string
                                      kind:
                                        description: Kind is kind of the referent.
                                          For example "HTTPRoute" or "Service".
                                        maxLength: 63
                                        minLength: 1
                                        pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                        type: string
                                      name:
                                        description: Name is the name of the referent.
                                        maxLength: 253
                                        minLength: 1
                                        type: string
                                    required:
                                    - group
                                    - kind
                                    - name
                                    type: object
                                  requestHeaderModifier:
                                    description: "RequestHeaderModifier defines a
                                      schema for a filter that modifies request headers.
                                      \n Support: Core"
                                    properties:
                                      add:
                                        description: "Add adds the given header(s)
                                          (name, value) to the request before the
                                          action. It appends to any existing values
                                          associated with the header name. \n Input:
                                          GET /foo HTTP/1.1 my-header: foo \n Config:
                                          add: - name: \"my-header\" value: \"bar,baz\"
                                          \n Output: GET /foo HTTP/1.1 my-header:
                                          foo,bar,baz"
                                        items:
                                          description: HTTPHeader represents an HTTP
                                            Header name and value as defined by RFC
                                            7230.
                                          properties:
                                            name:
                                              description: "Name is the name of the
                                                HTTP Header to be matched. Name matching
                                                MUST be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                                \n If multiple entries specify equivalent
                                                header names, the first entry with
                                                an equivalent name MUST be considered
                                                for a match. Subsequent entries with
                                                an equivalent header name MUST be
                                                ignored. Due to the case-insensitivity
                                                of header names, \"foo\" and \"Foo\"
                                                are considered equivalent."
                                              maxLength: 256
                                              minLength: 1
                                              pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                              type: string
                                            value:
                                              description: Value is the value of HTTP
                                                Header to be matched.
                                              maxLength: 4096
                                              minLength: 1
                                              type: string
                                          required:
                                          - name
                                          - value
                                          type: object
                                        maxItems: 16
                                        type: array
                                        x-kubernetes-list-map-keys:
                                        - name
                                        x-kubernetes-list-type: map
                                      remove:
                                        description: "Remove the given header(s) from
                                          the HTTP request before the action. The
                                          value of Remove is a list of HTTP header
                                          names. Note that the header names are case-insensitive
                                          (see https://datatracker.ietf.org/doc/html/rfc2616#section-4.2).
                                          \n Input: GET /foo HTTP/1.1 my-header1:
                                          foo my-header2: bar my-header3: baz \n Config:
                                          remove: [\"my-header1\", \"my-header3\"]
                                          \n Output: GET /foo HTTP/1.1 my-header2:
                                          bar"
                                        items:
                                          type: string
                                        maxItems: 16
                                        type: array
                                        x-kubernetes-list-type: set
                                      set:
                                        description: "Set overwrites the request with
                                          the given header (name, value) before the
                                          action. \n Input: GET /foo HTTP/1.1 my-header:
                                          foo \n Config: set: - name: \"my-header\"
                                          value: \"bar\" \n Output: GET /foo HTTP/1.1
                                          my-header: bar"
                                        items:
                                          description: HTTPHeader represents an HTTP
                                            Header name and value as defined by RFC
                                            7230.
                                          properties:
                                            name:
                                              description: "Name is the name of the
                                                HTTP Header to be matched. Name matching
                                                MUST be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                                \n If multiple entries specify equivalent
                                                header names, the first entry with
                                                an equivalent name MUST be considered
                                                for a match. Subsequent entries with
                                                an equivalent header name MUST be
                                                ignored. Due to the case-insensitivity
                                                of header names, \"foo\" and \"Foo\"
                                                are considered equivalent."
                                              maxLength: 256
                                              minLength: 1
                                              pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                              type: string
                                            value:
                                              description: Value is the value of HTTP
                                                Header to be matched.
                                              maxLength: 4096
                                              minLength: 1
                                              type: string
                                          required:
                                          - name
                                          - value
                                          type: object
                                        maxItems: 16
                                        type: array
                                        x-kubernetes-list-map-keys:
                                        - name
                                        x-kubernetes-list-type: map
                                    type: object
                                  requestMirror:
                                    description: "RequestMirror defines a schema for
                                      a filter that mirrors requests. Requests are
                                      sent to the specified destination, but responses
                                      from that destination are ignored. \n This filter
                                      can be used multiple times within the same rule.
                                      Note that not all implementations will be able
                                      to support mirroring to multiple backends. \n
                                      Support: Extended"
                                    properties:
                                      backendRef:
                                        description: "BackendRef references a resource
                                          where mirrored requests are sent. \n Mirrored
                                          requests must be sent only to a single destination
                                          endpoint within this BackendRef, irrespective
                                          of how many endpoints are present within
                                          this BackendRef. \n If the referent cannot
                                          be found, this BackendRef is invalid and
                                          must be dropped from the Gateway. The controller
                                          must ensure the \"ResolvedRefs\" condition
                                          on the Route status is set to `status: False`
                                          and not configure this backend in the underlying
                                          implementation. \n If there is a cross-namespace
                                          reference to an *existing* object that is
                                          not allowed by a ReferenceGrant, the controller
                                          must ensure the \"ResolvedRefs\"  condition
                                          on the Route is set to `status: False`,
                                          with the \"RefNotPermitted\" reason and
                                          not configure this backend in the underlying
                                          implementation. \n In either error case,
                                          the Message of the `ResolvedRefs` Condition
                                          should be used to provide more detail about
                                          the problem. \n Support: Extended for Kubernetes
                                          Service \n Support: Implementation-specific
                                          for any other resource"
                                        properties:
                                          group:
                                            default: ""
                                            description: Group is the group of the
                                              referent. For example, "gateway.networking.k8s.io".
                                              When unspecified or empty string, core
                                              API group is inferred.
                                            maxLength: 253
                                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                            type: string
                                          kind:
                                            default: Service
                                            description: "Kind is the Kubernetes resource
                                              kind of the referent. For example \"Service\".
                                              \n Defaults to \"Service\" when not
                                              specified. \n ExternalName services
                                              can refer to CNAME DNS records that
                                              may live outside of the cluster and
                                              as such are difficult to reason about
                                              in terms of conformance. They also may
                                              not be safe to forward to (see CVE-2021-25740
                                              for more information). Implementations
                                              SHOULD NOT support ExternalName Services.
                                              \n Support: Core (Services with a type
                                              other than ExternalName) \n Support:
                                              Implementation-specific (Services with
                                              type ExternalName)"
                                            maxLength: 63
                                            minLength: 1
                                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                            type: string
                                          name:
                                            description: Name is the name of the referent.
                                            maxLength: 253
                                            minLength: 1
                                            type: string
                                          namespace:
                                            description: "Namespace is the namespace
                                              of the backend. When unspecified, the
                                              local namespace is inferred. \n Note
                                              that when a namespace different than
                                              the local namespace is specified, a
                                              ReferenceGrant object is required in
                                              the referent namespace to allow that
                                              namespace's owner to accept the reference.
                                              See the ReferenceGrant documentation
                                              for details. \n Support: Core"
                                            maxLength: 63
                                            minLength: 1
                                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                            type: string
                                          port:
                                            description: Port specifies the destination
                                              port number to use for this resource.
                                              Port is required when the referent is
                                              a Kubernetes Service. In this case,
                                              the port number is the service port
                                              number, not the target port. For other
                                              resources, destination port might be
                                              derived from the referent resource or
                                              this field.
                                            format: int32
                                            maximum: 65535
                                            minimum: 1
                                            type: integer
                                        required:
                                        - name
                                        type: object
                                        x-kubernetes-validations:
                                        - message: Must have port for Service reference
                                          rule: '(size(self.group) == 0 && self.kind
                                            == ''Service'') ? has(self.port) : true'
                                    required:
                                    - backendRef
                                    type: object
                                  requestRedirect:
                                    description: "RequestRedirect defines a schema
                                      for a filter that responds to the request with
                                      an HTTP redirection. \n Support: Core"
                                    properties:
                                      hostname:
                                        description: "Hostname is the hostname to
                                          be used in the value of the `Location` header
                                          in the response. When empty, the hostname
                                          in the `Host` header of the request is used.
                                          \n Support: Core"
                                        maxLength: 253
                                        minLength: 1
                                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                        type: string
                                      path:
                                        description: "Path defines parameters used
                                          to modify the path of the incoming request.
                                          The modified path is then used to construct
                                          the `Location` header. When empty, the request
                                          path is used as-is. \n Support: Extended"
                                        properties:
                                          replaceFullPath:
                                            description: ReplaceFullPath specifies
                                              the value with which to replace the
                                              full path of a request during a rewrite
                                              or redirect.
                                            maxLength: 1024
                                            type: string
                                          replacePrefixMatch:
                                            description: "ReplacePrefixMatch specifies
                                              the value with which to replace the
                                              prefix match of a request during a rewrite
                                              or redirect. For example, a request
                                              to \"/foo/bar\" with a prefix match
                                              of \"/foo\" and a ReplacePrefixMatch
                                              of \"/xyz\" would be modified to \"/xyz/bar\".
                                              \n Note that this matches the behavior
                                              of the PathPrefix match type. This matches
                                              full path elements. A path element refers
                                              to the list of labels in the path split
                                              by the `/` separator. When specified,
                                              a trailing `/` is ignored. For example,
                                              the paths `/abc`, `/abc/`, and `/abc/def`
                                              would all match the prefix `/abc`, but
                                              the path `/abcd` would not. \n ReplacePrefixMatch
                                              is only compatible with a `PathPrefix`
                                              HTTPRouteMatch. Using any other HTTPRouteMatch
                                              type on the same HTTPRouteRule will
                                              result in the implementation setting
                                              the Accepted Condition for the Route
                                              to `status: False`. \n Request Path
                                              | Prefix Match | Replace Prefix | Modified
                                              Path -------------|--------------|----------------|----------
                                              /foo/bar     | /foo         | /xyz           |
                                              /xyz/bar /foo/bar     | /foo         |
                                              /xyz/          | /xyz/bar /foo/bar     |
                                              /foo/        | /xyz           | /xyz/bar
                                              /foo/bar     | /foo/        | /xyz/
                                              \         | /xyz/bar /foo         |
                                              /foo         | /xyz           | /xyz
                                              /foo/        | /foo         | /xyz           |
                                              /xyz/ /foo/bar     | /foo         |
                                              <empty string> | /bar /foo/        |
                                              /foo         | <empty string> | / /foo
                                              \        | /foo         | <empty string>
                                              | / /foo/        | /foo         | /
                                              \             | / /foo         | /foo
                                              \        | /              | /"
                                            maxLength: 1024
                                            type: string
                                          type:
                                            description: "Type defines the type of
                                              path modifier. Additional types may
                                              be added in a future release of the
                                              API. \n Note that values may be added
                                              to this enum, implementations must ensure
                                              that unknown values will not cause a
                                              crash. \n Unknown values here must result
                                              in the implementation setting the Accepted
                                              Condition for the Route to `status:
                                              False`, with a Reason of `UnsupportedValue`."
                                            enum:
                                            - ReplaceFullPath
                                            - ReplacePrefixMatch
                                            type: string
                                        required:
                                        - type
                                        type: object
                                        x-kubernetes-validations:
                                        - message: replaceFullPath must be specified
                                            when type is set to 'ReplaceFullPath'
                                          rule: 'self.type == ''ReplaceFullPath''
                                            ? has(self.replaceFullPath) : true'
                                        - message: type must be 'ReplaceFullPath'
                                            when replaceFullPath is set
                                          rule: 'has(self.replaceFullPath) ? self.type
                                            == ''ReplaceFullPath'' : true'
                                        - message: replacePrefixMatch must be specified
                                            when type is set to 'ReplacePrefixMatch'
                                          rule: 'self.type == ''ReplacePrefixMatch''
                                            ? has(self.replacePrefixMatch) : true'
                                        - message: type must be 'ReplacePrefixMatch'
                                            when replacePrefixMatch is set
                                          rule: 'has(self.replacePrefixMatch) ? self.type
                                            == ''ReplacePrefixMatch'' : true'
                                      port:
                                        description: "Port is the port to be used
                                          in the value of the `Location` header in
                                          the response. \n If no port is specified,
                                          the redirect port MUST be derived using
                                          the following rules: \n * If redirect scheme
                                          is not-empty, the redirect port MUST be
                                          the well-known port associated with the
                                          redirect scheme. Specifically \"http\" to
                                          port 80 and \"https\" to port 443. If the
                                          redirect scheme does not have a well-known
                                          port, the listener port of the Gateway SHOULD
                                          be used. * If redirect scheme is empty,
                                          the redirect port MUST be the Gateway Listener
                                          port. \n Implementations SHOULD NOT add
                                          the port number in the 'Location' header
                                          in the following cases: \n * A Location
                                          header that will use HTTP (whether that
                                          is determined via the Listener protocol
                                          or the Scheme field) _and_ use port 80.
                                          * A Location header that will use HTTPS
                                          (whether that is determined via the Listener
                                          protocol or the Scheme field) _and_ use
                                          port 443. \n Support: Extended"
                                        format: int32
                                        maximum: 65535
                                        minimum: 1
                                        type: integer
                                      scheme:
                                        description: "Scheme is the scheme to be used
                                          in the value of the `Location` header in
                                          the response. When empty, the scheme of
                                          the request is used. \n Scheme redirects
                                          can affect the port of the redirect, for
                                          more information, refer to the documentation
                                          for the port field of this filter. \n Note
                                          that values may be added to this enum, implementations
                                          must ensure that unknown values will not
                                          cause a crash. \n Unknown values here must
                                          result in the implementation setting the
                                          Accepted Condition for the Route to `status:
                                          False`, with a Reason of `UnsupportedValue`.
                                          \n Support: Extended"
                                        enum:
                                        - http
                                        - https
                                        type: string
                                      statusCode:
                                        default: 302
                                        description: "StatusCode is the HTTP status
                                          code to be used in response. \n Note that
                                          values may be added to this enum, implementations
                                          must ensure that unknown values will not
                                          cause a crash. \n Unknown values here must
                                          result in the implementation setting the
                                          Accepted Condition for the Route to `status:
                                          False`, with a Reason of `UnsupportedValue`.
                                          \n Support: Core"
                                        enum:
                                        - 301
                                        - 302
                                        type: integer
                                    type: object
                                  responseHeaderModifier:
                                    description: "ResponseHeaderModifier defines a
                                      schema for a filter that modifies response headers.
                                      \n Support: Extended"
                                    properties:
                                      add:
                                        description: "Add adds the given header(s)
                                          (name, value) to the request before the
                                          action. It appends to any existing values
                                          associated with the header name. \n Input:
                                          GET /foo HTTP/1.1 my-header: foo \n Config:
                                          add: - name: \"my-header\" value: \"bar,baz\"
                                          \n Output: GET /foo HTTP/1.1 my-header:
                                          foo,bar,baz"
                                        items:
                                          description: HTTPHeader represents an HTTP
                                            Header name and value as defined by RFC
                                            7230.
                                          properties:
                                            name:
                                              description: "Name is the name of the
                                                HTTP Header to be matched. Name matching
                                                MUST be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                                \n If multiple entries specify equivalent
                                                header names, the first entry with
                                                an equivalent name MUST be considered
                                                for a match. Subsequent entries with
                                                an equivalent header name MUST be
                                                ignored. Due to the case-insensitivity
                                                of header names, \"foo\" and \"Foo\"
                                                are considered equivalent."
                                              maxLength: 256
                                              minLength: 1
                                              pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                              type: string
                                            value:
                                              description: Value is the value of HTTP
                                                Header to be matched.
                                              maxLength: 4096
                                              minLength: 1
                                              type: string
                                          required:
                                          - name
                                          - value
                                          type: object
                                        maxItems: 16
                                        type: array
                                        x-kubernetes-list-map-keys:
                                        - name
                                        x-kubernetes-list-type: map
                                      remove:
                                        description: "Remove the given header(s) from
                                          the HTTP request before the action. The
                                          value of Remove is a list of HTTP header
                                          names. Note that the header names are case-insensitive
                                          (see https://datatracker.ietf.org/doc/html/rfc2616#section-4.2).
                                          \n Input: GET /foo HTTP/1.1 my-header1:
                                          foo my-header2: bar my-header3: baz \n Config:
                                          remove: [\"my-header1\", \"my-header3\"]
                                          \n Output: GET /foo HTTP/1.1 my-header2:
                                          bar"
                                        items:
                                          type: string
                                        maxItems: 16
                                        type: array
                                        x-kubernetes-list-type: set
                                      set:
                                        description: "Set overwrites the request with
                                          the given header (name, value) before the
                                          action. \n Input: GET /foo HTTP/1.1 my-header:
                                          foo \n Config: set: - name: \"my-header\"
                                          value: \"bar\" \n Output: GET /foo HTTP/1.1
                                          my-header: bar"
                                        items:
                                          description: HTTPHeader represents an HTTP
                                            Header name and value as defined by RFC
                                            7230.
                                          properties:
                                            name:
                                              description: "Name is the name of the
                                                HTTP Header to be matched. Name matching
                                                MUST be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                                \n If multiple entries specify equivalent
                                                header names, the first entry with
                                                an equivalent name MUST be considered
                                                for a match. Subsequent entries with
                                                an equivalent header name MUST be
                                                ignored. Due to the case-insensitivity
                                                of header names, \"foo\" and \"Foo\"
                                                are considered equivalent."
                                              maxLength: 256
                                              minLength: 1
                                              pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                              type: string
                                            value:
                                              description: Value is the value of HTTP
                                                Header to be matched.
                                              maxLength: 4096
                                              minLength: 1
                                              type: string
                                          required:
                                          - name
                                          - value
                                          type: object
                                        maxItems: 16
                                        type: array
                                        x-kubernetes-list-map-keys:
                                        - name
                                        x-kubernetes-list-type: map
                                    type: object
                                  type:
                                    description: "Type identifies the type of filter
                                      to apply. As with other API fields, types are
                                      classified into three conformance levels: \n
                                      - Core: Filter types and their corresponding
                                      configuration defined by \"Support: Core\" in
                                      this package, e.g. \"RequestHeaderModifier\".
                                      All implementations must support core filters.
                                      \n - Extended: Filter types and their corresponding
                                      configuration defined by \"Support: Extended\"
                                      in this package, e.g. \"RequestMirror\". Implementers
                                      are encouraged to support extended filters.
                                      \n - Implementation-specific: Filters that are
                                      defined and supported by specific vendors. In
                                      the future, filters showing convergence in behavior
                                      across multiple implementations will be considered
                                      for inclusion in extended or core conformance
                                      levels. Filter-specific configuration for such
                                      filters is specified using the ExtensionRef
                                      field. `Type` should be set to \"ExtensionRef\"
                                      for custom filters. \n Implementers are encouraged
                                      to define custom implementation types to extend
                                      the core API with implementation-specific behavior.
                                      \n If a reference to a custom filter type cannot
                                      be resolved, the filter MUST NOT be skipped.
                                      Instead, requests that would have been processed
                                      by that filter MUST receive a HTTP error response.
                                      \n Note that values may be added to this enum,
                                      implementations must ensure that unknown values
                                      will not cause a crash. \n Unknown values here
                                      must result in the implementation setting the
                                      Accepted Condition for the Route to `status:
                                      False`, with a Reason of `UnsupportedValue`."
                                    enum:
                                    - RequestHeaderModifier
                                    - ResponseHeaderModifier
                                    - RequestMirror
                                    - RequestRedirect
                                    - URLRewrite
                                    - ExtensionRef
                                    type: string
                                  urlRewrite:
                                    description: "URLRewrite defines a schema for
                                      a filter that modifies a request during forwarding.
                                      \n Support: Extended"
                                    properties:
                                      hostname:
                                        description: "Hostname is the value to be
                                          used to replace the Host header value during
                                          forwarding. \n Support: Extended"
                                        maxLength: 253
                                        minLength: 1
                                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                        type: string
                                      path:
                                        description: "Path defines a path rewrite.
                                          \n Support: Extended"
                                        properties:
                                          replaceFullPath:
                                            description: ReplaceFullPath specifies
                                              the value with which to replace the
                                              full path of a request during a rewrite
                                              or redirect.
                                            maxLength: 1024
                                            type: string
                                          replacePrefixMatch:
                                            description: "ReplacePrefixMatch specifies
                                              the value with which to replace the
                                              prefix match of a request during a rewrite
                                              or redirect. For example, a request
                                              to \"/foo/bar\" with a prefix match
                                              of \"/foo\" and a ReplacePrefixMatch
                                              of \"/xyz\" would be modified to \"/xyz/bar\".
                                              \n Note that this matches the behavior
                                              of the PathPrefix match type. This matches
                                              full path elements. A path element refers
                                              to the list of labels in the path split
                                              by the `/` separator. When specified,
                                              a trailing `/` is ignored. For example,
                                              the paths `/abc`, `/abc/`, and `/abc/def`
                                              would all match the prefix `/abc`, but
                                              the path `/abcd` would not. \n ReplacePrefixMatch
                                              is only compatible with a `PathPrefix`
                                              HTTPRouteMatch. Using any other HTTPRouteMatch
                                              type on the same HTTPRouteRule will
                                              result in the implementation setting
                                              the Accepted Condition for the Route
                                              to `status: False`. \n Request Path
                                              | Prefix Match | Replace Prefix | Modified
                                              Path -------------|--------------|----------------|----------
                                              /foo/bar     | /foo         | /xyz           |
                                              /xyz/bar /foo/bar     | /foo         |
                                              /xyz/          | /xyz/bar /foo/bar     |
                                              /foo/        | /xyz           | /xyz/bar
                                              /foo/bar     | /foo/        | /xyz/
                                              \         | /xyz/bar /foo         |
                                              /foo         | /xyz           | /xyz
                                              /foo/        | /foo         | /xyz           |
                                              /xyz/ /foo/bar     | /foo         |
                                              <empty string> | /bar /foo/        |
                                              /foo         | <empty string> | / /foo
                                              \        | /foo         | <empty string>
                                              | / /foo/        | /foo         | /
                                              \             | / /foo         | /foo
                                              \        | /              | /"
                                            maxLength: 1024
                                            type: string
                                          type:
                                            description: "Type defines the type of
                                              path modifier. Additional types may
                                              be added in a future release of the
                                              API. \n Note that values may be added
                                              to this enum, implementations must ensure
                                              that unknown values will not cause a
                                              crash. \n Unknown values here must result
                                              in the implementation setting the Accepted
                                              Condition for the Route to `status:
                                              False`, with a Reason of `UnsupportedValue`."
                                            enum:
                                            - ReplaceFullPath
                                            - ReplacePrefixMatch
                                            type: string
                                        required:
                                        - type
                                        type: object
                                        x-kubernetes-validations:
                                        - message: replaceFullPath must be specified
                                            when type is set to 'ReplaceFullPath'
                                          rule: 'self.type == ''ReplaceFullPath''
                                            ? has(self.replaceFullPath) : true'
                                        - message: type must be 'ReplaceFullPath'
                                            when replaceFullPath is set
                                          rule: 'has(self.replaceFullPath) ? self.type
                                            == ''ReplaceFullPath'' : true'
                                        - message: replacePrefixMatch must be specified
                                            when type is set to 'ReplacePrefixMatch'
                                          rule: 'self.type == ''ReplacePrefixMatch''
                                            ? has(self.replacePrefixMatch) : true'
                                        - message: type must be 'ReplacePrefixMatch'
                                            when replacePrefixMatch is set
                                          rule: 'has(self.replacePrefixMatch) ? self.type
                                            == ''ReplacePrefixMatch'' : true'
                                    type: object
                                required:
                                - type
                                type: object
                                x-kubernetes-validations:
                                - message: filter.requestHeaderModifier must be nil
                                    if the filter.type is not RequestHeaderModifier
                                  rule: '!(has(self.requestHeaderModifier) && self.type
                                    != ''RequestHeaderModifier'')'
                                - message: filter.requestHeaderModifier must be specified
                                    for RequestHeaderModifier filter.type
                                  rule: '!(!has(self.requestHeaderModifier) && self.type
                                    == ''RequestHeaderModifier'')'
                                - message: filter.responseHeaderModifier must be nil
                                    if the filter.type is not ResponseHeaderModifier
                                  rule: '!(has(self.responseHeaderModifier) && self.type
                                    != ''ResponseHeaderModifier'')'
                                - message: filter.responseHeaderModifier must be specified
                                    for ResponseHeaderModifier filter.type
                                  rule: '!(!has(self.responseHeaderModifier) && self.type
                                    == ''ResponseHeaderModifier'')'
                                - message: filter.requestMirror must be nil if the
                                    filter.type is not RequestMirror
                                  rule: '!(has(self.requestMirror) && self.type !=
                                    ''RequestMirror'')'
                                - message: filter.requestMirror must be specified
                                    for RequestMirror filter.type
                                  rule: '!(!has(self.requestMirror) && self.type ==
                                    ''RequestMirror'')'
                                - message: filter.requestRedirect must be nil if the
                                    filter.type is not RequestRedirect
                                  rule: '!(has(self.requestRedirect) && self.type
                                    != ''RequestRedirect'')'
                                - message: filter.requestRedirect must be specified
                                    for RequestRedirect filter.type
                                  rule: '!(!has(self.requestRedirect) && self.type
                                    == ''RequestRedirect'')'
                                - message: filter.urlRewrite must be nil if the filter.type
                                    is not URLRewrite
                                  rule: '!(has(self.urlRewrite) && self.type != ''URLRewrite'')'
                                - message: filter.urlRewrite must be specified for
                                    URLRewrite filter.type
                                  rule: '!(!has(self.urlRewrite) && self.type == ''URLRewrite'')'
                                - message: filter.extensionRef must be nil if the
                                    filter.type is not ExtensionRef
                                  rule: '!(has(self.extensionRef) && self.type !=
                                    ''ExtensionRef'')'
                                - message: filter.extensionRef must be specified for
                                    ExtensionRef filter.type
                                  rule: '!(!has(self.extensionRef) && self.type ==
                                    ''ExtensionRef'')'
                              maxItems: 16
                              type: array
                              x-kubernetes-validations:
                              - message: May specify either httpRouteFilterRequestRedirect
                                  or httpRouteFilterRequestRewrite, but not both
                                rule: '!(self.exists(f, f.type == ''RequestRedirect'')
                                  && self.exists(f, f.type == ''URLRewrite''))'
                              - message: May specify either httpRouteFilterRequestRedirect
                                  or httpRouteFilterRequestRewrite, but not both
                                rule: '!(self.exists(f, f.type == ''RequestRedirect'')
                                  && self.exists(f, f.type == ''URLRewrite''))'
                              - message: RequestHeaderModifier filter cannot be repeated
                                rule: self.filter(f, f.type == 'RequestHeaderModifier').size()
                                  <= 1
                              - message: ResponseHeaderModifier filter cannot be repeated
                                rule: self.filter(f, f.type == 'ResponseHeaderModifier').size()
                                  <= 1
                              - message: RequestRedirect filter cannot be repeated
                                rule: self.filter(f, f.type == 'RequestRedirect').size()
                                  <= 1
                              - message: URLRewrite filter cannot be repeated
                                rule: self.filter(f, f.type == 'URLRewrite').size()
                                  <= 1
                            group:
                              default: ""
                              description: Group is the group of the referent. For
                                example, "gateway.networking.k8s.io". When unspecified
                                or empty string, core API group is inferred.
                              maxLength: 253
                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                            kind:
                              default: Service
                              description: "Kind is the Kubernetes resource kind of
                                the referent. For example \"Service\". \n Defaults
                                to \"Service\" when not specified. \n ExternalName
                                services can refer to CNAME DNS records that may live
                                outside of the cluster and as such are difficult to
                                reason about in terms of conformance. They also may
                                not be safe to forward to (see CVE-2021-25740 for
                                more information). Implementations SHOULD NOT support
                                ExternalName Services. \n Support: Core (Services
                                with a type other than ExternalName) \n Support: Implementation-specific
                                (Services with type ExternalName)"
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                              type: string
                            name:
                              description: Name is the name of the referent.
                              maxLength: 253
                              minLength: 1
                              type: string
                            namespace:
                              description: "Namespace is the namespace of the backend.
                                When unspecified, the local namespace is inferred.
                                \n Note that when a namespace different than the local
                                namespace is specified, a ReferenceGrant object is
                                required in the referent namespace to allow that namespace's
                                owner to accept the reference. See the ReferenceGrant
                                documentation for details. \n Support: Core"
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                              type: string
                            port:
                              description: Port specifies the destination port number
                                to use for this resource. Port is required when the
                                referent is a Kubernetes Service. In this case, the
                                port number is the service port number, not the target
                                port. For other resources, destination port might
                                be derived from the referent resource or this field.
                              format: int32
                              maximum: 65535
                              minimum: 1
                              type: integer
                            weight:
                              default: 1
                              description: "Weight specifies the proportion of requests
                                forwarded to the referenced backend. This is computed
                                as weight/(sum of all weights in this BackendRefs
                                list). For non-zero values, there may be some epsilon
                                from the exact proportion defined here depending on
                                the precision an implementation supports. Weight is
                                not a percentage and the sum of weights does not need
                                to equal 100. \n If only one backend is specified
                                and it has a weight greater than 0, 100% of the traffic
                                is forwarded to that backend. If weight is set to
                                0, no traffic should be forwarded for this entry.
                                If unspecified, weight defaults to 1. \n Support for
                                this field varies based on the context where used."
                              format: int32
                              maximum: 1000000
                              minimum: 0
                              type: integer
                          required:
                          - name
                          type: object
                          x-kubernetes-validations:
                          - message: Must have port for Service reference
                            rule: '(size(self.group) == 0 && self.kind == ''Service'')
                              ? has(self.port) : true'
                        maxItems: 16
                        type: array
                      filters:
                        description: "Filters define the filters that are applied
                          to requests that match this rule. \n The effects of ordering
                          of multiple behaviors are currently unspecified. This can
                          change in the future based on feedback during the alpha
                          stage. \n Conformance-levels at this level are defined based
                          on the type of filter: \n - ALL core filters MUST be supported
                          by all implementations. - Implementers are encouraged to
                          support extended filters. - Implementation-specific custom
                          filters have no API guarantees across implementations. \n
                          Specifying the same filter multiple times is not supported
                          unless explicitly indicated in the filter. \n All filters
                          are expected to be compatible with each other except for
                          the URLRewrite and RequestRedirect filters, which may not
                          be combined. If an implementation can not support other
                          combinations of filters, they must clearly document that
                          limitation. In cases where incompatible or unsupported filters
                          are specified and cause the `Accepted` condition to be set
                          to status `False`, implementations may use the `IncompatibleFilters`
                          reason to specify this configuration error. \n Support:
                          Core"
                        items:
                          description: HTTPRouteFilter defines processing steps that
                            must be completed during the request or response lifecycle.
                            HTTPRouteFilters are meant as an extension point to express
                            processing that may be done in Gateway implementations.
                            Some examples include request or response modification,
                            implementing authentication strategies, rate-limiting,
                            and traffic shaping. API guarantee/conformance is defined
                            based on the type of the filter.
                          properties:
                            extensionRef:
                              description: "ExtensionRef is an optional, implementation-specific
                                extension to the \"filter\" behavior.  For example,
                                resource \"myroutefilter\" in group \"networking.example.net\").
                                ExtensionRef MUST NOT be used for core and extended
                                filters. \n This filter can be used multiple times
                                within the same rule. \n Support: Implementation-specific"
                              properties:
                                group:
                                  description: Group is the group of the referent.
                                    For example, "gateway.networking.k8s.io". When
                                    unspecified or empty string, core API group is
                                    inferred.
                                  maxLength: 253
                                  pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                  type: string
                                kind:
                                  description: Kind is kind of the referent. For example
                                    "HTTPRoute" or "Service".
                                  maxLength: 63
                                  minLength: 1
                                  pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                  type: string
                                name:
                                  description: Name is the name of the referent.
                                  maxLength: 253
                                  minLength: 1
                                  type: string
                              required:
                              - group
                              - kind
                              - name
                              type: object
                            requestHeaderModifier:
                              description: "RequestHeaderModifier defines a schema
                                for a filter that modifies request headers. \n Support:
                                Core"
                              properties:
                                add:
                                  description: "Add adds the given header(s) (name,
                                    value) to the request before the action. It appends
                                    to any existing values associated with the header
                                    name. \n Input: GET /foo HTTP/1.1 my-header: foo
                                    \n Config: add: - name: \"my-header\" value: \"bar,baz\"
                                    \n Output: GET /foo HTTP/1.1 my-header: foo,bar,baz"
                                  items:
                                    description: HTTPHeader represents an HTTP Header
                                      name and value as defined by RFC 7230.
                                    properties:
                                      name:
                                        description: "Name is the name of the HTTP
                                          Header to be matched. Name matching MUST
                                          be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                          \n If multiple entries specify equivalent
                                          header names, the first entry with an equivalent
                                          name MUST be considered for a match. Subsequent
                                          entries with an equivalent header name MUST
                                          be ignored. Due to the case-insensitivity
                                          of header names, \"foo\" and \"Foo\" are
                                          considered equivalent."
                                        maxLength: 256
                                        minLength: 1
                                        pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                        type: string
                                      value:
                                        description: Value is the value of HTTP Header
                                          to be matched.
                                        maxLength: 4096
                                        minLength: 1
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  maxItems: 16
                                  type: array
                                  x-kubernetes-list-map-keys:
                                  - name
                                  x-kubernetes-list-type: map
                                remove:
                                  description: "Remove the given header(s) from the
                                    HTTP request before the action. The value of Remove
                                    is a list of HTTP header names. Note that the
                                    header names are case-insensitive (see https://datatracker.ietf.org/doc/html/rfc2616#section-4.2).
                                    \n Input: GET /foo HTTP/1.1 my-header1: foo my-header2:
                                    bar my-header3: baz \n Config: remove: [\"my-header1\",
                                    \"my-header3\"] \n Output: GET /foo HTTP/1.1 my-header2:
                                    bar"
                                  items:
                                    type: string
                                  maxItems: 16
                                  type: array
                                  x-kubernetes-list-type: set
                                set:
                                  description: "Set overwrites the request with the
                                    given header (name, value) before the action.
                                    \n Input: GET /foo HTTP/1.1 my-header: foo \n
                                    Config: set: - name: \"my-header\" value: \"bar\"
                                    \n Output: GET /foo HTTP/1.1 my-header: bar"
                                  items:
                                    description: HTTPHeader represents an HTTP Header
                                      name and value as defined by RFC 7230.
                                    properties:
                                      name:
                                        description: "Name is the name of the HTTP
                                          Header to be matched. Name matching MUST
                                          be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                          \n If multiple entries specify equivalent
                                          header names, the first entry with an equivalent
                                          name MUST be considered for a match. Subsequent
                                          entries with an equivalent header name MUST
                                          be ignored. Due to the case-insensitivity
                                          of header names, \"foo\" and \"Foo\" are
                                          considered equivalent."
                                        maxLength: 256
                                        minLength: 1
                                        pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                        type: string
                                      value:
                                        description: Value is the value of HTTP Header
                                          to be matched.
                                        maxLength: 4096
                                        minLength: 1
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  maxItems: 16
                                  type: array
                                  x-kubernetes-list-map-keys:
                                  - name
                                  x-kubernetes-list-type: map
                              type: object
                            requestMirror:
                              description: "RequestMirror defines a schema for a filter
                                that mirrors requests. Requests are sent to the specified
                                destination, but responses from that destination are
                                ignored. \n This filter can be used multiple times
                                within the same rule. Note that not all implementations
                                will be able to support mirroring to multiple backends.
                                \n Support: Extended"
                              properties:
                                backendRef:
                                  description: "BackendRef references a resource where
                                    mirrored requests are sent. \n Mirrored requests
                                    must be sent only to a single destination endpoint
                                    within this BackendRef, irrespective of how many
                                    endpoints are present within this BackendRef.
                                    \n If the referent cannot be found, this BackendRef
                                    is invalid and must be dropped from the Gateway.
                                    The controller must ensure the \"ResolvedRefs\"
                                    condition on the Route status is set to `status:
                                    False` and not configure this backend in the underlying
                                    implementation. \n If there is a cross-namespace
                                    reference to an *existing* object that is not
                                    allowed by a ReferenceGrant, the controller must
                                    ensure the \"ResolvedRefs\"  condition on the
                                    Route is set to `status: False`, with the \"RefNotPermitted\"
                                    reason and not configure this backend in the underlying
                                    implementation. \n In either error case, the Message
                                    of the `ResolvedRefs` Condition should be used
                                    to provide more detail about the problem. \n Support:
                                    Extended for Kubernetes Service \n Support: Implementation-specific
                                    for any other resource"
                                  properties:
                                    group:
                                      default: ""
                                      description: Group is the group of the referent.
                                        For example, "gateway.networking.k8s.io".
                                        When unspecified or empty string, core API
                                        group is inferred.
                                      maxLength: 253
                                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                      type: string
                                    kind:
                                      default: Service
                                      description: "Kind is the Kubernetes resource
                                        kind of the referent. For example \"Service\".
                                        \n Defaults to \"Service\" when not specified.
                                        \n ExternalName services can refer to CNAME
                                        DNS records that may live outside of the cluster
                                        and as such are difficult to reason about
                                        in terms of conformance. They also may not
                                        be safe to forward to (see CVE-2021-25740
                                        for more information). Implementations SHOULD
                                        NOT support ExternalName Services. \n Support:
                                        Core (Services with a type other than ExternalName)
                                        \n Support: Implementation-specific (Services
                                        with type ExternalName)"
                                      maxLength: 63
                                      minLength: 1
                                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                      type: string
                                    name:
                                      description: Name is the name of the referent.
                                      maxLength: 253
                                      minLength: 1
                                      type: string
                                    namespace:
                                      description: "Namespace is the namespace of
                                        the backend. When unspecified, the local namespace
                                        is inferred. \n Note that when a namespace
                                        different than the local namespace is specified,
                                        a ReferenceGrant object is required in the
                                        referent namespace to allow that namespace's
                                        owner to accept the reference. See the ReferenceGrant
                                        documentation for details. \n Support: Core"
                                      maxLength: 63
                                      minLength: 1
                                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                      type: string
                                    port:
                                      description: Port specifies the destination
                                        port number to use for this resource. Port
                                        is required when the referent is a Kubernetes
                                        Service. In this case, the port number is
                                        the service port number, not the target port.
                                        For other resources, destination port might
                                        be derived from the referent resource or this
                                        field.
                                      format: int32
                                      maximum: 65535
                                      minimum: 1
                                      type: integer
                                  required:
                                  - name
                                  type: object
                                  x-kubernetes-validations:
                                  - message: Must have port for Service reference
                                    rule: '(size(self.group) == 0 && self.kind ==
                                      ''Service'') ? has(self.port) : true'
                              required:
                              - backendRef
                              type: object
                            requestRedirect:
                              description: "RequestRedirect defines a schema for a
                                filter that responds to the request with an HTTP redirection.
                                \n Support: Core"
                              properties:
                                hostname:
                                  description: "Hostname is the hostname to be used
                                    in the value of the `Location` header in the response.
                                    When empty, the hostname in the `Host` header
                                    of the request is used. \n Support: Core"
                                  maxLength: 253
                                  minLength: 1
                                  pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                  type: string
                                path:
                                  description: "Path defines parameters used to modify
                                    the path of the incoming request. The modified
                                    path is then used to construct the `Location`
                                    header. When empty, the request path is used as-is.
                                    \n Support: Extended"
                                  properties:
                                    replaceFullPath:
                                      description: ReplaceFullPath specifies the value
                                        with which to replace the full path of a request
                                        during a rewrite or redirect.
                                      maxLength: 1024
                                      type: string
                                    replacePrefixMatch:
                                      description: "ReplacePrefixMatch specifies the
                                        value with which to replace the prefix match
                                        of a request during a rewrite or redirect.
                                        For example, a request to \"/foo/bar\" with
                                        a prefix match of \"/foo\" and a ReplacePrefixMatch
                                        of \"/xyz\" would be modified to \"/xyz/bar\".
                                        \n Note that this matches the behavior of
                                        the PathPrefix match type. This matches full
                                        path elements. A path element refers to the
                                        list of labels in the path split by the `/`
                                        separator. When specified, a trailing `/`
                                        is ignored. For example, the paths `/abc`,
                                        `/abc/`, and `/abc/def` would all match the
                                        prefix `/abc`, but the path `/abcd` would
                                        not. \n ReplacePrefixMatch is only compatible
                                        with a `PathPrefix` HTTPRouteMatch. Using
                                        any other HTTPRouteMatch type on the same
                                        HTTPRouteRule will result in the implementation
                                        setting the Accepted Condition for the Route
                                        to `status: False`. \n Request Path | Prefix
                                        Match | Replace Prefix | Modified Path -------------|--------------|----------------|----------
                                        /foo/bar     | /foo         | /xyz           |
                                        /xyz/bar /foo/bar     | /foo         | /xyz/
                                        \         | /xyz/bar /foo/bar     | /foo/
                                        \       | /xyz           | /xyz/bar /foo/bar
                                        \    | /foo/        | /xyz/          | /xyz/bar
                                        /foo         | /foo         | /xyz           |
                                        /xyz /foo/        | /foo         | /xyz           |
                                        /xyz/ /foo/bar     | /foo         | <empty
                                        string> | /bar /foo/        | /foo         |
                                        <empty string> | / /foo         | /foo         |
                                        <empty string> | / /foo/        | /foo         |
                                        /              | / /foo         | /foo         |
                                        /              | /"
                                      maxLength: 1024
                                      type: string
                                    type:
                                      description: "Type defines the type of path
                                        modifier. Additional types may be added in
                                        a future release of the API. \n Note that
                                        values may be added to this enum, implementations
                                        must ensure that unknown values will not cause
                                        a crash. \n Unknown values here must result
                                        in the implementation setting the Accepted
                                        Condition for the Route to `status: False`,
                                        with a Reason of `UnsupportedValue`."
                                      enum:
                                      - ReplaceFullPath
                                      - ReplacePrefixMatch
                                      type: string
                                  required:
                                  - type
                                  type: object
                                  x-kubernetes-validations:
                                  - message: replaceFullPath must be specified when
                                      type is set to 'ReplaceFullPath'
                                    rule: 'self.type == ''ReplaceFullPath'' ? has(self.replaceFullPath)
                                      : true'
                                  - message: type must be 'ReplaceFullPath' when replaceFullPath
                                      is set
                                    rule: 'has(self.replaceFullPath) ? self.type ==
                                      ''ReplaceFullPath'' : true'
                                  - message: replacePrefixMatch must be specified
                                      when type is set to 'ReplacePrefixMatch'
                                    rule: 'self.type == ''ReplacePrefixMatch'' ? has(self.replacePrefixMatch)
                                      : true'
                                  - message: type must be 'ReplacePrefixMatch' when
                                      replacePrefixMatch is set
                                    rule: 'has(self.replacePrefixMatch) ? self.type
                                      == ''ReplacePrefixMatch'' : true'
                                port:
                                  description: "Port is the port to be used in the
                                    value of the `Location` header in the response.
                                    \n If no port is specified, the redirect port
                                    MUST be derived using the following rules: \n
                                    * If redirect scheme is not-empty, the redirect
                                    port MUST be the well-known port associated with
                                    the redirect scheme. Specifically \"http\" to
                                    port 80 and \"https\" to port 443. If the redirect
                                    scheme does not have a well-known port, the listener
                                    port of the Gateway SHOULD be used. * If redirect
                                    scheme is empty, the redirect port MUST be the
                                    Gateway Listener port. \n Implementations SHOULD
                                    NOT add the port number in the 'Location' header
                                    in the following cases: \n * A Location header
                                    that will use HTTP (whether that is determined
                                    via the Listener protocol or the Scheme field)
                                    _and_ use port 80. * A Location header that will
                                    use HTTPS (whether that is determined via the
                                    Listener protocol or the Scheme field) _and_ use
                                    port 443. \n Support: Extended"
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                                scheme:
                                  description: "Scheme is the scheme to be used in
                                    the value of the `Location` header in the response.
                                    When empty, the scheme of the request is used.
                                    \n Scheme redirects can affect the port of the
                                    redirect, for more information, refer to the documentation
                                    for the port field of this filter. \n Note that
                                    values may be added to this enum, implementations
                                    must ensure that unknown values will not cause
                                    a crash. \n Unknown values here must result in
                                    the implementation setting the Accepted Condition
                                    for the Route to `status: False`, with a Reason
                                    of `UnsupportedValue`. \n Support: Extended"
                                  enum:
                                  - http
                                  - https
                                  type: string
                                statusCode:
                                  default: 302
                                  description: "StatusCode is the HTTP status code
                                    to be used in response. \n Note that values may
                                    be added to this enum, implementations must ensure
                                    that unknown values will not cause a crash. \n
                                    Unknown values here must result in the implementation
                                    setting the Accepted Condition for the Route to
                                    `status: False`, with a Reason of `UnsupportedValue`.
                                    \n Support: Core"
                                  enum:
                                  - 301
                                  - 302
                                  type: integer
                              type: object
                            responseHeaderModifier:
                              description: "ResponseHeaderModifier defines a schema
                                for a filter that modifies response headers. \n Support:
                                Extended"
                              properties:
                                add:
                                  description: "Add adds the given header(s) (name,
                                    value) to the request before the action. It appends
                                    to any existing values associated with the header
                                    name. \n Input: GET /foo HTTP/1.1 my-header: foo
                                    \n Config: add: - name: \"my-header\" value: \"bar,baz\"
                                    \n Output: GET /foo HTTP/1.1 my-header: foo,bar,baz"
                                  items:
                                    description: HTTPHeader represents an HTTP Header
                                      name and value as defined by RFC 7230.
                                    properties:
                                      name:
                                        description: "Name is the name of the HTTP
                                          Header to be matched. Name matching MUST
                                          be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                          \n If multiple entries specify equivalent
                                          header names, the first entry with an equivalent
                                          name MUST be considered for a match. Subsequent
                                          entries with an equivalent header name MUST
                                          be ignored. Due to the case-insensitivity
                                          of header names, \"foo\" and \"Foo\" are
                                          considered equivalent."
                                        maxLength: 256
                                        minLength: 1
                                        pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                        type: string
                                      value:
                                        description: Value is the value of HTTP Header
                                          to be matched.
                                        maxLength: 4096
                                        minLength: 1
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  maxItems: 16
                                  type: array
                                  x-kubernetes-list-map-keys:
                                  - name
                                  x-kubernetes-list-type: map
                                remove:
                                  description: "Remove the given header(s) from the
                                    HTTP request before the action. The value of Remove
                                    is a list of HTTP header names. Note that the
                                    header names are case-insensitive (see https://datatracker.ietf.org/doc/html/rfc2616#section-4.2).
                                    \n Input: GET /foo HTTP/1.1 my-header1: foo my-header2:
                                    bar my-header3: baz \n Config: remove: [\"my-header1\",
                                    \"my-header3\"] \n Output: GET /foo HTTP/1.1 my-header2:
                                    bar"
                                  items:
                                    type: string
                                  maxItems: 16
                                  type: array
                                  x-kubernetes-list-type: set
                                set:
                                  description: "Set overwrites the request with the
                                    given header (name, value) before the action.
                                    \n Input: GET /foo HTTP/1.1 my-header: foo \n
                                    Config: set: - name: \"my-header\" value: \"bar\"
                                    \n Output: GET /foo HTTP/1.1 my-header: bar"
                                  items:
                                    description: HTTPHeader represents an HTTP Header
                                      name and value as defined by RFC 7230.
                                    properties:
                                      name:
                                        description: "Name is the name of the HTTP
                                          Header to be matched. Name matching MUST
                                          be case insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                          \n If multiple entries specify equivalent
                                          header names, the first entry with an equivalent
                                          name MUST be considered for a match. Subsequent
                                          entries with an equivalent header name MUST
                                          be ignored. Due to the case-insensitivity
                                          of header names, \"foo\" and \"Foo\" are
                                          considered equivalent."
                                        maxLength: 256
                                        minLength: 1
                                        pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                        type: string
                                      value:
                                        description: Value is the value of HTTP Header
                                          to be matched.
                                        maxLength: 4096
                                        minLength: 1
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  maxItems: 16
                                  type: array
                                  x-kubernetes-list-map-keys:
                                  - name
                                  x-kubernetes-list-type: map
                              type: object
                            type:
                              description: "Type identifies the type of filter to
                                apply. As with other API fields, types are classified
                                into three conformance levels: \n - Core: Filter types
                                and their corresponding configuration defined by \"Support:
                                Core\" in this package, e.g. \"RequestHeaderModifier\".
                                All implementations must support core filters. \n
                                - Extended: Filter types and their corresponding configuration
                                defined by \"Support: Extended\" in this package,
                                e.g. \"RequestMirror\". Implementers are encouraged
                                to support extended filters. \n - Implementation-specific:
                                Filters that are defined and supported by specific
                                vendors. In the future, filters showing convergence
                                in behavior across multiple implementations will be
                                considered for inclusion in extended or core conformance
                                levels. Filter-specific configuration for such filters
                                is specified using the ExtensionRef field. `Type`
                                should be set to \"ExtensionRef\" for custom filters.
                                \n Implementers are encouraged to define custom implementation
                                types to extend the core API with implementation-specific
                                behavior. \n If a reference to a custom filter type
                                cannot be resolved, the filter MUST NOT be skipped.
                                Instead, requests that would have been processed by
                                that filter MUST receive a HTTP error response. \n
                                Note that values may be added to this enum, implementations
                                must ensure that unknown values will not cause a crash.
                                \n Unknown values here must result in the implementation
                                setting the Accepted Condition for the Route to `status:
                                False`, with a Reason of `UnsupportedValue`."
                              enum:
                              - RequestHeaderModifier
                              - ResponseHeaderModifier
                              - RequestMirror
                              - RequestRedirect
                              - URLRewrite
                              - ExtensionRef
                              type: string
                            urlRewrite:
                              description: "URLRewrite defines a schema for a filter
                                that modifies a request during forwarding. \n Support:
                                Extended"
                              properties:
                                hostname:
                                  description: "Hostname is the value to be used to
                                    replace the Host header value during forwarding.
                                    \n Support: Extended"
                                  maxLength: 253
                                  minLength: 1
                                  pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                  type: string
                                path:
                                  description: "Path defines a path rewrite. \n Support:
                                    Extended"
                                  properties:
                                    replaceFullPath:
                                      description: ReplaceFullPath specifies the value
                                        with which to replace the full path of a request
                                        during a rewrite or redirect.
                                      maxLength: 1024
                                      type: string
                                    replacePrefixMatch:
                                      description: "ReplacePrefixMatch specifies the
                                        value with which to replace the prefix match
                                        of a request during a rewrite or redirect.
                                        For example, a request to \"/foo/bar\" with
                                        a prefix match of \"/foo\" and a ReplacePrefixMatch
                                        of \"/xyz\" would be modified to \"/xyz/bar\".
                                        \n Note that this matches the behavior of
                                        the PathPrefix match type. This matches full
                                        path elements. A path element refers to the
                                        list of labels in the path split by the `/`
                                        separator. When specified, a trailing `/`
                                        is ignored. For example, the paths `/abc`,
                                        `/abc/`, and `/abc/def` would all match the
                                        prefix `/abc`, but the path `/abcd` would
                                        not. \n ReplacePrefixMatch is only compatible
                                        with a `PathPrefix` HTTPRouteMatch. Using
                                        any other HTTPRouteMatch type on the same
                                        HTTPRouteRule will result in the implementation
                                        setting the Accepted Condition for the Route
                                        to `status: False`. \n Request Path | Prefix
                                        Match | Replace Prefix | Modified Path -------------|--------------|----------------|----------
                                        /foo/bar     | /foo         | /xyz           |
                                        /xyz/bar /foo/bar     | /foo         | /xyz/
                                        \         | /xyz/bar /foo/bar     | /foo/
                                        \       | /xyz           | /xyz/bar /foo/bar
                                        \    | /foo/        | /xyz/          | /xyz/bar
                                        /foo         | /foo         | /xyz           |
                                        /xyz /foo/        | /foo         | /xyz           |
                                        /xyz/ /foo/bar     | /foo         | <empty
                                        string> | /bar /foo/        | /foo         |
                                        <empty string> | / /foo         | /foo         |
                                        <empty string> | / /foo/        | /foo         |
                                        /              | / /foo         | /foo         |
                                        /              | /"
                                      maxLength: 1024
                                      type: string
                                    type:
                                      description: "Type defines the type of path
                                        modifier. Additional types may be added in
                                        a future release of the API. \n Note that
                                        values may be added to this enum, implementations
                                        must ensure that unknown values will not cause
                                        a crash. \n Unknown values here must result
                                        in the implementation setting the Accepted
                                        Condition for the Route to `status: False`,
                                        with a Reason of `UnsupportedValue`."
                                      enum:
                                      - ReplaceFullPath
                                      - ReplacePrefixMatch
                                      type: string
                                  required:
                                  - type
                                  type: object
                                  x-kubernetes-validations:
                                  - message: replaceFullPath must be specified when
                                      type is set to 'ReplaceFullPath'
                                    rule: 'self.type == ''ReplaceFullPath'' ? has(self.replaceFullPath)
                                      : true'
                                  - message: type must be 'ReplaceFullPath' when replaceFullPath
                                      is set
                                    rule: 'has(self.replaceFullPath) ? self.type ==
                                      ''ReplaceFullPath'' : true'
                                  - message: replacePrefixMatch must be specified
                                      when type is set to 'ReplacePrefixMatch'
                                    rule: 'self.type == ''ReplacePrefixMatch'' ? has(self.replacePrefixMatch)
                                      : true'
                                  - message: type must be 'ReplacePrefixMatch' when
                                      replacePrefixMatch is set
                                    rule: 'has(self.replacePrefixMatch) ? self.type
                                      == ''ReplacePrefixMatch'' : true'
                              type: object
                          required:
                          - type
                          type: object
                          x-kubernetes-validations:
                          - message: filter.requestHeaderModifier must be nil if the
                              filter.type is not RequestHeaderModifier
                            rule: '!(has(self.requestHeaderModifier) && self.type
                              != ''RequestHeaderModifier'')'
                          - message: filter.requestHeaderModifier must be specified
                              for RequestHeaderModifier filter.type
                            rule: '!(!has(self.requestHeaderModifier) && self.type
                              == ''RequestHeaderModifier'')'
                          - message: filter.responseHeaderModifier must be nil if
                              the filter.type is not ResponseHeaderModifier
                            rule: '!(has(self.responseHeaderModifier) && self.type
                              != ''ResponseHeaderModifier'')'
                          - message: filter.responseHeaderModifier must be specified
                              for ResponseHeaderModifier filter.type
                            rule: '!(!has(self.responseHeaderModifier) && self.type
                              == ''ResponseHeaderModifier'')'
                          - message: filter.requestMirror must be nil if the filter.type
                              is not RequestMirror
                            rule: '!(has(self.requestMirror) && self.type != ''RequestMirror'')'
                          - message: filter.requestMirror must be specified for RequestMirror
                              filter.type
                            rule: '!(!has(self.requestMirror) && self.type == ''RequestMirror'')'
                          - message: filter.requestRedirect must be nil if the filter.type
                              is not RequestRedirect
                            rule: '!(has(self.requestRedirect) && self.type != ''RequestRedirect'')'
                          - message: filter.requestRedirect must be specified for
                              RequestRedirect filter.type
                            rule: '!(!has(self.requestRedirect) && self.type == ''RequestRedirect'')'
                          - message: filter.urlRewrite must be nil if the filter.type
                              is not URLRewrite
                            rule: '!(has(self.urlRewrite) && self.type != ''URLRewrite'')'
                          - message: filter.urlRewrite must be specified for URLRewrite
                              filter.type
                            rule: '!(!has(self.urlRewrite) && self.type == ''URLRewrite'')'
                          - message: filter.extensionRef must be nil if the filter.type
                              is not ExtensionRef
                            rule: '!(has(self.extensionRef) && self.type != ''ExtensionRef'')'
                          - message: filter.extensionRef must be specified for ExtensionRef
                              filter.type
                            rule: '!(!has(self.extensionRef) && self.type == ''ExtensionRef'')'
                        maxItems: 16
                        type: array
                        x-kubernetes-validations:
                        - message: May specify either httpRouteFilterRequestRedirect
                            or httpRouteFilterRequestRewrite, but not both
                          rule: '!(self.exists(f, f.type == ''RequestRedirect'') &&
                            self.exists(f, f.type == ''URLRewrite''))'
                        - message: RequestHeaderModifier filter cannot be repeated
                          rule: self.filter(f, f.type == 'RequestHeaderModifier').size()
                            <= 1
                        - message: ResponseHeaderModifier filter cannot be repeated
                          rule: self.filter(f, f.type == 'ResponseHeaderModifier').size()
                            <= 1
                        - message: RequestRedirect filter cannot be repeated
                          rule: self.filter(f, f.type == 'RequestRedirect').size()
                            <= 1
                        - message: URLRewrite filter cannot be repeated
                          rule: self.filter(f, f.type == 'URLRewrite').size() <= 1
                      matches:
                        default:
                        - path:
                            type: PathPrefix
                            value: /
                        description: "Matches define conditions used for matching
                          the rule against incoming HTTP requests. Each match is independent,
                          i.e. this rule will be matched if **any** one of the matches
                          is satisfied. \n For example, take the following matches
                          configuration: \n ``` matches: - path: value: \"/foo\" headers:
                          - name: \"version\" value: \"v2\" - path: value: \"/v2/foo\"
                          ``` \n For a request to match against this rule, a request
                          must satisfy EITHER of the two conditions: \n - path prefixed
                          with `/foo` AND contains the header `version: v2` - path
                          prefix of `/v2/foo` \n See the documentation for HTTPRouteMatch
                          on how to specify multiple match conditions that should
                          be ANDed together. \n If no matches are specified, the default
                          is a prefix path match on \"/\", which has the effect of
                          matching every HTTP request. \n Proxy or Load Balancer routing
                          configuration generated from HTTPRoutes MUST prioritize
                          matches based on the following criteria, continuing on ties.
                          Across all rules specified on applicable Routes, precedence
                          must be given to the match having: \n * \"Exact\" path match.
                          * \"Prefix\" path match with largest number of characters.
                          * Method match. * Largest number of header matches. * Largest
                          number of query param matches. \n Note: The precedence of
                          RegularExpression path matches are implementation-specific.
                          \n If ties still exist across multiple Routes, matching
                          precedence MUST be determined in order of the following
                          criteria, continuing on ties: \n * The oldest Route based
                          on creation timestamp. * The Route appearing first in alphabetical
                          order by \"{namespace}/{name}\". \n If ties still exist
                          within an HTTPRoute, matching precedence MUST be granted
                          to the FIRST matching rule (in list order) with a match
                          meeting the above criteria. \n When no rules matching a
                          request have been successfully attached to the parent a
                          request is coming from, a HTTP 404 status code MUST be returned."
                        items:
                          description: "HTTPRouteMatch defines the predicate used
                            to match requests to a given action. Multiple match types
                            are ANDed together, i.e. the match will evaluate to true
                            only if all conditions are satisfied. \n For example,
                            the match below will match a HTTP request only if its
                            path starts with `/foo` AND it contains the `version:
                            v1` header: \n ``` match: \n path: value: \"/foo\" headers:
                            - name: \"version\" value \"v1\" \n ```"
                          properties:
                            headers:
                              description: Headers specifies HTTP request header matchers.
                                Multiple match values are ANDed together, meaning,
                                a request must match all the specified headers to
                                select the route.
                              items:
                                description: HTTPHeaderMatch describes how to select
                                  a HTTP route by matching HTTP request headers.
                                properties:
                                  name:
                                    description: "Name is the name of the HTTP Header
                                      to be matched. Name matching MUST be case insensitive.
                                      (See https://tools.ietf.org/html/rfc7230#section-3.2).
                                      \n If multiple entries specify equivalent header
                                      names, only the first entry with an equivalent
                                      name MUST be considered for a match. Subsequent
                                      entries with an equivalent header name MUST
                                      be ignored. Due to the case-insensitivity of
                                      header names, \"foo\" and \"Foo\" are considered
                                      equivalent. \n When a header is repeated in
                                      an HTTP request, it is implementation-specific
                                      behavior as to how this is represented. Generally,
                                      proxies should follow the guidance from the
                                      RFC: https://www.rfc-editor.org/rfc/rfc7230.html#section-3.2.2
                                      regarding processing a repeated header, with
                                      special handling for \"Set-Cookie\"."
                                    maxLength: 256
                                    minLength: 1
                                    pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                    type: string
                                  type:
                                    default: Exact
                                    description: "Type specifies how to match against
                                      the value of the header. \n Support: Core (Exact)
                                      \n Support: Implementation-specific (RegularExpression)
                                      \n Since RegularExpression HeaderMatchType has
                                      implementation-specific conformance, implementations
                                      can support POSIX, PCRE or any other dialects
                                      of regular expressions. Please read the implementation's
                                      documentation to determine the supported dialect."
                                    enum:
                                    - Exact
                                    - RegularExpression
                                    type: string
                                  value:
                                    description: Value is the value of HTTP Header
                                      to be matched.
                                    maxLength: 4096
                                    minLength: 1
                                    type: string
                                required:
                                - name
                                - value
                                type: object
                              maxItems: 16
                              type: array
                              x-kubernetes-list-map-keys:
                              - name
                              x-kubernetes-list-type: map
                            method:
                              description: "Method specifies HTTP method matcher.
                                When specified, this route will be matched only if
                                the request has the specified method. \n Support:
                                Extended"
                              enum:
                              - GET
                              - HEAD
                              - POST
                              - PUT
                              - DELETE
                              - CONNECT
                              - OPTIONS
                              - TRACE
                              - PATCH
                              type: string
                            path:
                              default:
                                type: PathPrefix
                                value: /
                              description: Path specifies a HTTP request path matcher.
                                If this field is not specified, a default prefix match
                                on the "/" path is provided.
                              properties:
                                type:
                                  default: PathPrefix
                                  description: "Type specifies how to match against
                                    the path Value. \n Support: Core (Exact, PathPrefix)
                                    \n Support: Implementation-specific (RegularExpression)"
                                  enum:
                                  - Exact
                                  - PathPrefix
                                  - RegularExpression
                                  type: string
                                value:
                                  default: /
                                  description: Value of the HTTP path to match against.
                                  maxLength: 1024
                                  type: string
                              type: object
                              x-kubernetes-validations:
                              - message: value must be an absolute path and start
                                  with '/' when type one of ['Exact', 'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  self.value.startsWith(''/'') : true'
                              - message: must not contain '//' when type one of ['Exact',
                                  'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  !self.value.contains(''//'') : true'
                              - message: must not contain '/./' when type one of ['Exact',
                                  'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  !self.value.contains(''/./'') : true'
                              - message: must not contain '/../' when type one of
                                  ['Exact', 'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  !self.value.contains(''/../'') : true'
                              - message: must not contain '%2f' when type one of ['Exact',
                                  'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  !self.value.contains(''%2f'') : true'
                              - message: must not contain '%2F' when type one of ['Exact',
                                  'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  !self.value.contains(''%2F'') : true'
                              - message: must not contain '#' when type one of ['Exact',
                                  'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  !self.value.contains(''#'') : true'
                              - message: must not end with '/..' when type one of
                                  ['Exact', 'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  !self.value.endsWith(''/..'') : true'
                              - message: must not end with '/.' when type one of ['Exact',
                                  'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  !self.value.endsWith(''/.'') : true'
                              - message: type must be one of ['Exact', 'PathPrefix',
                                  'RegularExpression']
                                rule: self.type in ['Exact','PathPrefix'] || self.type
                                  == 'RegularExpression'
                              - message: must only contain valid characters (matching
                                  ^(?:[-A-Za-z0-9/._~!$&'()*+,;=:@]|[%][0-9a-fA-F]{2})+$)
                                  for types ['Exact', 'PathPrefix']
                                rule: '(self.type in [''Exact'',''PathPrefix'']) ?
                                  self.value.matches(r"""^(?:[-A-Za-z0-9/._~!$&''()*+,;=:@]|[%][0-9a-fA-F]{2})+$""")
                                  : true'
                            queryParams:
                              description: "QueryParams specifies HTTP query parameter
                                matchers. Multiple match values are ANDed together,
                                meaning, a request must match all the specified query
                                parameters to select the route. \n Support: Extended"
                              items:
                                description: HTTPQueryParamMatch describes how to
                                  select a HTTP route by matching HTTP query parameters.
                                properties:
                                  name:
                                    description: "Name is the name of the HTTP query
                                      param to be matched. This must be an exact string
                                      match. (See https://tools.ietf.org/html/rfc7230#section-2.7.3).
                                      \n If multiple entries specify equivalent query
                                      param names, only the first entry with an equivalent
                                      name MUST be considered for a match. Subsequent
                                      entries with an equivalent query param name
                                      MUST be ignored. \n If a query param is repeated
                                      in an HTTP request, the behavior is purposely
                                      left undefined, since different data planes
                                      have different capabilities. However, it is
                                      *recommended* that implementations should match
                                      against the first value of the param if the
                                      data plane supports it, as this behavior is
                                      expected in other load balancing contexts outside
                                      of the Gateway API. \n Users SHOULD NOT route
                                      traffic based on repeated query params to guard
                                      themselves against potential differences in
                                      the implementations."
                                    maxLength: 256
                                    minLength: 1
                                    pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                                    type: string
                                  type:
                                    default: Exact
                                    description: "Type specifies how to match against
                                      the value of the query parameter. \n Support:
                                      Extended (Exact) \n Support: Implementation-specific
                                      (RegularExpression) \n Since RegularExpression
                                      QueryParamMatchType has Implementation-specific
                                      conformance, implementations can support POSIX,
                                      PCRE or any other dialects of regular expressions.
                                      Please read the implementation's documentation
                                      to determine the supported dialect."
                                    enum:
                                    - Exact
                                    - RegularExpression
                                    type: string
                                  value:
                                    description: Value is the value of HTTP query
                                      param to be matched.
                                    maxLength: 1024
                                    minLength: 1
                                    type: string
                                required:
                                - name
                                - value
                                type: object
                              maxItems: 16
                              type: array
                              x-kubernetes-list-map-keys:
                              - name
                              x-kubernetes-list-type: map
                          type: object
                        maxItems: 8
                        type: array
                      timeouts:
                        description: "Timeouts defines the timeouts that can be configured
                          for an HTTP request. \n Support: Extended \n "
                        properties:
                          backendRequest:
                            description: "BackendRequest specifies a timeout for an
                              individual request from the gateway to a backend. This
                              covers the time from when the request first starts being
                              sent from the gateway to when the full response has
                              been received from the backend. \n An entire client
                              HTTP transaction with a gateway, covered by the Request
                              timeout, may result in more than one call from the gateway
                              to the destination backend, for example, if automatic
                              retries are supported. \n Because the Request timeout
                              encompasses the BackendRequest timeout, the value of
                              BackendRequest must be <= the value of Request timeout.
                              \n Support: Extended"
                            pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                            type: string
                          request:
                            description: "Request specifies the maximum duration for
                              a gateway to respond to an HTTP request. If the gateway
                              has not been able to respond before this deadline is
                              met, the gateway MUST return a timeout error. \n For
                              example, setting the `rules.timeouts.request` field
                              to the value `10s` in an `HTTPRoute` will cause a timeout
                              if a client request is taking longer than 10 seconds
                              to complete. \n This timeout is intended to cover as
                              close to the whole request-response transaction as possible
                              although an implementation MAY choose to start the timeout
                              after the entire request stream has been received instead
                              of immediately after the transaction is initiated by
                              the client. \n When this field is unspecified, request
                              timeout behavior is implementation-specific. \n Support:
                              Extended"
                            pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                            type: string
                        type: object
                        x-kubernetes-validations:
                        - message: backendRequest timeout cannot be longer than request
                            timeout
                          rule: '!(has(self.request) && has(self.backendRequest) &&
                            duration(self.request) != duration(''0s'') && duration(self.backendRequest)
                            > duration(self.request))'
                    type: object
                    x-kubernetes-validations:
                    - message: RequestRedirect filter must not be used together with
                        backendRefs
                      rule: '(has(self.backendRefs) && size(self.backendRefs) > 0)
                        ? (!has(self.filters) || self.filters.all(f, !has(f.requestRedirect))):
                        true'
                    - message: When using RequestRedirect filter with path.replacePrefixMatch,
                        exactly one PathPrefix match must be specified
                      rule: '(has(self.filters) && self.filters.exists_one(f, has(f.requestRedirect)
                        && has(f.requestRedirect.path) && f.requestRedirect.path.type
                        == ''ReplacePrefixMatch'' && has(f.requestRedirect.path.replacePrefixMatch)))
                        ? ((size(self.matches) != 1 || !has(self.matches[0].path)
                        || self.matches[0].path.type != ''PathPrefix'') ? false :
                        true) : true'
                    - message: When using URLRewrite filter with path.replacePrefixMatch,
                        exactly one PathPrefix match must be specified
                      rule: '(has(self.filters) && self.filters.exists_one(f, has(f.urlRewrite)
                        && has(f.urlRewrite.path) && f.urlRewrite.path.type == ''ReplacePrefixMatch''
                        && has(f.urlRewrite.path.replacePrefixMatch))) ? ((size(self.matches)
                        != 1 || !has(self.matches[0].path) || self.matches[0].path.type
                        != ''PathPrefix'') ? false : true) : true'
                    - message: Within backendRefs, when using RequestRedirect filter
                        with path.replacePrefixMatch, exactly one PathPrefix match
                        must be specified
                      rule: '(has(self.backendRefs) && self.backendRefs.exists_one(b,
                        (has(b.filters) && b.filters.exists_one(f, has(f.requestRedirect)
                        && has(f.requestRedirect.path) && f.requestRedirect.path.type
                        == ''ReplacePrefixMatch'' && has(f.requestRedirect.path.replacePrefixMatch)))
                        )) ? ((size(self.matches) != 1 || !has(self.matches[0].path)
                        || self.matches[0].path.type != ''PathPrefix'') ? false :
                        true) : true'
                    - message: Within backendRefs, When using URLRewrite filter with
                        path.replacePrefixMatch, exactly one PathPrefix match must
                        be specified
                      rule: '(has(self.backendRefs) && self.backendRefs.exists_one(b,
                        (has(b.filters) && b.filters.exists_one(f, has(f.urlRewrite)
                        && has(f.urlRewrite.path) && f.urlRewrite.path.type == ''ReplacePrefixMatch''
                        && has(f.urlRewrite.path.replacePrefixMatch))) )) ? ((size(self.matches)
                        != 1 || !has(self.matches[0].path) || self.matches[0].path.type
                        != ''PathPrefix'') ? false : true) : true'
                  maxItems: 16
                  type: array
              type: object
            status:
              description: Status defines the current state of HTTPRoute.
              properties:
                parents:
                  description: "Parents is a list of parent resources (usually Gateways)
                    that are associated with the route, and the status of the route
                    with respect to each parent. When this route attaches to a parent,
                    the controller that manages the parent must add an entry to this
                    list when the controller first sees the route and should update
                    the entry as appropriate when the route or gateway is modified.
                    \n Note that parent references that cannot be resolved by an implementation
                    of this API will not be added to this list. Implementations of
                    this API can only populate Route status for the Gateways/parent
                    resources they are responsible for. \n A maximum of 32 Gateways
                    will be represented in this list. An empty list means the route
                    has not been attached to any Gateway."
                  items:
                    description: RouteParentStatus describes the status of a route
                      with respect to an associated Parent.
                    properties:
                      conditions:
                        description: "Conditions describes the status of the route
                          with respect to the Gateway. Note that the route's availability
                          is also subject to the Gateway's own status conditions and
                          listener status. \n If the Route's ParentRef specifies an
                          existing Gateway that supports Routes of this kind AND that
                          Gateway's controller has sufficient access, then that Gateway's
                          controller MUST set the \"Accepted\" condition on the Route,
                          to indicate whether the route has been accepted or rejected
                          by the Gateway, and why. \n A Route MUST be considered \"Accepted\"
                          if at least one of the Route's rules is implemented by the
                          Gateway. \n There are a number of cases where the \"Accepted\"
                          condition may not be set due to lack of controller visibility,
                          that includes when: \n * The Route refers to a non-existent
                          parent. * The Route is of a type that the controller does
                          not support. * The Route is in a namespace the controller
                          does not have access to."
                        items:
                          description: "Condition contains details for one aspect
                            of the current state of this API Resource. --- This struct
                            is intended for direct use as an array at the field path
                            .status.conditions.  For example, \n type FooStatus struct{
                            // Represents the observations of a foo's current state.
                            // Known .status.conditions.type are: \"Available\", \"Progressing\",
                            and \"Degraded\" // +patchMergeKey=type // +patchStrategy=merge
                            // +listType=map // +listMapKey=type Conditions []metav1.Condition
                            `json:\"conditions,omitempty\" patchStrategy:\"merge\"
                            patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`
                            \n // other fields }"
                          properties:
                            lastTransitionTime:
                              description: lastTransitionTime is the last time the
                                condition transitioned from one status to another.
                                This should be when the underlying condition changed.  If
                                that is not known, then using the time when the API
                                field changed is acceptable.
                              format: date-time
                              type: string
                            message:
                              description: message is a human readable message indicating
                                details about the transition. This may be an empty
                                string.
                              maxLength: 32768
                              type: string
                            observedGeneration:
                              description: observedGeneration represents the .metadata.generation
                                that the condition was set based upon. For instance,
                                if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration
                                is 9, the condition is out of date with respect to
                                the current state of the instance.
                              format: int64
                              minimum: 0
                              type: integer
                            reason:
                              description: reason contains a programmatic identifier
                                indicating the reason for the condition's last transition.
                                Producers of specific condition types may define expected
                                values and meanings for this field, and whether the
                                values are considered a guaranteed API. The value
                                should be a CamelCase string. This field may not be
                                empty.
                              maxLength: 1024
                              minLength: 1
                              pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                              type: string
                            status:
                              description: status of the condition, one of True, False,
                                Unknown.
                              enum:
                              - "True"
                              - "False"
                              - Unknown
                              type: string
                            type:
                              description: type of condition in CamelCase or in foo.example.com/CamelCase.
                                --- Many .condition.type values are consistent across
                                resources like Available, but because arbitrary conditions
                                can be useful (see .node.status.conditions), the ability
                                to deconflict is important. The regex it matches is
                                (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                              maxLength: 316
                              pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                              type: string
                          required:
                          - lastTransitionTime
                          - message
                          - reason
                          - status
                          - type
                          type: object
                        maxItems: 8
                        minItems: 1
                        type: array
                        x-kubernetes-list-map-keys:
                        - type
                        x-kubernetes-list-type: map
                      controllerName:
                        description: "ControllerName is a domain/path string that
                          indicates the name of the controller that wrote this status.
                          This corresponds with the controllerName field on GatewayClass.
                          \n Example: \"example.net/gateway-controller\". \n The format
                          of this field is DOMAIN \"/\" PATH, where DOMAIN and PATH
                          are valid Kubernetes names (https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names).
                          \n Controllers MUST populate this field when writing status.
                          Controllers should ensure that entries to status populated
                          with their ControllerName are cleaned up when they are no
                          longer necessary."
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                        type: string
                      parentRef:
                        description: ParentRef corresponds with a ParentRef in the
                          spec that this RouteParentStatus struct describes the status
                          of.
                        properties:
                          group:
                            default: gateway.networking.k8s.io
                            description: "Group is the group of the referent. When
                              unspecified, \"gateway.networking.k8s.io\" is inferred.
                              To set the core API group (such as for a \"Service\"
                              kind referent), Group must be explicitly set to \"\"
                              (empty string). \n Support: Core"
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Gateway
                            description: "Kind is kind of the referent. \n There are
                              two kinds of parent resources with \"Core\" support:
                              \n * Gateway (Gateway conformance profile) * Service
                              (Mesh conformance profile, experimental, ClusterIP Services
                              only) \n Support for other resources is Implementation-Specific."
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: "Name is the name of the referent. \n Support:
                              Core"
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: "Namespace is the namespace of the referent.
                              When unspecified, this refers to the local namespace
                              of the Route. \n Note that there are specific rules
                              for ParentRefs which cross namespace boundaries. Cross-namespace
                              references are only valid if they are explicitly allowed
                              by something in the namespace they are referring to.
                              For example: Gateway has the AllowedRoutes field, and
                              ReferenceGrant provides a generic way to enable any
                              other kind of cross-namespace reference. \n  ParentRefs
                              from a Route to a Service in the same namespace are
                              \"producer\" routes, which apply default routing rules
                              to inbound connections from any namespace to the Service.
                              \n ParentRefs from a Route to a Service in a different
                              namespace are \"consumer\" routes, and these routing
                              rules are only applied to outbound connections originating
                              from the same namespace as the Route, for which the
                              intended destination of the connections are a Service
                              targeted as a ParentRef of the Route.  \n Support: Core"
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                          port:
                            description: "Port is the network port this Route targets.
                              It can be interpreted differently based on the type
                              of parent resource. \n When the parent resource is a
                              Gateway, this targets all listeners listening on the
                              specified port that also support this kind of Route(and
                              select this Route). It's not recommended to set `Port`
                              unless the networking behaviors specified in a Route
                              must apply to a specific port as opposed to a listener(s)
                              whose port(s) may be changed. When both Port and SectionName
                              are specified, the name and port of the selected listener
                              must match both specified values. \n  When the parent
                              resource is a Service, this targets a specific port
                              in the Service spec. When both Port (experimental) and
                              SectionName are specified, the name and port of the
                              selected port must match both specified values.  \n
                              Implementations MAY choose to support other parent resources.
                              Implementations supporting other types of parent resources
                              MUST clearly document how/if Port is interpreted. \n
                              For the purpose of status, an attachment is considered
                              successful as long as the parent resource accepts it
                              partially. For example, Gateway listeners can restrict
                              which Routes can attach to them by Route kind, namespace,
                              or hostname. If 1 of 2 Gateway listeners accept attachment
                              from the referencing Route, the Route MUST be considered
                              successfully attached. If no Gateway listeners accept
                              attachment from this Route, the Route MUST be considered
                              detached from the Gateway. \n Support: Extended \n "
                            format: int32
                            maximum: 65535
                            minimum: 1
                            type: integer
                          sectionName:
                            description: "SectionName is the name of a section within
                              the target resource. In the following resources, SectionName
                              is interpreted as the following: \n * Gateway: Listener
                              Name. When both Port (experimental) and SectionName
                              are specified, the name and port of the selected listener
                              must match both specified values. * Service: Port Name.
                              When both Port (experimental) and SectionName are specified,
                              the name and port of the selected listener must match
                              both specified values. Note that attaching Routes to
                              Services as Parents is part of experimental Mesh support
                              and is not supported for any other purpose. \n Implementations
                              MAY choose to support attaching Routes to other resources.
                              If that is the case, they MUST clearly document how
                              SectionName is interpreted. \n When unspecified (empty
                              string), this will reference the entire resource. For
                              the purpose of status, an attachment is considered successful
                              if at least one section in the parent resource accepts
                              it. For example, Gateway listeners can restrict which
                              Routes can attach to them by Route kind, namespace,
                              or hostname. If 1 of 2 Gateway listeners accept attachment
                              from the referencing Route, the Route MUST be considered
                              successfully attached. If no Gateway listeners accept
                              attachment from this Route, the Route MUST be considered
                              detached from the Gateway. \n Support: Core"
                            maxLength: 253
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                        required:
                        - name
                        type: object
                    required:
                    - controllerName
                    - parentRef
                    type: object
                  maxItems: 32
                  type: array
              required:
              - parents
              type: object
          required:
          - spec
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - gateway-api
      kind: HTTPRoute
      listKind: HTTPRouteList
      plural: httproutes
      singular: httproute
    conditions:
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: approved in https://github.com/kubernetes-sigs/gateway-api/pull/2466
      reason: ApprovedAnnotation
      status: "True"
      type: KubernetesAPIApprovalPolicyConformant
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1beta1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      controller-gen.kubebuilder.io/version: v0.11.1
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apiextensions.k8s.io/v1","kind":"CustomResourceDefinition","metadata":{"annotations":{"controller-gen.kubebuilder.io/version":"v0.11.1"},"creationTimestamp":null,"name":"ipaddresspools.metallb.io"},"spec":{"group":"metallb.io","names":{"kind":"IPAddressPool","listKind":"IPAddressPoolList","plural":"ipaddresspools","singular":"ipaddresspool"},"scope":"Namespaced","versions":[{"additionalPrinterColumns":[{"jsonPath":".spec.autoAssign","name":"Auto Assign","type":"boolean"},{"jsonPath":".spec.avoidBuggyIPs","name":"Avoid Buggy IPs","type":"boolean"},{"jsonPath":".spec.addresses","name":"Addresses","type":"string"}],"name":"v1beta1","schema":{"openAPIV3Schema":{"description":"IPAddressPool represents a pool of IP addresses that can be allocated to LoadBalancer services.","properties":{"apiVersion":{"description":"APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources","type":"string"},"kind":{"description":"Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds","type":"string"},"metadata":{"type":"object"},"spec":{"description":"IPAddressPoolSpec defines the desired state of IPAddressPool.","properties":{"addresses":{"description":"A list of IP address ranges over which MetalLB has authority. You can list multiple ranges in a single pool, they will all share the same settings. Each range can be either a CIDR prefix, or an explicit start-end range of IPs.","items":{"type":"string"},"type":"array"},"autoAssign":{"default":true,"description":"AutoAssign flag used to prevent MetallB from automatic allocation for a pool.","type":"boolean"},"avoidBuggyIPs":{"default":false,"description":"AvoidBuggyIPs prevents addresses ending with .0 and .255 to be used by a pool.","type":"boolean"},"serviceAllocation":{"description":"AllocateTo makes ip pool allocation to specific namespace and/or service. The controller will use the pool with lowest value of priority in case of multiple matches. A pool with no priority set will be used only if the pools with priority can't be used. If multiple matching IPAddressPools are available it will check for the availability of IPs sorting the matching IPAddressPools by priority, starting from the highest to the lowest. If multiple IPAddressPools have the same priority, choice will be random.","properties":{"namespaceSelectors":{"description":"NamespaceSelectors list of label selectors to select namespace(s) for ip pool, an alternative to using namespace list.","items":{"description":"A label selector is a label query over a set of resources. The result of matchLabels and matchExpressions are ANDed. An empty label selector matches all objects. A null label selector matches no objects.","properties":{"matchExpressions":{"description":"matchExpressions is a list of label selector requirements. The requirements are ANDed.","items":{"description":"A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.","properties":{"key":{"description":"key is the label key that the selector applies to.","type":"string"},"operator":{"description":"operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.","type":"string"},"values":{"description":"values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.","items":{"type":"string"},"type":"array"}},"required":["key","operator"],"type":"object"},"type":"array"},"matchLabels":{"additionalProperties":{"type":"string"},"description":"matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is \"key\", the operator is \"In\", and the values array contains only \"value\". The requirements are ANDed.","type":"object"}},"type":"object","x-kubernetes-map-type":"atomic"},"type":"array"},"namespaces":{"description":"Namespaces list of namespace(s) on which ip pool can be attached.","items":{"type":"string"},"type":"array"},"priority":{"description":"Priority priority given for ip pool while ip allocation on a service.","type":"integer"},"serviceSelectors":{"description":"ServiceSelectors list of label selector to select service(s) for which ip pool can be used for ip allocation.","items":{"description":"A label selector is a label query over a set of resources. The result of matchLabels and matchExpressions are ANDed. An empty label selector matches all objects. A null label selector matches no objects.","properties":{"matchExpressions":{"description":"matchExpressions is a list of label selector requirements. The requirements are ANDed.","items":{"description":"A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.","properties":{"key":{"description":"key is the label key that the selector applies to.","type":"string"},"operator":{"description":"operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.","type":"string"},"values":{"description":"values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.","items":{"type":"string"},"type":"array"}},"required":["key","operator"],"type":"object"},"type":"array"},"matchLabels":{"additionalProperties":{"type":"string"},"description":"matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is \"key\", the operator is \"In\", and the values array contains only \"value\". The requirements are ANDed.","type":"object"}},"type":"object","x-kubernetes-map-type":"atomic"},"type":"array"}},"type":"object"}},"required":["addresses"],"type":"object"},"status":{"description":"IPAddressPoolStatus defines the observed state of IPAddressPool.","type":"object"}},"required":["spec"],"type":"object"}},"served":true,"storage":true,"subresources":{"status":{}}}]}}
    creationTimestamp: "2024-03-09T04:14:55Z"
    generation: 1
    name: ipaddresspools.metallb.io
    resourceVersion: "335"
    uid: ed69e858-1bbf-4a32-9766-b3024b0d9706
  spec:
    conversion:
      strategy: None
    group: metallb.io
    names:
      kind: IPAddressPool
      listKind: IPAddressPoolList
      plural: ipaddresspools
      singular: ipaddresspool
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - jsonPath: .spec.autoAssign
        name: Auto Assign
        type: boolean
      - jsonPath: .spec.avoidBuggyIPs
        name: Avoid Buggy IPs
        type: boolean
      - jsonPath: .spec.addresses
        name: Addresses
        type: string
      name: v1beta1
      schema:
        openAPIV3Schema:
          description: IPAddressPool represents a pool of IP addresses that can be
            allocated to LoadBalancer services.
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: IPAddressPoolSpec defines the desired state of IPAddressPool.
              properties:
                addresses:
                  description: A list of IP address ranges over which MetalLB has
                    authority. You can list multiple ranges in a single pool, they
                    will all share the same settings. Each range can be either a CIDR
                    prefix, or an explicit start-end range of IPs.
                  items:
                    type: string
                  type: array
                autoAssign:
                  default: true
                  description: AutoAssign flag used to prevent MetallB from automatic
                    allocation for a pool.
                  type: boolean
                avoidBuggyIPs:
                  default: false
                  description: AvoidBuggyIPs prevents addresses ending with .0 and
                    .255 to be used by a pool.
                  type: boolean
                serviceAllocation:
                  description: AllocateTo makes ip pool allocation to specific namespace
                    and/or service. The controller will use the pool with lowest value
                    of priority in case of multiple matches. A pool with no priority
                    set will be used only if the pools with priority can't be used.
                    If multiple matching IPAddressPools are available it will check
                    for the availability of IPs sorting the matching IPAddressPools
                    by priority, starting from the highest to the lowest. If multiple
                    IPAddressPools have the same priority, choice will be random.
                  properties:
                    namespaceSelectors:
                      description: NamespaceSelectors list of label selectors to select
                        namespace(s) for ip pool, an alternative to using namespace
                        list.
                      items:
                        description: A label selector is a label query over a set
                          of resources. The result of matchLabels and matchExpressions
                          are ANDed. An empty label selector matches all objects.
                          A null label selector matches no objects.
                        properties:
                          matchExpressions:
                            description: matchExpressions is a list of label selector
                              requirements. The requirements are ANDed.
                            items:
                              description: A label selector requirement is a selector
                                that contains values, a key, and an operator that
                                relates the key and values.
                              properties:
                                key:
                                  description: key is the label key that the selector
                                    applies to.
                                  type: string
                                operator:
                                  description: operator represents a key's relationship
                                    to a set of values. Valid operators are In, NotIn,
                                    Exists and DoesNotExist.
                                  type: string
                                values:
                                  description: values is an array of string values.
                                    If the operator is In or NotIn, the values array
                                    must be non-empty. If the operator is Exists or
                                    DoesNotExist, the values array must be empty.
                                    This array is replaced during a strategic merge
                                    patch.
                                  items:
                                    type: string
                                  type: array
                              required:
                              - key
                              - operator
                              type: object
                            type: array
                          matchLabels:
                            additionalProperties:
                              type: string
                            description: matchLabels is a map of {key,value} pairs.
                              A single {key,value} in the matchLabels map is equivalent
                              to an element of matchExpressions, whose key field is
                              "key", the operator is "In", and the values array contains
                              only "value". The requirements are ANDed.
                            type: object
                        type: object
                        x-kubernetes-map-type: atomic
                      type: array
                    namespaces:
                      description: Namespaces list of namespace(s) on which ip pool
                        can be attached.
                      items:
                        type: string
                      type: array
                    priority:
                      description: Priority priority given for ip pool while ip allocation
                        on a service.
                      type: integer
                    serviceSelectors:
                      description: ServiceSelectors list of label selector to select
                        service(s) for which ip pool can be used for ip allocation.
                      items:
                        description: A label selector is a label query over a set
                          of resources. The result of matchLabels and matchExpressions
                          are ANDed. An empty label selector matches all objects.
                          A null label selector matches no objects.
                        properties:
                          matchExpressions:
                            description: matchExpressions is a list of label selector
                              requirements. The requirements are ANDed.
                            items:
                              description: A label selector requirement is a selector
                                that contains values, a key, and an operator that
                                relates the key and values.
                              properties:
                                key:
                                  description: key is the label key that the selector
                                    applies to.
                                  type: string
                                operator:
                                  description: operator represents a key's relationship
                                    to a set of values. Valid operators are In, NotIn,
                                    Exists and DoesNotExist.
                                  type: string
                                values:
                                  description: values is an array of string values.
                                    If the operator is In or NotIn, the values array
                                    must be non-empty. If the operator is Exists or
                                    DoesNotExist, the values array must be empty.
                                    This array is replaced during a strategic merge
                                    patch.
                                  items:
                                    type: string
                                  type: array
                              required:
                              - key
                              - operator
                              type: object
                            type: array
                          matchLabels:
                            additionalProperties:
                              type: string
                            description: matchLabels is a map of {key,value} pairs.
                              A single {key,value} in the matchLabels map is equivalent
                              to an element of matchExpressions, whose key field is
                              "key", the operator is "In", and the values array contains
                              only "value". The requirements are ANDed.
                            type: object
                        type: object
                        x-kubernetes-map-type: atomic
                      type: array
                  type: object
              required:
              - addresses
              type: object
            status:
              description: IPAddressPoolStatus defines the observed state of IPAddressPool.
              type: object
          required:
          - spec
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      kind: IPAddressPool
      listKind: IPAddressPoolList
      plural: ipaddresspools
      singular: ipaddresspool
    conditions:
    - lastTransitionTime: "2024-03-09T04:14:55Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-03-09T04:14:55Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1beta1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      controller-gen.kubebuilder.io/version: v0.11.1
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apiextensions.k8s.io/v1","kind":"CustomResourceDefinition","metadata":{"annotations":{"controller-gen.kubebuilder.io/version":"v0.11.1"},"creationTimestamp":null,"name":"l2advertisements.metallb.io"},"spec":{"group":"metallb.io","names":{"kind":"L2Advertisement","listKind":"L2AdvertisementList","plural":"l2advertisements","singular":"l2advertisement"},"scope":"Namespaced","versions":[{"additionalPrinterColumns":[{"jsonPath":".spec.ipAddressPools","name":"IPAddressPools","type":"string"},{"jsonPath":".spec.ipAddressPoolSelectors","name":"IPAddressPool Selectors","type":"string"},{"jsonPath":".spec.interfaces","name":"Interfaces","type":"string"},{"jsonPath":".spec.nodeSelectors","name":"Node Selectors","priority":10,"type":"string"}],"name":"v1beta1","schema":{"openAPIV3Schema":{"description":"L2Advertisement allows to advertise the LoadBalancer IPs provided by the selected pools via L2.","properties":{"apiVersion":{"description":"APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources","type":"string"},"kind":{"description":"Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds","type":"string"},"metadata":{"type":"object"},"spec":{"description":"L2AdvertisementSpec defines the desired state of L2Advertisement.","properties":{"interfaces":{"description":"A list of interfaces to announce from. The LB IP will be announced only from these interfaces. If the field is not set, we advertise from all the interfaces on the host.","items":{"type":"string"},"type":"array"},"ipAddressPoolSelectors":{"description":"A selector for the IPAddressPools which would get advertised via this advertisement. If no IPAddressPool is selected by this or by the list, the advertisement is applied to all the IPAddressPools.","items":{"description":"A label selector is a label query over a set of resources. The result of matchLabels and matchExpressions are ANDed. An empty label selector matches all objects. A null label selector matches no objects.","properties":{"matchExpressions":{"description":"matchExpressions is a list of label selector requirements. The requirements are ANDed.","items":{"description":"A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.","properties":{"key":{"description":"key is the label key that the selector applies to.","type":"string"},"operator":{"description":"operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.","type":"string"},"values":{"description":"values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.","items":{"type":"string"},"type":"array"}},"required":["key","operator"],"type":"object"},"type":"array"},"matchLabels":{"additionalProperties":{"type":"string"},"description":"matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is \"key\", the operator is \"In\", and the values array contains only \"value\". The requirements are ANDed.","type":"object"}},"type":"object","x-kubernetes-map-type":"atomic"},"type":"array"},"ipAddressPools":{"description":"The list of IPAddressPools to advertise via this advertisement, selected by name.","items":{"type":"string"},"type":"array"},"nodeSelectors":{"description":"NodeSelectors allows to limit the nodes to announce as next hops for the LoadBalancer IP. When empty, all the nodes having  are announced as next hops.","items":{"description":"A label selector is a label query over a set of resources. The result of matchLabels and matchExpressions are ANDed. An empty label selector matches all objects. A null label selector matches no objects.","properties":{"matchExpressions":{"description":"matchExpressions is a list of label selector requirements. The requirements are ANDed.","items":{"description":"A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.","properties":{"key":{"description":"key is the label key that the selector applies to.","type":"string"},"operator":{"description":"operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.","type":"string"},"values":{"description":"values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.","items":{"type":"string"},"type":"array"}},"required":["key","operator"],"type":"object"},"type":"array"},"matchLabels":{"additionalProperties":{"type":"string"},"description":"matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is \"key\", the operator is \"In\", and the values array contains only \"value\". The requirements are ANDed.","type":"object"}},"type":"object","x-kubernetes-map-type":"atomic"},"type":"array"}},"type":"object"},"status":{"description":"L2AdvertisementStatus defines the observed state of L2Advertisement.","type":"object"}},"type":"object"}},"served":true,"storage":true,"subresources":{"status":{}}}]}}
    creationTimestamp: "2024-03-09T04:14:55Z"
    generation: 1
    name: l2advertisements.metallb.io
    resourceVersion: "338"
    uid: 2bf7ce6a-c0cd-434c-addc-5e418a2ebc33
  spec:
    conversion:
      strategy: None
    group: metallb.io
    names:
      kind: L2Advertisement
      listKind: L2AdvertisementList
      plural: l2advertisements
      singular: l2advertisement
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - jsonPath: .spec.ipAddressPools
        name: IPAddressPools
        type: string
      - jsonPath: .spec.ipAddressPoolSelectors
        name: IPAddressPool Selectors
        type: string
      - jsonPath: .spec.interfaces
        name: Interfaces
        type: string
      - jsonPath: .spec.nodeSelectors
        name: Node Selectors
        priority: 10
        type: string
      name: v1beta1
      schema:
        openAPIV3Schema:
          description: L2Advertisement allows to advertise the LoadBalancer IPs provided
            by the selected pools via L2.
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: L2AdvertisementSpec defines the desired state of L2Advertisement.
              properties:
                interfaces:
                  description: A list of interfaces to announce from. The LB IP will
                    be announced only from these interfaces. If the field is not set,
                    we advertise from all the interfaces on the host.
                  items:
                    type: string
                  type: array
                ipAddressPoolSelectors:
                  description: A selector for the IPAddressPools which would get advertised
                    via this advertisement. If no IPAddressPool is selected by this
                    or by the list, the advertisement is applied to all the IPAddressPools.
                  items:
                    description: A label selector is a label query over a set of resources.
                      The result of matchLabels and matchExpressions are ANDed. An
                      empty label selector matches all objects. A null label selector
                      matches no objects.
                    properties:
                      matchExpressions:
                        description: matchExpressions is a list of label selector
                          requirements. The requirements are ANDed.
                        items:
                          description: A label selector requirement is a selector
                            that contains values, a key, and an operator that relates
                            the key and values.
                          properties:
                            key:
                              description: key is the label key that the selector
                                applies to.
                              type: string
                            operator:
                              description: operator represents a key's relationship
                                to a set of values. Valid operators are In, NotIn,
                                Exists and DoesNotExist.
                              type: string
                            values:
                              description: values is an array of string values. If
                                the operator is In or NotIn, the values array must
                                be non-empty. If the operator is Exists or DoesNotExist,
                                the values array must be empty. This array is replaced
                                during a strategic merge patch.
                              items:
                                type: string
                              type: array
                          required:
                          - key
                          - operator
                          type: object
                        type: array
                      matchLabels:
                        additionalProperties:
                          type: string
                        description: matchLabels is a map of {key,value} pairs. A
                          single {key,value} in the matchLabels map is equivalent
                          to an element of matchExpressions, whose key field is "key",
                          the operator is "In", and the values array contains only
                          "value". The requirements are ANDed.
                        type: object
                    type: object
                    x-kubernetes-map-type: atomic
                  type: array
                ipAddressPools:
                  description: The list of IPAddressPools to advertise via this advertisement,
                    selected by name.
                  items:
                    type: string
                  type: array
                nodeSelectors:
                  description: NodeSelectors allows to limit the nodes to announce
                    as next hops for the LoadBalancer IP. When empty, all the nodes
                    having  are announced as next hops.
                  items:
                    description: A label selector is a label query over a set of resources.
                      The result of matchLabels and matchExpressions are ANDed. An
                      empty label selector matches all objects. A null label selector
                      matches no objects.
                    properties:
                      matchExpressions:
                        description: matchExpressions is a list of label selector
                          requirements. The requirements are ANDed.
                        items:
                          description: A label selector requirement is a selector
                            that contains values, a key, and an operator that relates
                            the key and values.
                          properties:
                            key:
                              description: key is the label key that the selector
                                applies to.
                              type: string
                            operator:
                              description: operator represents a key's relationship
                                to a set of values. Valid operators are In, NotIn,
                                Exists and DoesNotExist.
                              type: string
                            values:
                              description: values is an array of string values. If
                                the operator is In or NotIn, the values array must
                                be non-empty. If the operator is Exists or DoesNotExist,
                                the values array must be empty. This array is replaced
                                during a strategic merge patch.
                              items:
                                type: string
                              type: array
                          required:
                          - key
                          - operator
                          type: object
                        type: array
                      matchLabels:
                        additionalProperties:
                          type: string
                        description: matchLabels is a map of {key,value} pairs. A
                          single {key,value} in the matchLabels map is equivalent
                          to an element of matchExpressions, whose key field is "key",
                          the operator is "In", and the values array contains only
                          "value". The requirements are ANDed.
                        type: object
                    type: object
                    x-kubernetes-map-type: atomic
                  type: array
              type: object
            status:
              description: L2AdvertisementStatus defines the observed state of L2Advertisement.
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      kind: L2Advertisement
      listKind: L2AdvertisementList
      plural: l2advertisements
      singular: l2advertisement
    conditions:
    - lastTransitionTime: "2024-03-09T04:14:55Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-03-09T04:14:55Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1beta1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      helm.sh/resource-policy: keep
    creationTimestamp: "2024-04-07T12:56:56Z"
    generation: 1
    labels:
      app: istio-pilot
      chart: istio
      heritage: Tiller
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio: security
      istio.io/rev: default
      operator.istio.io/component: Base
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: peerauthentications.security.istio.io
    resourceVersion: "1904519"
    uid: 5eeaf789-5459-4a97-84c5-2de098b843e4
  spec:
    conversion:
      strategy: None
    group: security.istio.io
    names:
      categories:
      - istio-io
      - security-istio-io
      kind: PeerAuthentication
      listKind: PeerAuthenticationList
      plural: peerauthentications
      shortNames:
      - pa
      singular: peerauthentication
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - description: Defines the mTLS mode used for peer authentication.
        jsonPath: .spec.mtls.mode
        name: Mode
        type: string
      - description: 'CreationTimestamp is a timestamp representing the server time
          when this object was created. It is not guaranteed to be set in happens-before
          order across separate operations. Clients may not set this value. It is
          represented in RFC3339 form and is in UTC. Populated by the system. Read-only.
          Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
        jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1beta1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Peer authentication configuration for workloads. See more
                details at: https://istio.io/docs/reference/config/security/peer_authentication.html'
              properties:
                mtls:
                  description: Mutual TLS settings for workload.
                  properties:
                    mode:
                      description: Defines the mTLS mode used for peer authentication.
                      enum:
                      - UNSET
                      - DISABLE
                      - PERMISSIVE
                      - STRICT
                      type: string
                  type: object
                portLevelMtls:
                  additionalProperties:
                    properties:
                      mode:
                        description: Defines the mTLS mode used for peer authentication.
                        enum:
                        - UNSET
                        - DISABLE
                        - PERMISSIVE
                        - STRICT
                        type: string
                    type: object
                  description: Port specific mutual TLS settings.
                  type: object
                selector:
                  description: The selector determines the workloads to apply the
                    PeerAuthentication on.
                  properties:
                    matchLabels:
                      additionalProperties:
                        type: string
                      description: One or more labels that indicate a specific set
                        of pods/VMs on which a policy should be applied.
                      type: object
                  type: object
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - istio-io
      - security-istio-io
      kind: PeerAuthentication
      listKind: PeerAuthenticationList
      plural: peerauthentications
      shortNames:
      - pa
      singular: peerauthentication
    conditions:
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1beta1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      helm.sh/resource-policy: keep
    creationTimestamp: "2024-04-07T12:56:56Z"
    generation: 1
    labels:
      app: istio-pilot
      chart: istio
      heritage: Tiller
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio.io/rev: default
      operator.istio.io/component: Base
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: proxyconfigs.networking.istio.io
    resourceVersion: "1904520"
    uid: a7bc3639-1f6a-4fcc-ac41-0c1047f1c78e
  spec:
    conversion:
      strategy: None
    group: networking.istio.io
    names:
      categories:
      - istio-io
      - networking-istio-io
      kind: ProxyConfig
      listKind: ProxyConfigList
      plural: proxyconfigs
      singular: proxyconfig
    scope: Namespaced
    versions:
    - name: v1beta1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Provides configuration for individual workloads. See more
                details at: https://istio.io/docs/reference/config/networking/proxy-config.html'
              properties:
                concurrency:
                  description: The number of worker threads to run.
                  nullable: true
                  type: integer
                environmentVariables:
                  additionalProperties:
                    type: string
                  description: Additional environment variables for the proxy.
                  type: object
                image:
                  description: Specifies the details of the proxy image.
                  properties:
                    imageType:
                      description: The image type of the image.
                      type: string
                  type: object
                selector:
                  description: Optional.
                  properties:
                    matchLabels:
                      additionalProperties:
                        type: string
                      description: One or more labels that indicate a specific set
                        of pods/VMs on which a policy should be applied.
                      type: object
                  type: object
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - istio-io
      - networking-istio-io
      kind: ProxyConfig
      listKind: ProxyConfigList
      plural: proxyconfigs
      singular: proxyconfig
    conditions:
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1beta1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      api-approved.kubernetes.io: https://github.com/kubernetes-sigs/gateway-api/pull/2466
      gateway.networking.k8s.io/bundle-version: v1.0.0
      gateway.networking.k8s.io/channel: experimental
    creationTimestamp: "2024-04-11T07:49:06Z"
    generation: 1
    name: referencegrants.gateway.networking.k8s.io
    resourceVersion: "2269531"
    uid: 99007525-7976-4c07-9503-19fca769ca82
  spec:
    conversion:
      strategy: None
    group: gateway.networking.k8s.io
    names:
      categories:
      - gateway-api
      kind: ReferenceGrant
      listKind: ReferenceGrantList
      plural: referencegrants
      shortNames:
      - refgrant
      singular: referencegrant
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      deprecated: true
      deprecationWarning: The v1alpha2 version of ReferenceGrant has been deprecated
        and will be removed in a future release of the API. Please upgrade to v1beta1.
      name: v1alpha2
      schema:
        openAPIV3Schema:
          description: "ReferenceGrant identifies kinds of resources in other namespaces
            that are trusted to reference the specified kinds of resources in the
            same namespace as the policy. \n Each ReferenceGrant can be used to represent
            a unique trust relationship. Additional Reference Grants can be used to
            add to the set of trusted sources of inbound references for the namespace
            they are defined within. \n A ReferenceGrant is required for all cross-namespace
            references in Gateway API (with the exception of cross-namespace Route-Gateway
            attachment, which is governed by the AllowedRoutes configuration on the
            Gateway, and cross-namespace Service ParentRefs on a \"consumer\" mesh
            Route, which defines routing rules applicable only to workloads in the
            Route namespace). ReferenceGrants allowing a reference from a Route to
            a Service are only applicable to BackendRefs. \n ReferenceGrant is a form
            of runtime verification allowing users to assert which cross-namespace
            object references are permitted. Implementations that support ReferenceGrant
            MUST NOT permit cross-namespace references which have no grant, and MUST
            respond to the removal of a grant by revoking the access that the grant
            allowed."
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: Spec defines the desired state of ReferenceGrant.
              properties:
                from:
                  description: "From describes the trusted namespaces and kinds that
                    can reference the resources described in \"To\". Each entry in
                    this list MUST be considered to be an additional place that references
                    can be valid from, or to put this another way, entries MUST be
                    combined using OR. \n Support: Core"
                  items:
                    description: ReferenceGrantFrom describes trusted namespaces and
                      kinds.
                    properties:
                      group:
                        description: "Group is the group of the referent. When empty,
                          the Kubernetes core API group is inferred. \n Support: Core"
                        maxLength: 253
                        pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                      kind:
                        description: "Kind is the kind of the referent. Although implementations
                          may support additional resources, the following types are
                          part of the \"Core\" support level for this field. \n When
                          used to permit a SecretObjectReference: \n * Gateway \n
                          When used to permit a BackendObjectReference: \n * GRPCRoute
                          * HTTPRoute * TCPRoute * TLSRoute * UDPRoute"
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                        type: string
                      namespace:
                        description: "Namespace is the namespace of the referent.
                          \n Support: Core"
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                        type: string
                    required:
                    - group
                    - kind
                    - namespace
                    type: object
                  maxItems: 16
                  minItems: 1
                  type: array
                to:
                  description: "To describes the resources that may be referenced
                    by the resources described in \"From\". Each entry in this list
                    MUST be considered to be an additional place that references can
                    be valid to, or to put this another way, entries MUST be combined
                    using OR. \n Support: Core"
                  items:
                    description: ReferenceGrantTo describes what Kinds are allowed
                      as targets of the references.
                    properties:
                      group:
                        description: "Group is the group of the referent. When empty,
                          the Kubernetes core API group is inferred. \n Support: Core"
                        maxLength: 253
                        pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                      kind:
                        description: "Kind is the kind of the referent. Although implementations
                          may support additional resources, the following types are
                          part of the \"Core\" support level for this field: \n *
                          Secret when used to permit a SecretObjectReference * Service
                          when used to permit a BackendObjectReference"
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                        type: string
                      name:
                        description: Name is the name of the referent. When unspecified,
                          this policy refers to all resources of the specified Group
                          and Kind in the local namespace.
                        maxLength: 253
                        minLength: 1
                        type: string
                    required:
                    - group
                    - kind
                    type: object
                  maxItems: 16
                  minItems: 1
                  type: array
              required:
              - from
              - to
              type: object
          type: object
      served: true
      storage: false
      subresources: {}
    - additionalPrinterColumns:
      - jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1beta1
      schema:
        openAPIV3Schema:
          description: "ReferenceGrant identifies kinds of resources in other namespaces
            that are trusted to reference the specified kinds of resources in the
            same namespace as the policy. \n Each ReferenceGrant can be used to represent
            a unique trust relationship. Additional Reference Grants can be used to
            add to the set of trusted sources of inbound references for the namespace
            they are defined within. \n All cross-namespace references in Gateway
            API (with the exception of cross-namespace Gateway-route attachment) require
            a ReferenceGrant. \n ReferenceGrant is a form of runtime verification
            allowing users to assert which cross-namespace object references are permitted.
            Implementations that support ReferenceGrant MUST NOT permit cross-namespace
            references which have no grant, and MUST respond to the removal of a grant
            by revoking the access that the grant allowed."
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: Spec defines the desired state of ReferenceGrant.
              properties:
                from:
                  description: "From describes the trusted namespaces and kinds that
                    can reference the resources described in \"To\". Each entry in
                    this list MUST be considered to be an additional place that references
                    can be valid from, or to put this another way, entries MUST be
                    combined using OR. \n Support: Core"
                  items:
                    description: ReferenceGrantFrom describes trusted namespaces and
                      kinds.
                    properties:
                      group:
                        description: "Group is the group of the referent. When empty,
                          the Kubernetes core API group is inferred. \n Support: Core"
                        maxLength: 253
                        pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                      kind:
                        description: "Kind is the kind of the referent. Although implementations
                          may support additional resources, the following types are
                          part of the \"Core\" support level for this field. \n When
                          used to permit a SecretObjectReference: \n * Gateway \n
                          When used to permit a BackendObjectReference: \n * GRPCRoute
                          * HTTPRoute * TCPRoute * TLSRoute * UDPRoute"
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                        type: string
                      namespace:
                        description: "Namespace is the namespace of the referent.
                          \n Support: Core"
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                        type: string
                    required:
                    - group
                    - kind
                    - namespace
                    type: object
                  maxItems: 16
                  minItems: 1
                  type: array
                to:
                  description: "To describes the resources that may be referenced
                    by the resources described in \"From\". Each entry in this list
                    MUST be considered to be an additional place that references can
                    be valid to, or to put this another way, entries MUST be combined
                    using OR. \n Support: Core"
                  items:
                    description: ReferenceGrantTo describes what Kinds are allowed
                      as targets of the references.
                    properties:
                      group:
                        description: "Group is the group of the referent. When empty,
                          the Kubernetes core API group is inferred. \n Support: Core"
                        maxLength: 253
                        pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                      kind:
                        description: "Kind is the kind of the referent. Although implementations
                          may support additional resources, the following types are
                          part of the \"Core\" support level for this field: \n *
                          Secret when used to permit a SecretObjectReference * Service
                          when used to permit a BackendObjectReference"
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                        type: string
                      name:
                        description: Name is the name of the referent. When unspecified,
                          this policy refers to all resources of the specified Group
                          and Kind in the local namespace.
                        maxLength: 253
                        minLength: 1
                        type: string
                    required:
                    - group
                    - kind
                    type: object
                  maxItems: 16
                  minItems: 1
                  type: array
              required:
              - from
              - to
              type: object
          type: object
      served: true
      storage: true
      subresources: {}
  status:
    acceptedNames:
      categories:
      - gateway-api
      kind: ReferenceGrant
      listKind: ReferenceGrantList
      plural: referencegrants
      shortNames:
      - refgrant
      singular: referencegrant
    conditions:
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: approved in https://github.com/kubernetes-sigs/gateway-api/pull/2466
      reason: ApprovedAnnotation
      status: "True"
      type: KubernetesAPIApprovalPolicyConformant
    storedVersions:
    - v1beta1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      helm.sh/resource-policy: keep
    creationTimestamp: "2024-04-07T12:56:56Z"
    generation: 1
    labels:
      app: istio-pilot
      chart: istio
      heritage: Tiller
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio: security
      istio.io/rev: default
      operator.istio.io/component: Base
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: requestauthentications.security.istio.io
    resourceVersion: "1904521"
    uid: 82524354-7750-4995-8d84-37e72463fb3a
  spec:
    conversion:
      strategy: None
    group: security.istio.io
    names:
      categories:
      - istio-io
      - security-istio-io
      kind: RequestAuthentication
      listKind: RequestAuthenticationList
      plural: requestauthentications
      shortNames:
      - ra
      singular: requestauthentication
    scope: Namespaced
    versions:
    - name: v1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Request authentication configuration for workloads. See
                more details at: https://istio.io/docs/reference/config/security/request_authentication.html'
              properties:
                jwtRules:
                  description: Define the list of JWTs that can be validated at the
                    selected workloads' proxy.
                  items:
                    properties:
                      audiences:
                        description: The list of JWT [audiences](https://tools.ietf.org/html/rfc7519#section-4.1.3)
                          that are allowed to access.
                        items:
                          type: string
                        type: array
                      forwardOriginalToken:
                        description: If set to true, the original token will be kept
                          for the upstream request.
                        type: boolean
                      fromCookies:
                        description: List of cookie names from which JWT is expected.
                        items:
                          type: string
                        type: array
                      fromHeaders:
                        description: List of header locations from which JWT is expected.
                        items:
                          properties:
                            name:
                              description: The HTTP header name.
                              type: string
                            prefix:
                              description: The prefix that should be stripped before
                                decoding the token.
                              type: string
                          required:
                          - name
                          type: object
                        type: array
                      fromParams:
                        description: List of query parameters from which JWT is expected.
                        items:
                          type: string
                        type: array
                      issuer:
                        description: Identifies the issuer that issued the JWT.
                        type: string
                      jwks:
                        description: JSON Web Key Set of public keys to validate signature
                          of the JWT.
                        type: string
                      jwks_uri:
                        description: URL of the provider's public key set to validate
                          signature of the JWT.
                        type: string
                      jwksUri:
                        description: URL of the provider's public key set to validate
                          signature of the JWT.
                        type: string
                      outputClaimToHeaders:
                        description: This field specifies a list of operations to
                          copy the claim to HTTP headers on a successfully verified
                          token.
                        items:
                          properties:
                            claim:
                              description: The name of the claim to be copied from.
                              type: string
                            header:
                              description: The name of the header to be created.
                              type: string
                          type: object
                        type: array
                      outputPayloadToHeader:
                        description: This field specifies the header name to output
                          a successfully verified JWT payload to the backend.
                        type: string
                    required:
                    - issuer
                    type: object
                  type: array
                selector:
                  description: Optional.
                  properties:
                    matchLabels:
                      additionalProperties:
                        type: string
                      description: One or more labels that indicate a specific set
                        of pods/VMs on which a policy should be applied.
                      type: object
                  type: object
                targetRef:
                  description: Optional.
                  properties:
                    group:
                      description: group is the group of the target resource.
                      type: string
                    kind:
                      description: kind is kind of the target resource.
                      type: string
                    name:
                      description: name is the name of the target resource.
                      type: string
                    namespace:
                      description: namespace is the namespace of the referent.
                      type: string
                  type: object
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: false
      subresources:
        status: {}
    - name: v1beta1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Request authentication configuration for workloads. See
                more details at: https://istio.io/docs/reference/config/security/request_authentication.html'
              properties:
                jwtRules:
                  description: Define the list of JWTs that can be validated at the
                    selected workloads' proxy.
                  items:
                    properties:
                      audiences:
                        description: The list of JWT [audiences](https://tools.ietf.org/html/rfc7519#section-4.1.3)
                          that are allowed to access.
                        items:
                          type: string
                        type: array
                      forwardOriginalToken:
                        description: If set to true, the original token will be kept
                          for the upstream request.
                        type: boolean
                      fromCookies:
                        description: List of cookie names from which JWT is expected.
                        items:
                          type: string
                        type: array
                      fromHeaders:
                        description: List of header locations from which JWT is expected.
                        items:
                          properties:
                            name:
                              description: The HTTP header name.
                              type: string
                            prefix:
                              description: The prefix that should be stripped before
                                decoding the token.
                              type: string
                          required:
                          - name
                          type: object
                        type: array
                      fromParams:
                        description: List of query parameters from which JWT is expected.
                        items:
                          type: string
                        type: array
                      issuer:
                        description: Identifies the issuer that issued the JWT.
                        type: string
                      jwks:
                        description: JSON Web Key Set of public keys to validate signature
                          of the JWT.
                        type: string
                      jwks_uri:
                        description: URL of the provider's public key set to validate
                          signature of the JWT.
                        type: string
                      jwksUri:
                        description: URL of the provider's public key set to validate
                          signature of the JWT.
                        type: string
                      outputClaimToHeaders:
                        description: This field specifies a list of operations to
                          copy the claim to HTTP headers on a successfully verified
                          token.
                        items:
                          properties:
                            claim:
                              description: The name of the claim to be copied from.
                              type: string
                            header:
                              description: The name of the header to be created.
                              type: string
                          type: object
                        type: array
                      outputPayloadToHeader:
                        description: This field specifies the header name to output
                          a successfully verified JWT payload to the backend.
                        type: string
                    required:
                    - issuer
                    type: object
                  type: array
                selector:
                  description: Optional.
                  properties:
                    matchLabels:
                      additionalProperties:
                        type: string
                      description: One or more labels that indicate a specific set
                        of pods/VMs on which a policy should be applied.
                      type: object
                  type: object
                targetRef:
                  description: Optional.
                  properties:
                    group:
                      description: group is the group of the target resource.
                      type: string
                    kind:
                      description: kind is kind of the target resource.
                      type: string
                    name:
                      description: name is the name of the target resource.
                      type: string
                    namespace:
                      description: namespace is the namespace of the referent.
                      type: string
                  type: object
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - istio-io
      - security-istio-io
      kind: RequestAuthentication
      listKind: RequestAuthenticationList
      plural: requestauthentications
      shortNames:
      - ra
      singular: requestauthentication
    conditions:
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1beta1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      controller-gen.kubebuilder.io/version: v0.14.0
    creationTimestamp: "2024-04-11T07:49:07Z"
    generation: 1
    name: securitypolicies.gateway.envoyproxy.io
    resourceVersion: "2269570"
    uid: 03ec5347-a8b3-4bdd-812c-1755866f7a3b
  spec:
    conversion:
      strategy: None
    group: gateway.envoyproxy.io
    names:
      categories:
      - envoy-gateway
      kind: SecurityPolicy
      listKind: SecurityPolicyList
      plural: securitypolicies
      shortNames:
      - sp
      singular: securitypolicy
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - jsonPath: .status.conditions[?(@.type=="Accepted")].reason
        name: Status
        type: string
      - jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1alpha1
      schema:
        openAPIV3Schema:
          description: |-
            SecurityPolicy allows the user to configure various security settings for a
            Gateway.
          properties:
            apiVersion:
              description: |-
                APIVersion defines the versioned schema of this representation of an object.
                Servers should convert recognized schemas to the latest internal value, and
                may reject unrecognized values.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
              type: string
            kind:
              description: |-
                Kind is a string value representing the REST resource this object represents.
                Servers may infer this from the endpoint the client submits requests to.
                Cannot be updated.
                In CamelCase.
                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
              type: string
            metadata:
              type: object
            spec:
              description: Spec defines the desired state of SecurityPolicy.
              properties:
                basicAuth:
                  description: BasicAuth defines the configuration for the HTTP Basic
                    Authentication.
                  properties:
                    users:
                      description: |-
                        The Kubernetes secret which contains the username-password pairs in
                        htpasswd format, used to verify user credentials in the "Authorization"
                        header.


                        This is an Opaque secret. The username-password pairs should be stored in
                        the key ".htpasswd". As the key name indicates, the value needs to be the
                        htpasswd format, for example: "user1:{SHA}hashed_user1_password".
                        Right now, only SHA hash algorithm is supported.
                        Reference to https://httpd.apache.org/docs/2.4/programs/htpasswd.html
                        for more details.


                        Note: The secret must be in the same namespace as the SecurityPolicy.
                      properties:
                        group:
                          default: ""
                          description: |-
                            Group is the group of the referent. For example, "gateway.networking.k8s.io".
                            When unspecified or empty string, core API group is inferred.
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          default: Secret
                          description: Kind is kind of the referent. For example "Secret".
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: Name is the name of the referent.
                          maxLength: 253
                          minLength: 1
                          type: string
                        namespace:
                          description: |-
                            Namespace is the namespace of the referenced object. When unspecified, the local
                            namespace is inferred.


                            Note that when a namespace different than the local namespace is specified,
                            a ReferenceGrant object is required in the referent namespace to allow that
                            namespace's owner to accept the reference. See the ReferenceGrant
                            documentation for details.


                            Support: Core
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                      required:
                      - name
                      type: object
                  required:
                  - users
                  type: object
                cors:
                  description: CORS defines the configuration for Cross-Origin Resource
                    Sharing (CORS).
                  properties:
                    allowCredentials:
                      description: |-
                        AllowCredentials indicates whether a request can include user credentials
                        like cookies, authentication headers, or TLS client certificates.
                      type: boolean
                    allowHeaders:
                      description: AllowHeaders defines the headers that are allowed
                        to be sent with requests.
                      items:
                        type: string
                      type: array
                    allowMethods:
                      description: AllowMethods defines the methods that are allowed
                        to make requests.
                      items:
                        type: string
                      minItems: 1
                      type: array
                    allowOrigins:
                      description: AllowOrigins defines the origins that are allowed
                        to make requests.
                      items:
                        description: |-
                          Origin is defined by the scheme (protocol), hostname (domain), and port of
                          the URL used to access it. The hostname can be "precise" which is just the
                          domain name or "wildcard" which is a domain name prefixed with a single
                          wildcard label such as "*.example.com".
                          In addition to that a single wildcard (with or without scheme) can be
                          configured to match any origin.


                          For example, the following are valid origins:
                          - https://foo.example.com
                          - https://*.example.com
                          - http://foo.example.com:8080
                          - http://*.example.com:8080
                          - https://*
                        maxLength: 253
                        minLength: 1
                        pattern: ^(\*|https?:\/\/(\*|(\*\.)?(([\w-]+\.?)+)?[\w-]+)(:\d{1,5})?)$
                        type: string
                      minItems: 1
                      type: array
                    exposeHeaders:
                      description: ExposeHeaders defines the headers that can be exposed
                        in the responses.
                      items:
                        type: string
                      type: array
                    maxAge:
                      description: MaxAge defines how long the results of a preflight
                        request can be cached.
                      type: string
                  type: object
                extAuth:
                  description: ExtAuth defines the configuration for External Authorization.
                  properties:
                    failOpen:
                      default: false
                      description: |-
                        FailOpen is a switch used to control the behavior when a response from the External Authorization service cannot be obtained.
                        If FailOpen is set to true, the system allows the traffic to pass through.
                        Otherwise, if it is set to false or not set (defaulting to false),
                        the system blocks the traffic and returns a HTTP 5xx error, reflecting a fail-closed approach.
                        This setting determines whether to prioritize accessibility over strict security in case of authorization service failure.
                      type: boolean
                    grpc:
                      description: |-
                        GRPC defines the gRPC External Authorization service.
                        Either GRPCService or HTTPService must be specified,
                        and only one of them can be provided.
                      properties:
                        backendRef:
                          description: |-
                            BackendRef references a Kubernetes object that represents the
                            backend server to which the authorization request will be sent.
                            Only service Kind is supported for now.
                          properties:
                            group:
                              default: ""
                              description: |-
                                Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                When unspecified or empty string, core API group is inferred.
                              maxLength: 253
                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                            kind:
                              default: Service
                              description: |-
                                Kind is the Kubernetes resource kind of the referent. For example
                                "Service".


                                Defaults to "Service" when not specified.


                                ExternalName services can refer to CNAME DNS records that may live
                                outside of the cluster and as such are difficult to reason about in
                                terms of conformance. They also may not be safe to forward to (see
                                CVE-2021-25740 for more information). Implementations SHOULD NOT
                                support ExternalName Services.


                                Support: Core (Services with a type other than ExternalName)


                                Support: Implementation-specific (Services with type ExternalName)
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                              type: string
                            name:
                              description: Name is the name of the referent.
                              maxLength: 253
                              minLength: 1
                              type: string
                            namespace:
                              description: |-
                                Namespace is the namespace of the backend. When unspecified, the local
                                namespace is inferred.


                                Note that when a namespace different than the local namespace is specified,
                                a ReferenceGrant object is required in the referent namespace to allow that
                                namespace's owner to accept the reference. See the ReferenceGrant
                                documentation for details.


                                Support: Core
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                              type: string
                            port:
                              description: |-
                                Port specifies the destination port number to use for this resource.
                                Port is required when the referent is a Kubernetes Service. In this
                                case, the port number is the service port number, not the target port.
                                For other resources, destination port might be derived from the referent
                                resource or this field.
                              format: int32
                              maximum: 65535
                              minimum: 1
                              type: integer
                          required:
                          - name
                          type: object
                          x-kubernetes-validations:
                          - message: Must have port for Service reference
                            rule: '(size(self.group) == 0 && self.kind == ''Service'')
                              ? has(self.port) : true'
                      required:
                      - backendRef
                      type: object
                    headersToExtAuth:
                      description: |-
                        HeadersToExtAuth defines the client request headers that will be included
                        in the request to the external authorization service.
                        Note: If not specified, the default behavior for gRPC and HTTP external
                        authorization services is different due to backward compatibility reasons.
                        All headers will be included in the check request to a gRPC authorization server.
                        Only the following headers will be included in the check request to an HTTP
                        authorization server: Host, Method, Path, Content-Length, and Authorization.
                        And these headers will always be included to the check request to an HTTP
                        authorization server by default, no matter whether they are specified
                        in HeadersToExtAuth or not.
                      items:
                        type: string
                      type: array
                    http:
                      description: |-
                        HTTP defines the HTTP External Authorization service.
                        Either GRPCService or HTTPService must be specified,
                        and only one of them can be provided.
                      properties:
                        backendRef:
                          description: |-
                            BackendRef references a Kubernetes object that represents the
                            backend server to which the authorization request will be sent.
                            Only service Kind is supported for now.
                          properties:
                            group:
                              default: ""
                              description: |-
                                Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                When unspecified or empty string, core API group is inferred.
                              maxLength: 253
                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                            kind:
                              default: Service
                              description: |-
                                Kind is the Kubernetes resource kind of the referent. For example
                                "Service".


                                Defaults to "Service" when not specified.


                                ExternalName services can refer to CNAME DNS records that may live
                                outside of the cluster and as such are difficult to reason about in
                                terms of conformance. They also may not be safe to forward to (see
                                CVE-2021-25740 for more information). Implementations SHOULD NOT
                                support ExternalName Services.


                                Support: Core (Services with a type other than ExternalName)


                                Support: Implementation-specific (Services with type ExternalName)
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                              type: string
                            name:
                              description: Name is the name of the referent.
                              maxLength: 253
                              minLength: 1
                              type: string
                            namespace:
                              description: |-
                                Namespace is the namespace of the backend. When unspecified, the local
                                namespace is inferred.


                                Note that when a namespace different than the local namespace is specified,
                                a ReferenceGrant object is required in the referent namespace to allow that
                                namespace's owner to accept the reference. See the ReferenceGrant
                                documentation for details.


                                Support: Core
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                              type: string
                            port:
                              description: |-
                                Port specifies the destination port number to use for this resource.
                                Port is required when the referent is a Kubernetes Service. In this
                                case, the port number is the service port number, not the target port.
                                For other resources, destination port might be derived from the referent
                                resource or this field.
                              format: int32
                              maximum: 65535
                              minimum: 1
                              type: integer
                          required:
                          - name
                          type: object
                          x-kubernetes-validations:
                          - message: Must have port for Service reference
                            rule: '(size(self.group) == 0 && self.kind == ''Service'')
                              ? has(self.port) : true'
                        headersToBackend:
                          description: |-
                            HeadersToBackend are the authorization response headers that will be added
                            to the original client request before sending it to the backend server.
                            Note that coexisting headers will be overridden.
                            If not specified, no authorization response headers will be added to the
                            original client request.
                          items:
                            type: string
                          type: array
                        path:
                          description: |-
                            Path is the path of the HTTP External Authorization service.
                            If path is specified, the authorization request will be sent to that path,
                            or else the authorization request will be sent to the root path.
                          type: string
                      required:
                      - backendRef
                      type: object
                  type: object
                  x-kubernetes-validations:
                  - message: one of grpc or http must be specified
                    rule: (has(self.grpc) || has(self.http))
                  - message: only one of grpc or http can be specified
                    rule: (has(self.grpc) && !has(self.http)) || (!has(self.grpc)
                      && has(self.http))
                  - message: group is invalid, only the core API group (specified
                      by omitting the group field or setting it to an empty string)
                      is supported
                    rule: 'has(self.grpc) ? (!has(self.grpc.backendRef.group) || self.grpc.backendRef.group
                      == "") : true'
                  - message: kind is invalid, only Service (specified by omitting
                      the kind field or setting it to 'Service') is supported
                    rule: 'has(self.grpc) ? (!has(self.grpc.backendRef.kind) || self.grpc.backendRef.kind
                      == ''Service'') : true'
                  - message: group is invalid, only the core API group (specified
                      by omitting the group field or setting it to an empty string)
                      is supported
                    rule: 'has(self.http) ? (!has(self.http.backendRef.group) || self.http.backendRef.group
                      == "") : true'
                  - message: kind is invalid, only Service (specified by omitting
                      the kind field or setting it to 'Service') is supported
                    rule: 'has(self.http) ? (!has(self.http.backendRef.kind) || self.http.backendRef.kind
                      == ''Service'') : true'
                jwt:
                  description: JWT defines the configuration for JSON Web Token (JWT)
                    authentication.
                  properties:
                    providers:
                      description: |-
                        Providers defines the JSON Web Token (JWT) authentication provider type.
                        When multiple JWT providers are specified, the JWT is considered valid if
                        any of the providers successfully validate the JWT. For additional details,
                        see https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/jwt_authn_filter.html.
                      items:
                        description: JWTProvider defines how a JSON Web Token (JWT)
                          can be verified.
                        properties:
                          audiences:
                            description: |-
                              Audiences is a list of JWT audiences allowed access. For additional details, see
                              https://tools.ietf.org/html/rfc7519#section-4.1.3. If not provided, JWT audiences
                              are not checked.
                            items:
                              type: string
                            maxItems: 8
                            type: array
                          claimToHeaders:
                            description: |-
                              ClaimToHeaders is a list of JWT claims that must be extracted into HTTP request headers
                              For examples, following config:
                              The claim must be of type; string, int, double, bool. Array type claims are not supported
                            items:
                              description: ClaimToHeader defines a configuration to
                                convert JWT claims into HTTP headers
                              properties:
                                claim:
                                  description: |-
                                    Claim is the JWT Claim that should be saved into the header : it can be a nested claim of type
                                    (eg. "claim.nested.key", "sub"). The nested claim name must use dot "."
                                    to separate the JSON name path.
                                  type: string
                                header:
                                  description: Header defines the name of the HTTP
                                    request header that the JWT Claim will be saved
                                    into.
                                  type: string
                              required:
                              - claim
                              - header
                              type: object
                            type: array
                          extractFrom:
                            description: |-
                              ExtractFrom defines different ways to extract the JWT token from HTTP request.
                              If empty, it defaults to extract JWT token from the Authorization HTTP request header using Bearer schema
                              or access_token from query parameters.
                            properties:
                              cookies:
                                description: Cookies represents a list of cookie names
                                  to extract the JWT token from.
                                items:
                                  type: string
                                type: array
                              headers:
                                description: Headers represents a list of HTTP request
                                  headers to extract the JWT token from.
                                items:
                                  description: JWTHeaderExtractor defines an HTTP
                                    header location to extract JWT token
                                  properties:
                                    name:
                                      description: Name is the HTTP header name to
                                        retrieve the token
                                      type: string
                                    valuePrefix:
                                      description: |-
                                        ValuePrefix is the prefix that should be stripped before extracting the token.
                                        The format would be used by Envoy like "{ValuePrefix}<TOKEN>".
                                        For example, "Authorization: Bearer <TOKEN>", then the ValuePrefix="Bearer " with a space at the end.
                                      type: string
                                  required:
                                  - name
                                  type: object
                                type: array
                              params:
                                description: Params represents a list of query parameters
                                  to extract the JWT token from.
                                items:
                                  type: string
                                type: array
                            type: object
                          issuer:
                            description: |-
                              Issuer is the principal that issued the JWT and takes the form of a URL or email address.
                              For additional details, see https://tools.ietf.org/html/rfc7519#section-4.1.1 for
                              URL format and https://rfc-editor.org/rfc/rfc5322.html for email format. If not provided,
                              the JWT issuer is not checked.
                            maxLength: 253
                            type: string
                          name:
                            description: |-
                              Name defines a unique name for the JWT provider. A name can have a variety of forms,
                              including RFC1123 subdomains, RFC 1123 labels, or RFC 1035 labels.
                            maxLength: 253
                            minLength: 1
                            type: string
                          recomputeRoute:
                            description: |-
                              RecomputeRoute clears the route cache and recalculates the routing decision.
                              This field must be enabled if the headers generated from the claim are used for
                              route matching decisions. If the recomputation selects a new route, features targeting
                              the new matched route will be applied.
                            type: boolean
                          remoteJWKS:
                            description: |-
                              RemoteJWKS defines how to fetch and cache JSON Web Key Sets (JWKS) from a remote
                              HTTP/HTTPS endpoint.
                            properties:
                              uri:
                                description: |-
                                  URI is the HTTPS URI to fetch the JWKS. Envoy's system trust bundle is used to
                                  validate the server certificate.
                                maxLength: 253
                                minLength: 1
                                type: string
                            required:
                            - uri
                            type: object
                        required:
                        - name
                        - remoteJWKS
                        type: object
                        x-kubernetes-validations:
                        - message: claimToHeaders must be specified if recomputeRoute
                            is enabled
                          rule: '(has(self.recomputeRoute) && self.recomputeRoute)
                            ? size(self.claimToHeaders) > 0 : true'
                      maxItems: 4
                      minItems: 1
                      type: array
                  required:
                  - providers
                  type: object
                oidc:
                  description: OIDC defines the configuration for the OpenID Connect
                    (OIDC) authentication.
                  properties:
                    clientID:
                      description: |-
                        The client ID to be used in the OIDC
                        [Authentication Request](https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest).
                      minLength: 1
                      type: string
                    clientSecret:
                      description: |-
                        The Kubernetes secret which contains the OIDC client secret to be used in the
                        [Authentication Request](https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest).


                        This is an Opaque secret. The client secret should be stored in the key
                        "client-secret".
                      properties:
                        group:
                          default: ""
                          description: |-
                            Group is the group of the referent. For example, "gateway.networking.k8s.io".
                            When unspecified or empty string, core API group is inferred.
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          default: Secret
                          description: Kind is kind of the referent. For example "Secret".
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: Name is the name of the referent.
                          maxLength: 253
                          minLength: 1
                          type: string
                        namespace:
                          description: |-
                            Namespace is the namespace of the referenced object. When unspecified, the local
                            namespace is inferred.


                            Note that when a namespace different than the local namespace is specified,
                            a ReferenceGrant object is required in the referent namespace to allow that
                            namespace's owner to accept the reference. See the ReferenceGrant
                            documentation for details.


                            Support: Core
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                      required:
                      - name
                      type: object
                    logoutPath:
                      description: |-
                        The path to log a user out, clearing their credential cookies.
                        If not specified, uses a default logout path "/logout"
                      type: string
                    provider:
                      description: The OIDC Provider configuration.
                      properties:
                        authorizationEndpoint:
                          description: |-
                            The OIDC Provider's [authorization endpoint](https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint).
                            If not provided, EG will try to discover it from the provider's [Well-Known Configuration Endpoint](https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderConfigurationResponse).
                          type: string
                        issuer:
                          description: |-
                            The OIDC Provider's [issuer identifier](https://openid.net/specs/openid-connect-discovery-1_0.html#IssuerDiscovery).
                            Issuer MUST be a URI RFC 3986 [RFC3986] with a scheme component that MUST
                            be https, a host component, and optionally, port and path components and
                            no query or fragment components.
                          minLength: 1
                          type: string
                        tokenEndpoint:
                          description: |-
                            The OIDC Provider's [token endpoint](https://openid.net/specs/openid-connect-core-1_0.html#TokenEndpoint).
                            If not provided, EG will try to discover it from the provider's [Well-Known Configuration Endpoint](https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderConfigurationResponse).
                          type: string
                      required:
                      - issuer
                      type: object
                    redirectURL:
                      description: |-
                        The redirect URL to be used in the OIDC
                        [Authentication Request](https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest).
                        If not specified, uses the default redirect URI "%REQ(x-forwarded-proto)%://%REQ(:authority)%/oauth2/callback"
                      type: string
                    resources:
                      description: |-
                        The OIDC resources to be used in the
                        [Authentication Request](https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest).
                      items:
                        type: string
                      type: array
                    scopes:
                      description: |-
                        The OIDC scopes to be used in the
                        [Authentication Request](https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest).
                        The "openid" scope is always added to the list of scopes if not already
                        specified.
                      items:
                        type: string
                      type: array
                  required:
                  - clientID
                  - clientSecret
                  - provider
                  type: object
                targetRef:
                  description: |-
                    TargetRef is the name of the Gateway resource this policy
                    is being attached to.
                    This Policy and the TargetRef MUST be in the same namespace
                    for this Policy to have effect and be applied to the Gateway.
                  properties:
                    group:
                      description: Group is the group of the target resource.
                      maxLength: 253
                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    kind:
                      description: Kind is kind of the target resource.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                      type: string
                    name:
                      description: Name is the name of the target resource.
                      maxLength: 253
                      minLength: 1
                      type: string
                    namespace:
                      description: |-
                        Namespace is the namespace of the referent. When unspecified, the local
                        namespace is inferred. Even when policy targets a resource in a different
                        namespace, it MUST only apply to traffic originating from the same
                        namespace as the policy.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                      type: string
                    sectionName:
                      description: |-
                        SectionName is the name of a section within the target resource. When
                        unspecified, this targetRef targets the entire resource. In the following
                        resources, SectionName is interpreted as the following:


                        * Gateway: Listener Name
                        * Service: Port Name


                        If a SectionName is specified, but does not exist on the targeted object,
                        the Policy must fail to attach, and the policy implementation should record
                        a `ResolvedRefs` or similar Condition in the Policy's status.
                      maxLength: 253
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                  required:
                  - group
                  - kind
                  - name
                  type: object
                  x-kubernetes-validations:
                  - message: this policy can only have a targetRef.group of gateway.networking.k8s.io
                    rule: self.group == 'gateway.networking.k8s.io'
                  - message: this policy can only have a targetRef.kind of Gateway/HTTPRoute/GRPCRoute
                    rule: self.kind in ['Gateway', 'HTTPRoute', 'GRPCRoute']
                  - message: this policy does not yet support the sectionName field
                    rule: '!has(self.sectionName)'
              required:
              - targetRef
              type: object
            status:
              description: Status defines the current status of SecurityPolicy.
              properties:
                ancestors:
                  description: |-
                    Ancestors is a list of ancestor resources (usually Gateways) that are
                    associated with the policy, and the status of the policy with respect to
                    each ancestor. When this policy attaches to a parent, the controller that
                    manages the parent and the ancestors MUST add an entry to this list when
                    the controller first sees the policy and SHOULD update the entry as
                    appropriate when the relevant ancestor is modified.


                    Note that choosing the relevant ancestor is left to the Policy designers;
                    an important part of Policy design is designing the right object level at
                    which to namespace this status.


                    Note also that implementations MUST ONLY populate ancestor status for
                    the Ancestor resources they are responsible for. Implementations MUST
                    use the ControllerName field to uniquely identify the entries in this list
                    that they are responsible for.


                    Note that to achieve this, the list of PolicyAncestorStatus structs
                    MUST be treated as a map with a composite key, made up of the AncestorRef
                    and ControllerName fields combined.


                    A maximum of 16 ancestors will be represented in this list. An empty list
                    means the Policy is not relevant for any ancestors.


                    If this slice is full, implementations MUST NOT add further entries.
                    Instead they MUST consider the policy unimplementable and signal that
                    on any related resources such as the ancestor that would be referenced
                    here. For example, if this list was full on BackendTLSPolicy, no
                    additional Gateways would be able to reference the Service targeted by
                    the BackendTLSPolicy.
                  items:
                    description: |-
                      PolicyAncestorStatus describes the status of a route with respect to an
                      associated Ancestor.


                      Ancestors refer to objects that are either the Target of a policy or above it
                      in terms of object hierarchy. For example, if a policy targets a Service, the
                      Policy's Ancestors are, in order, the Service, the HTTPRoute, the Gateway, and
                      the GatewayClass. Almost always, in this hierarchy, the Gateway will be the most
                      useful object to place Policy status on, so we recommend that implementations
                      SHOULD use Gateway as the PolicyAncestorStatus object unless the designers
                      have a _very_ good reason otherwise.


                      In the context of policy attachment, the Ancestor is used to distinguish which
                      resource results in a distinct application of this policy. For example, if a policy
                      targets a Service, it may have a distinct result per attached Gateway.


                      Policies targeting the same resource may have different effects depending on the
                      ancestors of those resources. For example, different Gateways targeting the same
                      Service may have different capabilities, especially if they have different underlying
                      implementations.


                      For example, in BackendTLSPolicy, the Policy attaches to a Service that is
                      used as a backend in a HTTPRoute that is itself attached to a Gateway.
                      In this case, the relevant object for status is the Gateway, and that is the
                      ancestor object referred to in this status.


                      Note that a parent is also an ancestor, so for objects where the parent is the
                      relevant object for status, this struct SHOULD still be used.


                      This struct is intended to be used in a slice that's effectively a map,
                      with a composite key made up of the AncestorRef and the ControllerName.
                    properties:
                      ancestorRef:
                        description: |-
                          AncestorRef corresponds with a ParentRef in the spec that this
                          PolicyAncestorStatus struct describes the status of.
                        properties:
                          group:
                            default: gateway.networking.k8s.io
                            description: |-
                              Group is the group of the referent.
                              When unspecified, "gateway.networking.k8s.io" is inferred.
                              To set the core API group (such as for a "Service" kind referent),
                              Group must be explicitly set to "" (empty string).


                              Support: Core
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Gateway
                            description: |-
                              Kind is kind of the referent.


                              There are two kinds of parent resources with "Core" support:


                              * Gateway (Gateway conformance profile)
                              * Service (Mesh conformance profile, experimental, ClusterIP Services only)


                              Support for other resources is Implementation-Specific.
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: |-
                              Name is the name of the referent.


                              Support: Core
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: |-
                              Namespace is the namespace of the referent. When unspecified, this refers
                              to the local namespace of the Route.


                              Note that there are specific rules for ParentRefs which cross namespace
                              boundaries. Cross-namespace references are only valid if they are explicitly
                              allowed by something in the namespace they are referring to. For example:
                              Gateway has the AllowedRoutes field, and ReferenceGrant provides a
                              generic way to enable any other kind of cross-namespace reference.


                              <gateway:experimental:description>
                              ParentRefs from a Route to a Service in the same namespace are "producer"
                              routes, which apply default routing rules to inbound connections from
                              any namespace to the Service.


                              ParentRefs from a Route to a Service in a different namespace are
                              "consumer" routes, and these routing rules are only applied to outbound
                              connections originating from the same namespace as the Route, for which
                              the intended destination of the connections are a Service targeted as a
                              ParentRef of the Route.
                              </gateway:experimental:description>


                              Support: Core
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                          port:
                            description: |-
                              Port is the network port this Route targets. It can be interpreted
                              differently based on the type of parent resource.


                              When the parent resource is a Gateway, this targets all listeners
                              listening on the specified port that also support this kind of Route(and
                              select this Route). It's not recommended to set `Port` unless the
                              networking behaviors specified in a Route must apply to a specific port
                              as opposed to a listener(s) whose port(s) may be changed. When both Port
                              and SectionName are specified, the name and port of the selected listener
                              must match both specified values.


                              <gateway:experimental:description>
                              When the parent resource is a Service, this targets a specific port in the
                              Service spec. When both Port (experimental) and SectionName are specified,
                              the name and port of the selected port must match both specified values.
                              </gateway:experimental:description>


                              Implementations MAY choose to support other parent resources.
                              Implementations supporting other types of parent resources MUST clearly
                              document how/if Port is interpreted.


                              For the purpose of status, an attachment is considered successful as
                              long as the parent resource accepts it partially. For example, Gateway
                              listeners can restrict which Routes can attach to them by Route kind,
                              namespace, or hostname. If 1 of 2 Gateway listeners accept attachment
                              from the referencing Route, the Route MUST be considered successfully
                              attached. If no Gateway listeners accept attachment from this Route,
                              the Route MUST be considered detached from the Gateway.


                              Support: Extended


                              <gateway:experimental>
                            format: int32
                            maximum: 65535
                            minimum: 1
                            type: integer
                          sectionName:
                            description: |-
                              SectionName is the name of a section within the target resource. In the
                              following resources, SectionName is interpreted as the following:


                              * Gateway: Listener Name. When both Port (experimental) and SectionName
                              are specified, the name and port of the selected listener must match
                              both specified values.
                              * Service: Port Name. When both Port (experimental) and SectionName
                              are specified, the name and port of the selected listener must match
                              both specified values. Note that attaching Routes to Services as Parents
                              is part of experimental Mesh support and is not supported for any other
                              purpose.


                              Implementations MAY choose to support attaching Routes to other resources.
                              If that is the case, they MUST clearly document how SectionName is
                              interpreted.


                              When unspecified (empty string), this will reference the entire resource.
                              For the purpose of status, an attachment is considered successful if at
                              least one section in the parent resource accepts it. For example, Gateway
                              listeners can restrict which Routes can attach to them by Route kind,
                              namespace, or hostname. If 1 of 2 Gateway listeners accept attachment from
                              the referencing Route, the Route MUST be considered successfully
                              attached. If no Gateway listeners accept attachment from this Route, the
                              Route MUST be considered detached from the Gateway.


                              Support: Core
                            maxLength: 253
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                        required:
                        - name
                        type: object
                      conditions:
                        description: Conditions describes the status of the Policy
                          with respect to the given Ancestor.
                        items:
                          description: "Condition contains details for one aspect
                            of the current state of this API Resource.\n---\nThis
                            struct is intended for direct use as an array at the field
                            path .status.conditions.  For example,\n\n\n\ttype FooStatus
                            struct{\n\t    // Represents the observations of a foo's
                            current state.\n\t    // Known .status.conditions.type
                            are: \"Available\", \"Progressing\", and \"Degraded\"\n\t
                            \   // +patchMergeKey=type\n\t    // +patchStrategy=merge\n\t
                            \   // +listType=map\n\t    // +listMapKey=type\n\t    Conditions
                            []metav1.Condition `json:\"conditions,omitempty\" patchStrategy:\"merge\"
                            patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`\n\n\n\t
                            \   // other fields\n\t}"
                          properties:
                            lastTransitionTime:
                              description: |-
                                lastTransitionTime is the last time the condition transitioned from one status to another.
                                This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                              format: date-time
                              type: string
                            message:
                              description: |-
                                message is a human readable message indicating details about the transition.
                                This may be an empty string.
                              maxLength: 32768
                              type: string
                            observedGeneration:
                              description: |-
                                observedGeneration represents the .metadata.generation that the condition was set based upon.
                                For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                                with respect to the current state of the instance.
                              format: int64
                              minimum: 0
                              type: integer
                            reason:
                              description: |-
                                reason contains a programmatic identifier indicating the reason for the condition's last transition.
                                Producers of specific condition types may define expected values and meanings for this field,
                                and whether the values are considered a guaranteed API.
                                The value should be a CamelCase string.
                                This field may not be empty.
                              maxLength: 1024
                              minLength: 1
                              pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                              type: string
                            status:
                              description: status of the condition, one of True, False,
                                Unknown.
                              enum:
                              - "True"
                              - "False"
                              - Unknown
                              type: string
                            type:
                              description: |-
                                type of condition in CamelCase or in foo.example.com/CamelCase.
                                ---
                                Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
                                useful (see .node.status.conditions), the ability to deconflict is important.
                                The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                              maxLength: 316
                              pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                              type: string
                          required:
                          - lastTransitionTime
                          - message
                          - reason
                          - status
                          - type
                          type: object
                        maxItems: 8
                        minItems: 1
                        type: array
                        x-kubernetes-list-map-keys:
                        - type
                        x-kubernetes-list-type: map
                      controllerName:
                        description: |-
                          ControllerName is a domain/path string that indicates the name of the
                          controller that wrote this status. This corresponds with the
                          controllerName field on GatewayClass.


                          Example: "example.net/gateway-controller".


                          The format of this field is DOMAIN "/" PATH, where DOMAIN and PATH are
                          valid Kubernetes names
                          (https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names).


                          Controllers MUST populate this field when writing status. Controllers should ensure that
                          entries to status populated with their ControllerName are cleaned up when they are no
                          longer necessary.
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                        type: string
                    required:
                    - ancestorRef
                    - controllerName
                    type: object
                  maxItems: 16
                  type: array
              required:
              - ancestors
              type: object
          required:
          - spec
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - envoy-gateway
      kind: SecurityPolicy
      listKind: SecurityPolicyList
      plural: securitypolicies
      shortNames:
      - sp
      singular: securitypolicy
    conditions:
    - lastTransitionTime: "2024-04-11T07:49:07Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-11T07:49:07Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      helm.sh/resource-policy: keep
    creationTimestamp: "2024-04-07T12:56:56Z"
    generation: 1
    labels:
      app: istio-pilot
      chart: istio
      heritage: Tiller
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio.io/rev: default
      operator.istio.io/component: Base
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: serviceentries.networking.istio.io
    resourceVersion: "1904522"
    uid: 63e56675-9f28-4dcb-8678-d17dcfced069
  spec:
    conversion:
      strategy: None
    group: networking.istio.io
    names:
      categories:
      - istio-io
      - networking-istio-io
      kind: ServiceEntry
      listKind: ServiceEntryList
      plural: serviceentries
      shortNames:
      - se
      singular: serviceentry
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - description: The hosts associated with the ServiceEntry
        jsonPath: .spec.hosts
        name: Hosts
        type: string
      - description: Whether the service is external to the mesh or part of the mesh
          (MESH_EXTERNAL or MESH_INTERNAL)
        jsonPath: .spec.location
        name: Location
        type: string
      - description: Service resolution mode for the hosts (NONE, STATIC, or DNS)
        jsonPath: .spec.resolution
        name: Resolution
        type: string
      - description: 'CreationTimestamp is a timestamp representing the server time
          when this object was created. It is not guaranteed to be set in happens-before
          order across separate operations. Clients may not set this value. It is
          represented in RFC3339 form and is in UTC. Populated by the system. Read-only.
          Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
        jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1alpha3
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting service registry. See more details
                at: https://istio.io/docs/reference/config/networking/service-entry.html'
              properties:
                addresses:
                  description: The virtual IP addresses associated with the service.
                  items:
                    type: string
                  type: array
                endpoints:
                  description: One or more endpoints associated with the service.
                  items:
                    properties:
                      address:
                        description: Address associated with the network endpoint
                          without the port.
                        type: string
                      labels:
                        additionalProperties:
                          type: string
                        description: One or more labels associated with the endpoint.
                        type: object
                      locality:
                        description: The locality associated with the endpoint.
                        type: string
                      network:
                        description: Network enables Istio to group endpoints resident
                          in the same L3 domain/network.
                        type: string
                      ports:
                        additionalProperties:
                          type: integer
                        description: Set of ports associated with the endpoint.
                        type: object
                      serviceAccount:
                        description: The service account associated with the workload
                          if a sidecar is present in the workload.
                        type: string
                      weight:
                        description: The load balancing weight associated with the
                          endpoint.
                        type: integer
                    type: object
                  type: array
                exportTo:
                  description: A list of namespaces to which this service is exported.
                  items:
                    type: string
                  type: array
                hosts:
                  description: The hosts associated with the ServiceEntry.
                  items:
                    type: string
                  type: array
                location:
                  description: Specify whether the service should be considered external
                    to the mesh or part of the mesh.
                  enum:
                  - MESH_EXTERNAL
                  - MESH_INTERNAL
                  type: string
                ports:
                  description: The ports associated with the external service.
                  items:
                    properties:
                      name:
                        description: Label assigned to the port.
                        type: string
                      number:
                        description: A valid non-negative integer port number.
                        type: integer
                      protocol:
                        description: The protocol exposed on the port.
                        type: string
                      targetPort:
                        description: The port number on the endpoint where the traffic
                          will be received.
                        type: integer
                    required:
                    - number
                    - name
                    type: object
                  type: array
                resolution:
                  description: Service resolution mode for the hosts.
                  enum:
                  - NONE
                  - STATIC
                  - DNS
                  - DNS_ROUND_ROBIN
                  type: string
                subjectAltNames:
                  description: If specified, the proxy will verify that the server
                    certificate's subject alternate name matches one of the specified
                    values.
                  items:
                    type: string
                  type: array
                workloadSelector:
                  description: Applicable only for MESH_INTERNAL services.
                  properties:
                    labels:
                      additionalProperties:
                        type: string
                      description: One or more labels that indicate a specific set
                        of pods/VMs on which the configuration should be applied.
                      type: object
                  type: object
              required:
              - hosts
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: true
      subresources:
        status: {}
    - additionalPrinterColumns:
      - description: The hosts associated with the ServiceEntry
        jsonPath: .spec.hosts
        name: Hosts
        type: string
      - description: Whether the service is external to the mesh or part of the mesh
          (MESH_EXTERNAL or MESH_INTERNAL)
        jsonPath: .spec.location
        name: Location
        type: string
      - description: Service resolution mode for the hosts (NONE, STATIC, or DNS)
        jsonPath: .spec.resolution
        name: Resolution
        type: string
      - description: 'CreationTimestamp is a timestamp representing the server time
          when this object was created. It is not guaranteed to be set in happens-before
          order across separate operations. Clients may not set this value. It is
          represented in RFC3339 form and is in UTC. Populated by the system. Read-only.
          Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
        jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1beta1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting service registry. See more details
                at: https://istio.io/docs/reference/config/networking/service-entry.html'
              properties:
                addresses:
                  description: The virtual IP addresses associated with the service.
                  items:
                    type: string
                  type: array
                endpoints:
                  description: One or more endpoints associated with the service.
                  items:
                    properties:
                      address:
                        description: Address associated with the network endpoint
                          without the port.
                        type: string
                      labels:
                        additionalProperties:
                          type: string
                        description: One or more labels associated with the endpoint.
                        type: object
                      locality:
                        description: The locality associated with the endpoint.
                        type: string
                      network:
                        description: Network enables Istio to group endpoints resident
                          in the same L3 domain/network.
                        type: string
                      ports:
                        additionalProperties:
                          type: integer
                        description: Set of ports associated with the endpoint.
                        type: object
                      serviceAccount:
                        description: The service account associated with the workload
                          if a sidecar is present in the workload.
                        type: string
                      weight:
                        description: The load balancing weight associated with the
                          endpoint.
                        type: integer
                    type: object
                  type: array
                exportTo:
                  description: A list of namespaces to which this service is exported.
                  items:
                    type: string
                  type: array
                hosts:
                  description: The hosts associated with the ServiceEntry.
                  items:
                    type: string
                  type: array
                location:
                  description: Specify whether the service should be considered external
                    to the mesh or part of the mesh.
                  enum:
                  - MESH_EXTERNAL
                  - MESH_INTERNAL
                  type: string
                ports:
                  description: The ports associated with the external service.
                  items:
                    properties:
                      name:
                        description: Label assigned to the port.
                        type: string
                      number:
                        description: A valid non-negative integer port number.
                        type: integer
                      protocol:
                        description: The protocol exposed on the port.
                        type: string
                      targetPort:
                        description: The port number on the endpoint where the traffic
                          will be received.
                        type: integer
                    required:
                    - number
                    - name
                    type: object
                  type: array
                resolution:
                  description: Service resolution mode for the hosts.
                  enum:
                  - NONE
                  - STATIC
                  - DNS
                  - DNS_ROUND_ROBIN
                  type: string
                subjectAltNames:
                  description: If specified, the proxy will verify that the server
                    certificate's subject alternate name matches one of the specified
                    values.
                  items:
                    type: string
                  type: array
                workloadSelector:
                  description: Applicable only for MESH_INTERNAL services.
                  properties:
                    labels:
                      additionalProperties:
                        type: string
                      description: One or more labels that indicate a specific set
                        of pods/VMs on which the configuration should be applied.
                      type: object
                  type: object
              required:
              - hosts
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: false
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - istio-io
      - networking-istio-io
      kind: ServiceEntry
      listKind: ServiceEntryList
      plural: serviceentries
      shortNames:
      - se
      singular: serviceentry
    conditions:
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha3
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      helm.sh/resource-policy: keep
    creationTimestamp: "2024-04-07T12:56:56Z"
    generation: 1
    labels:
      app: istio-pilot
      chart: istio
      heritage: Tiller
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio.io/rev: default
      operator.istio.io/component: Base
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: sidecars.networking.istio.io
    resourceVersion: "1904524"
    uid: 3af53cfc-f82b-4ba1-8e65-8246078443de
  spec:
    conversion:
      strategy: None
    group: networking.istio.io
    names:
      categories:
      - istio-io
      - networking-istio-io
      kind: Sidecar
      listKind: SidecarList
      plural: sidecars
      singular: sidecar
    scope: Namespaced
    versions:
    - name: v1alpha3
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting network reachability of a sidecar.
                See more details at: https://istio.io/docs/reference/config/networking/sidecar.html'
              properties:
                egress:
                  description: Egress specifies the configuration of the sidecar for
                    processing outbound traffic from the attached workload instance
                    to other services in the mesh.
                  items:
                    properties:
                      bind:
                        description: The IP(IPv4 or IPv6) or the Unix domain socket
                          to which the listener should be bound to.
                        type: string
                      captureMode:
                        description: When the bind address is an IP, the captureMode
                          option dictates how traffic to the listener is expected
                          to be captured (or not).
                        enum:
                        - DEFAULT
                        - IPTABLES
                        - NONE
                        type: string
                      hosts:
                        description: One or more service hosts exposed by the listener
                          in `namespace/dnsName` format.
                        items:
                          type: string
                        type: array
                      port:
                        description: The port associated with the listener.
                        properties:
                          name:
                            description: Label assigned to the port.
                            type: string
                          number:
                            description: A valid non-negative integer port number.
                            type: integer
                          protocol:
                            description: The protocol exposed on the port.
                            type: string
                          targetPort:
                            type: integer
                        type: object
                    required:
                    - hosts
                    type: object
                  type: array
                inboundConnectionPool:
                  description: Settings controlling the volume of connections Envoy
                    will accept from the network.
                  properties:
                    http:
                      description: HTTP connection pool settings.
                      properties:
                        h2UpgradePolicy:
                          description: Specify if http1.1 connection should be upgraded
                            to http2 for the associated destination.
                          enum:
                          - DEFAULT
                          - DO_NOT_UPGRADE
                          - UPGRADE
                          type: string
                        http1MaxPendingRequests:
                          description: Maximum number of requests that will be queued
                            while waiting for a ready connection pool connection.
                          format: int32
                          type: integer
                        http2MaxRequests:
                          description: Maximum number of active requests to a destination.
                          format: int32
                          type: integer
                        idleTimeout:
                          description: The idle timeout for upstream connection pool
                            connections.
                          type: string
                        maxConcurrentStreams:
                          description: The maximum number of concurrent streams allowed
                            for a peer on one HTTP/2 connection.
                          format: int32
                          type: integer
                        maxRequestsPerConnection:
                          description: Maximum number of requests per connection to
                            a backend.
                          format: int32
                          type: integer
                        maxRetries:
                          description: Maximum number of retries that can be outstanding
                            to all hosts in a cluster at a given time.
                          format: int32
                          type: integer
                        useClientProtocol:
                          description: If set to true, client protocol will be preserved
                            while initiating connection to backend.
                          type: boolean
                      type: object
                    tcp:
                      description: Settings common to both HTTP and TCP upstream connections.
                      properties:
                        connectTimeout:
                          description: TCP connection timeout.
                          type: string
                        idleTimeout:
                          description: The idle timeout for TCP connections.
                          type: string
                        maxConnectionDuration:
                          description: The maximum duration of a connection.
                          type: string
                        maxConnections:
                          description: Maximum number of HTTP1 /TCP connections to
                            a destination host.
                          format: int32
                          type: integer
                        tcpKeepalive:
                          description: If set then set SO_KEEPALIVE on the socket
                            to enable TCP Keepalives.
                          properties:
                            interval:
                              description: The time duration between keep-alive probes.
                              type: string
                            probes:
                              description: Maximum number of keepalive probes to send
                                without response before deciding the connection is
                                dead.
                              type: integer
                            time:
                              description: The time duration a connection needs to
                                be idle before keep-alive probes start being sent.
                              type: string
                          type: object
                      type: object
                  type: object
                ingress:
                  description: Ingress specifies the configuration of the sidecar
                    for processing inbound traffic to the attached workload instance.
                  items:
                    properties:
                      bind:
                        description: The IP(IPv4 or IPv6) to which the listener should
                          be bound.
                        type: string
                      captureMode:
                        description: The captureMode option dictates how traffic to
                          the listener is expected to be captured (or not).
                        enum:
                        - DEFAULT
                        - IPTABLES
                        - NONE
                        type: string
                      connectionPool:
                        description: Settings controlling the volume of connections
                          Envoy will accept from the network.
                        properties:
                          http:
                            description: HTTP connection pool settings.
                            properties:
                              h2UpgradePolicy:
                                description: Specify if http1.1 connection should
                                  be upgraded to http2 for the associated destination.
                                enum:
                                - DEFAULT
                                - DO_NOT_UPGRADE
                                - UPGRADE
                                type: string
                              http1MaxPendingRequests:
                                description: Maximum number of requests that will
                                  be queued while waiting for a ready connection pool
                                  connection.
                                format: int32
                                type: integer
                              http2MaxRequests:
                                description: Maximum number of active requests to
                                  a destination.
                                format: int32
                                type: integer
                              idleTimeout:
                                description: The idle timeout for upstream connection
                                  pool connections.
                                type: string
                              maxConcurrentStreams:
                                description: The maximum number of concurrent streams
                                  allowed for a peer on one HTTP/2 connection.
                                format: int32
                                type: integer
                              maxRequestsPerConnection:
                                description: Maximum number of requests per connection
                                  to a backend.
                                format: int32
                                type: integer
                              maxRetries:
                                description: Maximum number of retries that can be
                                  outstanding to all hosts in a cluster at a given
                                  time.
                                format: int32
                                type: integer
                              useClientProtocol:
                                description: If set to true, client protocol will
                                  be preserved while initiating connection to backend.
                                type: boolean
                            type: object
                          tcp:
                            description: Settings common to both HTTP and TCP upstream
                              connections.
                            properties:
                              connectTimeout:
                                description: TCP connection timeout.
                                type: string
                              idleTimeout:
                                description: The idle timeout for TCP connections.
                                type: string
                              maxConnectionDuration:
                                description: The maximum duration of a connection.
                                type: string
                              maxConnections:
                                description: Maximum number of HTTP1 /TCP connections
                                  to a destination host.
                                format: int32
                                type: integer
                              tcpKeepalive:
                                description: If set then set SO_KEEPALIVE on the socket
                                  to enable TCP Keepalives.
                                properties:
                                  interval:
                                    description: The time duration between keep-alive
                                      probes.
                                    type: string
                                  probes:
                                    description: Maximum number of keepalive probes
                                      to send without response before deciding the
                                      connection is dead.
                                    type: integer
                                  time:
                                    description: The time duration a connection needs
                                      to be idle before keep-alive probes start being
                                      sent.
                                    type: string
                                type: object
                            type: object
                        type: object
                      defaultEndpoint:
                        description: The IP endpoint or Unix domain socket to which
                          traffic should be forwarded to.
                        type: string
                      port:
                        description: The port associated with the listener.
                        properties:
                          name:
                            description: Label assigned to the port.
                            type: string
                          number:
                            description: A valid non-negative integer port number.
                            type: integer
                          protocol:
                            description: The protocol exposed on the port.
                            type: string
                          targetPort:
                            type: integer
                        type: object
                      tls:
                        description: Set of TLS related options that will enable TLS
                          termination on the sidecar for requests originating from
                          outside the mesh.
                        properties:
                          caCertificates:
                            description: REQUIRED if mode is `MUTUAL` or `OPTIONAL_MUTUAL`.
                            type: string
                          cipherSuites:
                            description: 'Optional: If specified, only support the
                              specified cipher list.'
                            items:
                              type: string
                            type: array
                          credentialName:
                            description: For gateways running on Kubernetes, the name
                              of the secret that holds the TLS certs including the
                              CA certificates.
                            type: string
                          httpsRedirect:
                            description: If set to true, the load balancer will send
                              a 301 redirect for all http connections, asking the
                              clients to use HTTPS.
                            type: boolean
                          maxProtocolVersion:
                            description: 'Optional: Maximum TLS protocol version.'
                            enum:
                            - TLS_AUTO
                            - TLSV1_0
                            - TLSV1_1
                            - TLSV1_2
                            - TLSV1_3
                            type: string
                          minProtocolVersion:
                            description: 'Optional: Minimum TLS protocol version.'
                            enum:
                            - TLS_AUTO
                            - TLSV1_0
                            - TLSV1_1
                            - TLSV1_2
                            - TLSV1_3
                            type: string
                          mode:
                            description: 'Optional: Indicates whether connections
                              to this port should be secured using TLS.'
                            enum:
                            - PASSTHROUGH
                            - SIMPLE
                            - MUTUAL
                            - AUTO_PASSTHROUGH
                            - ISTIO_MUTUAL
                            - OPTIONAL_MUTUAL
                            type: string
                          privateKey:
                            description: REQUIRED if mode is `SIMPLE` or `MUTUAL`.
                            type: string
                          serverCertificate:
                            description: REQUIRED if mode is `SIMPLE` or `MUTUAL`.
                            type: string
                          subjectAltNames:
                            description: A list of alternate names to verify the subject
                              identity in the certificate presented by the client.
                            items:
                              type: string
                            type: array
                          verifyCertificateHash:
                            description: An optional list of hex-encoded SHA-256 hashes
                              of the authorized client certificates.
                            items:
                              type: string
                            type: array
                          verifyCertificateSpki:
                            description: An optional list of base64-encoded SHA-256
                              hashes of the SPKIs of authorized client certificates.
                            items:
                              type: string
                            type: array
                        type: object
                    required:
                    - port
                    type: object
                  type: array
                outboundTrafficPolicy:
                  description: Configuration for the outbound traffic policy.
                  properties:
                    egressProxy:
                      properties:
                        host:
                          description: The name of a service from the service registry.
                          type: string
                        port:
                          description: Specifies the port on the host that is being
                            addressed.
                          properties:
                            number:
                              type: integer
                          type: object
                        subset:
                          description: The name of a subset within the service.
                          type: string
                      required:
                      - host
                      type: object
                    mode:
                      enum:
                      - REGISTRY_ONLY
                      - ALLOW_ANY
                      type: string
                  type: object
                workloadSelector:
                  description: Criteria used to select the specific set of pods/VMs
                    on which this `Sidecar` configuration should be applied.
                  properties:
                    labels:
                      additionalProperties:
                        type: string
                      description: One or more labels that indicate a specific set
                        of pods/VMs on which the configuration should be applied.
                      type: object
                  type: object
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: true
      subresources:
        status: {}
    - name: v1beta1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting network reachability of a sidecar.
                See more details at: https://istio.io/docs/reference/config/networking/sidecar.html'
              properties:
                egress:
                  description: Egress specifies the configuration of the sidecar for
                    processing outbound traffic from the attached workload instance
                    to other services in the mesh.
                  items:
                    properties:
                      bind:
                        description: The IP(IPv4 or IPv6) or the Unix domain socket
                          to which the listener should be bound to.
                        type: string
                      captureMode:
                        description: When the bind address is an IP, the captureMode
                          option dictates how traffic to the listener is expected
                          to be captured (or not).
                        enum:
                        - DEFAULT
                        - IPTABLES
                        - NONE
                        type: string
                      hosts:
                        description: One or more service hosts exposed by the listener
                          in `namespace/dnsName` format.
                        items:
                          type: string
                        type: array
                      port:
                        description: The port associated with the listener.
                        properties:
                          name:
                            description: Label assigned to the port.
                            type: string
                          number:
                            description: A valid non-negative integer port number.
                            type: integer
                          protocol:
                            description: The protocol exposed on the port.
                            type: string
                          targetPort:
                            type: integer
                        type: object
                    required:
                    - hosts
                    type: object
                  type: array
                inboundConnectionPool:
                  description: Settings controlling the volume of connections Envoy
                    will accept from the network.
                  properties:
                    http:
                      description: HTTP connection pool settings.
                      properties:
                        h2UpgradePolicy:
                          description: Specify if http1.1 connection should be upgraded
                            to http2 for the associated destination.
                          enum:
                          - DEFAULT
                          - DO_NOT_UPGRADE
                          - UPGRADE
                          type: string
                        http1MaxPendingRequests:
                          description: Maximum number of requests that will be queued
                            while waiting for a ready connection pool connection.
                          format: int32
                          type: integer
                        http2MaxRequests:
                          description: Maximum number of active requests to a destination.
                          format: int32
                          type: integer
                        idleTimeout:
                          description: The idle timeout for upstream connection pool
                            connections.
                          type: string
                        maxConcurrentStreams:
                          description: The maximum number of concurrent streams allowed
                            for a peer on one HTTP/2 connection.
                          format: int32
                          type: integer
                        maxRequestsPerConnection:
                          description: Maximum number of requests per connection to
                            a backend.
                          format: int32
                          type: integer
                        maxRetries:
                          description: Maximum number of retries that can be outstanding
                            to all hosts in a cluster at a given time.
                          format: int32
                          type: integer
                        useClientProtocol:
                          description: If set to true, client protocol will be preserved
                            while initiating connection to backend.
                          type: boolean
                      type: object
                    tcp:
                      description: Settings common to both HTTP and TCP upstream connections.
                      properties:
                        connectTimeout:
                          description: TCP connection timeout.
                          type: string
                        idleTimeout:
                          description: The idle timeout for TCP connections.
                          type: string
                        maxConnectionDuration:
                          description: The maximum duration of a connection.
                          type: string
                        maxConnections:
                          description: Maximum number of HTTP1 /TCP connections to
                            a destination host.
                          format: int32
                          type: integer
                        tcpKeepalive:
                          description: If set then set SO_KEEPALIVE on the socket
                            to enable TCP Keepalives.
                          properties:
                            interval:
                              description: The time duration between keep-alive probes.
                              type: string
                            probes:
                              description: Maximum number of keepalive probes to send
                                without response before deciding the connection is
                                dead.
                              type: integer
                            time:
                              description: The time duration a connection needs to
                                be idle before keep-alive probes start being sent.
                              type: string
                          type: object
                      type: object
                  type: object
                ingress:
                  description: Ingress specifies the configuration of the sidecar
                    for processing inbound traffic to the attached workload instance.
                  items:
                    properties:
                      bind:
                        description: The IP(IPv4 or IPv6) to which the listener should
                          be bound.
                        type: string
                      captureMode:
                        description: The captureMode option dictates how traffic to
                          the listener is expected to be captured (or not).
                        enum:
                        - DEFAULT
                        - IPTABLES
                        - NONE
                        type: string
                      connectionPool:
                        description: Settings controlling the volume of connections
                          Envoy will accept from the network.
                        properties:
                          http:
                            description: HTTP connection pool settings.
                            properties:
                              h2UpgradePolicy:
                                description: Specify if http1.1 connection should
                                  be upgraded to http2 for the associated destination.
                                enum:
                                - DEFAULT
                                - DO_NOT_UPGRADE
                                - UPGRADE
                                type: string
                              http1MaxPendingRequests:
                                description: Maximum number of requests that will
                                  be queued while waiting for a ready connection pool
                                  connection.
                                format: int32
                                type: integer
                              http2MaxRequests:
                                description: Maximum number of active requests to
                                  a destination.
                                format: int32
                                type: integer
                              idleTimeout:
                                description: The idle timeout for upstream connection
                                  pool connections.
                                type: string
                              maxConcurrentStreams:
                                description: The maximum number of concurrent streams
                                  allowed for a peer on one HTTP/2 connection.
                                format: int32
                                type: integer
                              maxRequestsPerConnection:
                                description: Maximum number of requests per connection
                                  to a backend.
                                format: int32
                                type: integer
                              maxRetries:
                                description: Maximum number of retries that can be
                                  outstanding to all hosts in a cluster at a given
                                  time.
                                format: int32
                                type: integer
                              useClientProtocol:
                                description: If set to true, client protocol will
                                  be preserved while initiating connection to backend.
                                type: boolean
                            type: object
                          tcp:
                            description: Settings common to both HTTP and TCP upstream
                              connections.
                            properties:
                              connectTimeout:
                                description: TCP connection timeout.
                                type: string
                              idleTimeout:
                                description: The idle timeout for TCP connections.
                                type: string
                              maxConnectionDuration:
                                description: The maximum duration of a connection.
                                type: string
                              maxConnections:
                                description: Maximum number of HTTP1 /TCP connections
                                  to a destination host.
                                format: int32
                                type: integer
                              tcpKeepalive:
                                description: If set then set SO_KEEPALIVE on the socket
                                  to enable TCP Keepalives.
                                properties:
                                  interval:
                                    description: The time duration between keep-alive
                                      probes.
                                    type: string
                                  probes:
                                    description: Maximum number of keepalive probes
                                      to send without response before deciding the
                                      connection is dead.
                                    type: integer
                                  time:
                                    description: The time duration a connection needs
                                      to be idle before keep-alive probes start being
                                      sent.
                                    type: string
                                type: object
                            type: object
                        type: object
                      defaultEndpoint:
                        description: The IP endpoint or Unix domain socket to which
                          traffic should be forwarded to.
                        type: string
                      port:
                        description: The port associated with the listener.
                        properties:
                          name:
                            description: Label assigned to the port.
                            type: string
                          number:
                            description: A valid non-negative integer port number.
                            type: integer
                          protocol:
                            description: The protocol exposed on the port.
                            type: string
                          targetPort:
                            type: integer
                        type: object
                      tls:
                        description: Set of TLS related options that will enable TLS
                          termination on the sidecar for requests originating from
                          outside the mesh.
                        properties:
                          caCertificates:
                            description: REQUIRED if mode is `MUTUAL` or `OPTIONAL_MUTUAL`.
                            type: string
                          cipherSuites:
                            description: 'Optional: If specified, only support the
                              specified cipher list.'
                            items:
                              type: string
                            type: array
                          credentialName:
                            description: For gateways running on Kubernetes, the name
                              of the secret that holds the TLS certs including the
                              CA certificates.
                            type: string
                          httpsRedirect:
                            description: If set to true, the load balancer will send
                              a 301 redirect for all http connections, asking the
                              clients to use HTTPS.
                            type: boolean
                          maxProtocolVersion:
                            description: 'Optional: Maximum TLS protocol version.'
                            enum:
                            - TLS_AUTO
                            - TLSV1_0
                            - TLSV1_1
                            - TLSV1_2
                            - TLSV1_3
                            type: string
                          minProtocolVersion:
                            description: 'Optional: Minimum TLS protocol version.'
                            enum:
                            - TLS_AUTO
                            - TLSV1_0
                            - TLSV1_1
                            - TLSV1_2
                            - TLSV1_3
                            type: string
                          mode:
                            description: 'Optional: Indicates whether connections
                              to this port should be secured using TLS.'
                            enum:
                            - PASSTHROUGH
                            - SIMPLE
                            - MUTUAL
                            - AUTO_PASSTHROUGH
                            - ISTIO_MUTUAL
                            - OPTIONAL_MUTUAL
                            type: string
                          privateKey:
                            description: REQUIRED if mode is `SIMPLE` or `MUTUAL`.
                            type: string
                          serverCertificate:
                            description: REQUIRED if mode is `SIMPLE` or `MUTUAL`.
                            type: string
                          subjectAltNames:
                            description: A list of alternate names to verify the subject
                              identity in the certificate presented by the client.
                            items:
                              type: string
                            type: array
                          verifyCertificateHash:
                            description: An optional list of hex-encoded SHA-256 hashes
                              of the authorized client certificates.
                            items:
                              type: string
                            type: array
                          verifyCertificateSpki:
                            description: An optional list of base64-encoded SHA-256
                              hashes of the SPKIs of authorized client certificates.
                            items:
                              type: string
                            type: array
                        type: object
                    required:
                    - port
                    type: object
                  type: array
                outboundTrafficPolicy:
                  description: Configuration for the outbound traffic policy.
                  properties:
                    egressProxy:
                      properties:
                        host:
                          description: The name of a service from the service registry.
                          type: string
                        port:
                          description: Specifies the port on the host that is being
                            addressed.
                          properties:
                            number:
                              type: integer
                          type: object
                        subset:
                          description: The name of a subset within the service.
                          type: string
                      required:
                      - host
                      type: object
                    mode:
                      enum:
                      - REGISTRY_ONLY
                      - ALLOW_ANY
                      type: string
                  type: object
                workloadSelector:
                  description: Criteria used to select the specific set of pods/VMs
                    on which this `Sidecar` configuration should be applied.
                  properties:
                    labels:
                      additionalProperties:
                        type: string
                      description: One or more labels that indicate a specific set
                        of pods/VMs on which the configuration should be applied.
                      type: object
                  type: object
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: false
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - istio-io
      - networking-istio-io
      kind: Sidecar
      listKind: SidecarList
      plural: sidecars
      singular: sidecar
    conditions:
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha3
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      api-approved.kubernetes.io: https://github.com/kubernetes-sigs/gateway-api/pull/2466
      gateway.networking.k8s.io/bundle-version: v1.0.0
      gateway.networking.k8s.io/channel: experimental
    creationTimestamp: "2024-04-11T07:49:06Z"
    generation: 1
    name: tcproutes.gateway.networking.k8s.io
    resourceVersion: "2269549"
    uid: d7841534-f823-4217-94cb-a9a1dac5fe5c
  spec:
    conversion:
      strategy: None
    group: gateway.networking.k8s.io
    names:
      categories:
      - gateway-api
      kind: TCPRoute
      listKind: TCPRouteList
      plural: tcproutes
      singular: tcproute
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1alpha2
      schema:
        openAPIV3Schema:
          description: TCPRoute provides a way to route TCP requests. When combined
            with a Gateway listener, it can be used to forward connections on the
            port specified by the listener to a set of backends specified by the TCPRoute.
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: Spec defines the desired state of TCPRoute.
              properties:
                parentRefs:
                  description: "ParentRefs references the resources (usually Gateways)
                    that a Route wants to be attached to. Note that the referenced
                    parent resource needs to allow this for the attachment to be complete.
                    For Gateways, that means the Gateway needs to allow attachment
                    from Routes of this kind and namespace. For Services, that means
                    the Service must either be in the same namespace for a \"producer\"
                    route, or the mesh implementation must support and allow \"consumer\"
                    routes for the referenced Service. ReferenceGrant is not applicable
                    for governing ParentRefs to Services - it is not possible to create
                    a \"producer\" route for a Service in a different namespace from
                    the Route. \n There are two kinds of parent resources with \"Core\"
                    support: \n * Gateway (Gateway conformance profile)  * Service
                    (Mesh conformance profile, experimental, ClusterIP Services only)
                    \ This API may be extended in the future to support additional
                    kinds of parent resources. \n ParentRefs must be _distinct_. This
                    means either that: \n * They select different objects.  If this
                    is the case, then parentRef entries are distinct. In terms of
                    fields, this means that the multi-part key defined by `group`,
                    `kind`, `namespace`, and `name` must be unique across all parentRef
                    entries in the Route. * They do not select different objects,
                    but for each optional field used, each ParentRef that selects
                    the same object must set the same set of optional fields to different
                    values. If one ParentRef sets a combination of optional fields,
                    all must set the same combination. \n Some examples: \n * If one
                    ParentRef sets `sectionName`, all ParentRefs referencing the same
                    object must also set `sectionName`. * If one ParentRef sets `port`,
                    all ParentRefs referencing the same object must also set `port`.
                    * If one ParentRef sets `sectionName` and `port`, all ParentRefs
                    referencing the same object must also set `sectionName` and `port`.
                    \n It is possible to separately reference multiple distinct objects
                    that may be collapsed by an implementation. For example, some
                    implementations may choose to merge compatible Gateway Listeners
                    together. If that is the case, the list of routes attached to
                    those resources should also be merged. \n Note that for ParentRefs
                    that cross namespace boundaries, there are specific rules. Cross-namespace
                    references are only valid if they are explicitly allowed by something
                    in the namespace they are referring to. For example, Gateway has
                    the AllowedRoutes field, and ReferenceGrant provides a generic
                    way to enable other kinds of cross-namespace reference. \n  ParentRefs
                    from a Route to a Service in the same namespace are \"producer\"
                    routes, which apply default routing rules to inbound connections
                    from any namespace to the Service. \n ParentRefs from a Route
                    to a Service in a different namespace are \"consumer\" routes,
                    and these routing rules are only applied to outbound connections
                    originating from the same namespace as the Route, for which the
                    intended destination of the connections are a Service targeted
                    as a ParentRef of the Route.  \n "
                  items:
                    description: "ParentReference identifies an API object (usually
                      a Gateway) that can be considered a parent of this resource
                      (usually a route). There are two kinds of parent resources with
                      \"Core\" support: \n * Gateway (Gateway conformance profile)
                      * Service (Mesh conformance profile, experimental, ClusterIP
                      Services only) \n This API may be extended in the future to
                      support additional kinds of parent resources. \n The API object
                      must be valid in the cluster; the Group and Kind must be registered
                      in the cluster for this reference to be valid."
                    properties:
                      group:
                        default: gateway.networking.k8s.io
                        description: "Group is the group of the referent. When unspecified,
                          \"gateway.networking.k8s.io\" is inferred. To set the core
                          API group (such as for a \"Service\" kind referent), Group
                          must be explicitly set to \"\" (empty string). \n Support:
                          Core"
                        maxLength: 253
                        pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                      kind:
                        default: Gateway
                        description: "Kind is kind of the referent. \n There are two
                          kinds of parent resources with \"Core\" support: \n * Gateway
                          (Gateway conformance profile) * Service (Mesh conformance
                          profile, experimental, ClusterIP Services only) \n Support
                          for other resources is Implementation-Specific."
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                        type: string
                      name:
                        description: "Name is the name of the referent. \n Support:
                          Core"
                        maxLength: 253
                        minLength: 1
                        type: string
                      namespace:
                        description: "Namespace is the namespace of the referent.
                          When unspecified, this refers to the local namespace of
                          the Route. \n Note that there are specific rules for ParentRefs
                          which cross namespace boundaries. Cross-namespace references
                          are only valid if they are explicitly allowed by something
                          in the namespace they are referring to. For example: Gateway
                          has the AllowedRoutes field, and ReferenceGrant provides
                          a generic way to enable any other kind of cross-namespace
                          reference. \n  ParentRefs from a Route to a Service in the
                          same namespace are \"producer\" routes, which apply default
                          routing rules to inbound connections from any namespace
                          to the Service. \n ParentRefs from a Route to a Service
                          in a different namespace are \"consumer\" routes, and these
                          routing rules are only applied to outbound connections originating
                          from the same namespace as the Route, for which the intended
                          destination of the connections are a Service targeted as
                          a ParentRef of the Route.  \n Support: Core"
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                        type: string
                      port:
                        description: "Port is the network port this Route targets.
                          It can be interpreted differently based on the type of parent
                          resource. \n When the parent resource is a Gateway, this
                          targets all listeners listening on the specified port that
                          also support this kind of Route(and select this Route).
                          It's not recommended to set `Port` unless the networking
                          behaviors specified in a Route must apply to a specific
                          port as opposed to a listener(s) whose port(s) may be changed.
                          When both Port and SectionName are specified, the name and
                          port of the selected listener must match both specified
                          values. \n  When the parent resource is a Service, this
                          targets a specific port in the Service spec. When both Port
                          (experimental) and SectionName are specified, the name and
                          port of the selected port must match both specified values.
                          \ \n Implementations MAY choose to support other parent
                          resources. Implementations supporting other types of parent
                          resources MUST clearly document how/if Port is interpreted.
                          \n For the purpose of status, an attachment is considered
                          successful as long as the parent resource accepts it partially.
                          For example, Gateway listeners can restrict which Routes
                          can attach to them by Route kind, namespace, or hostname.
                          If 1 of 2 Gateway listeners accept attachment from the referencing
                          Route, the Route MUST be considered successfully attached.
                          If no Gateway listeners accept attachment from this Route,
                          the Route MUST be considered detached from the Gateway.
                          \n Support: Extended \n "
                        format: int32
                        maximum: 65535
                        minimum: 1
                        type: integer
                      sectionName:
                        description: "SectionName is the name of a section within
                          the target resource. In the following resources, SectionName
                          is interpreted as the following: \n * Gateway: Listener
                          Name. When both Port (experimental) and SectionName are
                          specified, the name and port of the selected listener must
                          match both specified values. * Service: Port Name. When
                          both Port (experimental) and SectionName are specified,
                          the name and port of the selected listener must match both
                          specified values. Note that attaching Routes to Services
                          as Parents is part of experimental Mesh support and is not
                          supported for any other purpose. \n Implementations MAY
                          choose to support attaching Routes to other resources. If
                          that is the case, they MUST clearly document how SectionName
                          is interpreted. \n When unspecified (empty string), this
                          will reference the entire resource. For the purpose of status,
                          an attachment is considered successful if at least one section
                          in the parent resource accepts it. For example, Gateway
                          listeners can restrict which Routes can attach to them by
                          Route kind, namespace, or hostname. If 1 of 2 Gateway listeners
                          accept attachment from the referencing Route, the Route
                          MUST be considered successfully attached. If no Gateway
                          listeners accept attachment from this Route, the Route MUST
                          be considered detached from the Gateway. \n Support: Core"
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                    required:
                    - name
                    type: object
                  maxItems: 32
                  type: array
                  x-kubernetes-validations:
                  - message: sectionName or port must be specified when parentRefs
                      includes 2 or more references to the same parent
                    rule: 'self.all(p1, self.all(p2, p1.group == p2.group && p1.kind
                      == p2.kind && p1.name == p2.name && (((!has(p1.__namespace__)
                      || p1.__namespace__ == '''') && (!has(p2.__namespace__) || p2.__namespace__
                      == '''')) || (has(p1.__namespace__) && has(p2.__namespace__)
                      && p1.__namespace__ == p2.__namespace__)) ? ((!has(p1.sectionName)
                      || p1.sectionName == '''') == (!has(p2.sectionName) || p2.sectionName
                      == '''') && (!has(p1.port) || p1.port == 0) == (!has(p2.port)
                      || p2.port == 0)): true))'
                  - message: sectionName or port must be unique when parentRefs includes
                      2 or more references to the same parent
                    rule: self.all(p1, self.exists_one(p2, p1.group == p2.group &&
                      p1.kind == p2.kind && p1.name == p2.name && (((!has(p1.__namespace__)
                      || p1.__namespace__ == '') && (!has(p2.__namespace__) || p2.__namespace__
                      == '')) || (has(p1.__namespace__) && has(p2.__namespace__) &&
                      p1.__namespace__ == p2.__namespace__ )) && (((!has(p1.sectionName)
                      || p1.sectionName == '') && (!has(p2.sectionName) || p2.sectionName
                      == '')) || ( has(p1.sectionName) && has(p2.sectionName) && p1.sectionName
                      == p2.sectionName)) && (((!has(p1.port) || p1.port == 0) &&
                      (!has(p2.port) || p2.port == 0)) || (has(p1.port) && has(p2.port)
                      && p1.port == p2.port))))
                rules:
                  description: Rules are a list of TCP matchers and actions.
                  items:
                    description: TCPRouteRule is the configuration for a given rule.
                    properties:
                      backendRefs:
                        description: "BackendRefs defines the backend(s) where matching
                          requests should be sent. If unspecified or invalid (refers
                          to a non-existent resource or a Service with no endpoints),
                          the underlying implementation MUST actively reject connection
                          attempts to this backend. Connection rejections must respect
                          weight; if an invalid backend is requested to have 80% of
                          connections, then 80% of connections must be rejected instead.
                          \n Support: Core for Kubernetes Service \n Support: Extended
                          for Kubernetes ServiceImport \n Support: Implementation-specific
                          for any other resource \n Support for weight: Extended"
                        items:
                          description: "BackendRef defines how a Route should forward
                            a request to a Kubernetes resource. \n Note that when
                            a namespace different than the local namespace is specified,
                            a ReferenceGrant object is required in the referent namespace
                            to allow that namespace's owner to accept the reference.
                            See the ReferenceGrant documentation for details. \n <gateway:experimental:description>
                            \n When the BackendRef points to a Kubernetes Service,
                            implementations SHOULD honor the appProtocol field if
                            it is set for the target Service Port. \n Implementations
                            supporting appProtocol SHOULD recognize the Kubernetes
                            Standard Application Protocols defined in KEP-3726. \n
                            If a Service appProtocol isn't specified, an implementation
                            MAY infer the backend protocol through its own means.
                            Implementations MAY infer the protocol from the Route
                            type referring to the backend Service. \n If a Route is
                            not able to send traffic to the backend using the specified
                            protocol then the backend is considered invalid. Implementations
                            MUST set the \"ResolvedRefs\" condition to \"False\" with
                            the \"UnsupportedProtocol\" reason. \n </gateway:experimental:description>
                            \n Note that when the BackendTLSPolicy object is enabled
                            by the implementation, there are some extra rules about
                            validity to consider here. See the fields where this struct
                            is used for more information about the exact behavior."
                          properties:
                            group:
                              default: ""
                              description: Group is the group of the referent. For
                                example, "gateway.networking.k8s.io". When unspecified
                                or empty string, core API group is inferred.
                              maxLength: 253
                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                            kind:
                              default: Service
                              description: "Kind is the Kubernetes resource kind of
                                the referent. For example \"Service\". \n Defaults
                                to \"Service\" when not specified. \n ExternalName
                                services can refer to CNAME DNS records that may live
                                outside of the cluster and as such are difficult to
                                reason about in terms of conformance. They also may
                                not be safe to forward to (see CVE-2021-25740 for
                                more information). Implementations SHOULD NOT support
                                ExternalName Services. \n Support: Core (Services
                                with a type other than ExternalName) \n Support: Implementation-specific
                                (Services with type ExternalName)"
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                              type: string
                            name:
                              description: Name is the name of the referent.
                              maxLength: 253
                              minLength: 1
                              type: string
                            namespace:
                              description: "Namespace is the namespace of the backend.
                                When unspecified, the local namespace is inferred.
                                \n Note that when a namespace different than the local
                                namespace is specified, a ReferenceGrant object is
                                required in the referent namespace to allow that namespace's
                                owner to accept the reference. See the ReferenceGrant
                                documentation for details. \n Support: Core"
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                              type: string
                            port:
                              description: Port specifies the destination port number
                                to use for this resource. Port is required when the
                                referent is a Kubernetes Service. In this case, the
                                port number is the service port number, not the target
                                port. For other resources, destination port might
                                be derived from the referent resource or this field.
                              format: int32
                              maximum: 65535
                              minimum: 1
                              type: integer
                            weight:
                              default: 1
                              description: "Weight specifies the proportion of requests
                                forwarded to the referenced backend. This is computed
                                as weight/(sum of all weights in this BackendRefs
                                list). For non-zero values, there may be some epsilon
                                from the exact proportion defined here depending on
                                the precision an implementation supports. Weight is
                                not a percentage and the sum of weights does not need
                                to equal 100. \n If only one backend is specified
                                and it has a weight greater than 0, 100% of the traffic
                                is forwarded to that backend. If weight is set to
                                0, no traffic should be forwarded for this entry.
                                If unspecified, weight defaults to 1. \n Support for
                                this field varies based on the context where used."
                              format: int32
                              maximum: 1000000
                              minimum: 0
                              type: integer
                          required:
                          - name
                          type: object
                          x-kubernetes-validations:
                          - message: Must have port for Service reference
                            rule: '(size(self.group) == 0 && self.kind == ''Service'')
                              ? has(self.port) : true'
                        maxItems: 16
                        minItems: 1
                        type: array
                    type: object
                  maxItems: 16
                  minItems: 1
                  type: array
              required:
              - rules
              type: object
            status:
              description: Status defines the current state of TCPRoute.
              properties:
                parents:
                  description: "Parents is a list of parent resources (usually Gateways)
                    that are associated with the route, and the status of the route
                    with respect to each parent. When this route attaches to a parent,
                    the controller that manages the parent must add an entry to this
                    list when the controller first sees the route and should update
                    the entry as appropriate when the route or gateway is modified.
                    \n Note that parent references that cannot be resolved by an implementation
                    of this API will not be added to this list. Implementations of
                    this API can only populate Route status for the Gateways/parent
                    resources they are responsible for. \n A maximum of 32 Gateways
                    will be represented in this list. An empty list means the route
                    has not been attached to any Gateway."
                  items:
                    description: RouteParentStatus describes the status of a route
                      with respect to an associated Parent.
                    properties:
                      conditions:
                        description: "Conditions describes the status of the route
                          with respect to the Gateway. Note that the route's availability
                          is also subject to the Gateway's own status conditions and
                          listener status. \n If the Route's ParentRef specifies an
                          existing Gateway that supports Routes of this kind AND that
                          Gateway's controller has sufficient access, then that Gateway's
                          controller MUST set the \"Accepted\" condition on the Route,
                          to indicate whether the route has been accepted or rejected
                          by the Gateway, and why. \n A Route MUST be considered \"Accepted\"
                          if at least one of the Route's rules is implemented by the
                          Gateway. \n There are a number of cases where the \"Accepted\"
                          condition may not be set due to lack of controller visibility,
                          that includes when: \n * The Route refers to a non-existent
                          parent. * The Route is of a type that the controller does
                          not support. * The Route is in a namespace the controller
                          does not have access to."
                        items:
                          description: "Condition contains details for one aspect
                            of the current state of this API Resource. --- This struct
                            is intended for direct use as an array at the field path
                            .status.conditions.  For example, \n type FooStatus struct{
                            // Represents the observations of a foo's current state.
                            // Known .status.conditions.type are: \"Available\", \"Progressing\",
                            and \"Degraded\" // +patchMergeKey=type // +patchStrategy=merge
                            // +listType=map // +listMapKey=type Conditions []metav1.Condition
                            `json:\"conditions,omitempty\" patchStrategy:\"merge\"
                            patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`
                            \n // other fields }"
                          properties:
                            lastTransitionTime:
                              description: lastTransitionTime is the last time the
                                condition transitioned from one status to another.
                                This should be when the underlying condition changed.  If
                                that is not known, then using the time when the API
                                field changed is acceptable.
                              format: date-time
                              type: string
                            message:
                              description: message is a human readable message indicating
                                details about the transition. This may be an empty
                                string.
                              maxLength: 32768
                              type: string
                            observedGeneration:
                              description: observedGeneration represents the .metadata.generation
                                that the condition was set based upon. For instance,
                                if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration
                                is 9, the condition is out of date with respect to
                                the current state of the instance.
                              format: int64
                              minimum: 0
                              type: integer
                            reason:
                              description: reason contains a programmatic identifier
                                indicating the reason for the condition's last transition.
                                Producers of specific condition types may define expected
                                values and meanings for this field, and whether the
                                values are considered a guaranteed API. The value
                                should be a CamelCase string. This field may not be
                                empty.
                              maxLength: 1024
                              minLength: 1
                              pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                              type: string
                            status:
                              description: status of the condition, one of True, False,
                                Unknown.
                              enum:
                              - "True"
                              - "False"
                              - Unknown
                              type: string
                            type:
                              description: type of condition in CamelCase or in foo.example.com/CamelCase.
                                --- Many .condition.type values are consistent across
                                resources like Available, but because arbitrary conditions
                                can be useful (see .node.status.conditions), the ability
                                to deconflict is important. The regex it matches is
                                (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                              maxLength: 316
                              pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                              type: string
                          required:
                          - lastTransitionTime
                          - message
                          - reason
                          - status
                          - type
                          type: object
                        maxItems: 8
                        minItems: 1
                        type: array
                        x-kubernetes-list-map-keys:
                        - type
                        x-kubernetes-list-type: map
                      controllerName:
                        description: "ControllerName is a domain/path string that
                          indicates the name of the controller that wrote this status.
                          This corresponds with the controllerName field on GatewayClass.
                          \n Example: \"example.net/gateway-controller\". \n The format
                          of this field is DOMAIN \"/\" PATH, where DOMAIN and PATH
                          are valid Kubernetes names (https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names).
                          \n Controllers MUST populate this field when writing status.
                          Controllers should ensure that entries to status populated
                          with their ControllerName are cleaned up when they are no
                          longer necessary."
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                        type: string
                      parentRef:
                        description: ParentRef corresponds with a ParentRef in the
                          spec that this RouteParentStatus struct describes the status
                          of.
                        properties:
                          group:
                            default: gateway.networking.k8s.io
                            description: "Group is the group of the referent. When
                              unspecified, \"gateway.networking.k8s.io\" is inferred.
                              To set the core API group (such as for a \"Service\"
                              kind referent), Group must be explicitly set to \"\"
                              (empty string). \n Support: Core"
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Gateway
                            description: "Kind is kind of the referent. \n There are
                              two kinds of parent resources with \"Core\" support:
                              \n * Gateway (Gateway conformance profile) * Service
                              (Mesh conformance profile, experimental, ClusterIP Services
                              only) \n Support for other resources is Implementation-Specific."
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: "Name is the name of the referent. \n Support:
                              Core"
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: "Namespace is the namespace of the referent.
                              When unspecified, this refers to the local namespace
                              of the Route. \n Note that there are specific rules
                              for ParentRefs which cross namespace boundaries. Cross-namespace
                              references are only valid if they are explicitly allowed
                              by something in the namespace they are referring to.
                              For example: Gateway has the AllowedRoutes field, and
                              ReferenceGrant provides a generic way to enable any
                              other kind of cross-namespace reference. \n  ParentRefs
                              from a Route to a Service in the same namespace are
                              \"producer\" routes, which apply default routing rules
                              to inbound connections from any namespace to the Service.
                              \n ParentRefs from a Route to a Service in a different
                              namespace are \"consumer\" routes, and these routing
                              rules are only applied to outbound connections originating
                              from the same namespace as the Route, for which the
                              intended destination of the connections are a Service
                              targeted as a ParentRef of the Route.  \n Support: Core"
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                          port:
                            description: "Port is the network port this Route targets.
                              It can be interpreted differently based on the type
                              of parent resource. \n When the parent resource is a
                              Gateway, this targets all listeners listening on the
                              specified port that also support this kind of Route(and
                              select this Route). It's not recommended to set `Port`
                              unless the networking behaviors specified in a Route
                              must apply to a specific port as opposed to a listener(s)
                              whose port(s) may be changed. When both Port and SectionName
                              are specified, the name and port of the selected listener
                              must match both specified values. \n  When the parent
                              resource is a Service, this targets a specific port
                              in the Service spec. When both Port (experimental) and
                              SectionName are specified, the name and port of the
                              selected port must match both specified values.  \n
                              Implementations MAY choose to support other parent resources.
                              Implementations supporting other types of parent resources
                              MUST clearly document how/if Port is interpreted. \n
                              For the purpose of status, an attachment is considered
                              successful as long as the parent resource accepts it
                              partially. For example, Gateway listeners can restrict
                              which Routes can attach to them by Route kind, namespace,
                              or hostname. If 1 of 2 Gateway listeners accept attachment
                              from the referencing Route, the Route MUST be considered
                              successfully attached. If no Gateway listeners accept
                              attachment from this Route, the Route MUST be considered
                              detached from the Gateway. \n Support: Extended \n "
                            format: int32
                            maximum: 65535
                            minimum: 1
                            type: integer
                          sectionName:
                            description: "SectionName is the name of a section within
                              the target resource. In the following resources, SectionName
                              is interpreted as the following: \n * Gateway: Listener
                              Name. When both Port (experimental) and SectionName
                              are specified, the name and port of the selected listener
                              must match both specified values. * Service: Port Name.
                              When both Port (experimental) and SectionName are specified,
                              the name and port of the selected listener must match
                              both specified values. Note that attaching Routes to
                              Services as Parents is part of experimental Mesh support
                              and is not supported for any other purpose. \n Implementations
                              MAY choose to support attaching Routes to other resources.
                              If that is the case, they MUST clearly document how
                              SectionName is interpreted. \n When unspecified (empty
                              string), this will reference the entire resource. For
                              the purpose of status, an attachment is considered successful
                              if at least one section in the parent resource accepts
                              it. For example, Gateway listeners can restrict which
                              Routes can attach to them by Route kind, namespace,
                              or hostname. If 1 of 2 Gateway listeners accept attachment
                              from the referencing Route, the Route MUST be considered
                              successfully attached. If no Gateway listeners accept
                              attachment from this Route, the Route MUST be considered
                              detached from the Gateway. \n Support: Core"
                            maxLength: 253
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                        required:
                        - name
                        type: object
                    required:
                    - controllerName
                    - parentRef
                    type: object
                  maxItems: 32
                  type: array
              required:
              - parents
              type: object
          required:
          - spec
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - gateway-api
      kind: TCPRoute
      listKind: TCPRouteList
      plural: tcproutes
      singular: tcproute
    conditions:
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: approved in https://github.com/kubernetes-sigs/gateway-api/pull/2466
      reason: ApprovedAnnotation
      status: "True"
      type: KubernetesAPIApprovalPolicyConformant
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha2
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      helm.sh/resource-policy: keep
    creationTimestamp: "2024-04-07T12:56:56Z"
    generation: 1
    labels:
      app: istio-pilot
      chart: istio
      heritage: Tiller
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio: telemetry
      istio.io/rev: default
      operator.istio.io/component: Base
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: telemetries.telemetry.istio.io
    resourceVersion: "1904526"
    uid: f438e433-17c7-4c73-99ab-33d195c03a11
  spec:
    conversion:
      strategy: None
    group: telemetry.istio.io
    names:
      categories:
      - istio-io
      - telemetry-istio-io
      kind: Telemetry
      listKind: TelemetryList
      plural: telemetries
      shortNames:
      - telemetry
      singular: telemetry
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - description: 'CreationTimestamp is a timestamp representing the server time
          when this object was created. It is not guaranteed to be set in happens-before
          order across separate operations. Clients may not set this value. It is
          represented in RFC3339 form and is in UTC. Populated by the system. Read-only.
          Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
        jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1alpha1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Telemetry configuration for workloads. See more details
                at: https://istio.io/docs/reference/config/telemetry.html'
              properties:
                accessLogging:
                  description: Optional.
                  items:
                    properties:
                      disabled:
                        description: Controls logging.
                        nullable: true
                        type: boolean
                      filter:
                        description: Optional.
                        properties:
                          expression:
                            description: CEL expression for selecting when requests/connections
                              should be logged.
                            type: string
                        type: object
                      match:
                        description: Allows tailoring of logging behavior to specific
                          conditions.
                        properties:
                          mode:
                            description: This determines whether or not to apply the
                              access logging configuration based on the direction
                              of traffic relative to the proxied workload.
                            enum:
                            - CLIENT_AND_SERVER
                            - CLIENT
                            - SERVER
                            type: string
                        type: object
                      providers:
                        description: Optional.
                        items:
                          properties:
                            name:
                              description: Required.
                              minLength: 1
                              type: string
                          required:
                          - name
                          type: object
                        type: array
                    type: object
                  type: array
                metrics:
                  description: Optional.
                  items:
                    properties:
                      overrides:
                        description: Optional.
                        items:
                          properties:
                            disabled:
                              description: Optional.
                              nullable: true
                              type: boolean
                            match:
                              description: Match allows providing the scope of the
                                override.
                              oneOf:
                              - not:
                                  anyOf:
                                  - required:
                                    - metric
                                  - required:
                                    - customMetric
                              - required:
                                - metric
                              - required:
                                - customMetric
                              properties:
                                customMetric:
                                  description: Allows free-form specification of a
                                    metric.
                                  minLength: 1
                                  type: string
                                metric:
                                  description: One of the well-known [Istio Standard
                                    Metrics](https://istio.io/latest/docs/reference/config/metrics/).
                                  enum:
                                  - ALL_METRICS
                                  - REQUEST_COUNT
                                  - REQUEST_DURATION
                                  - REQUEST_SIZE
                                  - RESPONSE_SIZE
                                  - TCP_OPENED_CONNECTIONS
                                  - TCP_CLOSED_CONNECTIONS
                                  - TCP_SENT_BYTES
                                  - TCP_RECEIVED_BYTES
                                  - GRPC_REQUEST_MESSAGES
                                  - GRPC_RESPONSE_MESSAGES
                                  type: string
                                mode:
                                  description: 'Controls which mode of metrics generation
                                    is selected: `CLIENT`, `SERVER`, or `CLIENT_AND_SERVER`.'
                                  enum:
                                  - CLIENT_AND_SERVER
                                  - CLIENT
                                  - SERVER
                                  type: string
                              type: object
                            tagOverrides:
                              additionalProperties:
                                properties:
                                  operation:
                                    description: Operation controls whether or not
                                      to update/add a tag, or to remove it.
                                    enum:
                                    - UPSERT
                                    - REMOVE
                                    type: string
                                  value:
                                    description: Value is only considered if the operation
                                      is `UPSERT`.
                                    type: string
                                type: object
                                x-kubernetes-validations:
                                - message: value must be set when operation is UPSERT
                                  rule: '((has(self.operation) ? self.operation :
                                    '''') == ''UPSERT'') ? self.value != '''' : true'
                                - message: value must not be set when operation is
                                    REMOVE
                                  rule: '((has(self.operation) ? self.operation :
                                    '''') == ''REMOVE'') ? !has(self.value) : true'
                              description: Optional.
                              type: object
                          type: object
                        type: array
                      providers:
                        description: Optional.
                        items:
                          properties:
                            name:
                              description: Required.
                              minLength: 1
                              type: string
                          required:
                          - name
                          type: object
                        type: array
                      reportingInterval:
                        description: Optional.
                        type: string
                    type: object
                  type: array
                selector:
                  description: Optional.
                  properties:
                    matchLabels:
                      additionalProperties:
                        type: string
                      description: One or more labels that indicate a specific set
                        of pods/VMs on which a policy should be applied.
                      type: object
                  type: object
                targetRef:
                  description: Optional.
                  properties:
                    group:
                      description: group is the group of the target resource.
                      type: string
                    kind:
                      description: kind is kind of the target resource.
                      type: string
                    name:
                      description: name is the name of the target resource.
                      type: string
                    namespace:
                      description: namespace is the namespace of the referent.
                      type: string
                  type: object
                tracing:
                  description: Optional.
                  items:
                    properties:
                      customTags:
                        additionalProperties:
                          oneOf:
                          - not:
                              anyOf:
                              - required:
                                - literal
                              - required:
                                - environment
                              - required:
                                - header
                          - required:
                            - literal
                          - required:
                            - environment
                          - required:
                            - header
                          properties:
                            environment:
                              description: Environment adds the value of an environment
                                variable to each span.
                              properties:
                                defaultValue:
                                  description: Optional.
                                  type: string
                                name:
                                  description: Name of the environment variable from
                                    which to extract the tag value.
                                  minLength: 1
                                  type: string
                              required:
                              - name
                              type: object
                            header:
                              description: RequestHeader adds the value of an header
                                from the request to each span.
                              properties:
                                defaultValue:
                                  description: Optional.
                                  type: string
                                name:
                                  description: Name of the header from which to extract
                                    the tag value.
                                  minLength: 1
                                  type: string
                              required:
                              - name
                              type: object
                            literal:
                              description: Literal adds the same, hard-coded value
                                to each span.
                              properties:
                                value:
                                  description: The tag value to use.
                                  minLength: 1
                                  type: string
                              required:
                              - value
                              type: object
                          type: object
                        description: Optional.
                        type: object
                      disableSpanReporting:
                        description: Controls span reporting.
                        nullable: true
                        type: boolean
                      match:
                        description: Allows tailoring of behavior to specific conditions.
                        properties:
                          mode:
                            description: This determines whether or not to apply the
                              tracing configuration based on the direction of traffic
                              relative to the proxied workload.
                            enum:
                            - CLIENT_AND_SERVER
                            - CLIENT
                            - SERVER
                            type: string
                        type: object
                      providers:
                        description: Optional.
                        items:
                          properties:
                            name:
                              description: Required.
                              minLength: 1
                              type: string
                          required:
                          - name
                          type: object
                        type: array
                      randomSamplingPercentage:
                        description: Controls the rate at which traffic will be selected
                          for tracing if no prior sampling decision has been made.
                        maximum: 100
                        minimum: 0
                        nullable: true
                        type: number
                      useRequestIdForTraceSampling:
                        nullable: true
                        type: boolean
                    type: object
                  type: array
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - istio-io
      - telemetry-istio-io
      kind: Telemetry
      listKind: TelemetryList
      plural: telemetries
      shortNames:
      - telemetry
      singular: telemetry
    conditions:
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      api-approved.kubernetes.io: https://github.com/kubernetes-sigs/gateway-api/pull/2466
      gateway.networking.k8s.io/bundle-version: v1.0.0
      gateway.networking.k8s.io/channel: experimental
    creationTimestamp: "2024-04-11T07:49:06Z"
    generation: 1
    name: tlsroutes.gateway.networking.k8s.io
    resourceVersion: "2269539"
    uid: 41155de6-0494-4297-ae88-67d64ca47b8e
  spec:
    conversion:
      strategy: None
    group: gateway.networking.k8s.io
    names:
      categories:
      - gateway-api
      kind: TLSRoute
      listKind: TLSRouteList
      plural: tlsroutes
      singular: tlsroute
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1alpha2
      schema:
        openAPIV3Schema:
          description: "The TLSRoute resource is similar to TCPRoute, but can be configured
            to match against TLS-specific metadata. This allows more flexibility in
            matching streams for a given TLS listener. \n If you need to forward traffic
            to a single target for a TLS listener, you could choose to use a TCPRoute
            with a TLS listener."
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: Spec defines the desired state of TLSRoute.
              properties:
                hostnames:
                  description: "Hostnames defines a set of SNI names that should match
                    against the SNI attribute of TLS ClientHello message in TLS handshake.
                    This matches the RFC 1123 definition of a hostname with 2 notable
                    exceptions: \n 1. IPs are not allowed in SNI names per RFC 6066.
                    2. A hostname may be prefixed with a wildcard label (`*.`). The
                    wildcard label must appear by itself as the first label. \n If
                    a hostname is specified by both the Listener and TLSRoute, there
                    must be at least one intersecting hostname for the TLSRoute to
                    be attached to the Listener. For example: \n * A Listener with
                    `test.example.com` as the hostname matches TLSRoutes that have
                    either not specified any hostnames, or have specified at least
                    one of `test.example.com` or `*.example.com`. * A Listener with
                    `*.example.com` as the hostname matches TLSRoutes that have either
                    not specified any hostnames or have specified at least one hostname
                    that matches the Listener hostname. For example, `test.example.com`
                    and `*.example.com` would both match. On the other hand, `example.com`
                    and `test.example.net` would not match. \n If both the Listener
                    and TLSRoute have specified hostnames, any TLSRoute hostnames
                    that do not match the Listener hostname MUST be ignored. For example,
                    if a Listener specified `*.example.com`, and the TLSRoute specified
                    `test.example.com` and `test.example.net`, `test.example.net`
                    must not be considered for a match. \n If both the Listener and
                    TLSRoute have specified hostnames, and none match with the criteria
                    above, then the TLSRoute is not accepted. The implementation must
                    raise an 'Accepted' Condition with a status of `False` in the
                    corresponding RouteParentStatus. \n Support: Core"
                  items:
                    description: "Hostname is the fully qualified domain name of a
                      network host. This matches the RFC 1123 definition of a hostname
                      with 2 notable exceptions: \n 1. IPs are not allowed. 2. A hostname
                      may be prefixed with a wildcard label (`*.`). The wildcard label
                      must appear by itself as the first label. \n Hostname can be
                      \"precise\" which is a domain name without the terminating dot
                      of a network host (e.g. \"foo.example.com\") or \"wildcard\",
                      which is a domain name prefixed with a single wildcard label
                      (e.g. `*.example.com`). \n Note that as per RFC1035 and RFC1123,
                      a *label* must consist of lower case alphanumeric characters
                      or '-', and must start and end with an alphanumeric character.
                      No other punctuation is allowed."
                    maxLength: 253
                    minLength: 1
                    pattern: ^(\*\.)?[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  maxItems: 16
                  type: array
                parentRefs:
                  description: "ParentRefs references the resources (usually Gateways)
                    that a Route wants to be attached to. Note that the referenced
                    parent resource needs to allow this for the attachment to be complete.
                    For Gateways, that means the Gateway needs to allow attachment
                    from Routes of this kind and namespace. For Services, that means
                    the Service must either be in the same namespace for a \"producer\"
                    route, or the mesh implementation must support and allow \"consumer\"
                    routes for the referenced Service. ReferenceGrant is not applicable
                    for governing ParentRefs to Services - it is not possible to create
                    a \"producer\" route for a Service in a different namespace from
                    the Route. \n There are two kinds of parent resources with \"Core\"
                    support: \n * Gateway (Gateway conformance profile)  * Service
                    (Mesh conformance profile, experimental, ClusterIP Services only)
                    \ This API may be extended in the future to support additional
                    kinds of parent resources. \n ParentRefs must be _distinct_. This
                    means either that: \n * They select different objects.  If this
                    is the case, then parentRef entries are distinct. In terms of
                    fields, this means that the multi-part key defined by `group`,
                    `kind`, `namespace`, and `name` must be unique across all parentRef
                    entries in the Route. * They do not select different objects,
                    but for each optional field used, each ParentRef that selects
                    the same object must set the same set of optional fields to different
                    values. If one ParentRef sets a combination of optional fields,
                    all must set the same combination. \n Some examples: \n * If one
                    ParentRef sets `sectionName`, all ParentRefs referencing the same
                    object must also set `sectionName`. * If one ParentRef sets `port`,
                    all ParentRefs referencing the same object must also set `port`.
                    * If one ParentRef sets `sectionName` and `port`, all ParentRefs
                    referencing the same object must also set `sectionName` and `port`.
                    \n It is possible to separately reference multiple distinct objects
                    that may be collapsed by an implementation. For example, some
                    implementations may choose to merge compatible Gateway Listeners
                    together. If that is the case, the list of routes attached to
                    those resources should also be merged. \n Note that for ParentRefs
                    that cross namespace boundaries, there are specific rules. Cross-namespace
                    references are only valid if they are explicitly allowed by something
                    in the namespace they are referring to. For example, Gateway has
                    the AllowedRoutes field, and ReferenceGrant provides a generic
                    way to enable other kinds of cross-namespace reference. \n  ParentRefs
                    from a Route to a Service in the same namespace are \"producer\"
                    routes, which apply default routing rules to inbound connections
                    from any namespace to the Service. \n ParentRefs from a Route
                    to a Service in a different namespace are \"consumer\" routes,
                    and these routing rules are only applied to outbound connections
                    originating from the same namespace as the Route, for which the
                    intended destination of the connections are a Service targeted
                    as a ParentRef of the Route.  \n "
                  items:
                    description: "ParentReference identifies an API object (usually
                      a Gateway) that can be considered a parent of this resource
                      (usually a route). There are two kinds of parent resources with
                      \"Core\" support: \n * Gateway (Gateway conformance profile)
                      * Service (Mesh conformance profile, experimental, ClusterIP
                      Services only) \n This API may be extended in the future to
                      support additional kinds of parent resources. \n The API object
                      must be valid in the cluster; the Group and Kind must be registered
                      in the cluster for this reference to be valid."
                    properties:
                      group:
                        default: gateway.networking.k8s.io
                        description: "Group is the group of the referent. When unspecified,
                          \"gateway.networking.k8s.io\" is inferred. To set the core
                          API group (such as for a \"Service\" kind referent), Group
                          must be explicitly set to \"\" (empty string). \n Support:
                          Core"
                        maxLength: 253
                        pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                      kind:
                        default: Gateway
                        description: "Kind is kind of the referent. \n There are two
                          kinds of parent resources with \"Core\" support: \n * Gateway
                          (Gateway conformance profile) * Service (Mesh conformance
                          profile, experimental, ClusterIP Services only) \n Support
                          for other resources is Implementation-Specific."
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                        type: string
                      name:
                        description: "Name is the name of the referent. \n Support:
                          Core"
                        maxLength: 253
                        minLength: 1
                        type: string
                      namespace:
                        description: "Namespace is the namespace of the referent.
                          When unspecified, this refers to the local namespace of
                          the Route. \n Note that there are specific rules for ParentRefs
                          which cross namespace boundaries. Cross-namespace references
                          are only valid if they are explicitly allowed by something
                          in the namespace they are referring to. For example: Gateway
                          has the AllowedRoutes field, and ReferenceGrant provides
                          a generic way to enable any other kind of cross-namespace
                          reference. \n  ParentRefs from a Route to a Service in the
                          same namespace are \"producer\" routes, which apply default
                          routing rules to inbound connections from any namespace
                          to the Service. \n ParentRefs from a Route to a Service
                          in a different namespace are \"consumer\" routes, and these
                          routing rules are only applied to outbound connections originating
                          from the same namespace as the Route, for which the intended
                          destination of the connections are a Service targeted as
                          a ParentRef of the Route.  \n Support: Core"
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                        type: string
                      port:
                        description: "Port is the network port this Route targets.
                          It can be interpreted differently based on the type of parent
                          resource. \n When the parent resource is a Gateway, this
                          targets all listeners listening on the specified port that
                          also support this kind of Route(and select this Route).
                          It's not recommended to set `Port` unless the networking
                          behaviors specified in a Route must apply to a specific
                          port as opposed to a listener(s) whose port(s) may be changed.
                          When both Port and SectionName are specified, the name and
                          port of the selected listener must match both specified
                          values. \n  When the parent resource is a Service, this
                          targets a specific port in the Service spec. When both Port
                          (experimental) and SectionName are specified, the name and
                          port of the selected port must match both specified values.
                          \ \n Implementations MAY choose to support other parent
                          resources. Implementations supporting other types of parent
                          resources MUST clearly document how/if Port is interpreted.
                          \n For the purpose of status, an attachment is considered
                          successful as long as the parent resource accepts it partially.
                          For example, Gateway listeners can restrict which Routes
                          can attach to them by Route kind, namespace, or hostname.
                          If 1 of 2 Gateway listeners accept attachment from the referencing
                          Route, the Route MUST be considered successfully attached.
                          If no Gateway listeners accept attachment from this Route,
                          the Route MUST be considered detached from the Gateway.
                          \n Support: Extended \n "
                        format: int32
                        maximum: 65535
                        minimum: 1
                        type: integer
                      sectionName:
                        description: "SectionName is the name of a section within
                          the target resource. In the following resources, SectionName
                          is interpreted as the following: \n * Gateway: Listener
                          Name. When both Port (experimental) and SectionName are
                          specified, the name and port of the selected listener must
                          match both specified values. * Service: Port Name. When
                          both Port (experimental) and SectionName are specified,
                          the name and port of the selected listener must match both
                          specified values. Note that attaching Routes to Services
                          as Parents is part of experimental Mesh support and is not
                          supported for any other purpose. \n Implementations MAY
                          choose to support attaching Routes to other resources. If
                          that is the case, they MUST clearly document how SectionName
                          is interpreted. \n When unspecified (empty string), this
                          will reference the entire resource. For the purpose of status,
                          an attachment is considered successful if at least one section
                          in the parent resource accepts it. For example, Gateway
                          listeners can restrict which Routes can attach to them by
                          Route kind, namespace, or hostname. If 1 of 2 Gateway listeners
                          accept attachment from the referencing Route, the Route
                          MUST be considered successfully attached. If no Gateway
                          listeners accept attachment from this Route, the Route MUST
                          be considered detached from the Gateway. \n Support: Core"
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                    required:
                    - name
                    type: object
                  maxItems: 32
                  type: array
                  x-kubernetes-validations:
                  - message: sectionName or port must be specified when parentRefs
                      includes 2 or more references to the same parent
                    rule: 'self.all(p1, self.all(p2, p1.group == p2.group && p1.kind
                      == p2.kind && p1.name == p2.name && (((!has(p1.__namespace__)
                      || p1.__namespace__ == '''') && (!has(p2.__namespace__) || p2.__namespace__
                      == '''')) || (has(p1.__namespace__) && has(p2.__namespace__)
                      && p1.__namespace__ == p2.__namespace__)) ? ((!has(p1.sectionName)
                      || p1.sectionName == '''') == (!has(p2.sectionName) || p2.sectionName
                      == '''') && (!has(p1.port) || p1.port == 0) == (!has(p2.port)
                      || p2.port == 0)): true))'
                  - message: sectionName or port must be unique when parentRefs includes
                      2 or more references to the same parent
                    rule: self.all(p1, self.exists_one(p2, p1.group == p2.group &&
                      p1.kind == p2.kind && p1.name == p2.name && (((!has(p1.__namespace__)
                      || p1.__namespace__ == '') && (!has(p2.__namespace__) || p2.__namespace__
                      == '')) || (has(p1.__namespace__) && has(p2.__namespace__) &&
                      p1.__namespace__ == p2.__namespace__ )) && (((!has(p1.sectionName)
                      || p1.sectionName == '') && (!has(p2.sectionName) || p2.sectionName
                      == '')) || ( has(p1.sectionName) && has(p2.sectionName) && p1.sectionName
                      == p2.sectionName)) && (((!has(p1.port) || p1.port == 0) &&
                      (!has(p2.port) || p2.port == 0)) || (has(p1.port) && has(p2.port)
                      && p1.port == p2.port))))
                rules:
                  description: Rules are a list of TLS matchers and actions.
                  items:
                    description: TLSRouteRule is the configuration for a given rule.
                    properties:
                      backendRefs:
                        description: "BackendRefs defines the backend(s) where matching
                          requests should be sent. If unspecified or invalid (refers
                          to a non-existent resource or a Service with no endpoints),
                          the rule performs no forwarding; if no filters are specified
                          that would result in a response being sent, the underlying
                          implementation must actively reject request attempts to
                          this backend, by rejecting the connection or returning a
                          500 status code. Request rejections must respect weight;
                          if an invalid backend is requested to have 80% of requests,
                          then 80% of requests must be rejected instead. \n Support:
                          Core for Kubernetes Service \n Support: Extended for Kubernetes
                          ServiceImport \n Support: Implementation-specific for any
                          other resource \n Support for weight: Extended"
                        items:
                          description: "BackendRef defines how a Route should forward
                            a request to a Kubernetes resource. \n Note that when
                            a namespace different than the local namespace is specified,
                            a ReferenceGrant object is required in the referent namespace
                            to allow that namespace's owner to accept the reference.
                            See the ReferenceGrant documentation for details. \n <gateway:experimental:description>
                            \n When the BackendRef points to a Kubernetes Service,
                            implementations SHOULD honor the appProtocol field if
                            it is set for the target Service Port. \n Implementations
                            supporting appProtocol SHOULD recognize the Kubernetes
                            Standard Application Protocols defined in KEP-3726. \n
                            If a Service appProtocol isn't specified, an implementation
                            MAY infer the backend protocol through its own means.
                            Implementations MAY infer the protocol from the Route
                            type referring to the backend Service. \n If a Route is
                            not able to send traffic to the backend using the specified
                            protocol then the backend is considered invalid. Implementations
                            MUST set the \"ResolvedRefs\" condition to \"False\" with
                            the \"UnsupportedProtocol\" reason. \n </gateway:experimental:description>
                            \n Note that when the BackendTLSPolicy object is enabled
                            by the implementation, there are some extra rules about
                            validity to consider here. See the fields where this struct
                            is used for more information about the exact behavior."
                          properties:
                            group:
                              default: ""
                              description: Group is the group of the referent. For
                                example, "gateway.networking.k8s.io". When unspecified
                                or empty string, core API group is inferred.
                              maxLength: 253
                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                            kind:
                              default: Service
                              description: "Kind is the Kubernetes resource kind of
                                the referent. For example \"Service\". \n Defaults
                                to \"Service\" when not specified. \n ExternalName
                                services can refer to CNAME DNS records that may live
                                outside of the cluster and as such are difficult to
                                reason about in terms of conformance. They also may
                                not be safe to forward to (see CVE-2021-25740 for
                                more information). Implementations SHOULD NOT support
                                ExternalName Services. \n Support: Core (Services
                                with a type other than ExternalName) \n Support: Implementation-specific
                                (Services with type ExternalName)"
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                              type: string
                            name:
                              description: Name is the name of the referent.
                              maxLength: 253
                              minLength: 1
                              type: string
                            namespace:
                              description: "Namespace is the namespace of the backend.
                                When unspecified, the local namespace is inferred.
                                \n Note that when a namespace different than the local
                                namespace is specified, a ReferenceGrant object is
                                required in the referent namespace to allow that namespace's
                                owner to accept the reference. See the ReferenceGrant
                                documentation for details. \n Support: Core"
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                              type: string
                            port:
                              description: Port specifies the destination port number
                                to use for this resource. Port is required when the
                                referent is a Kubernetes Service. In this case, the
                                port number is the service port number, not the target
                                port. For other resources, destination port might
                                be derived from the referent resource or this field.
                              format: int32
                              maximum: 65535
                              minimum: 1
                              type: integer
                            weight:
                              default: 1
                              description: "Weight specifies the proportion of requests
                                forwarded to the referenced backend. This is computed
                                as weight/(sum of all weights in this BackendRefs
                                list). For non-zero values, there may be some epsilon
                                from the exact proportion defined here depending on
                                the precision an implementation supports. Weight is
                                not a percentage and the sum of weights does not need
                                to equal 100. \n If only one backend is specified
                                and it has a weight greater than 0, 100% of the traffic
                                is forwarded to that backend. If weight is set to
                                0, no traffic should be forwarded for this entry.
                                If unspecified, weight defaults to 1. \n Support for
                                this field varies based on the context where used."
                              format: int32
                              maximum: 1000000
                              minimum: 0
                              type: integer
                          required:
                          - name
                          type: object
                          x-kubernetes-validations:
                          - message: Must have port for Service reference
                            rule: '(size(self.group) == 0 && self.kind == ''Service'')
                              ? has(self.port) : true'
                        maxItems: 16
                        minItems: 1
                        type: array
                    type: object
                  maxItems: 16
                  minItems: 1
                  type: array
              required:
              - rules
              type: object
            status:
              description: Status defines the current state of TLSRoute.
              properties:
                parents:
                  description: "Parents is a list of parent resources (usually Gateways)
                    that are associated with the route, and the status of the route
                    with respect to each parent. When this route attaches to a parent,
                    the controller that manages the parent must add an entry to this
                    list when the controller first sees the route and should update
                    the entry as appropriate when the route or gateway is modified.
                    \n Note that parent references that cannot be resolved by an implementation
                    of this API will not be added to this list. Implementations of
                    this API can only populate Route status for the Gateways/parent
                    resources they are responsible for. \n A maximum of 32 Gateways
                    will be represented in this list. An empty list means the route
                    has not been attached to any Gateway."
                  items:
                    description: RouteParentStatus describes the status of a route
                      with respect to an associated Parent.
                    properties:
                      conditions:
                        description: "Conditions describes the status of the route
                          with respect to the Gateway. Note that the route's availability
                          is also subject to the Gateway's own status conditions and
                          listener status. \n If the Route's ParentRef specifies an
                          existing Gateway that supports Routes of this kind AND that
                          Gateway's controller has sufficient access, then that Gateway's
                          controller MUST set the \"Accepted\" condition on the Route,
                          to indicate whether the route has been accepted or rejected
                          by the Gateway, and why. \n A Route MUST be considered \"Accepted\"
                          if at least one of the Route's rules is implemented by the
                          Gateway. \n There are a number of cases where the \"Accepted\"
                          condition may not be set due to lack of controller visibility,
                          that includes when: \n * The Route refers to a non-existent
                          parent. * The Route is of a type that the controller does
                          not support. * The Route is in a namespace the controller
                          does not have access to."
                        items:
                          description: "Condition contains details for one aspect
                            of the current state of this API Resource. --- This struct
                            is intended for direct use as an array at the field path
                            .status.conditions.  For example, \n type FooStatus struct{
                            // Represents the observations of a foo's current state.
                            // Known .status.conditions.type are: \"Available\", \"Progressing\",
                            and \"Degraded\" // +patchMergeKey=type // +patchStrategy=merge
                            // +listType=map // +listMapKey=type Conditions []metav1.Condition
                            `json:\"conditions,omitempty\" patchStrategy:\"merge\"
                            patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`
                            \n // other fields }"
                          properties:
                            lastTransitionTime:
                              description: lastTransitionTime is the last time the
                                condition transitioned from one status to another.
                                This should be when the underlying condition changed.  If
                                that is not known, then using the time when the API
                                field changed is acceptable.
                              format: date-time
                              type: string
                            message:
                              description: message is a human readable message indicating
                                details about the transition. This may be an empty
                                string.
                              maxLength: 32768
                              type: string
                            observedGeneration:
                              description: observedGeneration represents the .metadata.generation
                                that the condition was set based upon. For instance,
                                if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration
                                is 9, the condition is out of date with respect to
                                the current state of the instance.
                              format: int64
                              minimum: 0
                              type: integer
                            reason:
                              description: reason contains a programmatic identifier
                                indicating the reason for the condition's last transition.
                                Producers of specific condition types may define expected
                                values and meanings for this field, and whether the
                                values are considered a guaranteed API. The value
                                should be a CamelCase string. This field may not be
                                empty.
                              maxLength: 1024
                              minLength: 1
                              pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                              type: string
                            status:
                              description: status of the condition, one of True, False,
                                Unknown.
                              enum:
                              - "True"
                              - "False"
                              - Unknown
                              type: string
                            type:
                              description: type of condition in CamelCase or in foo.example.com/CamelCase.
                                --- Many .condition.type values are consistent across
                                resources like Available, but because arbitrary conditions
                                can be useful (see .node.status.conditions), the ability
                                to deconflict is important. The regex it matches is
                                (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                              maxLength: 316
                              pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                              type: string
                          required:
                          - lastTransitionTime
                          - message
                          - reason
                          - status
                          - type
                          type: object
                        maxItems: 8
                        minItems: 1
                        type: array
                        x-kubernetes-list-map-keys:
                        - type
                        x-kubernetes-list-type: map
                      controllerName:
                        description: "ControllerName is a domain/path string that
                          indicates the name of the controller that wrote this status.
                          This corresponds with the controllerName field on GatewayClass.
                          \n Example: \"example.net/gateway-controller\". \n The format
                          of this field is DOMAIN \"/\" PATH, where DOMAIN and PATH
                          are valid Kubernetes names (https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names).
                          \n Controllers MUST populate this field when writing status.
                          Controllers should ensure that entries to status populated
                          with their ControllerName are cleaned up when they are no
                          longer necessary."
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                        type: string
                      parentRef:
                        description: ParentRef corresponds with a ParentRef in the
                          spec that this RouteParentStatus struct describes the status
                          of.
                        properties:
                          group:
                            default: gateway.networking.k8s.io
                            description: "Group is the group of the referent. When
                              unspecified, \"gateway.networking.k8s.io\" is inferred.
                              To set the core API group (such as for a \"Service\"
                              kind referent), Group must be explicitly set to \"\"
                              (empty string). \n Support: Core"
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Gateway
                            description: "Kind is kind of the referent. \n There are
                              two kinds of parent resources with \"Core\" support:
                              \n * Gateway (Gateway conformance profile) * Service
                              (Mesh conformance profile, experimental, ClusterIP Services
                              only) \n Support for other resources is Implementation-Specific."
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: "Name is the name of the referent. \n Support:
                              Core"
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: "Namespace is the namespace of the referent.
                              When unspecified, this refers to the local namespace
                              of the Route. \n Note that there are specific rules
                              for ParentRefs which cross namespace boundaries. Cross-namespace
                              references are only valid if they are explicitly allowed
                              by something in the namespace they are referring to.
                              For example: Gateway has the AllowedRoutes field, and
                              ReferenceGrant provides a generic way to enable any
                              other kind of cross-namespace reference. \n  ParentRefs
                              from a Route to a Service in the same namespace are
                              \"producer\" routes, which apply default routing rules
                              to inbound connections from any namespace to the Service.
                              \n ParentRefs from a Route to a Service in a different
                              namespace are \"consumer\" routes, and these routing
                              rules are only applied to outbound connections originating
                              from the same namespace as the Route, for which the
                              intended destination of the connections are a Service
                              targeted as a ParentRef of the Route.  \n Support: Core"
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                          port:
                            description: "Port is the network port this Route targets.
                              It can be interpreted differently based on the type
                              of parent resource. \n When the parent resource is a
                              Gateway, this targets all listeners listening on the
                              specified port that also support this kind of Route(and
                              select this Route). It's not recommended to set `Port`
                              unless the networking behaviors specified in a Route
                              must apply to a specific port as opposed to a listener(s)
                              whose port(s) may be changed. When both Port and SectionName
                              are specified, the name and port of the selected listener
                              must match both specified values. \n  When the parent
                              resource is a Service, this targets a specific port
                              in the Service spec. When both Port (experimental) and
                              SectionName are specified, the name and port of the
                              selected port must match both specified values.  \n
                              Implementations MAY choose to support other parent resources.
                              Implementations supporting other types of parent resources
                              MUST clearly document how/if Port is interpreted. \n
                              For the purpose of status, an attachment is considered
                              successful as long as the parent resource accepts it
                              partially. For example, Gateway listeners can restrict
                              which Routes can attach to them by Route kind, namespace,
                              or hostname. If 1 of 2 Gateway listeners accept attachment
                              from the referencing Route, the Route MUST be considered
                              successfully attached. If no Gateway listeners accept
                              attachment from this Route, the Route MUST be considered
                              detached from the Gateway. \n Support: Extended \n "
                            format: int32
                            maximum: 65535
                            minimum: 1
                            type: integer
                          sectionName:
                            description: "SectionName is the name of a section within
                              the target resource. In the following resources, SectionName
                              is interpreted as the following: \n * Gateway: Listener
                              Name. When both Port (experimental) and SectionName
                              are specified, the name and port of the selected listener
                              must match both specified values. * Service: Port Name.
                              When both Port (experimental) and SectionName are specified,
                              the name and port of the selected listener must match
                              both specified values. Note that attaching Routes to
                              Services as Parents is part of experimental Mesh support
                              and is not supported for any other purpose. \n Implementations
                              MAY choose to support attaching Routes to other resources.
                              If that is the case, they MUST clearly document how
                              SectionName is interpreted. \n When unspecified (empty
                              string), this will reference the entire resource. For
                              the purpose of status, an attachment is considered successful
                              if at least one section in the parent resource accepts
                              it. For example, Gateway listeners can restrict which
                              Routes can attach to them by Route kind, namespace,
                              or hostname. If 1 of 2 Gateway listeners accept attachment
                              from the referencing Route, the Route MUST be considered
                              successfully attached. If no Gateway listeners accept
                              attachment from this Route, the Route MUST be considered
                              detached from the Gateway. \n Support: Core"
                            maxLength: 253
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                        required:
                        - name
                        type: object
                    required:
                    - controllerName
                    - parentRef
                    type: object
                  maxItems: 32
                  type: array
              required:
              - parents
              type: object
          required:
          - spec
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - gateway-api
      kind: TLSRoute
      listKind: TLSRouteList
      plural: tlsroutes
      singular: tlsroute
    conditions:
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: approved in https://github.com/kubernetes-sigs/gateway-api/pull/2466
      reason: ApprovedAnnotation
      status: "True"
      type: KubernetesAPIApprovalPolicyConformant
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha2
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      api-approved.kubernetes.io: https://github.com/kubernetes-sigs/gateway-api/pull/2466
      gateway.networking.k8s.io/bundle-version: v1.0.0
      gateway.networking.k8s.io/channel: experimental
    creationTimestamp: "2024-04-11T07:49:06Z"
    generation: 1
    name: udproutes.gateway.networking.k8s.io
    resourceVersion: "2269551"
    uid: eaf49e86-34ce-4395-a70f-17089f9f577b
  spec:
    conversion:
      strategy: None
    group: gateway.networking.k8s.io
    names:
      categories:
      - gateway-api
      kind: UDPRoute
      listKind: UDPRouteList
      plural: udproutes
      singular: udproute
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1alpha2
      schema:
        openAPIV3Schema:
          description: UDPRoute provides a way to route UDP traffic. When combined
            with a Gateway listener, it can be used to forward traffic on the port
            specified by the listener to a set of backends specified by the UDPRoute.
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the latest
                internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource
                this object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase. More
                info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: Spec defines the desired state of UDPRoute.
              properties:
                parentRefs:
                  description: "ParentRefs references the resources (usually Gateways)
                    that a Route wants to be attached to. Note that the referenced
                    parent resource needs to allow this for the attachment to be complete.
                    For Gateways, that means the Gateway needs to allow attachment
                    from Routes of this kind and namespace. For Services, that means
                    the Service must either be in the same namespace for a \"producer\"
                    route, or the mesh implementation must support and allow \"consumer\"
                    routes for the referenced Service. ReferenceGrant is not applicable
                    for governing ParentRefs to Services - it is not possible to create
                    a \"producer\" route for a Service in a different namespace from
                    the Route. \n There are two kinds of parent resources with \"Core\"
                    support: \n * Gateway (Gateway conformance profile)  * Service
                    (Mesh conformance profile, experimental, ClusterIP Services only)
                    \ This API may be extended in the future to support additional
                    kinds of parent resources. \n ParentRefs must be _distinct_. This
                    means either that: \n * They select different objects.  If this
                    is the case, then parentRef entries are distinct. In terms of
                    fields, this means that the multi-part key defined by `group`,
                    `kind`, `namespace`, and `name` must be unique across all parentRef
                    entries in the Route. * They do not select different objects,
                    but for each optional field used, each ParentRef that selects
                    the same object must set the same set of optional fields to different
                    values. If one ParentRef sets a combination of optional fields,
                    all must set the same combination. \n Some examples: \n * If one
                    ParentRef sets `sectionName`, all ParentRefs referencing the same
                    object must also set `sectionName`. * If one ParentRef sets `port`,
                    all ParentRefs referencing the same object must also set `port`.
                    * If one ParentRef sets `sectionName` and `port`, all ParentRefs
                    referencing the same object must also set `sectionName` and `port`.
                    \n It is possible to separately reference multiple distinct objects
                    that may be collapsed by an implementation. For example, some
                    implementations may choose to merge compatible Gateway Listeners
                    together. If that is the case, the list of routes attached to
                    those resources should also be merged. \n Note that for ParentRefs
                    that cross namespace boundaries, there are specific rules. Cross-namespace
                    references are only valid if they are explicitly allowed by something
                    in the namespace they are referring to. For example, Gateway has
                    the AllowedRoutes field, and ReferenceGrant provides a generic
                    way to enable other kinds of cross-namespace reference. \n  ParentRefs
                    from a Route to a Service in the same namespace are \"producer\"
                    routes, which apply default routing rules to inbound connections
                    from any namespace to the Service. \n ParentRefs from a Route
                    to a Service in a different namespace are \"consumer\" routes,
                    and these routing rules are only applied to outbound connections
                    originating from the same namespace as the Route, for which the
                    intended destination of the connections are a Service targeted
                    as a ParentRef of the Route.  \n "
                  items:
                    description: "ParentReference identifies an API object (usually
                      a Gateway) that can be considered a parent of this resource
                      (usually a route). There are two kinds of parent resources with
                      \"Core\" support: \n * Gateway (Gateway conformance profile)
                      * Service (Mesh conformance profile, experimental, ClusterIP
                      Services only) \n This API may be extended in the future to
                      support additional kinds of parent resources. \n The API object
                      must be valid in the cluster; the Group and Kind must be registered
                      in the cluster for this reference to be valid."
                    properties:
                      group:
                        default: gateway.networking.k8s.io
                        description: "Group is the group of the referent. When unspecified,
                          \"gateway.networking.k8s.io\" is inferred. To set the core
                          API group (such as for a \"Service\" kind referent), Group
                          must be explicitly set to \"\" (empty string). \n Support:
                          Core"
                        maxLength: 253
                        pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                      kind:
                        default: Gateway
                        description: "Kind is kind of the referent. \n There are two
                          kinds of parent resources with \"Core\" support: \n * Gateway
                          (Gateway conformance profile) * Service (Mesh conformance
                          profile, experimental, ClusterIP Services only) \n Support
                          for other resources is Implementation-Specific."
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                        type: string
                      name:
                        description: "Name is the name of the referent. \n Support:
                          Core"
                        maxLength: 253
                        minLength: 1
                        type: string
                      namespace:
                        description: "Namespace is the namespace of the referent.
                          When unspecified, this refers to the local namespace of
                          the Route. \n Note that there are specific rules for ParentRefs
                          which cross namespace boundaries. Cross-namespace references
                          are only valid if they are explicitly allowed by something
                          in the namespace they are referring to. For example: Gateway
                          has the AllowedRoutes field, and ReferenceGrant provides
                          a generic way to enable any other kind of cross-namespace
                          reference. \n  ParentRefs from a Route to a Service in the
                          same namespace are \"producer\" routes, which apply default
                          routing rules to inbound connections from any namespace
                          to the Service. \n ParentRefs from a Route to a Service
                          in a different namespace are \"consumer\" routes, and these
                          routing rules are only applied to outbound connections originating
                          from the same namespace as the Route, for which the intended
                          destination of the connections are a Service targeted as
                          a ParentRef of the Route.  \n Support: Core"
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                        type: string
                      port:
                        description: "Port is the network port this Route targets.
                          It can be interpreted differently based on the type of parent
                          resource. \n When the parent resource is a Gateway, this
                          targets all listeners listening on the specified port that
                          also support this kind of Route(and select this Route).
                          It's not recommended to set `Port` unless the networking
                          behaviors specified in a Route must apply to a specific
                          port as opposed to a listener(s) whose port(s) may be changed.
                          When both Port and SectionName are specified, the name and
                          port of the selected listener must match both specified
                          values. \n  When the parent resource is a Service, this
                          targets a specific port in the Service spec. When both Port
                          (experimental) and SectionName are specified, the name and
                          port of the selected port must match both specified values.
                          \ \n Implementations MAY choose to support other parent
                          resources. Implementations supporting other types of parent
                          resources MUST clearly document how/if Port is interpreted.
                          \n For the purpose of status, an attachment is considered
                          successful as long as the parent resource accepts it partially.
                          For example, Gateway listeners can restrict which Routes
                          can attach to them by Route kind, namespace, or hostname.
                          If 1 of 2 Gateway listeners accept attachment from the referencing
                          Route, the Route MUST be considered successfully attached.
                          If no Gateway listeners accept attachment from this Route,
                          the Route MUST be considered detached from the Gateway.
                          \n Support: Extended \n "
                        format: int32
                        maximum: 65535
                        minimum: 1
                        type: integer
                      sectionName:
                        description: "SectionName is the name of a section within
                          the target resource. In the following resources, SectionName
                          is interpreted as the following: \n * Gateway: Listener
                          Name. When both Port (experimental) and SectionName are
                          specified, the name and port of the selected listener must
                          match both specified values. * Service: Port Name. When
                          both Port (experimental) and SectionName are specified,
                          the name and port of the selected listener must match both
                          specified values. Note that attaching Routes to Services
                          as Parents is part of experimental Mesh support and is not
                          supported for any other purpose. \n Implementations MAY
                          choose to support attaching Routes to other resources. If
                          that is the case, they MUST clearly document how SectionName
                          is interpreted. \n When unspecified (empty string), this
                          will reference the entire resource. For the purpose of status,
                          an attachment is considered successful if at least one section
                          in the parent resource accepts it. For example, Gateway
                          listeners can restrict which Routes can attach to them by
                          Route kind, namespace, or hostname. If 1 of 2 Gateway listeners
                          accept attachment from the referencing Route, the Route
                          MUST be considered successfully attached. If no Gateway
                          listeners accept attachment from this Route, the Route MUST
                          be considered detached from the Gateway. \n Support: Core"
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                    required:
                    - name
                    type: object
                  maxItems: 32
                  type: array
                  x-kubernetes-validations:
                  - message: sectionName or port must be specified when parentRefs
                      includes 2 or more references to the same parent
                    rule: 'self.all(p1, self.all(p2, p1.group == p2.group && p1.kind
                      == p2.kind && p1.name == p2.name && (((!has(p1.__namespace__)
                      || p1.__namespace__ == '''') && (!has(p2.__namespace__) || p2.__namespace__
                      == '''')) || (has(p1.__namespace__) && has(p2.__namespace__)
                      && p1.__namespace__ == p2.__namespace__)) ? ((!has(p1.sectionName)
                      || p1.sectionName == '''') == (!has(p2.sectionName) || p2.sectionName
                      == '''') && (!has(p1.port) || p1.port == 0) == (!has(p2.port)
                      || p2.port == 0)): true))'
                  - message: sectionName or port must be unique when parentRefs includes
                      2 or more references to the same parent
                    rule: self.all(p1, self.exists_one(p2, p1.group == p2.group &&
                      p1.kind == p2.kind && p1.name == p2.name && (((!has(p1.__namespace__)
                      || p1.__namespace__ == '') && (!has(p2.__namespace__) || p2.__namespace__
                      == '')) || (has(p1.__namespace__) && has(p2.__namespace__) &&
                      p1.__namespace__ == p2.__namespace__ )) && (((!has(p1.sectionName)
                      || p1.sectionName == '') && (!has(p2.sectionName) || p2.sectionName
                      == '')) || ( has(p1.sectionName) && has(p2.sectionName) && p1.sectionName
                      == p2.sectionName)) && (((!has(p1.port) || p1.port == 0) &&
                      (!has(p2.port) || p2.port == 0)) || (has(p1.port) && has(p2.port)
                      && p1.port == p2.port))))
                rules:
                  description: Rules are a list of UDP matchers and actions.
                  items:
                    description: UDPRouteRule is the configuration for a given rule.
                    properties:
                      backendRefs:
                        description: "BackendRefs defines the backend(s) where matching
                          requests should be sent. If unspecified or invalid (refers
                          to a non-existent resource or a Service with no endpoints),
                          the underlying implementation MUST actively reject connection
                          attempts to this backend. Packet drops must respect weight;
                          if an invalid backend is requested to have 80% of the packets,
                          then 80% of packets must be dropped instead. \n Support:
                          Core for Kubernetes Service \n Support: Extended for Kubernetes
                          ServiceImport \n Support: Implementation-specific for any
                          other resource \n Support for weight: Extended"
                        items:
                          description: "BackendRef defines how a Route should forward
                            a request to a Kubernetes resource. \n Note that when
                            a namespace different than the local namespace is specified,
                            a ReferenceGrant object is required in the referent namespace
                            to allow that namespace's owner to accept the reference.
                            See the ReferenceGrant documentation for details. \n <gateway:experimental:description>
                            \n When the BackendRef points to a Kubernetes Service,
                            implementations SHOULD honor the appProtocol field if
                            it is set for the target Service Port. \n Implementations
                            supporting appProtocol SHOULD recognize the Kubernetes
                            Standard Application Protocols defined in KEP-3726. \n
                            If a Service appProtocol isn't specified, an implementation
                            MAY infer the backend protocol through its own means.
                            Implementations MAY infer the protocol from the Route
                            type referring to the backend Service. \n If a Route is
                            not able to send traffic to the backend using the specified
                            protocol then the backend is considered invalid. Implementations
                            MUST set the \"ResolvedRefs\" condition to \"False\" with
                            the \"UnsupportedProtocol\" reason. \n </gateway:experimental:description>
                            \n Note that when the BackendTLSPolicy object is enabled
                            by the implementation, there are some extra rules about
                            validity to consider here. See the fields where this struct
                            is used for more information about the exact behavior."
                          properties:
                            group:
                              default: ""
                              description: Group is the group of the referent. For
                                example, "gateway.networking.k8s.io". When unspecified
                                or empty string, core API group is inferred.
                              maxLength: 253
                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                            kind:
                              default: Service
                              description: "Kind is the Kubernetes resource kind of
                                the referent. For example \"Service\". \n Defaults
                                to \"Service\" when not specified. \n ExternalName
                                services can refer to CNAME DNS records that may live
                                outside of the cluster and as such are difficult to
                                reason about in terms of conformance. They also may
                                not be safe to forward to (see CVE-2021-25740 for
                                more information). Implementations SHOULD NOT support
                                ExternalName Services. \n Support: Core (Services
                                with a type other than ExternalName) \n Support: Implementation-specific
                                (Services with type ExternalName)"
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                              type: string
                            name:
                              description: Name is the name of the referent.
                              maxLength: 253
                              minLength: 1
                              type: string
                            namespace:
                              description: "Namespace is the namespace of the backend.
                                When unspecified, the local namespace is inferred.
                                \n Note that when a namespace different than the local
                                namespace is specified, a ReferenceGrant object is
                                required in the referent namespace to allow that namespace's
                                owner to accept the reference. See the ReferenceGrant
                                documentation for details. \n Support: Core"
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                              type: string
                            port:
                              description: Port specifies the destination port number
                                to use for this resource. Port is required when the
                                referent is a Kubernetes Service. In this case, the
                                port number is the service port number, not the target
                                port. For other resources, destination port might
                                be derived from the referent resource or this field.
                              format: int32
                              maximum: 65535
                              minimum: 1
                              type: integer
                            weight:
                              default: 1
                              description: "Weight specifies the proportion of requests
                                forwarded to the referenced backend. This is computed
                                as weight/(sum of all weights in this BackendRefs
                                list). For non-zero values, there may be some epsilon
                                from the exact proportion defined here depending on
                                the precision an implementation supports. Weight is
                                not a percentage and the sum of weights does not need
                                to equal 100. \n If only one backend is specified
                                and it has a weight greater than 0, 100% of the traffic
                                is forwarded to that backend. If weight is set to
                                0, no traffic should be forwarded for this entry.
                                If unspecified, weight defaults to 1. \n Support for
                                this field varies based on the context where used."
                              format: int32
                              maximum: 1000000
                              minimum: 0
                              type: integer
                          required:
                          - name
                          type: object
                          x-kubernetes-validations:
                          - message: Must have port for Service reference
                            rule: '(size(self.group) == 0 && self.kind == ''Service'')
                              ? has(self.port) : true'
                        maxItems: 16
                        minItems: 1
                        type: array
                    type: object
                  maxItems: 16
                  minItems: 1
                  type: array
              required:
              - rules
              type: object
            status:
              description: Status defines the current state of UDPRoute.
              properties:
                parents:
                  description: "Parents is a list of parent resources (usually Gateways)
                    that are associated with the route, and the status of the route
                    with respect to each parent. When this route attaches to a parent,
                    the controller that manages the parent must add an entry to this
                    list when the controller first sees the route and should update
                    the entry as appropriate when the route or gateway is modified.
                    \n Note that parent references that cannot be resolved by an implementation
                    of this API will not be added to this list. Implementations of
                    this API can only populate Route status for the Gateways/parent
                    resources they are responsible for. \n A maximum of 32 Gateways
                    will be represented in this list. An empty list means the route
                    has not been attached to any Gateway."
                  items:
                    description: RouteParentStatus describes the status of a route
                      with respect to an associated Parent.
                    properties:
                      conditions:
                        description: "Conditions describes the status of the route
                          with respect to the Gateway. Note that the route's availability
                          is also subject to the Gateway's own status conditions and
                          listener status. \n If the Route's ParentRef specifies an
                          existing Gateway that supports Routes of this kind AND that
                          Gateway's controller has sufficient access, then that Gateway's
                          controller MUST set the \"Accepted\" condition on the Route,
                          to indicate whether the route has been accepted or rejected
                          by the Gateway, and why. \n A Route MUST be considered \"Accepted\"
                          if at least one of the Route's rules is implemented by the
                          Gateway. \n There are a number of cases where the \"Accepted\"
                          condition may not be set due to lack of controller visibility,
                          that includes when: \n * The Route refers to a non-existent
                          parent. * The Route is of a type that the controller does
                          not support. * The Route is in a namespace the controller
                          does not have access to."
                        items:
                          description: "Condition contains details for one aspect
                            of the current state of this API Resource. --- This struct
                            is intended for direct use as an array at the field path
                            .status.conditions.  For example, \n type FooStatus struct{
                            // Represents the observations of a foo's current state.
                            // Known .status.conditions.type are: \"Available\", \"Progressing\",
                            and \"Degraded\" // +patchMergeKey=type // +patchStrategy=merge
                            // +listType=map // +listMapKey=type Conditions []metav1.Condition
                            `json:\"conditions,omitempty\" patchStrategy:\"merge\"
                            patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`
                            \n // other fields }"
                          properties:
                            lastTransitionTime:
                              description: lastTransitionTime is the last time the
                                condition transitioned from one status to another.
                                This should be when the underlying condition changed.  If
                                that is not known, then using the time when the API
                                field changed is acceptable.
                              format: date-time
                              type: string
                            message:
                              description: message is a human readable message indicating
                                details about the transition. This may be an empty
                                string.
                              maxLength: 32768
                              type: string
                            observedGeneration:
                              description: observedGeneration represents the .metadata.generation
                                that the condition was set based upon. For instance,
                                if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration
                                is 9, the condition is out of date with respect to
                                the current state of the instance.
                              format: int64
                              minimum: 0
                              type: integer
                            reason:
                              description: reason contains a programmatic identifier
                                indicating the reason for the condition's last transition.
                                Producers of specific condition types may define expected
                                values and meanings for this field, and whether the
                                values are considered a guaranteed API. The value
                                should be a CamelCase string. This field may not be
                                empty.
                              maxLength: 1024
                              minLength: 1
                              pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                              type: string
                            status:
                              description: status of the condition, one of True, False,
                                Unknown.
                              enum:
                              - "True"
                              - "False"
                              - Unknown
                              type: string
                            type:
                              description: type of condition in CamelCase or in foo.example.com/CamelCase.
                                --- Many .condition.type values are consistent across
                                resources like Available, but because arbitrary conditions
                                can be useful (see .node.status.conditions), the ability
                                to deconflict is important. The regex it matches is
                                (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                              maxLength: 316
                              pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                              type: string
                          required:
                          - lastTransitionTime
                          - message
                          - reason
                          - status
                          - type
                          type: object
                        maxItems: 8
                        minItems: 1
                        type: array
                        x-kubernetes-list-map-keys:
                        - type
                        x-kubernetes-list-type: map
                      controllerName:
                        description: "ControllerName is a domain/path string that
                          indicates the name of the controller that wrote this status.
                          This corresponds with the controllerName field on GatewayClass.
                          \n Example: \"example.net/gateway-controller\". \n The format
                          of this field is DOMAIN \"/\" PATH, where DOMAIN and PATH
                          are valid Kubernetes names (https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names).
                          \n Controllers MUST populate this field when writing status.
                          Controllers should ensure that entries to status populated
                          with their ControllerName are cleaned up when they are no
                          longer necessary."
                        maxLength: 253
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                        type: string
                      parentRef:
                        description: ParentRef corresponds with a ParentRef in the
                          spec that this RouteParentStatus struct describes the status
                          of.
                        properties:
                          group:
                            default: gateway.networking.k8s.io
                            description: "Group is the group of the referent. When
                              unspecified, \"gateway.networking.k8s.io\" is inferred.
                              To set the core API group (such as for a \"Service\"
                              kind referent), Group must be explicitly set to \"\"
                              (empty string). \n Support: Core"
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Gateway
                            description: "Kind is kind of the referent. \n There are
                              two kinds of parent resources with \"Core\" support:
                              \n * Gateway (Gateway conformance profile) * Service
                              (Mesh conformance profile, experimental, ClusterIP Services
                              only) \n Support for other resources is Implementation-Specific."
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: "Name is the name of the referent. \n Support:
                              Core"
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: "Namespace is the namespace of the referent.
                              When unspecified, this refers to the local namespace
                              of the Route. \n Note that there are specific rules
                              for ParentRefs which cross namespace boundaries. Cross-namespace
                              references are only valid if they are explicitly allowed
                              by something in the namespace they are referring to.
                              For example: Gateway has the AllowedRoutes field, and
                              ReferenceGrant provides a generic way to enable any
                              other kind of cross-namespace reference. \n  ParentRefs
                              from a Route to a Service in the same namespace are
                              \"producer\" routes, which apply default routing rules
                              to inbound connections from any namespace to the Service.
                              \n ParentRefs from a Route to a Service in a different
                              namespace are \"consumer\" routes, and these routing
                              rules are only applied to outbound connections originating
                              from the same namespace as the Route, for which the
                              intended destination of the connections are a Service
                              targeted as a ParentRef of the Route.  \n Support: Core"
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                          port:
                            description: "Port is the network port this Route targets.
                              It can be interpreted differently based on the type
                              of parent resource. \n When the parent resource is a
                              Gateway, this targets all listeners listening on the
                              specified port that also support this kind of Route(and
                              select this Route). It's not recommended to set `Port`
                              unless the networking behaviors specified in a Route
                              must apply to a specific port as opposed to a listener(s)
                              whose port(s) may be changed. When both Port and SectionName
                              are specified, the name and port of the selected listener
                              must match both specified values. \n  When the parent
                              resource is a Service, this targets a specific port
                              in the Service spec. When both Port (experimental) and
                              SectionName are specified, the name and port of the
                              selected port must match both specified values.  \n
                              Implementations MAY choose to support other parent resources.
                              Implementations supporting other types of parent resources
                              MUST clearly document how/if Port is interpreted. \n
                              For the purpose of status, an attachment is considered
                              successful as long as the parent resource accepts it
                              partially. For example, Gateway listeners can restrict
                              which Routes can attach to them by Route kind, namespace,
                              or hostname. If 1 of 2 Gateway listeners accept attachment
                              from the referencing Route, the Route MUST be considered
                              successfully attached. If no Gateway listeners accept
                              attachment from this Route, the Route MUST be considered
                              detached from the Gateway. \n Support: Extended \n "
                            format: int32
                            maximum: 65535
                            minimum: 1
                            type: integer
                          sectionName:
                            description: "SectionName is the name of a section within
                              the target resource. In the following resources, SectionName
                              is interpreted as the following: \n * Gateway: Listener
                              Name. When both Port (experimental) and SectionName
                              are specified, the name and port of the selected listener
                              must match both specified values. * Service: Port Name.
                              When both Port (experimental) and SectionName are specified,
                              the name and port of the selected listener must match
                              both specified values. Note that attaching Routes to
                              Services as Parents is part of experimental Mesh support
                              and is not supported for any other purpose. \n Implementations
                              MAY choose to support attaching Routes to other resources.
                              If that is the case, they MUST clearly document how
                              SectionName is interpreted. \n When unspecified (empty
                              string), this will reference the entire resource. For
                              the purpose of status, an attachment is considered successful
                              if at least one section in the parent resource accepts
                              it. For example, Gateway listeners can restrict which
                              Routes can attach to them by Route kind, namespace,
                              or hostname. If 1 of 2 Gateway listeners accept attachment
                              from the referencing Route, the Route MUST be considered
                              successfully attached. If no Gateway listeners accept
                              attachment from this Route, the Route MUST be considered
                              detached from the Gateway. \n Support: Core"
                            maxLength: 253
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                        required:
                        - name
                        type: object
                    required:
                    - controllerName
                    - parentRef
                    type: object
                  maxItems: 32
                  type: array
              required:
              - parents
              type: object
          required:
          - spec
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - gateway-api
      kind: UDPRoute
      listKind: UDPRouteList
      plural: udproutes
      singular: udproute
    conditions:
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: approved in https://github.com/kubernetes-sigs/gateway-api/pull/2466
      reason: ApprovedAnnotation
      status: "True"
      type: KubernetesAPIApprovalPolicyConformant
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-11T07:49:06Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha2
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      helm.sh/resource-policy: keep
    creationTimestamp: "2024-04-07T12:56:56Z"
    generation: 1
    labels:
      app: istio-pilot
      chart: istio
      heritage: Tiller
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio.io/rev: default
      operator.istio.io/component: Base
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: virtualservices.networking.istio.io
    resourceVersion: "1904532"
    uid: 9f0b31b1-50b9-406a-8158-733151d21c8d
  spec:
    conversion:
      strategy: None
    group: networking.istio.io
    names:
      categories:
      - istio-io
      - networking-istio-io
      kind: VirtualService
      listKind: VirtualServiceList
      plural: virtualservices
      shortNames:
      - vs
      singular: virtualservice
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - description: The names of gateways and sidecars that should apply these routes
        jsonPath: .spec.gateways
        name: Gateways
        type: string
      - description: The destination hosts to which traffic is being sent
        jsonPath: .spec.hosts
        name: Hosts
        type: string
      - description: 'CreationTimestamp is a timestamp representing the server time
          when this object was created. It is not guaranteed to be set in happens-before
          order across separate operations. Clients may not set this value. It is
          represented in RFC3339 form and is in UTC. Populated by the system. Read-only.
          Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
        jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1alpha3
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting label/content routing, sni routing,
                etc. See more details at: https://istio.io/docs/reference/config/networking/virtual-service.html'
              properties:
                exportTo:
                  description: A list of namespaces to which this virtual service
                    is exported.
                  items:
                    type: string
                  type: array
                gateways:
                  description: The names of gateways and sidecars that should apply
                    these routes.
                  items:
                    type: string
                  type: array
                hosts:
                  description: The destination hosts to which traffic is being sent.
                  items:
                    type: string
                  type: array
                http:
                  description: An ordered list of route rules for HTTP traffic.
                  items:
                    properties:
                      corsPolicy:
                        description: Cross-Origin Resource Sharing policy (CORS).
                        properties:
                          allowCredentials:
                            description: Indicates whether the caller is allowed to
                              send the actual request (not the preflight) using credentials.
                            nullable: true
                            type: boolean
                          allowHeaders:
                            description: List of HTTP headers that can be used when
                              requesting the resource.
                            items:
                              type: string
                            type: array
                          allowMethods:
                            description: List of HTTP methods allowed to access the
                              resource.
                            items:
                              type: string
                            type: array
                          allowOrigin:
                            items:
                              type: string
                            type: array
                          allowOrigins:
                            description: String patterns that match allowed origins.
                            items:
                              oneOf:
                              - not:
                                  anyOf:
                                  - required:
                                    - exact
                                  - required:
                                    - prefix
                                  - required:
                                    - regex
                              - required:
                                - exact
                              - required:
                                - prefix
                              - required:
                                - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            type: array
                          exposeHeaders:
                            description: A list of HTTP headers that the browsers
                              are allowed to access.
                            items:
                              type: string
                            type: array
                          maxAge:
                            description: Specifies how long the results of a preflight
                              request can be cached.
                            type: string
                        type: object
                      delegate:
                        description: Delegate is used to specify the particular VirtualService
                          which can be used to define delegate HTTPRoute.
                        properties:
                          name:
                            description: Name specifies the name of the delegate VirtualService.
                            type: string
                          namespace:
                            description: Namespace specifies the namespace where the
                              delegate VirtualService resides.
                            type: string
                        type: object
                      directResponse:
                        description: A HTTP rule can either return a direct_response,
                          redirect or forward (default) traffic.
                        properties:
                          body:
                            description: Specifies the content of the response body.
                            oneOf:
                            - not:
                                anyOf:
                                - required:
                                  - string
                                - required:
                                  - bytes
                            - required:
                              - string
                            - required:
                              - bytes
                            properties:
                              bytes:
                                description: response body as base64 encoded bytes.
                                format: binary
                                type: string
                              string:
                                type: string
                            type: object
                          status:
                            description: Specifies the HTTP response status to be
                              returned.
                            type: integer
                        required:
                        - status
                        type: object
                      fault:
                        description: Fault injection policy to apply on HTTP traffic
                          at the client side.
                        properties:
                          abort:
                            description: Abort Http request attempts and return error
                              codes back to downstream service, giving the impression
                              that the upstream service is faulty.
                            oneOf:
                            - not:
                                anyOf:
                                - required:
                                  - httpStatus
                                - required:
                                  - grpcStatus
                                - required:
                                  - http2Error
                            - required:
                              - httpStatus
                            - required:
                              - grpcStatus
                            - required:
                              - http2Error
                            properties:
                              grpcStatus:
                                description: GRPC status code to use to abort the
                                  request.
                                type: string
                              http2Error:
                                type: string
                              httpStatus:
                                description: HTTP status code to use to abort the
                                  Http request.
                                format: int32
                                type: integer
                              percentage:
                                description: Percentage of requests to be aborted
                                  with the error code provided.
                                properties:
                                  value:
                                    format: double
                                    type: number
                                type: object
                            type: object
                          delay:
                            description: Delay requests before forwarding, emulating
                              various failures such as network issues, overloaded
                              upstream service, etc.
                            oneOf:
                            - not:
                                anyOf:
                                - required:
                                  - fixedDelay
                                - required:
                                  - exponentialDelay
                            - required:
                              - fixedDelay
                            - required:
                              - exponentialDelay
                            properties:
                              exponentialDelay:
                                type: string
                              fixedDelay:
                                description: Add a fixed delay before forwarding the
                                  request.
                                type: string
                              percent:
                                description: Percentage of requests on which the delay
                                  will be injected (0-100).
                                format: int32
                                type: integer
                              percentage:
                                description: Percentage of requests on which the delay
                                  will be injected.
                                properties:
                                  value:
                                    format: double
                                    type: number
                                type: object
                            type: object
                        type: object
                      headers:
                        properties:
                          request:
                            properties:
                              add:
                                additionalProperties:
                                  type: string
                                type: object
                              remove:
                                items:
                                  type: string
                                type: array
                              set:
                                additionalProperties:
                                  type: string
                                type: object
                            type: object
                          response:
                            properties:
                              add:
                                additionalProperties:
                                  type: string
                                type: object
                              remove:
                                items:
                                  type: string
                                type: array
                              set:
                                additionalProperties:
                                  type: string
                                type: object
                            type: object
                        type: object
                      match:
                        description: Match conditions to be satisfied for the rule
                          to be activated.
                        items:
                          properties:
                            authority:
                              description: 'HTTP Authority values are case-sensitive
                                and formatted as follows: - `exact: "value"` for exact
                                string match - `prefix: "value"` for prefix-based
                                match - `regex: "value"` for RE2 style regex-based
                                match (https://github.com/google/re2/wiki/Syntax).'
                              oneOf:
                              - not:
                                  anyOf:
                                  - required:
                                    - exact
                                  - required:
                                    - prefix
                                  - required:
                                    - regex
                              - required:
                                - exact
                              - required:
                                - prefix
                              - required:
                                - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            gateways:
                              description: Names of gateways where the rule should
                                be applied.
                              items:
                                type: string
                              type: array
                            headers:
                              additionalProperties:
                                oneOf:
                                - not:
                                    anyOf:
                                    - required:
                                      - exact
                                    - required:
                                      - prefix
                                    - required:
                                      - regex
                                - required:
                                  - exact
                                - required:
                                  - prefix
                                - required:
                                  - regex
                                properties:
                                  exact:
                                    type: string
                                  prefix:
                                    type: string
                                  regex:
                                    description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                    type: string
                                type: object
                              description: The header keys must be lowercase and use
                                hyphen as the separator, e.g.
                              type: object
                            ignoreUriCase:
                              description: Flag to specify whether the URI matching
                                should be case-insensitive.
                              type: boolean
                            method:
                              description: 'HTTP Method values are case-sensitive
                                and formatted as follows: - `exact: "value"` for exact
                                string match - `prefix: "value"` for prefix-based
                                match - `regex: "value"` for RE2 style regex-based
                                match (https://github.com/google/re2/wiki/Syntax).'
                              oneOf:
                              - not:
                                  anyOf:
                                  - required:
                                    - exact
                                  - required:
                                    - prefix
                                  - required:
                                    - regex
                              - required:
                                - exact
                              - required:
                                - prefix
                              - required:
                                - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            name:
                              description: The name assigned to a match.
                              type: string
                            port:
                              description: Specifies the ports on the host that is
                                being addressed.
                              type: integer
                            queryParams:
                              additionalProperties:
                                oneOf:
                                - not:
                                    anyOf:
                                    - required:
                                      - exact
                                    - required:
                                      - prefix
                                    - required:
                                      - regex
                                - required:
                                  - exact
                                - required:
                                  - prefix
                                - required:
                                  - regex
                                properties:
                                  exact:
                                    type: string
                                  prefix:
                                    type: string
                                  regex:
                                    description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                    type: string
                                type: object
                              description: Query parameters for matching.
                              type: object
                            scheme:
                              description: 'URI Scheme values are case-sensitive and
                                formatted as follows: - `exact: "value"` for exact
                                string match - `prefix: "value"` for prefix-based
                                match - `regex: "value"` for RE2 style regex-based
                                match (https://github.com/google/re2/wiki/Syntax).'
                              oneOf:
                              - not:
                                  anyOf:
                                  - required:
                                    - exact
                                  - required:
                                    - prefix
                                  - required:
                                    - regex
                              - required:
                                - exact
                              - required:
                                - prefix
                              - required:
                                - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            sourceLabels:
                              additionalProperties:
                                type: string
                              description: One or more labels that constrain the applicability
                                of a rule to source (client) workloads with the given
                                labels.
                              type: object
                            sourceNamespace:
                              description: Source namespace constraining the applicability
                                of a rule to workloads in that namespace.
                              type: string
                            statPrefix:
                              description: The human readable prefix to use when emitting
                                statistics for this route.
                              type: string
                            uri:
                              description: 'URI to match values are case-sensitive
                                and formatted as follows: - `exact: "value"` for exact
                                string match - `prefix: "value"` for prefix-based
                                match - `regex: "value"` for RE2 style regex-based
                                match (https://github.com/google/re2/wiki/Syntax).'
                              oneOf:
                              - not:
                                  anyOf:
                                  - required:
                                    - exact
                                  - required:
                                    - prefix
                                  - required:
                                    - regex
                              - required:
                                - exact
                              - required:
                                - prefix
                              - required:
                                - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            withoutHeaders:
                              additionalProperties:
                                oneOf:
                                - not:
                                    anyOf:
                                    - required:
                                      - exact
                                    - required:
                                      - prefix
                                    - required:
                                      - regex
                                - required:
                                  - exact
                                - required:
                                  - prefix
                                - required:
                                  - regex
                                properties:
                                  exact:
                                    type: string
                                  prefix:
                                    type: string
                                  regex:
                                    description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                    type: string
                                type: object
                              description: withoutHeader has the same syntax with
                                the header, but has opposite meaning.
                              type: object
                          type: object
                        type: array
                      mirror:
                        description: Mirror HTTP traffic to a another destination
                          in addition to forwarding the requests to the intended destination.
                        properties:
                          host:
                            description: The name of a service from the service registry.
                            type: string
                          port:
                            description: Specifies the port on the host that is being
                              addressed.
                            properties:
                              number:
                                type: integer
                            type: object
                          subset:
                            description: The name of a subset within the service.
                            type: string
                        required:
                        - host
                        type: object
                      mirror_percent:
                        nullable: true
                        type: integer
                      mirrorPercent:
                        nullable: true
                        type: integer
                      mirrorPercentage:
                        description: Percentage of the traffic to be mirrored by the
                          `mirror` field.
                        properties:
                          value:
                            format: double
                            type: number
                        type: object
                      mirrors:
                        description: Specifies the destinations to mirror HTTP traffic
                          in addition to the original destination.
                        items:
                          properties:
                            destination:
                              description: Destination specifies the target of the
                                mirror operation.
                              properties:
                                host:
                                  description: The name of a service from the service
                                    registry.
                                  type: string
                                port:
                                  description: Specifies the port on the host that
                                    is being addressed.
                                  properties:
                                    number:
                                      type: integer
                                  type: object
                                subset:
                                  description: The name of a subset within the service.
                                  type: string
                              required:
                              - host
                              type: object
                            percentage:
                              description: Percentage of the traffic to be mirrored
                                by the `destination` field.
                              properties:
                                value:
                                  format: double
                                  type: number
                              type: object
                          required:
                          - destination
                          type: object
                        type: array
                      name:
                        description: The name assigned to the route for debugging
                          purposes.
                        type: string
                      redirect:
                        description: A HTTP rule can either return a direct_response,
                          redirect or forward (default) traffic.
                        oneOf:
                        - not:
                            anyOf:
                            - required:
                              - port
                            - required:
                              - derivePort
                        - required:
                          - port
                        - required:
                          - derivePort
                        properties:
                          authority:
                            description: On a redirect, overwrite the Authority/Host
                              portion of the URL with this value.
                            type: string
                          derivePort:
                            description: 'On a redirect, dynamically set the port:
                              * FROM_PROTOCOL_DEFAULT: automatically set to 80 for
                              HTTP and 443 for HTTPS.'
                            enum:
                            - FROM_PROTOCOL_DEFAULT
                            - FROM_REQUEST_PORT
                            type: string
                          port:
                            description: On a redirect, overwrite the port portion
                              of the URL with this value.
                            type: integer
                          redirectCode:
                            description: On a redirect, Specifies the HTTP status
                              code to use in the redirect response.
                            type: integer
                          scheme:
                            description: On a redirect, overwrite the scheme portion
                              of the URL with this value.
                            type: string
                          uri:
                            description: On a redirect, overwrite the Path portion
                              of the URL with this value.
                            type: string
                        type: object
                      retries:
                        description: Retry policy for HTTP requests.
                        properties:
                          attempts:
                            description: Number of retries to be allowed for a given
                              request.
                            format: int32
                            type: integer
                          perTryTimeout:
                            description: Timeout per attempt for a given request,
                              including the initial call and any retries.
                            type: string
                          retryOn:
                            description: Specifies the conditions under which retry
                              takes place.
                            type: string
                          retryRemoteLocalities:
                            description: Flag to specify whether the retries should
                              retry to other localities.
                            nullable: true
                            type: boolean
                        type: object
                      rewrite:
                        description: Rewrite HTTP URIs and Authority headers.
                        properties:
                          authority:
                            description: rewrite the Authority/Host header with this
                              value.
                            type: string
                          uri:
                            description: rewrite the path (or the prefix) portion
                              of the URI with this value.
                            type: string
                          uriRegexRewrite:
                            description: rewrite the path portion of the URI with
                              the specified regex.
                            properties:
                              match:
                                description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                type: string
                              rewrite:
                                description: The string that should replace into matching
                                  portions of original URI.
                                type: string
                            type: object
                        type: object
                      route:
                        description: A HTTP rule can either return a direct_response,
                          redirect or forward (default) traffic.
                        items:
                          properties:
                            destination:
                              description: Destination uniquely identifies the instances
                                of a service to which the request/connection should
                                be forwarded to.
                              properties:
                                host:
                                  description: The name of a service from the service
                                    registry.
                                  type: string
                                port:
                                  description: Specifies the port on the host that
                                    is being addressed.
                                  properties:
                                    number:
                                      type: integer
                                  type: object
                                subset:
                                  description: The name of a subset within the service.
                                  type: string
                              required:
                              - host
                              type: object
                            headers:
                              properties:
                                request:
                                  properties:
                                    add:
                                      additionalProperties:
                                        type: string
                                      type: object
                                    remove:
                                      items:
                                        type: string
                                      type: array
                                    set:
                                      additionalProperties:
                                        type: string
                                      type: object
                                  type: object
                                response:
                                  properties:
                                    add:
                                      additionalProperties:
                                        type: string
                                      type: object
                                    remove:
                                      items:
                                        type: string
                                      type: array
                                    set:
                                      additionalProperties:
                                        type: string
                                      type: object
                                  type: object
                              type: object
                            weight:
                              description: Weight specifies the relative proportion
                                of traffic to be forwarded to the destination.
                              format: int32
                              type: integer
                          required:
                          - destination
                          type: object
                        type: array
                      timeout:
                        description: Timeout for HTTP requests, default is disabled.
                        type: string
                    type: object
                  type: array
                tcp:
                  description: An ordered list of route rules for opaque TCP traffic.
                  items:
                    properties:
                      match:
                        description: Match conditions to be satisfied for the rule
                          to be activated.
                        items:
                          properties:
                            destinationSubnets:
                              description: IPv4 or IPv6 ip addresses of destination
                                with optional subnet.
                              items:
                                type: string
                              type: array
                            gateways:
                              description: Names of gateways where the rule should
                                be applied.
                              items:
                                type: string
                              type: array
                            port:
                              description: Specifies the port on the host that is
                                being addressed.
                              type: integer
                            sourceLabels:
                              additionalProperties:
                                type: string
                              description: One or more labels that constrain the applicability
                                of a rule to workloads with the given labels.
                              type: object
                            sourceNamespace:
                              description: Source namespace constraining the applicability
                                of a rule to workloads in that namespace.
                              type: string
                            sourceSubnet:
                              type: string
                          type: object
                        type: array
                      route:
                        description: The destination to which the connection should
                          be forwarded to.
                        items:
                          properties:
                            destination:
                              description: Destination uniquely identifies the instances
                                of a service to which the request/connection should
                                be forwarded to.
                              properties:
                                host:
                                  description: The name of a service from the service
                                    registry.
                                  type: string
                                port:
                                  description: Specifies the port on the host that
                                    is being addressed.
                                  properties:
                                    number:
                                      type: integer
                                  type: object
                                subset:
                                  description: The name of a subset within the service.
                                  type: string
                              required:
                              - host
                              type: object
                            weight:
                              description: Weight specifies the relative proportion
                                of traffic to be forwarded to the destination.
                              format: int32
                              type: integer
                          required:
                          - destination
                          type: object
                        type: array
                    type: object
                  type: array
                tls:
                  description: An ordered list of route rule for non-terminated TLS
                    & HTTPS traffic.
                  items:
                    properties:
                      match:
                        description: Match conditions to be satisfied for the rule
                          to be activated.
                        items:
                          properties:
                            destinationSubnets:
                              description: IPv4 or IPv6 ip addresses of destination
                                with optional subnet.
                              items:
                                type: string
                              type: array
                            gateways:
                              description: Names of gateways where the rule should
                                be applied.
                              items:
                                type: string
                              type: array
                            port:
                              description: Specifies the port on the host that is
                                being addressed.
                              type: integer
                            sniHosts:
                              description: SNI (server name indicator) to match on.
                              items:
                                type: string
                              type: array
                            sourceLabels:
                              additionalProperties:
                                type: string
                              description: One or more labels that constrain the applicability
                                of a rule to workloads with the given labels.
                              type: object
                            sourceNamespace:
                              description: Source namespace constraining the applicability
                                of a rule to workloads in that namespace.
                              type: string
                          required:
                          - sniHosts
                          type: object
                        type: array
                      route:
                        description: The destination to which the connection should
                          be forwarded to.
                        items:
                          properties:
                            destination:
                              description: Destination uniquely identifies the instances
                                of a service to which the request/connection should
                                be forwarded to.
                              properties:
                                host:
                                  description: The name of a service from the service
                                    registry.
                                  type: string
                                port:
                                  description: Specifies the port on the host that
                                    is being addressed.
                                  properties:
                                    number:
                                      type: integer
                                  type: object
                                subset:
                                  description: The name of a subset within the service.
                                  type: string
                              required:
                              - host
                              type: object
                            weight:
                              description: Weight specifies the relative proportion
                                of traffic to be forwarded to the destination.
                              format: int32
                              type: integer
                          required:
                          - destination
                          type: object
                        type: array
                    required:
                    - match
                    type: object
                  type: array
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: true
      subresources:
        status: {}
    - additionalPrinterColumns:
      - description: The names of gateways and sidecars that should apply these routes
        jsonPath: .spec.gateways
        name: Gateways
        type: string
      - description: The destination hosts to which traffic is being sent
        jsonPath: .spec.hosts
        name: Hosts
        type: string
      - description: 'CreationTimestamp is a timestamp representing the server time
          when this object was created. It is not guaranteed to be set in happens-before
          order across separate operations. Clients may not set this value. It is
          represented in RFC3339 form and is in UTC. Populated by the system. Read-only.
          Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
        jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1beta1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting label/content routing, sni routing,
                etc. See more details at: https://istio.io/docs/reference/config/networking/virtual-service.html'
              properties:
                exportTo:
                  description: A list of namespaces to which this virtual service
                    is exported.
                  items:
                    type: string
                  type: array
                gateways:
                  description: The names of gateways and sidecars that should apply
                    these routes.
                  items:
                    type: string
                  type: array
                hosts:
                  description: The destination hosts to which traffic is being sent.
                  items:
                    type: string
                  type: array
                http:
                  description: An ordered list of route rules for HTTP traffic.
                  items:
                    properties:
                      corsPolicy:
                        description: Cross-Origin Resource Sharing policy (CORS).
                        properties:
                          allowCredentials:
                            description: Indicates whether the caller is allowed to
                              send the actual request (not the preflight) using credentials.
                            nullable: true
                            type: boolean
                          allowHeaders:
                            description: List of HTTP headers that can be used when
                              requesting the resource.
                            items:
                              type: string
                            type: array
                          allowMethods:
                            description: List of HTTP methods allowed to access the
                              resource.
                            items:
                              type: string
                            type: array
                          allowOrigin:
                            items:
                              type: string
                            type: array
                          allowOrigins:
                            description: String patterns that match allowed origins.
                            items:
                              oneOf:
                              - not:
                                  anyOf:
                                  - required:
                                    - exact
                                  - required:
                                    - prefix
                                  - required:
                                    - regex
                              - required:
                                - exact
                              - required:
                                - prefix
                              - required:
                                - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            type: array
                          exposeHeaders:
                            description: A list of HTTP headers that the browsers
                              are allowed to access.
                            items:
                              type: string
                            type: array
                          maxAge:
                            description: Specifies how long the results of a preflight
                              request can be cached.
                            type: string
                        type: object
                      delegate:
                        description: Delegate is used to specify the particular VirtualService
                          which can be used to define delegate HTTPRoute.
                        properties:
                          name:
                            description: Name specifies the name of the delegate VirtualService.
                            type: string
                          namespace:
                            description: Namespace specifies the namespace where the
                              delegate VirtualService resides.
                            type: string
                        type: object
                      directResponse:
                        description: A HTTP rule can either return a direct_response,
                          redirect or forward (default) traffic.
                        properties:
                          body:
                            description: Specifies the content of the response body.
                            oneOf:
                            - not:
                                anyOf:
                                - required:
                                  - string
                                - required:
                                  - bytes
                            - required:
                              - string
                            - required:
                              - bytes
                            properties:
                              bytes:
                                description: response body as base64 encoded bytes.
                                format: binary
                                type: string
                              string:
                                type: string
                            type: object
                          status:
                            description: Specifies the HTTP response status to be
                              returned.
                            type: integer
                        required:
                        - status
                        type: object
                      fault:
                        description: Fault injection policy to apply on HTTP traffic
                          at the client side.
                        properties:
                          abort:
                            description: Abort Http request attempts and return error
                              codes back to downstream service, giving the impression
                              that the upstream service is faulty.
                            oneOf:
                            - not:
                                anyOf:
                                - required:
                                  - httpStatus
                                - required:
                                  - grpcStatus
                                - required:
                                  - http2Error
                            - required:
                              - httpStatus
                            - required:
                              - grpcStatus
                            - required:
                              - http2Error
                            properties:
                              grpcStatus:
                                description: GRPC status code to use to abort the
                                  request.
                                type: string
                              http2Error:
                                type: string
                              httpStatus:
                                description: HTTP status code to use to abort the
                                  Http request.
                                format: int32
                                type: integer
                              percentage:
                                description: Percentage of requests to be aborted
                                  with the error code provided.
                                properties:
                                  value:
                                    format: double
                                    type: number
                                type: object
                            type: object
                          delay:
                            description: Delay requests before forwarding, emulating
                              various failures such as network issues, overloaded
                              upstream service, etc.
                            oneOf:
                            - not:
                                anyOf:
                                - required:
                                  - fixedDelay
                                - required:
                                  - exponentialDelay
                            - required:
                              - fixedDelay
                            - required:
                              - exponentialDelay
                            properties:
                              exponentialDelay:
                                type: string
                              fixedDelay:
                                description: Add a fixed delay before forwarding the
                                  request.
                                type: string
                              percent:
                                description: Percentage of requests on which the delay
                                  will be injected (0-100).
                                format: int32
                                type: integer
                              percentage:
                                description: Percentage of requests on which the delay
                                  will be injected.
                                properties:
                                  value:
                                    format: double
                                    type: number
                                type: object
                            type: object
                        type: object
                      headers:
                        properties:
                          request:
                            properties:
                              add:
                                additionalProperties:
                                  type: string
                                type: object
                              remove:
                                items:
                                  type: string
                                type: array
                              set:
                                additionalProperties:
                                  type: string
                                type: object
                            type: object
                          response:
                            properties:
                              add:
                                additionalProperties:
                                  type: string
                                type: object
                              remove:
                                items:
                                  type: string
                                type: array
                              set:
                                additionalProperties:
                                  type: string
                                type: object
                            type: object
                        type: object
                      match:
                        description: Match conditions to be satisfied for the rule
                          to be activated.
                        items:
                          properties:
                            authority:
                              description: 'HTTP Authority values are case-sensitive
                                and formatted as follows: - `exact: "value"` for exact
                                string match - `prefix: "value"` for prefix-based
                                match - `regex: "value"` for RE2 style regex-based
                                match (https://github.com/google/re2/wiki/Syntax).'
                              oneOf:
                              - not:
                                  anyOf:
                                  - required:
                                    - exact
                                  - required:
                                    - prefix
                                  - required:
                                    - regex
                              - required:
                                - exact
                              - required:
                                - prefix
                              - required:
                                - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            gateways:
                              description: Names of gateways where the rule should
                                be applied.
                              items:
                                type: string
                              type: array
                            headers:
                              additionalProperties:
                                oneOf:
                                - not:
                                    anyOf:
                                    - required:
                                      - exact
                                    - required:
                                      - prefix
                                    - required:
                                      - regex
                                - required:
                                  - exact
                                - required:
                                  - prefix
                                - required:
                                  - regex
                                properties:
                                  exact:
                                    type: string
                                  prefix:
                                    type: string
                                  regex:
                                    description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                    type: string
                                type: object
                              description: The header keys must be lowercase and use
                                hyphen as the separator, e.g.
                              type: object
                            ignoreUriCase:
                              description: Flag to specify whether the URI matching
                                should be case-insensitive.
                              type: boolean
                            method:
                              description: 'HTTP Method values are case-sensitive
                                and formatted as follows: - `exact: "value"` for exact
                                string match - `prefix: "value"` for prefix-based
                                match - `regex: "value"` for RE2 style regex-based
                                match (https://github.com/google/re2/wiki/Syntax).'
                              oneOf:
                              - not:
                                  anyOf:
                                  - required:
                                    - exact
                                  - required:
                                    - prefix
                                  - required:
                                    - regex
                              - required:
                                - exact
                              - required:
                                - prefix
                              - required:
                                - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            name:
                              description: The name assigned to a match.
                              type: string
                            port:
                              description: Specifies the ports on the host that is
                                being addressed.
                              type: integer
                            queryParams:
                              additionalProperties:
                                oneOf:
                                - not:
                                    anyOf:
                                    - required:
                                      - exact
                                    - required:
                                      - prefix
                                    - required:
                                      - regex
                                - required:
                                  - exact
                                - required:
                                  - prefix
                                - required:
                                  - regex
                                properties:
                                  exact:
                                    type: string
                                  prefix:
                                    type: string
                                  regex:
                                    description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                    type: string
                                type: object
                              description: Query parameters for matching.
                              type: object
                            scheme:
                              description: 'URI Scheme values are case-sensitive and
                                formatted as follows: - `exact: "value"` for exact
                                string match - `prefix: "value"` for prefix-based
                                match - `regex: "value"` for RE2 style regex-based
                                match (https://github.com/google/re2/wiki/Syntax).'
                              oneOf:
                              - not:
                                  anyOf:
                                  - required:
                                    - exact
                                  - required:
                                    - prefix
                                  - required:
                                    - regex
                              - required:
                                - exact
                              - required:
                                - prefix
                              - required:
                                - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            sourceLabels:
                              additionalProperties:
                                type: string
                              description: One or more labels that constrain the applicability
                                of a rule to source (client) workloads with the given
                                labels.
                              type: object
                            sourceNamespace:
                              description: Source namespace constraining the applicability
                                of a rule to workloads in that namespace.
                              type: string
                            statPrefix:
                              description: The human readable prefix to use when emitting
                                statistics for this route.
                              type: string
                            uri:
                              description: 'URI to match values are case-sensitive
                                and formatted as follows: - `exact: "value"` for exact
                                string match - `prefix: "value"` for prefix-based
                                match - `regex: "value"` for RE2 style regex-based
                                match (https://github.com/google/re2/wiki/Syntax).'
                              oneOf:
                              - not:
                                  anyOf:
                                  - required:
                                    - exact
                                  - required:
                                    - prefix
                                  - required:
                                    - regex
                              - required:
                                - exact
                              - required:
                                - prefix
                              - required:
                                - regex
                              properties:
                                exact:
                                  type: string
                                prefix:
                                  type: string
                                regex:
                                  description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                  type: string
                              type: object
                            withoutHeaders:
                              additionalProperties:
                                oneOf:
                                - not:
                                    anyOf:
                                    - required:
                                      - exact
                                    - required:
                                      - prefix
                                    - required:
                                      - regex
                                - required:
                                  - exact
                                - required:
                                  - prefix
                                - required:
                                  - regex
                                properties:
                                  exact:
                                    type: string
                                  prefix:
                                    type: string
                                  regex:
                                    description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                    type: string
                                type: object
                              description: withoutHeader has the same syntax with
                                the header, but has opposite meaning.
                              type: object
                          type: object
                        type: array
                      mirror:
                        description: Mirror HTTP traffic to a another destination
                          in addition to forwarding the requests to the intended destination.
                        properties:
                          host:
                            description: The name of a service from the service registry.
                            type: string
                          port:
                            description: Specifies the port on the host that is being
                              addressed.
                            properties:
                              number:
                                type: integer
                            type: object
                          subset:
                            description: The name of a subset within the service.
                            type: string
                        required:
                        - host
                        type: object
                      mirror_percent:
                        nullable: true
                        type: integer
                      mirrorPercent:
                        nullable: true
                        type: integer
                      mirrorPercentage:
                        description: Percentage of the traffic to be mirrored by the
                          `mirror` field.
                        properties:
                          value:
                            format: double
                            type: number
                        type: object
                      mirrors:
                        description: Specifies the destinations to mirror HTTP traffic
                          in addition to the original destination.
                        items:
                          properties:
                            destination:
                              description: Destination specifies the target of the
                                mirror operation.
                              properties:
                                host:
                                  description: The name of a service from the service
                                    registry.
                                  type: string
                                port:
                                  description: Specifies the port on the host that
                                    is being addressed.
                                  properties:
                                    number:
                                      type: integer
                                  type: object
                                subset:
                                  description: The name of a subset within the service.
                                  type: string
                              required:
                              - host
                              type: object
                            percentage:
                              description: Percentage of the traffic to be mirrored
                                by the `destination` field.
                              properties:
                                value:
                                  format: double
                                  type: number
                              type: object
                          required:
                          - destination
                          type: object
                        type: array
                      name:
                        description: The name assigned to the route for debugging
                          purposes.
                        type: string
                      redirect:
                        description: A HTTP rule can either return a direct_response,
                          redirect or forward (default) traffic.
                        oneOf:
                        - not:
                            anyOf:
                            - required:
                              - port
                            - required:
                              - derivePort
                        - required:
                          - port
                        - required:
                          - derivePort
                        properties:
                          authority:
                            description: On a redirect, overwrite the Authority/Host
                              portion of the URL with this value.
                            type: string
                          derivePort:
                            description: 'On a redirect, dynamically set the port:
                              * FROM_PROTOCOL_DEFAULT: automatically set to 80 for
                              HTTP and 443 for HTTPS.'
                            enum:
                            - FROM_PROTOCOL_DEFAULT
                            - FROM_REQUEST_PORT
                            type: string
                          port:
                            description: On a redirect, overwrite the port portion
                              of the URL with this value.
                            type: integer
                          redirectCode:
                            description: On a redirect, Specifies the HTTP status
                              code to use in the redirect response.
                            type: integer
                          scheme:
                            description: On a redirect, overwrite the scheme portion
                              of the URL with this value.
                            type: string
                          uri:
                            description: On a redirect, overwrite the Path portion
                              of the URL with this value.
                            type: string
                        type: object
                      retries:
                        description: Retry policy for HTTP requests.
                        properties:
                          attempts:
                            description: Number of retries to be allowed for a given
                              request.
                            format: int32
                            type: integer
                          perTryTimeout:
                            description: Timeout per attempt for a given request,
                              including the initial call and any retries.
                            type: string
                          retryOn:
                            description: Specifies the conditions under which retry
                              takes place.
                            type: string
                          retryRemoteLocalities:
                            description: Flag to specify whether the retries should
                              retry to other localities.
                            nullable: true
                            type: boolean
                        type: object
                      rewrite:
                        description: Rewrite HTTP URIs and Authority headers.
                        properties:
                          authority:
                            description: rewrite the Authority/Host header with this
                              value.
                            type: string
                          uri:
                            description: rewrite the path (or the prefix) portion
                              of the URI with this value.
                            type: string
                          uriRegexRewrite:
                            description: rewrite the path portion of the URI with
                              the specified regex.
                            properties:
                              match:
                                description: RE2 style regex-based match (https://github.com/google/re2/wiki/Syntax).
                                type: string
                              rewrite:
                                description: The string that should replace into matching
                                  portions of original URI.
                                type: string
                            type: object
                        type: object
                      route:
                        description: A HTTP rule can either return a direct_response,
                          redirect or forward (default) traffic.
                        items:
                          properties:
                            destination:
                              description: Destination uniquely identifies the instances
                                of a service to which the request/connection should
                                be forwarded to.
                              properties:
                                host:
                                  description: The name of a service from the service
                                    registry.
                                  type: string
                                port:
                                  description: Specifies the port on the host that
                                    is being addressed.
                                  properties:
                                    number:
                                      type: integer
                                  type: object
                                subset:
                                  description: The name of a subset within the service.
                                  type: string
                              required:
                              - host
                              type: object
                            headers:
                              properties:
                                request:
                                  properties:
                                    add:
                                      additionalProperties:
                                        type: string
                                      type: object
                                    remove:
                                      items:
                                        type: string
                                      type: array
                                    set:
                                      additionalProperties:
                                        type: string
                                      type: object
                                  type: object
                                response:
                                  properties:
                                    add:
                                      additionalProperties:
                                        type: string
                                      type: object
                                    remove:
                                      items:
                                        type: string
                                      type: array
                                    set:
                                      additionalProperties:
                                        type: string
                                      type: object
                                  type: object
                              type: object
                            weight:
                              description: Weight specifies the relative proportion
                                of traffic to be forwarded to the destination.
                              format: int32
                              type: integer
                          required:
                          - destination
                          type: object
                        type: array
                      timeout:
                        description: Timeout for HTTP requests, default is disabled.
                        type: string
                    type: object
                  type: array
                tcp:
                  description: An ordered list of route rules for opaque TCP traffic.
                  items:
                    properties:
                      match:
                        description: Match conditions to be satisfied for the rule
                          to be activated.
                        items:
                          properties:
                            destinationSubnets:
                              description: IPv4 or IPv6 ip addresses of destination
                                with optional subnet.
                              items:
                                type: string
                              type: array
                            gateways:
                              description: Names of gateways where the rule should
                                be applied.
                              items:
                                type: string
                              type: array
                            port:
                              description: Specifies the port on the host that is
                                being addressed.
                              type: integer
                            sourceLabels:
                              additionalProperties:
                                type: string
                              description: One or more labels that constrain the applicability
                                of a rule to workloads with the given labels.
                              type: object
                            sourceNamespace:
                              description: Source namespace constraining the applicability
                                of a rule to workloads in that namespace.
                              type: string
                            sourceSubnet:
                              type: string
                          type: object
                        type: array
                      route:
                        description: The destination to which the connection should
                          be forwarded to.
                        items:
                          properties:
                            destination:
                              description: Destination uniquely identifies the instances
                                of a service to which the request/connection should
                                be forwarded to.
                              properties:
                                host:
                                  description: The name of a service from the service
                                    registry.
                                  type: string
                                port:
                                  description: Specifies the port on the host that
                                    is being addressed.
                                  properties:
                                    number:
                                      type: integer
                                  type: object
                                subset:
                                  description: The name of a subset within the service.
                                  type: string
                              required:
                              - host
                              type: object
                            weight:
                              description: Weight specifies the relative proportion
                                of traffic to be forwarded to the destination.
                              format: int32
                              type: integer
                          required:
                          - destination
                          type: object
                        type: array
                    type: object
                  type: array
                tls:
                  description: An ordered list of route rule for non-terminated TLS
                    & HTTPS traffic.
                  items:
                    properties:
                      match:
                        description: Match conditions to be satisfied for the rule
                          to be activated.
                        items:
                          properties:
                            destinationSubnets:
                              description: IPv4 or IPv6 ip addresses of destination
                                with optional subnet.
                              items:
                                type: string
                              type: array
                            gateways:
                              description: Names of gateways where the rule should
                                be applied.
                              items:
                                type: string
                              type: array
                            port:
                              description: Specifies the port on the host that is
                                being addressed.
                              type: integer
                            sniHosts:
                              description: SNI (server name indicator) to match on.
                              items:
                                type: string
                              type: array
                            sourceLabels:
                              additionalProperties:
                                type: string
                              description: One or more labels that constrain the applicability
                                of a rule to workloads with the given labels.
                              type: object
                            sourceNamespace:
                              description: Source namespace constraining the applicability
                                of a rule to workloads in that namespace.
                              type: string
                          required:
                          - sniHosts
                          type: object
                        type: array
                      route:
                        description: The destination to which the connection should
                          be forwarded to.
                        items:
                          properties:
                            destination:
                              description: Destination uniquely identifies the instances
                                of a service to which the request/connection should
                                be forwarded to.
                              properties:
                                host:
                                  description: The name of a service from the service
                                    registry.
                                  type: string
                                port:
                                  description: Specifies the port on the host that
                                    is being addressed.
                                  properties:
                                    number:
                                      type: integer
                                  type: object
                                subset:
                                  description: The name of a subset within the service.
                                  type: string
                              required:
                              - host
                              type: object
                            weight:
                              description: Weight specifies the relative proportion
                                of traffic to be forwarded to the destination.
                              format: int32
                              type: integer
                          required:
                          - destination
                          type: object
                        type: array
                    required:
                    - match
                    type: object
                  type: array
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: false
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - istio-io
      - networking-istio-io
      kind: VirtualService
      listKind: VirtualServiceList
      plural: virtualservices
      shortNames:
      - vs
      singular: virtualservice
    conditions:
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha3
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      helm.sh/resource-policy: keep
    creationTimestamp: "2024-04-07T12:56:56Z"
    generation: 1
    labels:
      app: istio-pilot
      chart: istio
      heritage: Tiller
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio.io/rev: default
      operator.istio.io/component: Base
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: wasmplugins.extensions.istio.io
    resourceVersion: "1904534"
    uid: 38bbf526-d665-44ec-b4c0-4052374dc907
  spec:
    conversion:
      strategy: None
    group: extensions.istio.io
    names:
      categories:
      - istio-io
      - extensions-istio-io
      kind: WasmPlugin
      listKind: WasmPluginList
      plural: wasmplugins
      singular: wasmplugin
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - description: 'CreationTimestamp is a timestamp representing the server time
          when this object was created. It is not guaranteed to be set in happens-before
          order across separate operations. Clients may not set this value. It is
          represented in RFC3339 form and is in UTC. Populated by the system. Read-only.
          Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
        jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1alpha1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Extend the functionality provided by the Istio proxy through
                WebAssembly filters. See more details at: https://istio.io/docs/reference/config/proxy_extensions/wasm-plugin.html'
              properties:
                failStrategy:
                  description: Specifies the failure behavior for the plugin due to
                    fatal errors.
                  enum:
                  - FAIL_CLOSE
                  - FAIL_OPEN
                  type: string
                imagePullPolicy:
                  description: The pull behaviour to be applied when fetching Wasm
                    module by either OCI image or `http/https`.
                  enum:
                  - UNSPECIFIED_POLICY
                  - IfNotPresent
                  - Always
                  type: string
                imagePullSecret:
                  description: Credentials to use for OCI image pulling.
                  maxLength: 253
                  minLength: 1
                  type: string
                match:
                  description: Specifies the criteria to determine which traffic is
                    passed to WasmPlugin.
                  items:
                    properties:
                      mode:
                        description: Criteria for selecting traffic by their direction.
                        enum:
                        - UNDEFINED
                        - CLIENT
                        - SERVER
                        - CLIENT_AND_SERVER
                        type: string
                      ports:
                        description: Criteria for selecting traffic by their destination
                          port.
                        items:
                          properties:
                            number:
                              maximum: 65535
                              minimum: 1
                              type: integer
                          required:
                          - number
                          type: object
                        type: array
                        x-kubernetes-list-map-keys:
                        - number
                        x-kubernetes-list-type: map
                    type: object
                  type: array
                phase:
                  description: Determines where in the filter chain this `WasmPlugin`
                    is to be injected.
                  enum:
                  - UNSPECIFIED_PHASE
                  - AUTHN
                  - AUTHZ
                  - STATS
                  type: string
                pluginConfig:
                  description: The configuration that will be passed on to the plugin.
                  type: object
                  x-kubernetes-preserve-unknown-fields: true
                pluginName:
                  description: The plugin name to be used in the Envoy configuration
                    (used to be called `rootID`).
                  maxLength: 256
                  minLength: 1
                  type: string
                priority:
                  description: Determines ordering of `WasmPlugins` in the same `phase`.
                  nullable: true
                  type: integer
                selector:
                  description: Criteria used to select the specific set of pods/VMs
                    on which this plugin configuration should be applied.
                  properties:
                    matchLabels:
                      additionalProperties:
                        type: string
                      description: One or more labels that indicate a specific set
                        of pods/VMs on which a policy should be applied.
                      type: object
                  type: object
                sha256:
                  description: SHA256 checksum that will be used to verify Wasm module
                    or OCI container.
                  pattern: (^$|^[a-f0-9]{64}$)
                  type: string
                targetRef:
                  description: Optional.
                  properties:
                    group:
                      description: group is the group of the target resource.
                      type: string
                    kind:
                      description: kind is kind of the target resource.
                      type: string
                    name:
                      description: name is the name of the target resource.
                      type: string
                    namespace:
                      description: namespace is the namespace of the referent.
                      type: string
                  type: object
                type:
                  description: Specifies the type of Wasm Extension to be used.
                  enum:
                  - UNSPECIFIED_PLUGIN_TYPE
                  - HTTP
                  - NETWORK
                  type: string
                url:
                  description: URL of a Wasm module or OCI container.
                  minLength: 1
                  type: string
                  x-kubernetes-validations:
                  - message: url must have schema one of [http, https, file, oci]
                    rule: 'isURL(self) ? (url(self).getScheme() in ['''', ''http'',
                      ''https'', ''oci'', ''file'']) : (isURL(''http://'' + self)
                      && url(''http://'' +self).getScheme() in ['''', ''http'', ''https'',
                      ''oci'', ''file''])'
                verificationKey:
                  type: string
                vmConfig:
                  description: Configuration for a Wasm VM.
                  properties:
                    env:
                      description: Specifies environment variables to be injected
                        to this VM.
                      items:
                        properties:
                          name:
                            description: Name of the environment variable.
                            maxLength: 256
                            minLength: 1
                            type: string
                          value:
                            description: Value for the environment variable.
                            maxLength: 2048
                            type: string
                          valueFrom:
                            description: Source for the environment variable's value.
                            enum:
                            - INLINE
                            - HOST
                            type: string
                        required:
                        - name
                        type: object
                        x-kubernetes-validations:
                        - message: value may only be set when valueFrom is INLINE
                          rule: '(has(self.valueFrom) ? self.valueFrom : '''') !=
                            ''HOST'' || !has(self.value)'
                      maxItems: 256
                      type: array
                      x-kubernetes-list-map-keys:
                      - name
                      x-kubernetes-list-type: map
                  type: object
              required:
              - url
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          required:
          - spec
          type: object
      served: true
      storage: true
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - istio-io
      - extensions-istio-io
      kind: WasmPlugin
      listKind: WasmPluginList
      plural: wasmplugins
      singular: wasmplugin
    conditions:
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha1
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    annotations:
      helm.sh/resource-policy: keep
    creationTimestamp: "2024-04-07T12:56:56Z"
    generation: 1
    labels:
      app: istio-pilot
      chart: istio
      heritage: Tiller
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio.io/rev: default
      operator.istio.io/component: Base
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: workloadentries.networking.istio.io
    resourceVersion: "1904536"
    uid: 03524ba2-ebc9-45ec-8222-30bcc393ec22
  spec:
    conversion:
      strategy: None
    group: networking.istio.io
    names:
      categories:
      - istio-io
      - networking-istio-io
      kind: WorkloadEntry
      listKind: WorkloadEntryList
      plural: workloadentries
      shortNames:
      - we
      singular: workloadentry
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - description: 'CreationTimestamp is a timestamp representing the server time
          when this object was created. It is not guaranteed to be set in happens-before
          order across separate operations. Clients may not set this value. It is
          represented in RFC3339 form and is in UTC. Populated by the system. Read-only.
          Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
        jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      - description: Address associated with the network endpoint.
        jsonPath: .spec.address
        name: Address
        type: string
      name: v1alpha3
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting VMs onboarded into the mesh. See
                more details at: https://istio.io/docs/reference/config/networking/workload-entry.html'
              properties:
                address:
                  description: Address associated with the network endpoint without
                    the port.
                  type: string
                labels:
                  additionalProperties:
                    type: string
                  description: One or more labels associated with the endpoint.
                  type: object
                locality:
                  description: The locality associated with the endpoint.
                  type: string
                network:
                  description: Network enables Istio to group endpoints resident in
                    the same L3 domain/network.
                  type: string
                ports:
                  additionalProperties:
                    type: integer
                  description: Set of ports associated with the endpoint.
                  type: object
                serviceAccount:
                  description: The service account associated with the workload if
                    a sidecar is present in the workload.
                  type: string
                weight:
                  description: The load balancing weight associated with the endpoint.
                  type: integer
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: true
      subresources:
        status: {}
    - additionalPrinterColumns:
      - description: 'CreationTimestamp is a timestamp representing the server time
          when this object was created. It is not guaranteed to be set in happens-before
          order across separate operations. Clients may not set this value. It is
          represented in RFC3339 form and is in UTC. Populated by the system. Read-only.
          Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
        jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      - description: Address associated with the network endpoint.
        jsonPath: .spec.address
        name: Address
        type: string
      name: v1beta1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Configuration affecting VMs onboarded into the mesh. See
                more details at: https://istio.io/docs/reference/config/networking/workload-entry.html'
              properties:
                address:
                  description: Address associated with the network endpoint without
                    the port.
                  type: string
                labels:
                  additionalProperties:
                    type: string
                  description: One or more labels associated with the endpoint.
                  type: object
                locality:
                  description: The locality associated with the endpoint.
                  type: string
                network:
                  description: Network enables Istio to group endpoints resident in
                    the same L3 domain/network.
                  type: string
                ports:
                  additionalProperties:
                    type: integer
                  description: Set of ports associated with the endpoint.
                  type: object
                serviceAccount:
                  description: The service account associated with the workload if
                    a sidecar is present in the workload.
                  type: string
                weight:
                  description: The load balancing weight associated with the endpoint.
                  type: integer
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: false
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - istio-io
      - networking-istio-io
      kind: WorkloadEntry
      listKind: WorkloadEntryList
      plural: workloadentries
      shortNames:
      - we
      singular: workloadentry
    conditions:
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha3
- apiVersion: apiextensions.k8s.io/v1
  kind: CustomResourceDefinition
  metadata:
    creationTimestamp: "2024-04-07T12:56:56Z"
    generation: 1
    labels:
      app: istio-pilot
      chart: istio
      heritage: Tiller
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio.io/rev: default
      operator.istio.io/component: Base
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: workloadgroups.networking.istio.io
    resourceVersion: "1904537"
    uid: 94b32e84-7037-43d9-9d91-cbc6eda9c438
  spec:
    conversion:
      strategy: None
    group: networking.istio.io
    names:
      categories:
      - istio-io
      - networking-istio-io
      kind: WorkloadGroup
      listKind: WorkloadGroupList
      plural: workloadgroups
      shortNames:
      - wg
      singular: workloadgroup
    scope: Namespaced
    versions:
    - additionalPrinterColumns:
      - description: 'CreationTimestamp is a timestamp representing the server time
          when this object was created. It is not guaranteed to be set in happens-before
          order across separate operations. Clients may not set this value. It is
          represented in RFC3339 form and is in UTC. Populated by the system. Read-only.
          Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
        jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1alpha3
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: 'Describes a collection of workload instances. See more
                details at: https://istio.io/docs/reference/config/networking/workload-group.html'
              properties:
                metadata:
                  description: Metadata that will be used for all corresponding `WorkloadEntries`.
                  properties:
                    annotations:
                      additionalProperties:
                        type: string
                      type: object
                    labels:
                      additionalProperties:
                        type: string
                      type: object
                  type: object
                probe:
                  description: '`ReadinessProbe` describes the configuration the user
                    must provide for healthchecking on their workload.'
                  oneOf:
                  - not:
                      anyOf:
                      - required:
                        - httpGet
                      - required:
                        - tcpSocket
                      - required:
                        - exec
                  - required:
                    - httpGet
                  - required:
                    - tcpSocket
                  - required:
                    - exec
                  properties:
                    exec:
                      description: Health is determined by how the command that is
                        executed exited.
                      properties:
                        command:
                          description: Command to run.
                          items:
                            type: string
                          type: array
                      type: object
                    failureThreshold:
                      description: Minimum consecutive failures for the probe to be
                        considered failed after having succeeded.
                      format: int32
                      type: integer
                    httpGet:
                      description: '`httpGet` is performed to a given endpoint and
                        the status/able to connect determines health.'
                      properties:
                        host:
                          description: Host name to connect to, defaults to the pod
                            IP.
                          type: string
                        httpHeaders:
                          description: Headers the proxy will pass on to make the
                            request.
                          items:
                            properties:
                              name:
                                type: string
                              value:
                                type: string
                            type: object
                          type: array
                        path:
                          description: Path to access on the HTTP server.
                          type: string
                        port:
                          description: Port on which the endpoint lives.
                          type: integer
                        scheme:
                          type: string
                      required:
                      - port
                      type: object
                    initialDelaySeconds:
                      description: Number of seconds after the container has started
                        before readiness probes are initiated.
                      format: int32
                      type: integer
                    periodSeconds:
                      description: How often (in seconds) to perform the probe.
                      format: int32
                      type: integer
                    successThreshold:
                      description: Minimum consecutive successes for the probe to
                        be considered successful after having failed.
                      format: int32
                      type: integer
                    tcpSocket:
                      description: Health is determined by if the proxy is able to
                        connect.
                      properties:
                        host:
                          type: string
                        port:
                          type: integer
                      required:
                      - port
                      type: object
                    timeoutSeconds:
                      description: Number of seconds after which the probe times out.
                      format: int32
                      type: integer
                  type: object
                template:
                  description: Template to be used for the generation of `WorkloadEntry`
                    resources that belong to this `WorkloadGroup`.
                  properties:
                    address:
                      description: Address associated with the network endpoint without
                        the port.
                      type: string
                    labels:
                      additionalProperties:
                        type: string
                      description: One or more labels associated with the endpoint.
                      type: object
                    locality:
                      description: The locality associated with the endpoint.
                      type: string
                    network:
                      description: Network enables Istio to group endpoints resident
                        in the same L3 domain/network.
                      type: string
                    ports:
                      additionalProperties:
                        type: integer
                      description: Set of ports associated with the endpoint.
                      type: object
                    serviceAccount:
                      description: The service account associated with the workload
                        if a sidecar is present in the workload.
                      type: string
                    weight:
                      description: The load balancing weight associated with the endpoint.
                      type: integer
                  type: object
              required:
              - template
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: true
      subresources:
        status: {}
    - additionalPrinterColumns:
      - description: 'CreationTimestamp is a timestamp representing the server time
          when this object was created. It is not guaranteed to be set in happens-before
          order across separate operations. Clients may not set this value. It is
          represented in RFC3339 form and is in UTC. Populated by the system. Read-only.
          Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata'
        jsonPath: .metadata.creationTimestamp
        name: Age
        type: date
      name: v1beta1
      schema:
        openAPIV3Schema:
          properties:
            spec:
              description: '`WorkloadGroup` enables specifying the properties of a
                single workload for bootstrap and provides a template for `WorkloadEntry`,
                similar to how `Deployment` specifies properties of workloads via
                `Pod` templates.'
              properties:
                metadata:
                  description: Metadata that will be used for all corresponding `WorkloadEntries`.
                  properties:
                    annotations:
                      additionalProperties:
                        type: string
                      type: object
                    labels:
                      additionalProperties:
                        type: string
                      type: object
                  type: object
                probe:
                  description: '`ReadinessProbe` describes the configuration the user
                    must provide for healthchecking on their workload.'
                  oneOf:
                  - not:
                      anyOf:
                      - required:
                        - httpGet
                      - required:
                        - tcpSocket
                      - required:
                        - exec
                  - required:
                    - httpGet
                  - required:
                    - tcpSocket
                  - required:
                    - exec
                  properties:
                    exec:
                      description: Health is determined by how the command that is
                        executed exited.
                      properties:
                        command:
                          description: Command to run.
                          items:
                            type: string
                          type: array
                      type: object
                    failureThreshold:
                      description: Minimum consecutive failures for the probe to be
                        considered failed after having succeeded.
                      format: int32
                      type: integer
                    httpGet:
                      description: '`httpGet` is performed to a given endpoint and
                        the status/able to connect determines health.'
                      properties:
                        host:
                          description: Host name to connect to, defaults to the pod
                            IP.
                          type: string
                        httpHeaders:
                          description: Headers the proxy will pass on to make the
                            request.
                          items:
                            properties:
                              name:
                                type: string
                              value:
                                type: string
                            type: object
                          type: array
                        path:
                          description: Path to access on the HTTP server.
                          type: string
                        port:
                          description: Port on which the endpoint lives.
                          type: integer
                        scheme:
                          type: string
                      required:
                      - port
                      type: object
                    initialDelaySeconds:
                      description: Number of seconds after the container has started
                        before readiness probes are initiated.
                      format: int32
                      type: integer
                    periodSeconds:
                      description: How often (in seconds) to perform the probe.
                      format: int32
                      type: integer
                    successThreshold:
                      description: Minimum consecutive successes for the probe to
                        be considered successful after having failed.
                      format: int32
                      type: integer
                    tcpSocket:
                      description: Health is determined by if the proxy is able to
                        connect.
                      properties:
                        host:
                          type: string
                        port:
                          type: integer
                      required:
                      - port
                      type: object
                    timeoutSeconds:
                      description: Number of seconds after which the probe times out.
                      format: int32
                      type: integer
                  type: object
                template:
                  description: Template to be used for the generation of `WorkloadEntry`
                    resources that belong to this `WorkloadGroup`.
                  properties:
                    address:
                      description: Address associated with the network endpoint without
                        the port.
                      type: string
                    labels:
                      additionalProperties:
                        type: string
                      description: One or more labels associated with the endpoint.
                      type: object
                    locality:
                      description: The locality associated with the endpoint.
                      type: string
                    network:
                      description: Network enables Istio to group endpoints resident
                        in the same L3 domain/network.
                      type: string
                    ports:
                      additionalProperties:
                        type: integer
                      description: Set of ports associated with the endpoint.
                      type: object
                    serviceAccount:
                      description: The service account associated with the workload
                        if a sidecar is present in the workload.
                      type: string
                    weight:
                      description: The load balancing weight associated with the endpoint.
                      type: integer
                  type: object
              required:
              - template
              type: object
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
          type: object
      served: true
      storage: false
      subresources:
        status: {}
  status:
    acceptedNames:
      categories:
      - istio-io
      - networking-istio-io
      kind: WorkloadGroup
      listKind: WorkloadGroupList
      plural: workloadgroups
      shortNames:
      - wg
      singular: workloadgroup
    conditions:
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: no conflicts found
      reason: NoConflicts
      status: "True"
      type: NamesAccepted
    - lastTransitionTime: "2024-04-07T12:56:56Z"
      message: the initial names have been accepted
      reason: InitialNamesAccepted
      status: "True"
      type: Established
    storedVersions:
    - v1alpha3
- apiVersion: v1
  data:
    root-cert.pem: |
      -----BEGIN CERTIFICATE-----
      MIIFFDCCAvygAwIBAgIUKEe8c0ey0MATKC7wmSWfTGenYrwwDQYJKoZIhvcNAQEL
      BQAwIjEOMAwGA1UECgwFSXN0aW8xEDAOBgNVBAMMB1Jvb3QgQ0EwHhcNMjQwMzEw
      MTUxNjQwWhcNMzQwMzA4MTUxNjQwWjAiMQ4wDAYDVQQKDAVJc3RpbzEQMA4GA1UE
      AwwHUm9vdCBDQTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBANqYIhL8
      A/a2r1cWTuXHlaRF8mZkPTeLAWuJ/QndEbjc5HSoSGEFUWohf8c7TjC85EEFwsxY
      JsqgER2iVFXwz5zIgSuPhY/8vG73qBBBQ4Caov+FTFhN4Yi3BnWJLoOktYnwztTF
      j0Saed1aDUxnO2SrXU8Urbc37q2SiczBb10YyVMsGJmeOrQy4VNoU/E50+O4LTwZ
      GwN1Ehz7x8X3GZN3R2PmHeAUdQ7jDnppkkFELEKLTOBg5YSEudAkqrvSDV5eXXM5
      Ef3gPwH4491ItFbGOgzWpxiNQcXrT9ronotDFXUXnZ8fjnGmsJzK4R1pmivkWha4
      9OUIAuGUbGKuJII01PI7qEntkP9atyVdUazVgX32QsInWBCA5rXDKHvulSStI2d3
      zd+j+b2BaVImeAwxjvXs/JMhpL3oHYs8E46rahKRMctyvxRJmcUI1sMk4Ya/c2an
      48zpKSOrL/nqc2PmDV1zXMCGRwMDghzBL7DzI8zBkMV7B3vsm56q6JqvnkrXchfS
      ScFXJr5Wr5V1d2ij/Wrs542aQuNsnBQR7NADy+ti45Z8tNegG11+GcFYdsGUWFeO
      xSxjOdBzxK8e/6VRTqKPWA7MngBCGxRFhf0+Kv5tRZGUiHXHm0a3WcNUi8ifzBKa
      1vOVgVNhCDAI/M1pih5/HGhd7aFFckoVmaG3AgMBAAGjQjBAMB0GA1UdDgQWBBR6
      FuyGMgTWi+AxP9k0BD4AcLtQkTAPBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB/wQE
      AwIC5DANBgkqhkiG9w0BAQsFAAOCAgEANG5aKWbM2fvO2mtUenuyFbLROkzwuIFi
      6I4DdL1J64WeDWMF1NzLCpEolon4hDhoULBmh1YCTvVfkw5vS9V+9dTOiyprz4fY
      ikXz0F6rk+Vgk0Mtk9mLwnlx1vkfFDfBaWg2+1oKs6D3jO+oI8GDrOIrSyxPnNES
      5XQ7nrlaMCzhQzM1JL8tLNG9qGaw6/TTVnTyzatVeLvCQqDpxT87mWPcRV/RDRt0
      8aLQC46u9DTZsjKi1DUSmuvnD8b4NvPSf6WyaEZrVG0KFJITMIJCpDBVsBoG4Pg+
      GkwlYAi0sbjL4Uj/sthY6s3acaPa5gdHDNbcVqaWjyk15goebtboaLZjDZXIhXsD
      tlGG5F/2pQI1dlsOwoKPsbn16pOieRnH8IQJAfXSO3+/U8+05lx8LM70iUqw094Q
      vCk4o0Pp7ilst/0jtvJwu/vWv+0JqUxtMW3982YEamURXLEX7UY2TeI6P7EB0zsN
      qjfTNQ3isTOUDyhcZJdI+y6oU7dKVofP6RCWZIL/MAJKWSP3vw+cp4U+cWOu6PNg
      WhCYcjAeE72MoTNNxGF3JR6UZGtS5+lmaK+qEdDZ8sbW6nDtk8RXpJdxwkP8rvQ0
      IXM/JUTXbXtBlU8bELbvunMgQsBJy6syzrwjSqirjB7cgA2ij2/XJ0iWljoaZDUJ
      qujJD9MN08U=
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2024-04-08T13:55:55Z"
    labels:
      istio.io/config: "true"
    name: istio-ca-root-cert
    namespace: bookinfo
    resourceVersion: "2037431"
    uid: 201bbd93-996e-4f82-93a9-dc4a87e55003
- apiVersion: v1
  data:
    ca.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDBDCCAeygAwIBAgIHMGnw4gJmvzANBgkqhkiG9w0BAQsFADAVMRMwEQYDVQQD
      EwprdWJlcm5ldGVzMB4XDTI0MDMwOTA0MDk0NFoXDTM0MDMwNzA0MTQ0NFowFTET
      MBEGA1UEAxMKa3ViZXJuZXRlczCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC
      ggEBAMQ01D4M87cu5+Oqa7/YnFnVuM4wFbToFi76xRE2O5kMVkKhLzGfwAKaXcPZ
      hhiuYr/KZD3BUU+RSxTs4zPCtuLVkDQm75nX9KUB8HtB5iPWuJEDk/4FGUqV5xh3
      iCfNS3GLLLynngxuUK8G8wQoOxFORdaGo+XWg5jNy2NRqMf3e1K6nlW9oiJi/lJK
      2FVeswS8CzE3ABZkZkJW8iUSPQFf3zpPIJyedU2YZMPxaDDfr//6nCFFk2djfMRt
      ySRBnxpRuDqvqWcpFtlGtr2z2LDP2xPQwBlHJWgwvlQb8ynrqysRFkF5H94naTf3
      cY4syO4Od7t1Nen+iw7QSPZBQ6UCAwEAAaNZMFcwDgYDVR0PAQH/BAQDAgKkMA8G
      A1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFHyPwD/kRrWbDvgD19g1QlLiuYPlMBUG
      A1UdEQQOMAyCCmt1YmVybmV0ZXMwDQYJKoZIhvcNAQELBQADggEBAEFYuOtbuowo
      JzKpEEQtGWc/8xE5ur9CumsSINAz8GB6Zvj4ojaj8NgX4vw9L63T4pRk/P9XnE6y
      F88VFofzax4PZNgbXG5fwN1O+d7xEjYsDZQX6YPqa2ypwyQBF4vjJiYI4qMzjSbG
      6sf7vkVcNkxtvA1uZqTeL3pnp2A0uv1hOeE9b6833glG8tcPZQOad6a3uPa+9oVq
      f3guuBePxqSlTjjwYzIqtHXVFPv3U7XnP7LwKud/7c+ikU4WwuiNH2sMgYVrvHmU
      YgnniAnLA+gR7HpdRS9VieivHcazm/qAWr2+gEzUYImsUe3dxW2hZVap3tbiPlYU
      6u7srgTYl70=
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    annotations:
      kubernetes.io/description: Contains a CA bundle that can be used to verify the
        kube-apiserver when using internal endpoints such as the internal service
        IP or kubernetes.default.svc. No other usage is guaranteed across distributions
        of Kubernetes clusters.
    creationTimestamp: "2024-04-08T13:55:55Z"
    name: kube-root-ca.crt
    namespace: bookinfo
    resourceVersion: "2037433"
    uid: d8379f85-1a62-4122-8528-e7913349dcc1
- apiVersion: v1
  data:
    root-cert.pem: |
      -----BEGIN CERTIFICATE-----
      MIIFFDCCAvygAwIBAgIUKEe8c0ey0MATKC7wmSWfTGenYrwwDQYJKoZIhvcNAQEL
      BQAwIjEOMAwGA1UECgwFSXN0aW8xEDAOBgNVBAMMB1Jvb3QgQ0EwHhcNMjQwMzEw
      MTUxNjQwWhcNMzQwMzA4MTUxNjQwWjAiMQ4wDAYDVQQKDAVJc3RpbzEQMA4GA1UE
      AwwHUm9vdCBDQTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBANqYIhL8
      A/a2r1cWTuXHlaRF8mZkPTeLAWuJ/QndEbjc5HSoSGEFUWohf8c7TjC85EEFwsxY
      JsqgER2iVFXwz5zIgSuPhY/8vG73qBBBQ4Caov+FTFhN4Yi3BnWJLoOktYnwztTF
      j0Saed1aDUxnO2SrXU8Urbc37q2SiczBb10YyVMsGJmeOrQy4VNoU/E50+O4LTwZ
      GwN1Ehz7x8X3GZN3R2PmHeAUdQ7jDnppkkFELEKLTOBg5YSEudAkqrvSDV5eXXM5
      Ef3gPwH4491ItFbGOgzWpxiNQcXrT9ronotDFXUXnZ8fjnGmsJzK4R1pmivkWha4
      9OUIAuGUbGKuJII01PI7qEntkP9atyVdUazVgX32QsInWBCA5rXDKHvulSStI2d3
      zd+j+b2BaVImeAwxjvXs/JMhpL3oHYs8E46rahKRMctyvxRJmcUI1sMk4Ya/c2an
      48zpKSOrL/nqc2PmDV1zXMCGRwMDghzBL7DzI8zBkMV7B3vsm56q6JqvnkrXchfS
      ScFXJr5Wr5V1d2ij/Wrs542aQuNsnBQR7NADy+ti45Z8tNegG11+GcFYdsGUWFeO
      xSxjOdBzxK8e/6VRTqKPWA7MngBCGxRFhf0+Kv5tRZGUiHXHm0a3WcNUi8ifzBKa
      1vOVgVNhCDAI/M1pih5/HGhd7aFFckoVmaG3AgMBAAGjQjBAMB0GA1UdDgQWBBR6
      FuyGMgTWi+AxP9k0BD4AcLtQkTAPBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB/wQE
      AwIC5DANBgkqhkiG9w0BAQsFAAOCAgEANG5aKWbM2fvO2mtUenuyFbLROkzwuIFi
      6I4DdL1J64WeDWMF1NzLCpEolon4hDhoULBmh1YCTvVfkw5vS9V+9dTOiyprz4fY
      ikXz0F6rk+Vgk0Mtk9mLwnlx1vkfFDfBaWg2+1oKs6D3jO+oI8GDrOIrSyxPnNES
      5XQ7nrlaMCzhQzM1JL8tLNG9qGaw6/TTVnTyzatVeLvCQqDpxT87mWPcRV/RDRt0
      8aLQC46u9DTZsjKi1DUSmuvnD8b4NvPSf6WyaEZrVG0KFJITMIJCpDBVsBoG4Pg+
      GkwlYAi0sbjL4Uj/sthY6s3acaPa5gdHDNbcVqaWjyk15goebtboaLZjDZXIhXsD
      tlGG5F/2pQI1dlsOwoKPsbn16pOieRnH8IQJAfXSO3+/U8+05lx8LM70iUqw094Q
      vCk4o0Pp7ilst/0jtvJwu/vWv+0JqUxtMW3982YEamURXLEX7UY2TeI6P7EB0zsN
      qjfTNQ3isTOUDyhcZJdI+y6oU7dKVofP6RCWZIL/MAJKWSP3vw+cp4U+cWOu6PNg
      WhCYcjAeE72MoTNNxGF3JR6UZGtS5+lmaK+qEdDZ8sbW6nDtk8RXpJdxwkP8rvQ0
      IXM/JUTXbXtBlU8bELbvunMgQsBJy6syzrwjSqirjB7cgA2ij2/XJ0iWljoaZDUJ
      qujJD9MN08U=
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2024-03-10T15:23:57Z"
    labels:
      istio.io/config: "true"
    name: istio-ca-root-cert
    namespace: default
    resourceVersion: "502302"
    uid: 046d480f-f114-4a64-82a4-d5c48aa08015
- apiVersion: v1
  data:
    ca.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDBDCCAeygAwIBAgIHMGnw4gJmvzANBgkqhkiG9w0BAQsFADAVMRMwEQYDVQQD
      EwprdWJlcm5ldGVzMB4XDTI0MDMwOTA0MDk0NFoXDTM0MDMwNzA0MTQ0NFowFTET
      MBEGA1UEAxMKa3ViZXJuZXRlczCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC
      ggEBAMQ01D4M87cu5+Oqa7/YnFnVuM4wFbToFi76xRE2O5kMVkKhLzGfwAKaXcPZ
      hhiuYr/KZD3BUU+RSxTs4zPCtuLVkDQm75nX9KUB8HtB5iPWuJEDk/4FGUqV5xh3
      iCfNS3GLLLynngxuUK8G8wQoOxFORdaGo+XWg5jNy2NRqMf3e1K6nlW9oiJi/lJK
      2FVeswS8CzE3ABZkZkJW8iUSPQFf3zpPIJyedU2YZMPxaDDfr//6nCFFk2djfMRt
      ySRBnxpRuDqvqWcpFtlGtr2z2LDP2xPQwBlHJWgwvlQb8ynrqysRFkF5H94naTf3
      cY4syO4Od7t1Nen+iw7QSPZBQ6UCAwEAAaNZMFcwDgYDVR0PAQH/BAQDAgKkMA8G
      A1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFHyPwD/kRrWbDvgD19g1QlLiuYPlMBUG
      A1UdEQQOMAyCCmt1YmVybmV0ZXMwDQYJKoZIhvcNAQELBQADggEBAEFYuOtbuowo
      JzKpEEQtGWc/8xE5ur9CumsSINAz8GB6Zvj4ojaj8NgX4vw9L63T4pRk/P9XnE6y
      F88VFofzax4PZNgbXG5fwN1O+d7xEjYsDZQX6YPqa2ypwyQBF4vjJiYI4qMzjSbG
      6sf7vkVcNkxtvA1uZqTeL3pnp2A0uv1hOeE9b6833glG8tcPZQOad6a3uPa+9oVq
      f3guuBePxqSlTjjwYzIqtHXVFPv3U7XnP7LwKud/7c+ikU4WwuiNH2sMgYVrvHmU
      YgnniAnLA+gR7HpdRS9VieivHcazm/qAWr2+gEzUYImsUe3dxW2hZVap3tbiPlYU
      6u7srgTYl70=
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    annotations:
      kubernetes.io/description: Contains a CA bundle that can be used to verify the
        kube-apiserver when using internal endpoints such as the internal service
        IP or kubernetes.default.svc. No other usage is guaranteed across distributions
        of Kubernetes clusters.
    creationTimestamp: "2024-03-09T04:15:06Z"
    name: kube-root-ca.crt
    namespace: default
    resourceVersion: "438"
    uid: 2e172dcf-ad25-4a85-b9c7-149aae32c4cb
- apiVersion: v1
  data:
    root-cert.pem: |
      -----BEGIN CERTIFICATE-----
      MIIFFDCCAvygAwIBAgIUKEe8c0ey0MATKC7wmSWfTGenYrwwDQYJKoZIhvcNAQEL
      BQAwIjEOMAwGA1UECgwFSXN0aW8xEDAOBgNVBAMMB1Jvb3QgQ0EwHhcNMjQwMzEw
      MTUxNjQwWhcNMzQwMzA4MTUxNjQwWjAiMQ4wDAYDVQQKDAVJc3RpbzEQMA4GA1UE
      AwwHUm9vdCBDQTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBANqYIhL8
      A/a2r1cWTuXHlaRF8mZkPTeLAWuJ/QndEbjc5HSoSGEFUWohf8c7TjC85EEFwsxY
      JsqgER2iVFXwz5zIgSuPhY/8vG73qBBBQ4Caov+FTFhN4Yi3BnWJLoOktYnwztTF
      j0Saed1aDUxnO2SrXU8Urbc37q2SiczBb10YyVMsGJmeOrQy4VNoU/E50+O4LTwZ
      GwN1Ehz7x8X3GZN3R2PmHeAUdQ7jDnppkkFELEKLTOBg5YSEudAkqrvSDV5eXXM5
      Ef3gPwH4491ItFbGOgzWpxiNQcXrT9ronotDFXUXnZ8fjnGmsJzK4R1pmivkWha4
      9OUIAuGUbGKuJII01PI7qEntkP9atyVdUazVgX32QsInWBCA5rXDKHvulSStI2d3
      zd+j+b2BaVImeAwxjvXs/JMhpL3oHYs8E46rahKRMctyvxRJmcUI1sMk4Ya/c2an
      48zpKSOrL/nqc2PmDV1zXMCGRwMDghzBL7DzI8zBkMV7B3vsm56q6JqvnkrXchfS
      ScFXJr5Wr5V1d2ij/Wrs542aQuNsnBQR7NADy+ti45Z8tNegG11+GcFYdsGUWFeO
      xSxjOdBzxK8e/6VRTqKPWA7MngBCGxRFhf0+Kv5tRZGUiHXHm0a3WcNUi8ifzBKa
      1vOVgVNhCDAI/M1pih5/HGhd7aFFckoVmaG3AgMBAAGjQjBAMB0GA1UdDgQWBBR6
      FuyGMgTWi+AxP9k0BD4AcLtQkTAPBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB/wQE
      AwIC5DANBgkqhkiG9w0BAQsFAAOCAgEANG5aKWbM2fvO2mtUenuyFbLROkzwuIFi
      6I4DdL1J64WeDWMF1NzLCpEolon4hDhoULBmh1YCTvVfkw5vS9V+9dTOiyprz4fY
      ikXz0F6rk+Vgk0Mtk9mLwnlx1vkfFDfBaWg2+1oKs6D3jO+oI8GDrOIrSyxPnNES
      5XQ7nrlaMCzhQzM1JL8tLNG9qGaw6/TTVnTyzatVeLvCQqDpxT87mWPcRV/RDRt0
      8aLQC46u9DTZsjKi1DUSmuvnD8b4NvPSf6WyaEZrVG0KFJITMIJCpDBVsBoG4Pg+
      GkwlYAi0sbjL4Uj/sthY6s3acaPa5gdHDNbcVqaWjyk15goebtboaLZjDZXIhXsD
      tlGG5F/2pQI1dlsOwoKPsbn16pOieRnH8IQJAfXSO3+/U8+05lx8LM70iUqw094Q
      vCk4o0Pp7ilst/0jtvJwu/vWv+0JqUxtMW3982YEamURXLEX7UY2TeI6P7EB0zsN
      qjfTNQ3isTOUDyhcZJdI+y6oU7dKVofP6RCWZIL/MAJKWSP3vw+cp4U+cWOu6PNg
      WhCYcjAeE72MoTNNxGF3JR6UZGtS5+lmaK+qEdDZ8sbW6nDtk8RXpJdxwkP8rvQ0
      IXM/JUTXbXtBlU8bELbvunMgQsBJy6syzrwjSqirjB7cgA2ij2/XJ0iWljoaZDUJ
      qujJD9MN08U=
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2024-03-10T13:08:56Z"
    labels:
      istio.io/config: "true"
    name: istio-ca-root-cert
    namespace: istio-system
    resourceVersion: "502294"
    uid: 9bd8eca4-1b57-4931-acf1-58295f8d2366
- apiVersion: v1
  kind: ConfigMap
  metadata:
    annotations:
      control-plane.alpha.kubernetes.io/leader: '{"holderIdentity":"istiod-5c586775f7-stw2d","holderKey":"default","leaseDurationSeconds":30,"acquireTime":"2024-04-10T08:59:08Z","renewTime":"2024-04-12T09:24:35Z","leaderTransitions":46}'
    creationTimestamp: "2024-03-10T13:08:56Z"
    name: istio-gateway-status-leader
    namespace: istio-system
    resourceVersion: "2393953"
    uid: 06b4dca1-069a-4445-bf8d-7a6af5933e35
- apiVersion: v1
  kind: ConfigMap
  metadata:
    annotations:
      control-plane.alpha.kubernetes.io/leader: '{"holderIdentity":"istiod-5c586775f7-stw2d","holderKey":"default","leaseDurationSeconds":30,"acquireTime":"2024-04-10T08:59:08Z","renewTime":"2024-04-12T09:24:35Z","leaderTransitions":44}'
    creationTimestamp: "2024-03-10T13:08:56Z"
    name: istio-leader
    namespace: istio-system
    resourceVersion: "2393952"
    uid: 54f31991-48fb-411c-9655-09e7b4a095b7
- apiVersion: v1
  kind: ConfigMap
  metadata:
    annotations:
      control-plane.alpha.kubernetes.io/leader: '{"holderIdentity":"istiod-5c586775f7-stw2d","holderKey":"default","leaseDurationSeconds":30,"acquireTime":"2024-04-10T08:59:08Z","renewTime":"2024-04-12T09:24:35Z","leaderTransitions":44}'
    creationTimestamp: "2024-03-10T13:08:56Z"
    name: istio-namespace-controller-election
    namespace: istio-system
    resourceVersion: "2393954"
    uid: b7525480-5d24-495d-a18f-1116714fa362
- apiVersion: v1
  data:
    config: |-
      # defaultTemplates defines the default template to use for pods that do not explicitly specify a template
      defaultTemplates: [sidecar]
      policy: enabled
      alwaysInjectSelector:
        []
      neverInjectSelector:
        []
      injectedAnnotations:
      template: "{{ Template_Version_And_Istio_Version_Mismatched_Check_Installation }}"
      templates:
        sidecar: |
          {{- define "resources"  }}
            {{- if or (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyCPU`) (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyMemory`) (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyCPULimit`) (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyMemoryLimit`) }}
              {{- if or (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyCPU`) (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyMemory`) }}
                requests:
                  {{ if (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyCPU`) -}}
                  cpu: "{{ index .ObjectMeta.Annotations `sidecar.istio.io/proxyCPU` }}"
                  {{ end }}
                  {{ if (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyMemory`) -}}
                  memory: "{{ index .ObjectMeta.Annotations `sidecar.istio.io/proxyMemory` }}"
                  {{ end }}
              {{- end }}
              {{- if or (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyCPULimit`) (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyMemoryLimit`) }}
                limits:
                  {{ if (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyCPULimit`) -}}
                  cpu: "{{ index .ObjectMeta.Annotations `sidecar.istio.io/proxyCPULimit` }}"
                  {{ end }}
                  {{ if (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyMemoryLimit`) -}}
                  memory: "{{ index .ObjectMeta.Annotations `sidecar.istio.io/proxyMemoryLimit` }}"
                  {{ end }}
              {{- end }}
            {{- else }}
              {{- if .Values.global.proxy.resources }}
                {{ toYaml .Values.global.proxy.resources | indent 6 }}
              {{- end }}
            {{- end }}
          {{- end }}
          {{ $nativeSidecar := (eq (env "ENABLE_NATIVE_SIDECARS" "false") "true") }}
          {{- $containers := list }}
          {{- range $index, $container := .Spec.Containers }}{{ if not (eq $container.Name "istio-proxy") }}{{ $containers = append $containers $container.Name }}{{end}}{{- end}}
          metadata:
            labels:
              security.istio.io/tlsMode: {{ index .ObjectMeta.Labels `security.istio.io/tlsMode` | default "istio"  | quote }}
              {{- if eq (index .ProxyConfig.ProxyMetadata "ISTIO_META_ENABLE_HBONE") "true" }}
              networking.istio.io/tunnel: {{ index .ObjectMeta.Labels `networking.istio.io/tunnel` | default "http"  | quote }}
              {{- end }}
              service.istio.io/canonical-name: {{ index .ObjectMeta.Labels `service.istio.io/canonical-name` | default (index .ObjectMeta.Labels `app.kubernetes.io/name`) | default (index .ObjectMeta.Labels `app`) | default .DeploymentMeta.Name  | trunc 63 | trimSuffix "-" | quote }}
              service.istio.io/canonical-revision: {{ index .ObjectMeta.Labels `service.istio.io/canonical-revision` | default (index .ObjectMeta.Labels `app.kubernetes.io/version`) | default (index .ObjectMeta.Labels `version`) | default "latest"  | quote }}
            annotations: {
              istio.io/rev: {{ .Revision | default "default" | quote }},
              {{- if ge (len $containers) 1 }}
              {{- if not (isset .ObjectMeta.Annotations `kubectl.kubernetes.io/default-logs-container`) }}
              kubectl.kubernetes.io/default-logs-container: "{{ index $containers 0 }}",
              {{- end }}
              {{- if not (isset .ObjectMeta.Annotations `kubectl.kubernetes.io/default-container`) }}
              kubectl.kubernetes.io/default-container: "{{ index $containers 0 }}",
              {{- end }}
              {{- end }}
          {{- if .Values.istio_cni.enabled }}
              {{- if not .Values.istio_cni.chained }}
              k8s.v1.cni.cncf.io/networks: '{{ appendMultusNetwork (index .ObjectMeta.Annotations `k8s.v1.cni.cncf.io/networks`) `default/istio-cni` }}',
              {{- end }}
              sidecar.istio.io/interceptionMode: "{{ annotation .ObjectMeta `sidecar.istio.io/interceptionMode` .ProxyConfig.InterceptionMode }}",
              {{ with annotation .ObjectMeta `traffic.sidecar.istio.io/includeOutboundIPRanges` .Values.global.proxy.includeIPRanges }}traffic.sidecar.istio.io/includeOutboundIPRanges: "{{.}}",{{ end }}
              {{ with annotation .ObjectMeta `traffic.sidecar.istio.io/excludeOutboundIPRanges` .Values.global.proxy.excludeIPRanges }}traffic.sidecar.istio.io/excludeOutboundIPRanges: "{{.}}",{{ end }}
              {{ with annotation .ObjectMeta `traffic.sidecar.istio.io/includeInboundPorts` .Values.global.proxy.includeInboundPorts }}traffic.sidecar.istio.io/includeInboundPorts: "{{.}}",{{ end }}
              traffic.sidecar.istio.io/excludeInboundPorts: "{{ excludeInboundPort (annotation .ObjectMeta `status.sidecar.istio.io/port` .Values.global.proxy.statusPort) (annotation .ObjectMeta `traffic.sidecar.istio.io/excludeInboundPorts` .Values.global.proxy.excludeInboundPorts) }}",
              {{ if or (isset .ObjectMeta.Annotations `traffic.sidecar.istio.io/includeOutboundPorts`) (ne (valueOrDefault .Values.global.proxy.includeOutboundPorts "") "") }}
              traffic.sidecar.istio.io/includeOutboundPorts: "{{ annotation .ObjectMeta `traffic.sidecar.istio.io/includeOutboundPorts` .Values.global.proxy.includeOutboundPorts }}",
              {{- end }}
              {{ if or (isset .ObjectMeta.Annotations `traffic.sidecar.istio.io/excludeOutboundPorts`) (ne .Values.global.proxy.excludeOutboundPorts "") }}
              traffic.sidecar.istio.io/excludeOutboundPorts: "{{ annotation .ObjectMeta `traffic.sidecar.istio.io/excludeOutboundPorts` .Values.global.proxy.excludeOutboundPorts }}",
              {{- end }}
              {{ with index .ObjectMeta.Annotations `traffic.sidecar.istio.io/kubevirtInterfaces` }}traffic.sidecar.istio.io/kubevirtInterfaces: "{{.}}",{{ end }}
              {{ with index .ObjectMeta.Annotations `traffic.sidecar.istio.io/excludeInterfaces` }}traffic.sidecar.istio.io/excludeInterfaces: "{{.}}",{{ end }}
          {{- end }}
            }
          spec:
            {{- $holdProxy := and
                (or .ProxyConfig.HoldApplicationUntilProxyStarts.GetValue .Values.global.proxy.holdApplicationUntilProxyStarts)
                (not $nativeSidecar) }}
            initContainers:
            {{ if ne (annotation .ObjectMeta `sidecar.istio.io/interceptionMode` .ProxyConfig.InterceptionMode) `NONE` }}
            {{ if .Values.istio_cni.enabled -}}
            - name: istio-validation
            {{ else -}}
            - name: istio-init
            {{ end -}}
            {{- if contains "/" (annotation .ObjectMeta `sidecar.istio.io/proxyImage` .Values.global.proxy_init.image) }}
              image: "{{ annotation .ObjectMeta `sidecar.istio.io/proxyImage` .Values.global.proxy_init.image }}"
            {{- else }}
              image: "{{ .ProxyImage }}"
            {{- end }}
              args:
              - istio-iptables
              - "-p"
              - {{ .MeshConfig.ProxyListenPort | default "15001" | quote }}
              - "-z"
              - {{ .MeshConfig.ProxyInboundListenPort | default "15006" | quote }}
              - "-u"
              - {{ .ProxyUID | default "1337" | quote }}
              - "-m"
              - "{{ annotation .ObjectMeta `sidecar.istio.io/interceptionMode` .ProxyConfig.InterceptionMode }}"
              - "-i"
              - "{{ annotation .ObjectMeta `traffic.sidecar.istio.io/includeOutboundIPRanges` .Values.global.proxy.includeIPRanges }}"
              - "-x"
              - "{{ annotation .ObjectMeta `traffic.sidecar.istio.io/excludeOutboundIPRanges` .Values.global.proxy.excludeIPRanges }}"
              - "-b"
              - "{{ annotation .ObjectMeta `traffic.sidecar.istio.io/includeInboundPorts` .Values.global.proxy.includeInboundPorts }}"
              - "-d"
            {{- if excludeInboundPort (annotation .ObjectMeta `status.sidecar.istio.io/port` .Values.global.proxy.statusPort) (annotation .ObjectMeta `traffic.sidecar.istio.io/excludeInboundPorts` .Values.global.proxy.excludeInboundPorts) }}
              - "15090,15021,{{ excludeInboundPort (annotation .ObjectMeta `status.sidecar.istio.io/port` .Values.global.proxy.statusPort) (annotation .ObjectMeta `traffic.sidecar.istio.io/excludeInboundPorts` .Values.global.proxy.excludeInboundPorts) }}"
            {{- else }}
              - "15090,15021"
            {{- end }}
              {{ if or (isset .ObjectMeta.Annotations `traffic.sidecar.istio.io/includeOutboundPorts`) (ne (valueOrDefault .Values.global.proxy.includeOutboundPorts "") "") -}}
              - "-q"
              - "{{ annotation .ObjectMeta `traffic.sidecar.istio.io/includeOutboundPorts` .Values.global.proxy.includeOutboundPorts }}"
              {{ end -}}
              {{ if or (isset .ObjectMeta.Annotations `traffic.sidecar.istio.io/excludeOutboundPorts`) (ne (valueOrDefault .Values.global.proxy.excludeOutboundPorts "") "") -}}
              - "-o"
              - "{{ annotation .ObjectMeta `traffic.sidecar.istio.io/excludeOutboundPorts` .Values.global.proxy.excludeOutboundPorts }}"
              {{ end -}}
              {{ if (isset .ObjectMeta.Annotations `traffic.sidecar.istio.io/kubevirtInterfaces`) -}}
              - "-k"
              - "{{ index .ObjectMeta.Annotations `traffic.sidecar.istio.io/kubevirtInterfaces` }}"
              {{ end -}}
               {{ if (isset .ObjectMeta.Annotations `traffic.sidecar.istio.io/excludeInterfaces`) -}}
              - "-c"
              - "{{ index .ObjectMeta.Annotations `traffic.sidecar.istio.io/excludeInterfaces` }}"
              {{ end -}}
              - "--log_output_level={{ annotation .ObjectMeta `sidecar.istio.io/agentLogLevel` .Values.global.logging.level }}"
              {{ if .Values.global.logAsJson -}}
              - "--log_as_json"
              {{ end -}}
              {{ if .Values.istio_cni.enabled -}}
              - "--run-validation"
              - "--skip-rule-apply"
              {{ end -}}
              {{with .Values.global.imagePullPolicy }}imagePullPolicy: "{{.}}"{{end}}
            {{- if .ProxyConfig.ProxyMetadata }}
              env:
              {{- range $key, $value := .ProxyConfig.ProxyMetadata }}
              - name: {{ $key }}
                value: "{{ $value }}"
              {{- end }}
            {{- end }}
              resources:
            {{ template "resources" . }}
              securityContext:
                allowPrivilegeEscalation: {{ .Values.global.proxy.privileged }}
                privileged: {{ .Values.global.proxy.privileged }}
                capabilities:
              {{- if not .Values.istio_cni.enabled }}
                  add:
                  - NET_ADMIN
                  - NET_RAW
              {{- end }}
                  drop:
                  - ALL
              {{- if not .Values.istio_cni.enabled }}
                readOnlyRootFilesystem: false
                runAsGroup: 0
                runAsNonRoot: false
                runAsUser: 0
              {{- else }}
                readOnlyRootFilesystem: true
                runAsGroup: {{ .ProxyGID | default "1337" }}
                runAsUser: {{ .ProxyUID | default "1337" }}
                runAsNonRoot: true
              {{- end }}
            {{ end -}}
            {{- if eq (annotation .ObjectMeta `sidecar.istio.io/enableCoreDump` .Values.global.proxy.enableCoreDump) "true" }}
            - name: enable-core-dump
              args:
              - -c
              - sysctl -w kernel.core_pattern=/var/lib/istio/data/core.proxy && ulimit -c unlimited
              command:
                - /bin/sh
            {{- if contains "/" (annotation .ObjectMeta `sidecar.istio.io/proxyImage` .Values.global.proxy_init.image) }}
              image: "{{ annotation .ObjectMeta `sidecar.istio.io/proxyImage` .Values.global.proxy_init.image }}"
            {{- else }}
              image: "{{ .ProxyImage }}"
            {{- end }}
              {{with .Values.global.imagePullPolicy }}imagePullPolicy: "{{.}}"{{end}}
              resources:
            {{ template "resources" . }}
              securityContext:
                allowPrivilegeEscalation: true
                capabilities:
                  add:
                  - SYS_ADMIN
                  drop:
                  - ALL
                privileged: true
                readOnlyRootFilesystem: false
                runAsGroup: 0
                runAsNonRoot: false
                runAsUser: 0
            {{ end }}
            {{ if not $nativeSidecar }}
            containers:
            {{ end }}
            - name: istio-proxy
            {{- if contains "/" (annotation .ObjectMeta `sidecar.istio.io/proxyImage` .Values.global.proxy.image) }}
              image: "{{ annotation .ObjectMeta `sidecar.istio.io/proxyImage` .Values.global.proxy.image }}"
            {{- else }}
              image: "{{ .ProxyImage }}"
            {{- end }}
              {{ if $nativeSidecar }}restartPolicy: Always{{end}}
              ports:
              - containerPort: 15090
                protocol: TCP
                name: http-envoy-prom
              args:
              - proxy
              - sidecar
              - --domain
              - $(POD_NAMESPACE).svc.{{ .Values.global.proxy.clusterDomain }}
              - --proxyLogLevel={{ annotation .ObjectMeta `sidecar.istio.io/logLevel` .Values.global.proxy.logLevel }}
              - --proxyComponentLogLevel={{ annotation .ObjectMeta `sidecar.istio.io/componentLogLevel` .Values.global.proxy.componentLogLevel }}
              - --log_output_level={{ annotation .ObjectMeta `sidecar.istio.io/agentLogLevel` .Values.global.logging.level }}
            {{- if .Values.global.sts.servicePort }}
              - --stsPort={{ .Values.global.sts.servicePort }}
            {{- end }}
            {{- if .Values.global.logAsJson }}
              - --log_as_json
            {{- end }}
            {{- if .Values.global.proxy.lifecycle }}
              lifecycle:
                {{ toYaml .Values.global.proxy.lifecycle | indent 6 }}
            {{- else if $holdProxy }}
              lifecycle:
                postStart:
                  exec:
                    command:
                    - pilot-agent
                    - wait
            {{- else if $nativeSidecar }}
              {{- /* preStop is called when the pod starts shutdown. Initialize drain. We will get SIGTERM once applications are torn down. */}}
              lifecycle:
                preStop:
                  exec:
                    command:
                    - pilot-agent
                    - request
                    - --debug-port={{(annotation .ObjectMeta `status.sidecar.istio.io/port` .Values.global.proxy.statusPort)}}
                    - POST
                    - drain
            {{- end }}
              env:
              {{- if eq (env "PILOT_ENABLE_INBOUND_PASSTHROUGH" "true") "false" }}
              - name: REWRITE_PROBE_LEGACY_LOCALHOST_DESTINATION
                value: "true"
              {{- end }}
              - name: JWT_POLICY
                value: {{ .Values.global.jwtPolicy }}
              - name: PILOT_CERT_PROVIDER
                value: {{ .Values.global.pilotCertProvider }}
              - name: CA_ADDR
              {{- if .Values.global.caAddress }}
                value: {{ .Values.global.caAddress }}
              {{- else }}
                value: istiod{{- if not (eq .Values.revision "") }}-{{ .Values.revision }}{{- end }}.{{ .Values.global.istioNamespace }}.svc:15012
              {{- end }}
              - name: POD_NAME
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.name
              - name: POD_NAMESPACE
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.namespace
              - name: INSTANCE_IP
                valueFrom:
                  fieldRef:
                    fieldPath: status.podIP
              - name: SERVICE_ACCOUNT
                valueFrom:
                  fieldRef:
                    fieldPath: spec.serviceAccountName
              - name: HOST_IP
                valueFrom:
                  fieldRef:
                    fieldPath: status.hostIP
              - name: ISTIO_CPU_LIMIT
                valueFrom:
                  resourceFieldRef:
                    resource: limits.cpu
              - name: PROXY_CONFIG
                value: |
                       {{ protoToJSON .ProxyConfig }}
              - name: ISTIO_META_POD_PORTS
                value: |-
                  [
                  {{- $first := true }}
                  {{- range $index1, $c := .Spec.Containers }}
                    {{- range $index2, $p := $c.Ports }}
                      {{- if (structToJSON $p) }}
                      {{if not $first}},{{end}}{{ structToJSON $p }}
                      {{- $first = false }}
                      {{- end }}
                    {{- end}}
                  {{- end}}
                  ]
              - name: ISTIO_META_APP_CONTAINERS
                value: "{{ $containers | join "," }}"
              - name: GOMEMLIMIT
                valueFrom:
                  resourceFieldRef:
                    resource: limits.memory
              - name: GOMAXPROCS
                valueFrom:
                  resourceFieldRef:
                    resource: limits.cpu
              {{- if .CompliancePolicy }}
              - name: COMPLIANCE_POLICY
                value: "{{ .CompliancePolicy }}"
              {{- end }}
              - name: ISTIO_META_CLUSTER_ID
                value: "{{ valueOrDefault .Values.global.multiCluster.clusterName `Kubernetes` }}"
              - name: ISTIO_META_NODE_NAME
                valueFrom:
                  fieldRef:
                    fieldPath: spec.nodeName
              - name: ISTIO_META_INTERCEPTION_MODE
                value: "{{ or (index .ObjectMeta.Annotations `sidecar.istio.io/interceptionMode`) .ProxyConfig.InterceptionMode.String }}"
              {{- if .Values.global.network }}
              - name: ISTIO_META_NETWORK
                value: "{{ .Values.global.network }}"
              {{- end }}
              {{- if .DeploymentMeta.Name }}
              - name: ISTIO_META_WORKLOAD_NAME
                value: "{{ .DeploymentMeta.Name }}"
              {{ end }}
              {{- if and .TypeMeta.APIVersion .DeploymentMeta.Name }}
              - name: ISTIO_META_OWNER
                value: kubernetes://apis/{{ .TypeMeta.APIVersion }}/namespaces/{{ valueOrDefault .DeploymentMeta.Namespace `default` }}/{{ toLower .TypeMeta.Kind}}s/{{ .DeploymentMeta.Name }}
              {{- end}}
              {{- if (isset .ObjectMeta.Annotations `sidecar.istio.io/bootstrapOverride`) }}
              - name: ISTIO_BOOTSTRAP_OVERRIDE
                value: "/etc/istio/custom-bootstrap/custom_bootstrap.json"
              {{- end }}
              {{- if .Values.global.meshID }}
              - name: ISTIO_META_MESH_ID
                value: "{{ .Values.global.meshID }}"
              {{- else if (valueOrDefault .MeshConfig.TrustDomain .Values.global.trustDomain) }}
              - name: ISTIO_META_MESH_ID
                value: "{{ (valueOrDefault .MeshConfig.TrustDomain .Values.global.trustDomain) }}"
              {{- end }}
              {{- with (valueOrDefault .MeshConfig.TrustDomain .Values.global.trustDomain)  }}
              - name: TRUST_DOMAIN
                value: "{{ . }}"
              {{- end }}
              {{- if and (eq .Values.global.proxy.tracer "datadog") (isset .ObjectMeta.Annotations `apm.datadoghq.com/env`) }}
              {{- range $key, $value := fromJSON (index .ObjectMeta.Annotations `apm.datadoghq.com/env`) }}
              - name: {{ $key }}
                value: "{{ $value }}"
              {{- end }}
              {{- end }}
              {{- range $key, $value := .ProxyConfig.ProxyMetadata }}
              - name: {{ $key }}
                value: "{{ $value }}"
              {{- end }}
              {{with .Values.global.imagePullPolicy }}imagePullPolicy: "{{.}}"{{end}}
              {{ if ne (annotation .ObjectMeta `status.sidecar.istio.io/port` .Values.global.proxy.statusPort) `0` }}
            {{ if .Values.global.proxy.startupProbe.enabled }}
              startupProbe:
                httpGet:
                  path: /healthz/ready
                  port: 15021
                initialDelaySeconds: 0
                periodSeconds: 1
                timeoutSeconds: 3
                failureThreshold: {{ .Values.global.proxy.startupProbe.failureThreshold }}
            {{ end }}
              readinessProbe:
                httpGet:
                  path: /healthz/ready
                  port: 15021
                initialDelaySeconds: {{ annotation .ObjectMeta `readiness.status.sidecar.istio.io/initialDelaySeconds` .Values.global.proxy.readinessInitialDelaySeconds }}
                periodSeconds: {{ annotation .ObjectMeta `readiness.status.sidecar.istio.io/periodSeconds` .Values.global.proxy.readinessPeriodSeconds }}
                timeoutSeconds: 3
                failureThreshold: {{ annotation .ObjectMeta `readiness.status.sidecar.istio.io/failureThreshold` .Values.global.proxy.readinessFailureThreshold }}
              {{ end -}}
              securityContext:
                {{- if eq (index .ProxyConfig.ProxyMetadata "IPTABLES_TRACE_LOGGING") "true" }}
                allowPrivilegeEscalation: true
                capabilities:
                  add:
                  - NET_ADMIN
                  drop:
                  - ALL
                privileged: true
                readOnlyRootFilesystem: {{ ne (annotation .ObjectMeta `sidecar.istio.io/enableCoreDump` .Values.global.proxy.enableCoreDump) "true" }}
                runAsGroup: {{ .ProxyGID | default "1337" }}
                runAsNonRoot: false
                runAsUser: 0
                {{- else }}
                allowPrivilegeEscalation: {{ .Values.global.proxy.privileged }}
                capabilities:
                  {{ if or (eq (annotation .ObjectMeta `sidecar.istio.io/interceptionMode` .ProxyConfig.InterceptionMode) `TPROXY`) (eq (annotation .ObjectMeta `sidecar.istio.io/capNetBindService` .Values.global.proxy.capNetBindService) `true`) -}}
                  add:
                  {{ if eq (annotation .ObjectMeta `sidecar.istio.io/interceptionMode` .ProxyConfig.InterceptionMode) `TPROXY` -}}
                  - NET_ADMIN
                  {{- end }}
                  {{ if eq (annotation .ObjectMeta `sidecar.istio.io/capNetBindService` .Values.global.proxy.capNetBindService) `true` -}}
                  - NET_BIND_SERVICE
                  {{- end }}
                  {{- end }}
                  drop:
                  - ALL
                privileged: {{ .Values.global.proxy.privileged }}
                readOnlyRootFilesystem: {{ ne (annotation .ObjectMeta `sidecar.istio.io/enableCoreDump` .Values.global.proxy.enableCoreDump) "true" }}
                runAsGroup: {{ .ProxyGID | default "1337" }}
                {{ if or (eq (annotation .ObjectMeta `sidecar.istio.io/interceptionMode` .ProxyConfig.InterceptionMode) `TPROXY`) (eq (annotation .ObjectMeta `sidecar.istio.io/capNetBindService` .Values.global.proxy.capNetBindService) `true`) -}}
                runAsNonRoot: false
                runAsUser: 0
                {{- else -}}
                runAsNonRoot: true
                runAsUser: {{ .ProxyUID | default "1337" }}
                {{- end }}
                {{- end }}
              resources:
            {{ template "resources" . }}
              volumeMounts:
              - name: workload-socket
                mountPath: /var/run/secrets/workload-spiffe-uds
              - name: credential-socket
                mountPath: /var/run/secrets/credential-uds
              {{- if eq .Values.global.caName "GkeWorkloadCertificate" }}
              - name: gke-workload-certificate
                mountPath: /var/run/secrets/workload-spiffe-credentials
                readOnly: true
              {{- else }}
              - name: workload-certs
                mountPath: /var/run/secrets/workload-spiffe-credentials
              {{- end }}
              {{- if eq .Values.global.pilotCertProvider "istiod" }}
              - mountPath: /var/run/secrets/istio
                name: istiod-ca-cert
              {{- end }}
              {{- if eq .Values.global.pilotCertProvider "kubernetes" }}
              - mountPath: /var/run/secrets/istio/kubernetes
                name: kube-ca-cert
              {{- end }}
              - mountPath: /var/lib/istio/data
                name: istio-data
              {{ if (isset .ObjectMeta.Annotations `sidecar.istio.io/bootstrapOverride`) }}
              - mountPath: /etc/istio/custom-bootstrap
                name: custom-bootstrap-volume
              {{- end }}
              # SDS channel between istioagent and Envoy
              - mountPath: /etc/istio/proxy
                name: istio-envoy
              {{- if eq .Values.global.jwtPolicy "third-party-jwt" }}
              - mountPath: /var/run/secrets/tokens
                name: istio-token
              {{- end }}
              {{- if .Values.global.mountMtlsCerts }}
              # Use the key and cert mounted to /etc/certs/ for the in-cluster mTLS communications.
              - mountPath: /etc/certs/
                name: istio-certs
                readOnly: true
              {{- end }}
              - name: istio-podinfo
                mountPath: /etc/istio/pod
               {{- if and (eq .Values.global.proxy.tracer "lightstep") .ProxyConfig.GetTracing.GetTlsSettings }}
              - mountPath: {{ directory .ProxyConfig.GetTracing.GetTlsSettings.GetCaCertificates }}
                name: lightstep-certs
                readOnly: true
              {{- end }}
                {{- if isset .ObjectMeta.Annotations `sidecar.istio.io/userVolumeMount` }}
                {{ range $index, $value := fromJSON (index .ObjectMeta.Annotations `sidecar.istio.io/userVolumeMount`) }}
              - name: "{{  $index }}"
                {{ toYaml $value | indent 6 }}
                {{ end }}
                {{- end }}
            volumes:
            - emptyDir:
              name: workload-socket
            - emptyDir:
              name: credential-socket
            {{- if eq .Values.global.caName "GkeWorkloadCertificate" }}
            - name: gke-workload-certificate
              csi:
                driver: workloadcertificates.security.cloud.google.com
            {{- else }}
            - emptyDir:
              name: workload-certs
            {{- end }}
            {{- if (isset .ObjectMeta.Annotations `sidecar.istio.io/bootstrapOverride`) }}
            - name: custom-bootstrap-volume
              configMap:
                name: {{ annotation .ObjectMeta `sidecar.istio.io/bootstrapOverride` "" }}
            {{- end }}
            # SDS channel between istioagent and Envoy
            - emptyDir:
                medium: Memory
              name: istio-envoy
            - name: istio-data
              emptyDir: {}
            - name: istio-podinfo
              downwardAPI:
                items:
                  - path: "labels"
                    fieldRef:
                      fieldPath: metadata.labels
                  - path: "annotations"
                    fieldRef:
                      fieldPath: metadata.annotations
            {{- if eq .Values.global.jwtPolicy "third-party-jwt" }}
            - name: istio-token
              projected:
                sources:
                - serviceAccountToken:
                    path: istio-token
                    expirationSeconds: 43200
                    audience: {{ .Values.global.sds.token.aud }}
            {{- end }}
            {{- if eq .Values.global.pilotCertProvider "istiod" }}
            - name: istiod-ca-cert
              configMap:
                name: istio-ca-root-cert
            {{- end }}
            {{- if eq .Values.global.pilotCertProvider "kubernetes" }}
            - name: kube-ca-cert
              configMap:
                name: kube-root-ca.crt
            {{- end }}
            {{- if .Values.global.mountMtlsCerts }}
            # Use the key and cert mounted to /etc/certs/ for the in-cluster mTLS communications.
            - name: istio-certs
              secret:
                optional: true
                {{ if eq .Spec.ServiceAccountName "" }}
                secretName: istio.default
                {{ else -}}
                secretName: {{  printf "istio.%s" .Spec.ServiceAccountName }}
                {{  end -}}
            {{- end }}
              {{- if isset .ObjectMeta.Annotations `sidecar.istio.io/userVolume` }}
              {{range $index, $value := fromJSON (index .ObjectMeta.Annotations `sidecar.istio.io/userVolume`) }}
            - name: "{{ $index }}"
              {{ toYaml $value | indent 4 }}
              {{ end }}
              {{ end }}
            {{- if and (eq .Values.global.proxy.tracer "lightstep") .ProxyConfig.GetTracing.GetTlsSettings }}
            - name: lightstep-certs
              secret:
                optional: true
                secretName: lightstep.cacert
            {{- end }}
            {{- if .Values.global.imagePullSecrets }}
            imagePullSecrets:
              {{- range .Values.global.imagePullSecrets }}
              - name: {{ . }}
              {{- end }}
            {{- end }}
        gateway: |
          {{- $containers := list }}
          {{- range $index, $container := .Spec.Containers }}{{ if not (eq $container.Name "istio-proxy") }}{{ $containers = append $containers $container.Name }}{{end}}{{- end}}
          metadata:
            labels:
              service.istio.io/canonical-name: {{ index .ObjectMeta.Labels `service.istio.io/canonical-name` | default (index .ObjectMeta.Labels `app.kubernetes.io/name`) | default (index .ObjectMeta.Labels `app`) | default .DeploymentMeta.Name  | quote }}
              service.istio.io/canonical-revision: {{ index .ObjectMeta.Labels `service.istio.io/canonical-revision` | default (index .ObjectMeta.Labels `app.kubernetes.io/version`) | default (index .ObjectMeta.Labels `version`) | default "latest"  | quote }}
            annotations: {
              istio.io/rev: {{ .Revision | default "default" | quote }},
              {{- if eq (len $containers) 1 }}
              kubectl.kubernetes.io/default-logs-container: "{{ index $containers 0 }}",
              kubectl.kubernetes.io/default-container: "{{ index $containers 0 }}",
              {{ end }}
            }
          spec:
            securityContext:
              sysctls:
              - name: net.ipv4.ip_unprivileged_port_start
                value: "0"
            containers:
            - name: istio-proxy
            {{- if contains "/" .Values.global.proxy.image }}
              image: "{{ annotation .ObjectMeta `sidecar.istio.io/proxyImage` .Values.global.proxy.image }}"
            {{- else }}
              image: "{{ .ProxyImage }}"
            {{- end }}
              ports:
              - containerPort: 15090
                protocol: TCP
                name: http-envoy-prom
              args:
              - proxy
              - router
              - --domain
              - $(POD_NAMESPACE).svc.{{ .Values.global.proxy.clusterDomain }}
              - --proxyLogLevel={{ annotation .ObjectMeta `sidecar.istio.io/logLevel` .Values.global.proxy.logLevel }}
              - --proxyComponentLogLevel={{ annotation .ObjectMeta `sidecar.istio.io/componentLogLevel` .Values.global.proxy.componentLogLevel }}
              - --log_output_level={{ annotation .ObjectMeta `sidecar.istio.io/agentLogLevel` .Values.global.logging.level }}
            {{- if .Values.global.sts.servicePort }}
              - --stsPort={{ .Values.global.sts.servicePort }}
            {{- end }}
            {{- if .Values.global.logAsJson }}
              - --log_as_json
            {{- end }}
            {{- if .Values.global.proxy.lifecycle }}
              lifecycle:
                {{ toYaml .Values.global.proxy.lifecycle | indent 6 }}
            {{- end }}
              securityContext:
                runAsUser: {{ .ProxyUID | default "1337" }}
                runAsGroup: {{ .ProxyGID | default "1337" }}
              env:
              - name: JWT_POLICY
                value: {{ .Values.global.jwtPolicy }}
              - name: PILOT_CERT_PROVIDER
                value: {{ .Values.global.pilotCertProvider }}
              - name: CA_ADDR
              {{- if .Values.global.caAddress }}
                value: {{ .Values.global.caAddress }}
              {{- else }}
                value: istiod{{- if not (eq .Values.revision "") }}-{{ .Values.revision }}{{- end }}.{{ .Values.global.istioNamespace }}.svc:15012
              {{- end }}
              - name: POD_NAME
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.name
              - name: POD_NAMESPACE
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.namespace
              - name: INSTANCE_IP
                valueFrom:
                  fieldRef:
                    fieldPath: status.podIP
              - name: SERVICE_ACCOUNT
                valueFrom:
                  fieldRef:
                    fieldPath: spec.serviceAccountName
              - name: HOST_IP
                valueFrom:
                  fieldRef:
                    fieldPath: status.hostIP
              - name: ISTIO_CPU_LIMIT
                valueFrom:
                  resourceFieldRef:
                    resource: limits.cpu
              - name: PROXY_CONFIG
                value: |
                       {{ protoToJSON .ProxyConfig }}
              - name: ISTIO_META_POD_PORTS
                value: |-
                  [
                  {{- $first := true }}
                  {{- range $index1, $c := .Spec.Containers }}
                    {{- range $index2, $p := $c.Ports }}
                      {{- if (structToJSON $p) }}
                      {{if not $first}},{{end}}{{ structToJSON $p }}
                      {{- $first = false }}
                      {{- end }}
                    {{- end}}
                  {{- end}}
                  ]
              - name: GOMEMLIMIT
                valueFrom:
                  resourceFieldRef:
                    resource: limits.memory
              - name: GOMAXPROCS
                valueFrom:
                  resourceFieldRef:
                    resource: limits.cpu
              {{- if .CompliancePolicy }}
              - name: COMPLIANCE_POLICY
                value: "{{ .CompliancePolicy }}"
              {{- end }}
              - name: ISTIO_META_APP_CONTAINERS
                value: "{{ $containers | join "," }}"
              - name: ISTIO_META_CLUSTER_ID
                value: "{{ valueOrDefault .Values.global.multiCluster.clusterName `Kubernetes` }}"
              - name: ISTIO_META_NODE_NAME
                valueFrom:
                  fieldRef:
                    fieldPath: spec.nodeName
              - name: ISTIO_META_INTERCEPTION_MODE
                value: "{{ .ProxyConfig.InterceptionMode.String }}"
              {{- if .Values.global.network }}
              - name: ISTIO_META_NETWORK
                value: "{{ .Values.global.network }}"
              {{- end }}
              {{- if .DeploymentMeta.Name }}
              - name: ISTIO_META_WORKLOAD_NAME
                value: "{{ .DeploymentMeta.Name }}"
              {{ end }}
              {{- if and .TypeMeta.APIVersion .DeploymentMeta.Name }}
              - name: ISTIO_META_OWNER
                value: kubernetes://apis/{{ .TypeMeta.APIVersion }}/namespaces/{{ valueOrDefault .DeploymentMeta.Namespace `default` }}/{{ toLower .TypeMeta.Kind}}s/{{ .DeploymentMeta.Name }}
              {{- end}}
              {{- if .Values.global.meshID }}
              - name: ISTIO_META_MESH_ID
                value: "{{ .Values.global.meshID }}"
              {{- else if (valueOrDefault .MeshConfig.TrustDomain .Values.global.trustDomain) }}
              - name: ISTIO_META_MESH_ID
                value: "{{ (valueOrDefault .MeshConfig.TrustDomain .Values.global.trustDomain) }}"
              {{- end }}
              {{- with (valueOrDefault .MeshConfig.TrustDomain .Values.global.trustDomain)  }}
              - name: TRUST_DOMAIN
                value: "{{ . }}"
              {{- end }}
              {{- range $key, $value := .ProxyConfig.ProxyMetadata }}
              - name: {{ $key }}
                value: "{{ $value }}"
              {{- end }}
              {{with .Values.global.imagePullPolicy }}imagePullPolicy: "{{.}}"{{end}}
              readinessProbe:
                httpGet:
                  path: /healthz/ready
                  port: 15021
                initialDelaySeconds: {{.Values.global.proxy.readinessInitialDelaySeconds }}
                periodSeconds: {{ .Values.global.proxy.readinessPeriodSeconds }}
                timeoutSeconds: 3
                failureThreshold: {{ .Values.global.proxy.readinessFailureThreshold }}
              volumeMounts:
              - name: workload-socket
                mountPath: /var/run/secrets/workload-spiffe-uds
              - name: credential-socket
                mountPath: /var/run/secrets/credential-uds
              {{- if eq .Values.global.caName "GkeWorkloadCertificate" }}
              - name: gke-workload-certificate
                mountPath: /var/run/secrets/workload-spiffe-credentials
                readOnly: true
              {{- else }}
              - name: workload-certs
                mountPath: /var/run/secrets/workload-spiffe-credentials
              {{- end }}
              {{- if eq .Values.global.pilotCertProvider "istiod" }}
              - mountPath: /var/run/secrets/istio
                name: istiod-ca-cert
              {{- end }}
              - mountPath: /var/lib/istio/data
                name: istio-data
              # SDS channel between istioagent and Envoy
              - mountPath: /etc/istio/proxy
                name: istio-envoy
              {{- if eq .Values.global.jwtPolicy "third-party-jwt" }}
              - mountPath: /var/run/secrets/tokens
                name: istio-token
              {{- end }}
              {{- if .Values.global.mountMtlsCerts }}
              # Use the key and cert mounted to /etc/certs/ for the in-cluster mTLS communications.
              - mountPath: /etc/certs/
                name: istio-certs
                readOnly: true
              {{- end }}
              - name: istio-podinfo
                mountPath: /etc/istio/pod
            volumes:
            - emptyDir: {}
              name: workload-socket
            - emptyDir: {}
              name: credential-socket
            {{- if eq .Values.global.caName "GkeWorkloadCertificate" }}
            - name: gke-workload-certificate
              csi:
                driver: workloadcertificates.security.cloud.google.com
            {{- else}}
            - emptyDir: {}
              name: workload-certs
            {{- end }}
            # SDS channel between istioagent and Envoy
            - emptyDir:
                medium: Memory
              name: istio-envoy
            - name: istio-data
              emptyDir: {}
            - name: istio-podinfo
              downwardAPI:
                items:
                  - path: "labels"
                    fieldRef:
                      fieldPath: metadata.labels
                  - path: "annotations"
                    fieldRef:
                      fieldPath: metadata.annotations
            {{- if eq .Values.global.jwtPolicy "third-party-jwt" }}
            - name: istio-token
              projected:
                sources:
                - serviceAccountToken:
                    path: istio-token
                    expirationSeconds: 43200
                    audience: {{ .Values.global.sds.token.aud }}
            {{- end }}
            {{- if eq .Values.global.pilotCertProvider "istiod" }}
            - name: istiod-ca-cert
              configMap:
                name: istio-ca-root-cert
            {{- end }}
            {{- if .Values.global.mountMtlsCerts }}
            # Use the key and cert mounted to /etc/certs/ for the in-cluster mTLS communications.
            - name: istio-certs
              secret:
                optional: true
                {{ if eq .Spec.ServiceAccountName "" }}
                secretName: istio.default
                {{ else -}}
                secretName: {{  printf "istio.%s" .Spec.ServiceAccountName }}
                {{  end -}}
            {{- end }}
            {{- if .Values.global.imagePullSecrets }}
            imagePullSecrets:
              {{- range .Values.global.imagePullSecrets }}
              - name: {{ . }}
              {{- end }}
            {{- end }}
        grpc-simple: |
          metadata:
            annotations:
              sidecar.istio.io/rewriteAppHTTPProbers: "false"
          spec:
            initContainers:
              - name: grpc-bootstrap-init
                image: busybox:1.28
                volumeMounts:
                  - mountPath: /var/lib/grpc/data/
                    name: grpc-io-proxyless-bootstrap
                env:
                  - name: INSTANCE_IP
                    valueFrom:
                      fieldRef:
                        fieldPath: status.podIP
                  - name: POD_NAME
                    valueFrom:
                      fieldRef:
                        fieldPath: metadata.name
                  - name: POD_NAMESPACE
                    valueFrom:
                      fieldRef:
                        fieldPath: metadata.namespace
                  - name: ISTIO_NAMESPACE
                    value: |
                       {{ .Values.global.istioNamespace }}
                command:
                  - sh
                  - "-c"
                  - |-
                    NODE_ID="sidecar~${INSTANCE_IP}~${POD_NAME}.${POD_NAMESPACE}~cluster.local"
                    SERVER_URI="dns:///istiod.${ISTIO_NAMESPACE}.svc:15010"
                    echo '
                    {
                      "xds_servers": [
                        {
                          "server_uri": "'${SERVER_URI}'",
                          "channel_creds": [{"type": "insecure"}],
                          "server_features" : ["xds_v3"]
                        }
                      ],
                      "node": {
                        "id": "'${NODE_ID}'",
                        "metadata": {
                          "GENERATOR": "grpc"
                        }
                      }
                    }' > /var/lib/grpc/data/bootstrap.json
            containers:
            {{- range $index, $container := .Spec.Containers }}
            - name: {{ $container.Name }}
              env:
                - name: GRPC_XDS_BOOTSTRAP
                  value: /var/lib/grpc/data/bootstrap.json
                - name: GRPC_GO_LOG_VERBOSITY_LEVEL
                  value: "99"
                - name: GRPC_GO_LOG_SEVERITY_LEVEL
                  value: info
              volumeMounts:
                - mountPath: /var/lib/grpc/data/
                  name: grpc-io-proxyless-bootstrap
            {{- end }}
            volumes:
              - name: grpc-io-proxyless-bootstrap
                emptyDir: {}
        grpc-agent: |
          {{- define "resources"  }}
            {{- if or (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyCPU`) (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyMemory`) (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyCPULimit`) (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyMemoryLimit`) }}
              {{- if or (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyCPU`) (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyMemory`) }}
                requests:
                  {{ if (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyCPU`) -}}
                  cpu: "{{ index .ObjectMeta.Annotations `sidecar.istio.io/proxyCPU` }}"
                  {{ end }}
                  {{ if (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyMemory`) -}}
                  memory: "{{ index .ObjectMeta.Annotations `sidecar.istio.io/proxyMemory` }}"
                  {{ end }}
              {{- end }}
              {{- if or (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyCPULimit`) (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyMemoryLimit`) }}
                limits:
                  {{ if (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyCPULimit`) -}}
                  cpu: "{{ index .ObjectMeta.Annotations `sidecar.istio.io/proxyCPULimit` }}"
                  {{ end }}
                  {{ if (isset .ObjectMeta.Annotations `sidecar.istio.io/proxyMemoryLimit`) -}}
                  memory: "{{ index .ObjectMeta.Annotations `sidecar.istio.io/proxyMemoryLimit` }}"
                  {{ end }}
              {{- end }}
            {{- else }}
              {{- if .Values.global.proxy.resources }}
                {{ toYaml .Values.global.proxy.resources | indent 6 }}
              {{- end }}
            {{- end }}
          {{- end }}
          {{- $containers := list }}
          {{- range $index, $container := .Spec.Containers }}{{ if not (eq $container.Name "istio-proxy") }}{{ $containers = append $containers $container.Name }}{{end}}{{- end}}
          metadata:
            labels:
              {{/* security.istio.io/tlsMode: istio must be set by user, if gRPC is using mTLS initialization code. We can't set it automatically. */}}
              service.istio.io/canonical-name: {{ index .ObjectMeta.Labels `service.istio.io/canonical-name` | default (index .ObjectMeta.Labels `app.kubernetes.io/name`) | default (index .ObjectMeta.Labels `app`) | default .DeploymentMeta.Name  | quote }}
              service.istio.io/canonical-revision: {{ index .ObjectMeta.Labels `service.istio.io/canonical-revision` | default (index .ObjectMeta.Labels `app.kubernetes.io/version`) | default (index .ObjectMeta.Labels `version`) | default "latest"  | quote }}
            annotations: {
              istio.io/rev: {{ .Revision | default "default" }},
              {{- if ge (len $containers) 1 }}
              {{- if not (isset .ObjectMeta.Annotations `kubectl.kubernetes.io/default-logs-container`) }}
              kubectl.kubernetes.io/default-logs-container: "{{ index $containers 0 }}",
              {{- end }}
              {{- if not (isset .ObjectMeta.Annotations `kubectl.kubernetes.io/default-container`) }}
              kubectl.kubernetes.io/default-container: "{{ index $containers 0 }}",
              {{- end }}
              {{- end }}
              sidecar.istio.io/rewriteAppHTTPProbers: "false",
            }
          spec:
            containers:
            - name: istio-proxy
            {{- if contains "/" (annotation .ObjectMeta `sidecar.istio.io/proxyImage` .Values.global.proxy.image) }}
              image: "{{ annotation .ObjectMeta `sidecar.istio.io/proxyImage` .Values.global.proxy.image }}"
            {{- else }}
              image: "{{ .ProxyImage }}"
            {{- end }}
              ports:
              - containerPort: 15020
                protocol: TCP
                name: mesh-metrics
              args:
              - proxy
              - sidecar
              - --domain
              - $(POD_NAMESPACE).svc.{{ .Values.global.proxy.clusterDomain }}
              - --proxyLogLevel={{ annotation .ObjectMeta `sidecar.istio.io/logLevel` .Values.global.proxy.logLevel }}
              - --proxyComponentLogLevel={{ annotation .ObjectMeta `sidecar.istio.io/componentLogLevel` .Values.global.proxy.componentLogLevel }}
              - --log_output_level={{ annotation .ObjectMeta `sidecar.istio.io/agentLogLevel` .Values.global.logging.level }}
            {{- if .Values.global.sts.servicePort }}
              - --stsPort={{ .Values.global.sts.servicePort }}
            {{- end }}
            {{- if .Values.global.logAsJson }}
              - --log_as_json
            {{- end }}
              lifecycle:
                postStart:
                  exec:
                    command:
                    - pilot-agent
                    - wait
                    - --url=http://localhost:15020/healthz/ready
              env:
              - name: ISTIO_META_GENERATOR
                value: grpc
              - name: OUTPUT_CERTS
                value: /var/lib/istio/data
              {{- if eq (env "PILOT_ENABLE_INBOUND_PASSTHROUGH" "true") "false" }}
              - name: REWRITE_PROBE_LEGACY_LOCALHOST_DESTINATION
                value: "true"
              {{- end }}
              - name: JWT_POLICY
                value: {{ .Values.global.jwtPolicy }}
              - name: PILOT_CERT_PROVIDER
                value: {{ .Values.global.pilotCertProvider }}
              - name: CA_ADDR
              {{- if .Values.global.caAddress }}
                value: {{ .Values.global.caAddress }}
              {{- else }}
                value: istiod{{- if not (eq .Values.revision "") }}-{{ .Values.revision }}{{- end }}.{{ .Values.global.istioNamespace }}.svc:15012
              {{- end }}
              - name: POD_NAME
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.name
              - name: POD_NAMESPACE
                valueFrom:
                  fieldRef:
                    fieldPath: metadata.namespace
              - name: INSTANCE_IP
                valueFrom:
                  fieldRef:
                    fieldPath: status.podIP
              - name: SERVICE_ACCOUNT
                valueFrom:
                  fieldRef:
                    fieldPath: spec.serviceAccountName
              - name: HOST_IP
                valueFrom:
                  fieldRef:
                    fieldPath: status.hostIP
              - name: PROXY_CONFIG
                value: |
                       {{ protoToJSON .ProxyConfig }}
              - name: ISTIO_META_POD_PORTS
                value: |-
                  [
                  {{- $first := true }}
                  {{- range $index1, $c := .Spec.Containers }}
                    {{- range $index2, $p := $c.Ports }}
                      {{- if (structToJSON $p) }}
                      {{if not $first}},{{end}}{{ structToJSON $p }}
                      {{- $first = false }}
                      {{- end }}
                    {{- end}}
                  {{- end}}
                  ]
              - name: ISTIO_META_APP_CONTAINERS
                value: "{{ $containers | join "," }}"
              - name: ISTIO_META_CLUSTER_ID
                value: "{{ valueOrDefault .Values.global.multiCluster.clusterName `Kubernetes` }}"
              - name: ISTIO_META_NODE_NAME
                valueFrom:
                  fieldRef:
                    fieldPath: spec.nodeName
              {{- if .Values.global.network }}
              - name: ISTIO_META_NETWORK
                value: "{{ .Values.global.network }}"
              {{- end }}
              {{- if .DeploymentMeta.Name }}
              - name: ISTIO_META_WORKLOAD_NAME
                value: "{{ .DeploymentMeta.Name }}"
              {{ end }}
              {{- if and .TypeMeta.APIVersion .DeploymentMeta.Name }}
              - name: ISTIO_META_OWNER
                value: kubernetes://apis/{{ .TypeMeta.APIVersion }}/namespaces/{{ valueOrDefault .DeploymentMeta.Namespace `default` }}/{{ toLower .TypeMeta.Kind}}s/{{ .DeploymentMeta.Name }}
              {{- end}}
              {{- if .Values.global.meshID }}
              - name: ISTIO_META_MESH_ID
                value: "{{ .Values.global.meshID }}"
              {{- else if (valueOrDefault .MeshConfig.TrustDomain .Values.global.trustDomain) }}
              - name: ISTIO_META_MESH_ID
                value: "{{ (valueOrDefault .MeshConfig.TrustDomain .Values.global.trustDomain) }}"
              {{- end }}
              {{- with (valueOrDefault .MeshConfig.TrustDomain .Values.global.trustDomain)  }}
              - name: TRUST_DOMAIN
                value: "{{ . }}"
              {{- end }}
              {{- range $key, $value := .ProxyConfig.ProxyMetadata }}
              - name: {{ $key }}
                value: "{{ $value }}"
              {{- end }}
              # grpc uses xds:/// to resolve  no need to resolve VIP
              - name: ISTIO_META_DNS_CAPTURE
                value: "false"
              - name: DISABLE_ENVOY
                value: "true"
              {{with .Values.global.imagePullPolicy }}imagePullPolicy: "{{.}}"{{end}}
              {{ if ne (annotation .ObjectMeta `status.sidecar.istio.io/port` .Values.global.proxy.statusPort) `0` }}
              readinessProbe:
                httpGet:
                  path: /healthz/ready
                  port: 15020
                initialDelaySeconds: {{ annotation .ObjectMeta `readiness.status.sidecar.istio.io/initialDelaySeconds` .Values.global.proxy.readinessInitialDelaySeconds }}
                periodSeconds: {{ annotation .ObjectMeta `readiness.status.sidecar.istio.io/periodSeconds` .Values.global.proxy.readinessPeriodSeconds }}
                timeoutSeconds: 3
                failureThreshold: {{ annotation .ObjectMeta `readiness.status.sidecar.istio.io/failureThreshold` .Values.global.proxy.readinessFailureThreshold }}
              resources:
            {{ template "resources" . }}
              volumeMounts:
              - name: workload-socket
                mountPath: /var/run/secrets/workload-spiffe-uds
              {{- if eq .Values.global.caName "GkeWorkloadCertificate" }}
              - name: gke-workload-certificate
                mountPath: /var/run/secrets/workload-spiffe-credentials
                readOnly: true
              {{- else }}
              - name: workload-certs
                mountPath: /var/run/secrets/workload-spiffe-credentials
              {{- end }}
              {{- if eq .Values.global.pilotCertProvider "istiod" }}
              - mountPath: /var/run/secrets/istio
                name: istiod-ca-cert
              {{- end }}
              - mountPath: /var/lib/istio/data
                name: istio-data
              # UDS channel between istioagent and gRPC client for XDS/SDS
              - mountPath: /etc/istio/proxy
                name: istio-xds
              {{- if eq .Values.global.jwtPolicy "third-party-jwt" }}
              - mountPath: /var/run/secrets/tokens
                name: istio-token
              {{- end }}
              {{- if .Values.global.mountMtlsCerts }}
              # Use the key and cert mounted to /etc/certs/ for the in-cluster mTLS communications.
              - mountPath: /etc/certs/
                name: istio-certs
                readOnly: true
              {{- end }}
              - name: istio-podinfo
                mountPath: /etc/istio/pod
              {{- end }}
                {{- if isset .ObjectMeta.Annotations `sidecar.istio.io/userVolumeMount` }}
                {{ range $index, $value := fromJSON (index .ObjectMeta.Annotations `sidecar.istio.io/userVolumeMount`) }}
              - name: "{{  $index }}"
                {{ toYaml $value | indent 6 }}
                {{ end }}
                {{- end }}
          {{- range $index, $container := .Spec.Containers  }}
          {{ if not (eq $container.Name "istio-proxy") }}
            - name: {{ $container.Name }}
              env:
                - name: "GRPC_XDS_EXPERIMENTAL_SECURITY_SUPPORT"
                  value: "true"
                - name: "GRPC_XDS_BOOTSTRAP"
                  value: "/etc/istio/proxy/grpc-bootstrap.json"
              volumeMounts:
                - mountPath: /var/lib/istio/data
                  name: istio-data
                # UDS channel between istioagent and gRPC client for XDS/SDS
                - mountPath: /etc/istio/proxy
                  name: istio-xds
                {{- if eq $.Values.global.caName "GkeWorkloadCertificate" }}
                - name: gke-workload-certificate
                  mountPath: /var/run/secrets/workload-spiffe-credentials
                  readOnly: true
                {{- else }}
                - name: workload-certs
                  mountPath: /var/run/secrets/workload-spiffe-credentials
                {{- end }}
          {{- end }}
          {{- end }}
            volumes:
            - emptyDir:
              name: workload-socket
            {{- if eq .Values.global.caName "GkeWorkloadCertificate" }}
            - name: gke-workload-certificate
              csi:
                driver: workloadcertificates.security.cloud.google.com
            {{- else }}
            - emptyDir:
              name: workload-certs
            {{- end }}
            {{- if (isset .ObjectMeta.Annotations `sidecar.istio.io/bootstrapOverride`) }}
            - name: custom-bootstrap-volume
              configMap:
                name: {{ annotation .ObjectMeta `sidecar.istio.io/bootstrapOverride` "" }}
            {{- end }}
            # SDS channel between istioagent and Envoy
            - emptyDir:
                medium: Memory
              name: istio-xds
            - name: istio-data
              emptyDir: {}
            - name: istio-podinfo
              downwardAPI:
                items:
                  - path: "labels"
                    fieldRef:
                      fieldPath: metadata.labels
                  - path: "annotations"
                    fieldRef:
                      fieldPath: metadata.annotations
            {{- if eq .Values.global.jwtPolicy "third-party-jwt" }}
            - name: istio-token
              projected:
                sources:
                - serviceAccountToken:
                    path: istio-token
                    expirationSeconds: 43200
                    audience: {{ .Values.global.sds.token.aud }}
            {{- end }}
            {{- if eq .Values.global.pilotCertProvider "istiod" }}
            - name: istiod-ca-cert
              configMap:
                name: istio-ca-root-cert
            {{- end }}
            {{- if .Values.global.mountMtlsCerts }}
            # Use the key and cert mounted to /etc/certs/ for the in-cluster mTLS communications.
            - name: istio-certs
              secret:
                optional: true
                {{ if eq .Spec.ServiceAccountName "" }}
                secretName: istio.default
                {{ else -}}
                secretName: {{  printf "istio.%s" .Spec.ServiceAccountName }}
                {{  end -}}
            {{- end }}
              {{- if isset .ObjectMeta.Annotations `sidecar.istio.io/userVolume` }}
              {{range $index, $value := fromJSON (index .ObjectMeta.Annotations `sidecar.istio.io/userVolume`) }}
            - name: "{{ $index }}"
              {{ toYaml $value | indent 4 }}
              {{ end }}
              {{ end }}
            {{- if .Values.global.imagePullSecrets }}
            imagePullSecrets:
              {{- range .Values.global.imagePullSecrets }}
              - name: {{ . }}
              {{- end }}
            {{- end }}
        waypoint: |
          apiVersion: v1
          kind: ServiceAccount
          metadata:
            name: {{.ServiceAccount | quote}}
            namespace: {{.Namespace | quote}}
            annotations:
              {{- toJsonMap (omit .InfrastructureAnnotations "kubectl.kubernetes.io/last-applied-configuration" "gateway.istio.io/name-override" "gateway.istio.io/service-account" "gateway.istio.io/controller-version") | nindent 4 }}
            labels:
              {{- toJsonMap
                .InfrastructureLabels
                (strdict
                  "gateway.networking.k8s.io/gateway-name" .Name
                  "istio.io/gateway-name" .Name
                ) | nindent 4 }}
          ---
          apiVersion: apps/v1
          kind: Deployment
          metadata:
            name: {{.DeploymentName | quote}}
            namespace: {{.Namespace | quote}}
            annotations:
              {{- toJsonMap (omit .InfrastructureAnnotations "kubectl.kubernetes.io/last-applied-configuration" "gateway.istio.io/name-override" "gateway.istio.io/service-account" "gateway.istio.io/controller-version") | nindent 4 }}
            labels:
              {{- toJsonMap
                .InfrastructureLabels
                (strdict
                  "gateway.networking.k8s.io/gateway-name" .Name
                  "istio.io/gateway-name" .Name
                  "gateway.istio.io/managed" "istio.io-mesh-controller"
                ) | nindent 4 }}
            ownerReferences:
            - apiVersion: gateway.networking.k8s.io/v1beta1
              kind: Gateway
              name: "{{.Name}}"
              uid: "{{.UID}}"
          spec:
            selector:
              matchLabels:
                "{{.GatewayNameLabel}}": "{{.Name}}"
            template:
              metadata:
                annotations:
                  {{- toJsonMap
                    (omit .InfrastructureAnnotations "kubectl.kubernetes.io/last-applied-configuration" "gateway.istio.io/name-override" "gateway.istio.io/service-account" "gateway.istio.io/controller-version")
                    (strdict "istio.io/rev" (.Revision | default "default"))
                    (strdict
                      "ambient.istio.io/redirection" "disabled"
                      "prometheus.io/path" "/stats/prometheus"
                      "prometheus.io/port" "15020"
                      "prometheus.io/scrape" "true"
                    ) | nindent 8 }}
                labels:
                  {{- toJsonMap
                    (strdict
                      "sidecar.istio.io/inject" "false"
                      "service.istio.io/canonical-name" .DeploymentName
                      "service.istio.io/canonical-revision" "latest"
                     )
                    .InfrastructureLabels
                    (strdict
                      "gateway.networking.k8s.io/gateway-name" .Name
                      "istio.io/gateway-name" .Name
                      "gateway.istio.io/managed" "istio.io-mesh-controller"
                    ) | nindent 8}}
              spec:
                terminationGracePeriodSeconds: 2
                serviceAccountName: {{.ServiceAccount | quote}}
                containers:
                - name: istio-proxy
                  ports:
                  - containerPort: 15021
                    name: status-port
                    protocol: TCP
                  - containerPort: 15090
                    protocol: TCP
                    name: http-envoy-prom
                  {{- if contains "/" (annotation .ObjectMeta `sidecar.istio.io/proxyImage` .Values.global.proxy.image) }}
                  image: "{{ annotation .ObjectMeta `sidecar.istio.io/proxyImage` .Values.global.proxy.image }}"
                  {{- else }}
                  image: "{{ .ProxyImage }}"
                  {{- end }}
                  {{with .Values.global.imagePullPolicy }}imagePullPolicy: "{{.}}"{{end}}
                  args:
                  - proxy
                  - waypoint
                  - --domain
                  - $(POD_NAMESPACE).svc.{{ .Values.global.proxy.clusterDomain }}
                  - --serviceCluster
                  - {{.ServiceAccount}}.$(POD_NAMESPACE)
                  - --proxyLogLevel
                  - {{ annotation .ObjectMeta `sidecar.istio.io/logLevel` .Values.global.proxy.logLevel | quote}}
                  - --proxyComponentLogLevel
                  - {{ annotation .ObjectMeta `sidecar.istio.io/componentLogLevel` .Values.global.proxy.componentLogLevel | quote}}
                  - --log_output_level
                  - {{ annotation .ObjectMeta `sidecar.istio.io/agentLogLevel` .Values.global.logging.level | quote}}
                  {{- if .Values.global.logAsJson }}
                  - --log_as_json
                  {{- end }}
                  env:
                  - name: ISTIO_META_SERVICE_ACCOUNT
                    valueFrom:
                      fieldRef:
                        fieldPath: spec.serviceAccountName
                  - name: ISTIO_META_NODE_NAME
                    valueFrom:
                      fieldRef:
                        fieldPath: spec.nodeName
                  - name: JWT_POLICY
                    value: {{ .Values.global.jwtPolicy }}
                  - name: PILOT_CERT_PROVIDER
                    value: {{ .Values.global.pilotCertProvider }}
                  - name: CA_ADDR
                  {{- if .Values.global.caAddress }}
                    value: {{ .Values.global.caAddress }}
                  {{- else }}
                    value: istiod{{- if not (eq .Values.revision "") }}-{{ .Values.revision }}{{- end }}.{{ .Values.global.istioNamespace }}.svc:15012
                  {{- end }}
                  - name: POD_NAME
                    valueFrom:
                      fieldRef:
                        fieldPath: metadata.name
                  - name: POD_NAMESPACE
                    valueFrom:
                      fieldRef:
                        fieldPath: metadata.namespace
                  - name: INSTANCE_IP
                    valueFrom:
                      fieldRef:
                        fieldPath: status.podIP
                  - name: SERVICE_ACCOUNT
                    valueFrom:
                      fieldRef:
                        fieldPath: spec.serviceAccountName
                  - name: HOST_IP
                    valueFrom:
                      fieldRef:
                        fieldPath: status.hostIP
                  - name: ISTIO_CPU_LIMIT
                    valueFrom:
                      resourceFieldRef:
                        resource: limits.cpu
                  - name: PROXY_CONFIG
                    value: |
                           {{ protoToJSON .ProxyConfig }}
                  {{- if .ProxyConfig.ProxyMetadata }}
                  {{- range $key, $value := .ProxyConfig.ProxyMetadata }}
                  - name: {{ $key }}
                    value: "{{ $value }}"
                  {{- end }}
                  {{- end }}
                  - name: GOMEMLIMIT
                    valueFrom:
                      resourceFieldRef:
                        resource: limits.memory
                  - name: GOMAXPROCS
                    valueFrom:
                      resourceFieldRef:
                        resource: limits.cpu
                  - name: ISTIO_META_CLUSTER_ID
                    value: "{{ valueOrDefault .Values.global.multiCluster.clusterName `Kubernetes` }}"
                  {{- $network := valueOrDefault (index .InfrastructureLabels `topology.istio.io/network`) .Values.global.network }}
                  {{- if $network }}
                  - name: ISTIO_META_NETWORK
                    value: "{{ $network }}"
                  {{- end }}
                  - name: ISTIO_META_INTERCEPTION_MODE
                    value: REDIRECT
                  - name: ISTIO_META_WORKLOAD_NAME
                    value: {{.DeploymentName}}
                  - name: ISTIO_META_OWNER
                    value: kubernetes://apis/apps/v1/namespaces/{{.Namespace}}/deployments/{{.DeploymentName}}
                  {{- if .Values.global.meshID }}
                  - name: ISTIO_META_MESH_ID
                    value: "{{ .Values.global.meshID }}"
                  {{- else if (valueOrDefault .MeshConfig.TrustDomain .Values.global.trustDomain) }}
                  - name: ISTIO_META_MESH_ID
                    value: "{{ (valueOrDefault .MeshConfig.TrustDomain .Values.global.trustDomain) }}"
                  {{- end }}
                  resources:
                    limits:
                      cpu: "2"
                      memory: 1Gi
                    requests:
                      cpu: 100m
                      memory: 128Mi
                  startupProbe:
                    failureThreshold: 30
                    httpGet:
                      path: /healthz/ready
                      port: 15021
                      scheme: HTTP
                    initialDelaySeconds: 1
                    periodSeconds: 1
                    successThreshold: 1
                    timeoutSeconds: 1
                  readinessProbe:
                    failureThreshold: 4
                    httpGet:
                      path: /healthz/ready
                      port: 15021
                      scheme: HTTP
                    initialDelaySeconds: 0
                    periodSeconds: 15
                    successThreshold: 1
                    timeoutSeconds: 1
                  securityContext:
                    privileged: false
                    runAsGroup: 1337
                    runAsUser: 0
                    capabilities:
                      drop:
                      - ALL
                  volumeMounts:
                  - name: workload-socket
                    mountPath: /var/run/secrets/workload-spiffe-uds
                  - mountPath: /var/run/secrets/istio
                    name: istiod-ca-cert
                  - mountPath: /var/lib/istio/data
                    name: istio-data
                  - mountPath: /etc/istio/proxy
                    name: istio-envoy
                  - mountPath: /var/run/secrets/tokens
                    name: istio-token
                  - mountPath: /etc/istio/pod
                    name: istio-podinfo
                volumes:
                - emptyDir: {}
                  name: workload-socket
                - emptyDir:
                    medium: Memory
                  name: istio-envoy
                - emptyDir:
                    medium: Memory
                  name: go-proxy-envoy
                - emptyDir: {}
                  name: istio-data
                - emptyDir: {}
                  name: go-proxy-data
                - downwardAPI:
                    items:
                    - fieldRef:
                        fieldPath: metadata.labels
                      path: labels
                    - fieldRef:
                        fieldPath: metadata.annotations
                      path: annotations
                  name: istio-podinfo
                - name: istio-token
                  projected:
                    sources:
                    - serviceAccountToken:
                        audience: istio-ca
                        expirationSeconds: 43200
                        path: istio-token
                - configMap:
                    name: istio-ca-root-cert
                  name: istiod-ca-cert
                {{- if .Values.global.imagePullSecrets }}
                imagePullSecrets:
                  {{- range .Values.global.imagePullSecrets }}
                  - name: {{ . }}
                  {{- end }}
                {{- end }}
          ---
          apiVersion: v1
          kind: Service
          metadata:
            annotations:
              {{ toJsonMap (omit .InfrastructureAnnotations "kubectl.kubernetes.io/last-applied-configuration" "gateway.istio.io/name-override" "gateway.istio.io/service-account" "gateway.istio.io/controller-version") | nindent 4 }}
            labels:
              {{- toJsonMap
                .InfrastructureLabels
                (strdict
                  "gateway.networking.k8s.io/gateway-name" .Name
                  "istio.io/gateway-name" .Name
                ) | nindent 4 }}
            name: {{.DeploymentName | quote}}
            namespace: {{.Namespace | quote}}
            ownerReferences:
            - apiVersion: gateway.networking.k8s.io/v1beta1
              kind: Gateway
              name: "{{.Name}}"
              uid: "{{.UID}}"
          spec:
            ports:
            {{- range $key, $val := .Ports }}
            - name: {{ $val.Name | quote }}
              port: {{ $val.Port }}
              protocol: TCP
              appProtocol: {{ $val.AppProtocol }}
            {{- end }}
            selector:
              "{{.GatewayNameLabel}}": "{{.Name}}"
            {{- if and (.Spec.Addresses) (eq .ServiceType "LoadBalancer") }}
            loadBalancerIP: {{ (index .Spec.Addresses 0).Value | quote}}
            {{- end }}
            type: {{ .ServiceType | quote }}
          ---
        kube-gateway: |
          apiVersion: v1
          kind: ServiceAccount
          metadata:
            name: {{.ServiceAccount | quote}}
            namespace: {{.Namespace | quote}}
            annotations:
              {{- toJsonMap (omit .InfrastructureAnnotations "kubectl.kubernetes.io/last-applied-configuration" "gateway.istio.io/name-override" "gateway.istio.io/service-account" "gateway.istio.io/controller-version") | nindent 4 }}
            labels:
              {{- toJsonMap
                .InfrastructureLabels
                (strdict
                  "gateway.networking.k8s.io/gateway-name" .Name
                  "istio.io/gateway-name" .Name
                ) | nindent 4 }}
          ---
          apiVersion: apps/v1
          kind: Deployment
          metadata:
            name: {{.DeploymentName | quote}}
            namespace: {{.Namespace | quote}}
            annotations:
              {{- toJsonMap (omit .InfrastructureAnnotations "kubectl.kubernetes.io/last-applied-configuration" "gateway.istio.io/name-override" "gateway.istio.io/service-account" "gateway.istio.io/controller-version") | nindent 4 }}
            labels:
              {{- toJsonMap
                .InfrastructureLabels
                (strdict
                  "gateway.networking.k8s.io/gateway-name" .Name
                  "istio.io/gateway-name" .Name
                ) | nindent 4 }}
            ownerReferences:
            - apiVersion: gateway.networking.k8s.io/v1beta1
              kind: Gateway
              name: {{.Name}}
              uid: "{{.UID}}"
          spec:
            selector:
              matchLabels:
                "{{.GatewayNameLabel}}": {{.Name}}
            template:
              metadata:
                annotations:
                  {{- toJsonMap
                    (omit .InfrastructureAnnotations "kubectl.kubernetes.io/last-applied-configuration" "gateway.istio.io/name-override" "gateway.istio.io/service-account" "gateway.istio.io/controller-version")
                    (strdict "istio.io/rev" (.Revision | default "default"))
                    (strdict
                      "prometheus.io/path" "/stats/prometheus"
                      "prometheus.io/port" "15020"
                      "prometheus.io/scrape" "true"
                    ) | nindent 8 }}
                labels:
                  {{- toJsonMap
                    (strdict
                      "sidecar.istio.io/inject" "false"
                      "service.istio.io/canonical-name" .DeploymentName
                      "service.istio.io/canonical-revision" "latest"
                     )
                    .InfrastructureLabels
                    (strdict
                      "gateway.networking.k8s.io/gateway-name" .Name
                      "istio.io/gateway-name" .Name
                    ) | nindent 8 }}
              spec:
                {{- if .KubeVersion122 }}
                {{/* safe since 1.22: https://github.com/kubernetes/kubernetes/pull/103326. */}}
                securityContext:
                  sysctls:
                  - name: net.ipv4.ip_unprivileged_port_start
                    value: "0"
                {{- end }}
                serviceAccountName: {{.ServiceAccount | quote}}
                containers:
                - name: istio-proxy
                {{- if contains "/" (annotation .ObjectMeta `sidecar.istio.io/proxyImage` .Values.global.proxy.image) }}
                  image: "{{ annotation .ObjectMeta `sidecar.istio.io/proxyImage` .Values.global.proxy.image }}"
                {{- else }}
                  image: "{{ .ProxyImage }}"
                {{- end }}
                  {{- if .Values.global.proxy.resources }}
                  resources:
                    {{- toYaml .Values.global.proxy.resources | nindent 10 }}
                  {{- end }}
                  {{with .Values.global.imagePullPolicy }}imagePullPolicy: "{{.}}"{{end}}
                  securityContext:
                  {{- if .KubeVersion122 }}
                    # Safe since 1.22: https://github.com/kubernetes/kubernetes/pull/103326
                    capabilities:
                      drop:
                      - ALL
                    allowPrivilegeEscalation: false
                    privileged: false
                    readOnlyRootFilesystem: true
                    runAsUser: {{ .ProxyUID | default "1337" }}
                    runAsGroup: {{ .ProxyGID | default "1337" }}
                    runAsNonRoot: true
                  {{- else }}
                    capabilities:
                      drop:
                      - ALL
                      add:
                      - NET_BIND_SERVICE
                    runAsUser: 0
                    runAsGroup: 1337
                    runAsNonRoot: false
                    allowPrivilegeEscalation: true
                    readOnlyRootFilesystem: true
                  {{- end }}
                  ports:
                  - containerPort: 15021
                    name: status-port
                    protocol: TCP
                  - containerPort: 15090
                    protocol: TCP
                    name: http-envoy-prom
                  args:
                  - proxy
                  - router
                  - --domain
                  - $(POD_NAMESPACE).svc.{{ .Values.global.proxy.clusterDomain }}
                  - --proxyLogLevel
                  - {{ annotation .ObjectMeta `sidecar.istio.io/logLevel` .Values.global.proxy.logLevel | quote}}
                  - --proxyComponentLogLevel
                  - {{ annotation .ObjectMeta `sidecar.istio.io/componentLogLevel` .Values.global.proxy.componentLogLevel | quote}}
                  - --log_output_level
                  - {{ annotation .ObjectMeta `sidecar.istio.io/agentLogLevel` .Values.global.logging.level | quote}}
                {{- if .Values.global.sts.servicePort }}
                  - --stsPort={{ .Values.global.sts.servicePort }}
                {{- end }}
                {{- if .Values.global.logAsJson }}
                  - --log_as_json
                {{- end }}
                {{- if .Values.global.proxy.lifecycle }}
                  lifecycle:
                    {{ toYaml .Values.global.proxy.lifecycle | indent 6 }}
                {{- end }}
                  env:
                  - name: JWT_POLICY
                    value: {{ .Values.global.jwtPolicy }}
                  - name: PILOT_CERT_PROVIDER
                    value: {{ .Values.global.pilotCertProvider }}
                  - name: CA_ADDR
                  {{- if .Values.global.caAddress }}
                    value: {{ .Values.global.caAddress }}
                  {{- else }}
                    value: istiod{{- if not (eq .Values.revision "") }}-{{ .Values.revision }}{{- end }}.{{ .Values.global.istioNamespace }}.svc:15012
                  {{- end }}
                  - name: POD_NAME
                    valueFrom:
                      fieldRef:
                        fieldPath: metadata.name
                  - name: POD_NAMESPACE
                    valueFrom:
                      fieldRef:
                        fieldPath: metadata.namespace
                  - name: INSTANCE_IP
                    valueFrom:
                      fieldRef:
                        fieldPath: status.podIP
                  - name: SERVICE_ACCOUNT
                    valueFrom:
                      fieldRef:
                        fieldPath: spec.serviceAccountName
                  - name: HOST_IP
                    valueFrom:
                      fieldRef:
                        fieldPath: status.hostIP
                  - name: ISTIO_CPU_LIMIT
                    valueFrom:
                      resourceFieldRef:
                        resource: limits.cpu
                  - name: PROXY_CONFIG
                    value: |
                           {{ protoToJSON .ProxyConfig }}
                  - name: ISTIO_META_POD_PORTS
                    value: "[]"
                  - name: ISTIO_META_APP_CONTAINERS
                    value: ""
                  - name: GOMEMLIMIT
                    valueFrom:
                      resourceFieldRef:
                        resource: limits.memory
                  - name: GOMAXPROCS
                    valueFrom:
                      resourceFieldRef:
                        resource: limits.cpu
                  - name: ISTIO_META_CLUSTER_ID
                    value: "{{ valueOrDefault .Values.global.multiCluster.clusterName .ClusterID }}"
                  - name: ISTIO_META_NODE_NAME
                    valueFrom:
                      fieldRef:
                        fieldPath: spec.nodeName
                  - name: ISTIO_META_INTERCEPTION_MODE
                    value: "{{ .ProxyConfig.InterceptionMode.String }}"
                  {{- with (valueOrDefault  (index .InfrastructureLabels "topology.istio.io/network") .Values.global.network) }}
                  - name: ISTIO_META_NETWORK
                    value: {{.|quote}}
                  {{- end }}
                  - name: ISTIO_META_WORKLOAD_NAME
                    value: {{.DeploymentName|quote}}
                  - name: ISTIO_META_OWNER
                    value: "kubernetes://apis/apps/v1/namespaces/{{.Namespace}}/deployments/{{.DeploymentName}}"
                  {{- if .Values.global.meshID }}
                  - name: ISTIO_META_MESH_ID
                    value: "{{ .Values.global.meshID }}"
                  {{- else if (valueOrDefault .MeshConfig.TrustDomain .Values.global.trustDomain) }}
                  - name: ISTIO_META_MESH_ID
                    value: "{{ (valueOrDefault .MeshConfig.TrustDomain .Values.global.trustDomain) }}"
                  {{- end }}
                  {{- with (valueOrDefault .MeshConfig.TrustDomain .Values.global.trustDomain)  }}
                  - name: TRUST_DOMAIN
                    value: "{{ . }}"
                  {{- end }}
                  {{- range $key, $value := .ProxyConfig.ProxyMetadata }}
                  - name: {{ $key }}
                    value: "{{ $value }}"
                  {{- end }}
                  {{- with (index .InfrastructureLabels "topology.istio.io/network") }}
                  - name: ISTIO_META_REQUESTED_NETWORK_VIEW
                    value: {{.|quote}}
                  {{- end }}
                  startupProbe:
                    failureThreshold: 30
                    httpGet:
                      path: /healthz/ready
                      port: 15021
                      scheme: HTTP
                    initialDelaySeconds: 1
                    periodSeconds: 1
                    successThreshold: 1
                    timeoutSeconds: 1
                  readinessProbe:
                    failureThreshold: 4
                    httpGet:
                      path: /healthz/ready
                      port: 15021
                      scheme: HTTP
                    initialDelaySeconds: 0
                    periodSeconds: 15
                    successThreshold: 1
                    timeoutSeconds: 1
                  volumeMounts:
                  - name: workload-socket
                    mountPath: /var/run/secrets/workload-spiffe-uds
                  - name: credential-socket
                    mountPath: /var/run/secrets/credential-uds
                  {{- if eq .Values.global.caName "GkeWorkloadCertificate" }}
                  - name: gke-workload-certificate
                    mountPath: /var/run/secrets/workload-spiffe-credentials
                    readOnly: true
                  {{- else }}
                  - name: workload-certs
                    mountPath: /var/run/secrets/workload-spiffe-credentials
                  {{- end }}
                  {{- if eq .Values.global.pilotCertProvider "istiod" }}
                  - mountPath: /var/run/secrets/istio
                    name: istiod-ca-cert
                  {{- end }}
                  - mountPath: /var/lib/istio/data
                    name: istio-data
                  # SDS channel between istioagent and Envoy
                  - mountPath: /etc/istio/proxy
                    name: istio-envoy
                  {{- if eq .Values.global.jwtPolicy "third-party-jwt" }}
                  - mountPath: /var/run/secrets/tokens
                    name: istio-token
                  {{- end }}
                  - name: istio-podinfo
                    mountPath: /etc/istio/pod
                volumes:
                - emptyDir: {}
                  name: workload-socket
                - emptyDir: {}
                  name: credential-socket
                {{- if eq .Values.global.caName "GkeWorkloadCertificate" }}
                - name: gke-workload-certificate
                  csi:
                    driver: workloadcertificates.security.cloud.google.com
                {{- else}}
                - emptyDir: {}
                  name: workload-certs
                {{- end }}
                # SDS channel between istioagent and Envoy
                - emptyDir:
                    medium: Memory
                  name: istio-envoy
                - name: istio-data
                  emptyDir: {}
                - name: istio-podinfo
                  downwardAPI:
                    items:
                      - path: "labels"
                        fieldRef:
                          fieldPath: metadata.labels
                      - path: "annotations"
                        fieldRef:
                          fieldPath: metadata.annotations
                {{- if eq .Values.global.jwtPolicy "third-party-jwt" }}
                - name: istio-token
                  projected:
                    sources:
                    - serviceAccountToken:
                        path: istio-token
                        expirationSeconds: 43200
                        audience: {{ .Values.global.sds.token.aud }}
                {{- end }}
                {{- if eq .Values.global.pilotCertProvider "istiod" }}
                - name: istiod-ca-cert
                  configMap:
                    name: istio-ca-root-cert
                {{- end }}
                {{- if .Values.global.imagePullSecrets }}
                imagePullSecrets:
                  {{- range .Values.global.imagePullSecrets }}
                  - name: {{ . }}
                  {{- end }}
                {{- end }}
          ---
          apiVersion: v1
          kind: Service
          metadata:
            annotations:
              {{ toJsonMap (omit .InfrastructureAnnotations "kubectl.kubernetes.io/last-applied-configuration" "gateway.istio.io/name-override" "gateway.istio.io/service-account" "gateway.istio.io/controller-version") | nindent 4 }}
            labels:
              {{- toJsonMap
                .InfrastructureLabels
                (strdict
                  "gateway.networking.k8s.io/gateway-name" .Name
                  "istio.io/gateway-name" .Name
                ) | nindent 4 }}
            name: {{.DeploymentName | quote}}
            namespace: {{.Namespace | quote}}
            ownerReferences:
            - apiVersion: gateway.networking.k8s.io/v1beta1
              kind: Gateway
              name: {{.Name}}
              uid: {{.UID}}
          spec:
            ports:
            {{- range $key, $val := .Ports }}
            - name: {{ $val.Name | quote }}
              port: {{ $val.Port }}
              protocol: TCP
              appProtocol: {{ $val.AppProtocol }}
            {{- end }}
            selector:
              "{{.GatewayNameLabel}}": {{.Name}}
            {{- if and (.Spec.Addresses) (eq .ServiceType "LoadBalancer") }}
            loadBalancerIP: {{ (index .Spec.Addresses 0).Value | quote}}
            {{- end }}
            type: {{ .ServiceType | quote }}
          ---
    values: |-
      {
        "global": {
          "autoscalingv2API": true,
          "caAddress": "",
          "caName": "",
          "certSigners": [],
          "configCluster": false,
          "configValidation": true,
          "defaultPodDisruptionBudget": {
            "enabled": true
          },
          "defaultResources": {
            "requests": {
              "cpu": "10m"
            }
          },
          "enabled": true,
          "externalIstiod": false,
          "hub": "docker.io/istio",
          "imagePullPolicy": "",
          "imagePullSecrets": [],
          "istioNamespace": "istio-system",
          "istiod": {
            "enableAnalysis": false
          },
          "jwtPolicy": "third-party-jwt",
          "logAsJson": false,
          "logging": {
            "level": "default:info"
          },
          "meshID": "",
          "meshNetworks": {},
          "mountMtlsCerts": false,
          "multiCluster": {
            "clusterName": "",
            "enabled": false
          },
          "namespace": "istio-system",
          "network": "",
          "omitSidecarInjectorConfigMap": false,
          "oneNamespace": false,
          "operatorManageWebhooks": false,
          "pilotCertProvider": "istiod",
          "priorityClassName": "",
          "proxy": {
            "autoInject": "enabled",
            "clusterDomain": "cluster.local",
            "componentLogLevel": "misc:error",
            "enableCoreDump": false,
            "excludeIPRanges": "",
            "excludeInboundPorts": "",
            "excludeOutboundPorts": "",
            "image": "proxyv2",
            "includeIPRanges": "*",
            "includeInboundPorts": "*",
            "includeOutboundPorts": "",
            "logLevel": "warning",
            "privileged": false,
            "readinessFailureThreshold": 4,
            "readinessInitialDelaySeconds": 0,
            "readinessPeriodSeconds": 15,
            "resources": {
              "limits": {
                "cpu": "2000m",
                "memory": "1024Mi"
              },
              "requests": {
                "cpu": "100m",
                "memory": "128Mi"
              }
            },
            "startupProbe": {
              "enabled": true,
              "failureThreshold": 600
            },
            "statusPort": 15020,
            "tracer": "zipkin"
          },
          "proxy_init": {
            "image": "proxyv2"
          },
          "remotePilotAddress": "",
          "sds": {
            "token": {
              "aud": "istio-ca"
            }
          },
          "sts": {
            "servicePort": 0
          },
          "tag": "1.21.0",
          "variant": ""
        },
        "istio_cni": {
          "chained": true,
          "enabled": false
        },
        "revision": "",
        "sidecarInjectorWebhook": {
          "alwaysInjectSelector": [],
          "defaultTemplates": [],
          "enableNamespacesByDefault": false,
          "injectedAnnotations": {},
          "neverInjectSelector": [],
          "reinvocationPolicy": "Never",
          "rewriteAppHTTPProbe": true,
          "templates": {}
        }
      }
  kind: ConfigMap
  metadata:
    creationTimestamp: "2024-04-07T12:56:57Z"
    labels:
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio.io/rev: default
      operator.istio.io/component: Pilot
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: istio-sidecar-injector
    namespace: istio-system
    resourceVersion: "1904548"
    uid: 61919d5a-631c-4bcd-84cb-5c7a536f672e
- apiVersion: v1
  data:
    ca.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDBDCCAeygAwIBAgIHMGnw4gJmvzANBgkqhkiG9w0BAQsFADAVMRMwEQYDVQQD
      EwprdWJlcm5ldGVzMB4XDTI0MDMwOTA0MDk0NFoXDTM0MDMwNzA0MTQ0NFowFTET
      MBEGA1UEAxMKa3ViZXJuZXRlczCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC
      ggEBAMQ01D4M87cu5+Oqa7/YnFnVuM4wFbToFi76xRE2O5kMVkKhLzGfwAKaXcPZ
      hhiuYr/KZD3BUU+RSxTs4zPCtuLVkDQm75nX9KUB8HtB5iPWuJEDk/4FGUqV5xh3
      iCfNS3GLLLynngxuUK8G8wQoOxFORdaGo+XWg5jNy2NRqMf3e1K6nlW9oiJi/lJK
      2FVeswS8CzE3ABZkZkJW8iUSPQFf3zpPIJyedU2YZMPxaDDfr//6nCFFk2djfMRt
      ySRBnxpRuDqvqWcpFtlGtr2z2LDP2xPQwBlHJWgwvlQb8ynrqysRFkF5H94naTf3
      cY4syO4Od7t1Nen+iw7QSPZBQ6UCAwEAAaNZMFcwDgYDVR0PAQH/BAQDAgKkMA8G
      A1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFHyPwD/kRrWbDvgD19g1QlLiuYPlMBUG
      A1UdEQQOMAyCCmt1YmVybmV0ZXMwDQYJKoZIhvcNAQELBQADggEBAEFYuOtbuowo
      JzKpEEQtGWc/8xE5ur9CumsSINAz8GB6Zvj4ojaj8NgX4vw9L63T4pRk/P9XnE6y
      F88VFofzax4PZNgbXG5fwN1O+d7xEjYsDZQX6YPqa2ypwyQBF4vjJiYI4qMzjSbG
      6sf7vkVcNkxtvA1uZqTeL3pnp2A0uv1hOeE9b6833glG8tcPZQOad6a3uPa+9oVq
      f3guuBePxqSlTjjwYzIqtHXVFPv3U7XnP7LwKud/7c+ikU4WwuiNH2sMgYVrvHmU
      YgnniAnLA+gR7HpdRS9VieivHcazm/qAWr2+gEzUYImsUe3dxW2hZVap3tbiPlYU
      6u7srgTYl70=
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    annotations:
      kubernetes.io/description: Contains a CA bundle that can be used to verify the
        kube-apiserver when using internal endpoints such as the internal service
        IP or kubernetes.default.svc. No other usage is guaranteed across distributions
        of Kubernetes clusters.
    creationTimestamp: "2024-03-10T13:08:31Z"
    name: kube-root-ca.crt
    namespace: istio-system
    resourceVersion: "117644"
    uid: 145967ed-8d32-405d-ae14-b8bd3fdd9624
- apiVersion: v1
  data:
    ca.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDBDCCAeygAwIBAgIHMGnw4gJmvzANBgkqhkiG9w0BAQsFADAVMRMwEQYDVQQD
      EwprdWJlcm5ldGVzMB4XDTI0MDMwOTA0MDk0NFoXDTM0MDMwNzA0MTQ0NFowFTET
      MBEGA1UEAxMKa3ViZXJuZXRlczCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC
      ggEBAMQ01D4M87cu5+Oqa7/YnFnVuM4wFbToFi76xRE2O5kMVkKhLzGfwAKaXcPZ
      hhiuYr/KZD3BUU+RSxTs4zPCtuLVkDQm75nX9KUB8HtB5iPWuJEDk/4FGUqV5xh3
      iCfNS3GLLLynngxuUK8G8wQoOxFORdaGo+XWg5jNy2NRqMf3e1K6nlW9oiJi/lJK
      2FVeswS8CzE3ABZkZkJW8iUSPQFf3zpPIJyedU2YZMPxaDDfr//6nCFFk2djfMRt
      ySRBnxpRuDqvqWcpFtlGtr2z2LDP2xPQwBlHJWgwvlQb8ynrqysRFkF5H94naTf3
      cY4syO4Od7t1Nen+iw7QSPZBQ6UCAwEAAaNZMFcwDgYDVR0PAQH/BAQDAgKkMA8G
      A1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFHyPwD/kRrWbDvgD19g1QlLiuYPlMBUG
      A1UdEQQOMAyCCmt1YmVybmV0ZXMwDQYJKoZIhvcNAQELBQADggEBAEFYuOtbuowo
      JzKpEEQtGWc/8xE5ur9CumsSINAz8GB6Zvj4ojaj8NgX4vw9L63T4pRk/P9XnE6y
      F88VFofzax4PZNgbXG5fwN1O+d7xEjYsDZQX6YPqa2ypwyQBF4vjJiYI4qMzjSbG
      6sf7vkVcNkxtvA1uZqTeL3pnp2A0uv1hOeE9b6833glG8tcPZQOad6a3uPa+9oVq
      f3guuBePxqSlTjjwYzIqtHXVFPv3U7XnP7LwKud/7c+ikU4WwuiNH2sMgYVrvHmU
      YgnniAnLA+gR7HpdRS9VieivHcazm/qAWr2+gEzUYImsUe3dxW2hZVap3tbiPlYU
      6u7srgTYl70=
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    annotations:
      kubernetes.io/description: Contains a CA bundle that can be used to verify the
        kube-apiserver when using internal endpoints such as the internal service
        IP or kubernetes.default.svc. No other usage is guaranteed across distributions
        of Kubernetes clusters.
    creationTimestamp: "2024-03-09T04:15:06Z"
    name: kube-root-ca.crt
    namespace: kube-node-lease
    resourceVersion: "439"
    uid: 9126d7e9-2c58-455d-bc30-a0cc40f317b2
- apiVersion: v1
  data:
    kubeconfig: |
      apiVersion: v1
      clusters:
      - cluster:
          certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCRENDQWV5Z0F3SUJBZ0lITUdudzRnSm12ekFOQmdrcWhraUc5dzBCQVFzRkFEQVZNUk13RVFZRFZRUUQKRXdwcmRXSmxjbTVsZEdWek1CNFhEVEkwTURNd09UQTBNRGswTkZvWERUTTBNRE13TnpBME1UUTBORm93RlRFVApNQkVHQTFVRUF4TUthM1ZpWlhKdVpYUmxjekNDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DCmdnRUJBTVEwMUQ0TTg3Y3U1K09xYTcvWW5GblZ1TTR3RmJUb0ZpNzZ4UkUyTzVrTVZrS2hMekdmd0FLYVhjUFoKaGhpdVlyL0taRDNCVVUrUlN4VHM0elBDdHVMVmtEUW03NW5YOUtVQjhIdEI1aVBXdUpFRGsvNEZHVXFWNXhoMwppQ2ZOUzNHTExMeW5uZ3h1VUs4Rzh3UW9PeEZPUmRhR28rWFdnNWpOeTJOUnFNZjNlMUs2bmxXOW9pSmkvbEpLCjJGVmVzd1M4Q3pFM0FCWmtaa0pXOGlVU1BRRmYzenBQSUp5ZWRVMllaTVB4YUREZnIvLzZuQ0ZGazJkamZNUnQKeVNSQm54cFJ1RHF2cVdjcEZ0bEd0cjJ6MkxEUDJ4UFF3QmxISldnd3ZsUWI4eW5ycXlzUkZrRjVIOTRuYVRmMwpjWTRzeU80T2Q3dDFOZW4raXc3UVNQWkJRNlVDQXdFQUFhTlpNRmN3RGdZRFZSMFBBUUgvQkFRREFnS2tNQThHCkExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkh5UHdEL2tScldiRHZnRDE5ZzFRbExpdVlQbE1CVUcKQTFVZEVRUU9NQXlDQ210MVltVnlibVYwWlhNd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFFRll1T3RidW93bwpKektwRUVRdEdXYy84eEU1dXI5Q3Vtc1NJTkF6OEdCNlp2ajRvamFqOE5nWDR2dzlMNjNUNHBSay9QOVhuRTZ5CkY4OFZGb2Z6YXg0UFpOZ2JYRzVmd04xTytkN3hFallzRFpRWDZZUHFhMnlwd3lRQkY0dmpKaVlJNHFNempTYkcKNnNmN3ZrVmNOa3h0dkExdVpxVGVMM3BucDJBMHV2MWhPZUU5YjY4MzNnbEc4dGNQWlFPYWQ2YTN1UGErOW9WcQpmM2d1dUJlUHhxU2xUamp3WXpJcXRIWFZGUHYzVTdYblA3THdLdWQvN2MraWtVNFd3dWlOSDJzTWdZVnJ2SG1VCllnbm5pQW5MQStnUjdIcGRSUzlWaWVpdkhjYXptL3FBV3IyK2dFelVZSW1zVWUzZHhXMmhaVmFwM3RiaVBsWVUKNnU3c3JnVFlsNzA9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
          server: https://envoy-gateway-control-plane:6443
        name: ""
      contexts: null
      current-context: ""
      kind: Config
      preferences: {}
      users: null
  kind: ConfigMap
  metadata:
    creationTimestamp: "2024-03-09T04:14:52Z"
    name: cluster-info
    namespace: kube-public
    resourceVersion: "135813"
    uid: ab4759a2-91b8-42ec-bf2b-762da4283096
- apiVersion: v1
  data:
    ca.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDBDCCAeygAwIBAgIHMGnw4gJmvzANBgkqhkiG9w0BAQsFADAVMRMwEQYDVQQD
      EwprdWJlcm5ldGVzMB4XDTI0MDMwOTA0MDk0NFoXDTM0MDMwNzA0MTQ0NFowFTET
      MBEGA1UEAxMKa3ViZXJuZXRlczCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC
      ggEBAMQ01D4M87cu5+Oqa7/YnFnVuM4wFbToFi76xRE2O5kMVkKhLzGfwAKaXcPZ
      hhiuYr/KZD3BUU+RSxTs4zPCtuLVkDQm75nX9KUB8HtB5iPWuJEDk/4FGUqV5xh3
      iCfNS3GLLLynngxuUK8G8wQoOxFORdaGo+XWg5jNy2NRqMf3e1K6nlW9oiJi/lJK
      2FVeswS8CzE3ABZkZkJW8iUSPQFf3zpPIJyedU2YZMPxaDDfr//6nCFFk2djfMRt
      ySRBnxpRuDqvqWcpFtlGtr2z2LDP2xPQwBlHJWgwvlQb8ynrqysRFkF5H94naTf3
      cY4syO4Od7t1Nen+iw7QSPZBQ6UCAwEAAaNZMFcwDgYDVR0PAQH/BAQDAgKkMA8G
      A1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFHyPwD/kRrWbDvgD19g1QlLiuYPlMBUG
      A1UdEQQOMAyCCmt1YmVybmV0ZXMwDQYJKoZIhvcNAQELBQADggEBAEFYuOtbuowo
      JzKpEEQtGWc/8xE5ur9CumsSINAz8GB6Zvj4ojaj8NgX4vw9L63T4pRk/P9XnE6y
      F88VFofzax4PZNgbXG5fwN1O+d7xEjYsDZQX6YPqa2ypwyQBF4vjJiYI4qMzjSbG
      6sf7vkVcNkxtvA1uZqTeL3pnp2A0uv1hOeE9b6833glG8tcPZQOad6a3uPa+9oVq
      f3guuBePxqSlTjjwYzIqtHXVFPv3U7XnP7LwKud/7c+ikU4WwuiNH2sMgYVrvHmU
      YgnniAnLA+gR7HpdRS9VieivHcazm/qAWr2+gEzUYImsUe3dxW2hZVap3tbiPlYU
      6u7srgTYl70=
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    annotations:
      kubernetes.io/description: Contains a CA bundle that can be used to verify the
        kube-apiserver when using internal endpoints such as the internal service
        IP or kubernetes.default.svc. No other usage is guaranteed across distributions
        of Kubernetes clusters.
    creationTimestamp: "2024-03-09T04:15:06Z"
    name: kube-root-ca.crt
    namespace: kube-public
    resourceVersion: "440"
    uid: c3b793e7-4053-432f-9ea4-73ea054e3e3b
- apiVersion: v1
  data:
    Corefile: |
      .:53 {
          errors
          health {
             lameduck 5s
          }
          ready
          kubernetes cluster.local in-addr.arpa ip6.arpa {
             pods insecure
             fallthrough in-addr.arpa ip6.arpa
             ttl 30
          }
          prometheus :9153
          forward . /etc/resolv.conf {
             max_concurrent 1000
          }
          cache 30
          loop
          reload
          loadbalance
      }
  kind: ConfigMap
  metadata:
    creationTimestamp: "2024-03-09T04:14:53Z"
    name: coredns
    namespace: kube-system
    resourceVersion: "261"
    uid: 867a9d32-ac07-4d9d-bf39-d0a0f6031953
- apiVersion: v1
  data:
    client-ca-file: |
      -----BEGIN CERTIFICATE-----
      MIIDBDCCAeygAwIBAgIHMGnw4gJmvzANBgkqhkiG9w0BAQsFADAVMRMwEQYDVQQD
      EwprdWJlcm5ldGVzMB4XDTI0MDMwOTA0MDk0NFoXDTM0MDMwNzA0MTQ0NFowFTET
      MBEGA1UEAxMKa3ViZXJuZXRlczCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC
      ggEBAMQ01D4M87cu5+Oqa7/YnFnVuM4wFbToFi76xRE2O5kMVkKhLzGfwAKaXcPZ
      hhiuYr/KZD3BUU+RSxTs4zPCtuLVkDQm75nX9KUB8HtB5iPWuJEDk/4FGUqV5xh3
      iCfNS3GLLLynngxuUK8G8wQoOxFORdaGo+XWg5jNy2NRqMf3e1K6nlW9oiJi/lJK
      2FVeswS8CzE3ABZkZkJW8iUSPQFf3zpPIJyedU2YZMPxaDDfr//6nCFFk2djfMRt
      ySRBnxpRuDqvqWcpFtlGtr2z2LDP2xPQwBlHJWgwvlQb8ynrqysRFkF5H94naTf3
      cY4syO4Od7t1Nen+iw7QSPZBQ6UCAwEAAaNZMFcwDgYDVR0PAQH/BAQDAgKkMA8G
      A1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFHyPwD/kRrWbDvgD19g1QlLiuYPlMBUG
      A1UdEQQOMAyCCmt1YmVybmV0ZXMwDQYJKoZIhvcNAQELBQADggEBAEFYuOtbuowo
      JzKpEEQtGWc/8xE5ur9CumsSINAz8GB6Zvj4ojaj8NgX4vw9L63T4pRk/P9XnE6y
      F88VFofzax4PZNgbXG5fwN1O+d7xEjYsDZQX6YPqa2ypwyQBF4vjJiYI4qMzjSbG
      6sf7vkVcNkxtvA1uZqTeL3pnp2A0uv1hOeE9b6833glG8tcPZQOad6a3uPa+9oVq
      f3guuBePxqSlTjjwYzIqtHXVFPv3U7XnP7LwKud/7c+ikU4WwuiNH2sMgYVrvHmU
      YgnniAnLA+gR7HpdRS9VieivHcazm/qAWr2+gEzUYImsUe3dxW2hZVap3tbiPlYU
      6u7srgTYl70=
      -----END CERTIFICATE-----
    requestheader-allowed-names: '["front-proxy-client"]'
    requestheader-client-ca-file: |
      -----BEGIN CERTIFICATE-----
      MIIDETCCAfmgAwIBAgIIdxYfEaoE5/MwDQYJKoZIhvcNAQELBQAwGTEXMBUGA1UE
      AxMOZnJvbnQtcHJveHktY2EwHhcNMjQwMzA5MDQwOTQ0WhcNMzQwMzA3MDQxNDQ0
      WjAZMRcwFQYDVQQDEw5mcm9udC1wcm94eS1jYTCCASIwDQYJKoZIhvcNAQEBBQAD
      ggEPADCCAQoCggEBAO2jliAg62O5/IAM7OzUR0yJP3yWQa7rbrUvBxV0/B6ixvHO
      to8jlcFDGwkyz8oKBkmhZdP2Ux9ssEUAPmhuBqKyY57Z9HCwKxVSjrCV34G6nnEt
      73owbknKTA/0oaSe32epLx/gZwYG6BxgoL0X6VAs9ptbRFLAHMUUpvSVcLUHgwk1
      T32mwIOJERvv/ycm5aRlORntkLBy0MgAc8LE7qRwGzgWZgAjYbgsjpCeyhU2FYaA
      E8yxM4qC2+kjA640c9bQ/2LYPQ/UOmvGFUA4d2sJZ4k8pZ8psuLRZbPO9wyF1SOj
      FrrjvqlFmKtu7Od2Dz5/GbR6KUd9WJ/gdVOnWy8CAwEAAaNdMFswDgYDVR0PAQH/
      BAQDAgKkMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFH51ptl1KqjjAmnrXbpk
      QF29ZTW8MBkGA1UdEQQSMBCCDmZyb250LXByb3h5LWNhMA0GCSqGSIb3DQEBCwUA
      A4IBAQA8Xw1ss1uwia1QhP9ebIE++kQxhsYKgRyeq7UHnBI4gjY2x3clK6dQZnKq
      GSgrWNyDl64hCFMxTzs6o4lO8P2rhPOw1NS3C1Tb63YlItg0+KSGWQS9F7/ULGy2
      N2np3F3gDi6ffW7QDTIzDmd4yZKPLv5GPZPSy0WPuoKGbD88JrYcxIntbYLDptMS
      aaOfp/3yjgkUTLn8VAJhaYAoilSPwbR3KqMxUi6kXNeTwKxUJpULBkCjlYrbR5nd
      flbFOgzAzWNtWI1E2kECPJBuzyzlh9doULnZ60wRH4Xyvqt0/ycsr4NL535eRF4K
      ua5gy2VXovcU1MmhMxuzHPoIAH6L
      -----END CERTIFICATE-----
    requestheader-extra-headers-prefix: '["X-Remote-Extra-"]'
    requestheader-group-headers: '["X-Remote-Group"]'
    requestheader-username-headers: '["X-Remote-User"]'
  kind: ConfigMap
  metadata:
    creationTimestamp: "2024-03-09T04:14:50Z"
    name: extension-apiserver-authentication
    namespace: kube-system
    resourceVersion: "31"
    uid: 130d17ed-dc38-4d36-916f-a6ac91576eef
- apiVersion: v1
  data:
    root-cert.pem: |
      -----BEGIN CERTIFICATE-----
      MIIFFDCCAvygAwIBAgIUKEe8c0ey0MATKC7wmSWfTGenYrwwDQYJKoZIhvcNAQEL
      BQAwIjEOMAwGA1UECgwFSXN0aW8xEDAOBgNVBAMMB1Jvb3QgQ0EwHhcNMjQwMzEw
      MTUxNjQwWhcNMzQwMzA4MTUxNjQwWjAiMQ4wDAYDVQQKDAVJc3RpbzEQMA4GA1UE
      AwwHUm9vdCBDQTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBANqYIhL8
      A/a2r1cWTuXHlaRF8mZkPTeLAWuJ/QndEbjc5HSoSGEFUWohf8c7TjC85EEFwsxY
      JsqgER2iVFXwz5zIgSuPhY/8vG73qBBBQ4Caov+FTFhN4Yi3BnWJLoOktYnwztTF
      j0Saed1aDUxnO2SrXU8Urbc37q2SiczBb10YyVMsGJmeOrQy4VNoU/E50+O4LTwZ
      GwN1Ehz7x8X3GZN3R2PmHeAUdQ7jDnppkkFELEKLTOBg5YSEudAkqrvSDV5eXXM5
      Ef3gPwH4491ItFbGOgzWpxiNQcXrT9ronotDFXUXnZ8fjnGmsJzK4R1pmivkWha4
      9OUIAuGUbGKuJII01PI7qEntkP9atyVdUazVgX32QsInWBCA5rXDKHvulSStI2d3
      zd+j+b2BaVImeAwxjvXs/JMhpL3oHYs8E46rahKRMctyvxRJmcUI1sMk4Ya/c2an
      48zpKSOrL/nqc2PmDV1zXMCGRwMDghzBL7DzI8zBkMV7B3vsm56q6JqvnkrXchfS
      ScFXJr5Wr5V1d2ij/Wrs542aQuNsnBQR7NADy+ti45Z8tNegG11+GcFYdsGUWFeO
      xSxjOdBzxK8e/6VRTqKPWA7MngBCGxRFhf0+Kv5tRZGUiHXHm0a3WcNUi8ifzBKa
      1vOVgVNhCDAI/M1pih5/HGhd7aFFckoVmaG3AgMBAAGjQjBAMB0GA1UdDgQWBBR6
      FuyGMgTWi+AxP9k0BD4AcLtQkTAPBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB/wQE
      AwIC5DANBgkqhkiG9w0BAQsFAAOCAgEANG5aKWbM2fvO2mtUenuyFbLROkzwuIFi
      6I4DdL1J64WeDWMF1NzLCpEolon4hDhoULBmh1YCTvVfkw5vS9V+9dTOiyprz4fY
      ikXz0F6rk+Vgk0Mtk9mLwnlx1vkfFDfBaWg2+1oKs6D3jO+oI8GDrOIrSyxPnNES
      5XQ7nrlaMCzhQzM1JL8tLNG9qGaw6/TTVnTyzatVeLvCQqDpxT87mWPcRV/RDRt0
      8aLQC46u9DTZsjKi1DUSmuvnD8b4NvPSf6WyaEZrVG0KFJITMIJCpDBVsBoG4Pg+
      GkwlYAi0sbjL4Uj/sthY6s3acaPa5gdHDNbcVqaWjyk15goebtboaLZjDZXIhXsD
      tlGG5F/2pQI1dlsOwoKPsbn16pOieRnH8IQJAfXSO3+/U8+05lx8LM70iUqw094Q
      vCk4o0Pp7ilst/0jtvJwu/vWv+0JqUxtMW3982YEamURXLEX7UY2TeI6P7EB0zsN
      qjfTNQ3isTOUDyhcZJdI+y6oU7dKVofP6RCWZIL/MAJKWSP3vw+cp4U+cWOu6PNg
      WhCYcjAeE72MoTNNxGF3JR6UZGtS5+lmaK+qEdDZ8sbW6nDtk8RXpJdxwkP8rvQ0
      IXM/JUTXbXtBlU8bELbvunMgQsBJy6syzrwjSqirjB7cgA2ij2/XJ0iWljoaZDUJ
      qujJD9MN08U=
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2024-03-14T06:15:08Z"
    labels:
      istio.io/config: "true"
    name: istio-ca-root-cert
    namespace: kube-system
    resourceVersion: "421891"
    uid: 2a266ed4-2aa3-46fd-b03d-7c574c30b22e
- apiVersion: v1
  data:
    since: "2024-03-09"
  kind: ConfigMap
  metadata:
    creationTimestamp: "2024-03-09T04:14:50Z"
    name: kube-apiserver-legacy-service-account-token-tracking
    namespace: kube-system
    resourceVersion: "67"
    uid: cf16bf57-96f1-4ed6-b1b7-6695440ac581
- apiVersion: v1
  data:
    config.conf: |-
      apiVersion: kubeproxy.config.k8s.io/v1alpha1
      bindAddress: 0.0.0.0
      bindAddressHardFail: false
      clientConnection:
        acceptContentTypes: ""
        burst: 0
        contentType: ""
        kubeconfig: /var/lib/kube-proxy/kubeconfig.conf
        qps: 0
      clusterCIDR: 10.244.0.0/16
      configSyncPeriod: 0s
      conntrack:
        maxPerCore: 0
        min: null
        tcpCloseWaitTimeout: null
        tcpEstablishedTimeout: null
      detectLocal:
        bridgeInterface: ""
        interfaceNamePrefix: ""
      detectLocalMode: ""
      enableProfiling: false
      healthzBindAddress: ""
      hostnameOverride: ""
      iptables:
        localhostNodePorts: null
        masqueradeAll: false
        masqueradeBit: null
        minSyncPeriod: 1s
        syncPeriod: 0s
      ipvs:
        excludeCIDRs: null
        minSyncPeriod: 0s
        scheduler: ""
        strictARP: false
        syncPeriod: 0s
        tcpFinTimeout: 0s
        tcpTimeout: 0s
        udpTimeout: 0s
      kind: KubeProxyConfiguration
      logging:
        flushFrequency: 0
        options:
          json:
            infoBufferSize: "0"
        verbosity: 0
      metricsBindAddress: ""
      mode: iptables
      nodePortAddresses: null
      oomScoreAdj: null
      portRange: ""
      showHiddenMetricsForVersion: ""
      winkernel:
        enableDSR: false
        forwardHealthCheckVip: false
        networkName: ""
        rootHnsEndpointName: ""
        sourceVip: ""
    kubeconfig.conf: |-
      apiVersion: v1
      kind: Config
      clusters:
      - cluster:
          certificate-authority: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt
          server: https://envoy-gateway-control-plane:6443
        name: default
      contexts:
      - context:
          cluster: default
          namespace: default
          user: default
        name: default
      current-context: default
      users:
      - name: default
        user:
          tokenFile: /var/run/secrets/kubernetes.io/serviceaccount/token
  kind: ConfigMap
  metadata:
    creationTimestamp: "2024-03-09T04:14:53Z"
    labels:
      app: kube-proxy
    name: kube-proxy
    namespace: kube-system
    resourceVersion: "268"
    uid: 603c8d4d-25d8-4fb7-a64a-62cf3de6532f
- apiVersion: v1
  data:
    ca.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDBDCCAeygAwIBAgIHMGnw4gJmvzANBgkqhkiG9w0BAQsFADAVMRMwEQYDVQQD
      EwprdWJlcm5ldGVzMB4XDTI0MDMwOTA0MDk0NFoXDTM0MDMwNzA0MTQ0NFowFTET
      MBEGA1UEAxMKa3ViZXJuZXRlczCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC
      ggEBAMQ01D4M87cu5+Oqa7/YnFnVuM4wFbToFi76xRE2O5kMVkKhLzGfwAKaXcPZ
      hhiuYr/KZD3BUU+RSxTs4zPCtuLVkDQm75nX9KUB8HtB5iPWuJEDk/4FGUqV5xh3
      iCfNS3GLLLynngxuUK8G8wQoOxFORdaGo+XWg5jNy2NRqMf3e1K6nlW9oiJi/lJK
      2FVeswS8CzE3ABZkZkJW8iUSPQFf3zpPIJyedU2YZMPxaDDfr//6nCFFk2djfMRt
      ySRBnxpRuDqvqWcpFtlGtr2z2LDP2xPQwBlHJWgwvlQb8ynrqysRFkF5H94naTf3
      cY4syO4Od7t1Nen+iw7QSPZBQ6UCAwEAAaNZMFcwDgYDVR0PAQH/BAQDAgKkMA8G
      A1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFHyPwD/kRrWbDvgD19g1QlLiuYPlMBUG
      A1UdEQQOMAyCCmt1YmVybmV0ZXMwDQYJKoZIhvcNAQELBQADggEBAEFYuOtbuowo
      JzKpEEQtGWc/8xE5ur9CumsSINAz8GB6Zvj4ojaj8NgX4vw9L63T4pRk/P9XnE6y
      F88VFofzax4PZNgbXG5fwN1O+d7xEjYsDZQX6YPqa2ypwyQBF4vjJiYI4qMzjSbG
      6sf7vkVcNkxtvA1uZqTeL3pnp2A0uv1hOeE9b6833glG8tcPZQOad6a3uPa+9oVq
      f3guuBePxqSlTjjwYzIqtHXVFPv3U7XnP7LwKud/7c+ikU4WwuiNH2sMgYVrvHmU
      YgnniAnLA+gR7HpdRS9VieivHcazm/qAWr2+gEzUYImsUe3dxW2hZVap3tbiPlYU
      6u7srgTYl70=
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    annotations:
      kubernetes.io/description: Contains a CA bundle that can be used to verify the
        kube-apiserver when using internal endpoints such as the internal service
        IP or kubernetes.default.svc. No other usage is guaranteed across distributions
        of Kubernetes clusters.
    creationTimestamp: "2024-03-09T04:15:06Z"
    name: kube-root-ca.crt
    namespace: kube-system
    resourceVersion: "441"
    uid: e6e5d4af-4115-44bb-bdb7-6e67bfffe5ad
- apiVersion: v1
  data:
    ClusterConfiguration: |
      apiServer:
        certSANs:
        - localhost
        - 127.0.0.1
        extraArgs:
          authorization-mode: Node,RBAC
          runtime-config: ""
        timeoutForControlPlane: 4m0s
      apiVersion: kubeadm.k8s.io/v1beta3
      certificatesDir: /etc/kubernetes/pki
      clusterName: envoy-gateway
      controlPlaneEndpoint: envoy-gateway-control-plane:6443
      controllerManager:
        extraArgs:
          enable-hostpath-provisioner: "true"
      dns: {}
      etcd:
        local:
          dataDir: /var/lib/etcd
      imageRepository: registry.k8s.io
      kind: ClusterConfiguration
      kubernetesVersion: v1.28.0
      networking:
        dnsDomain: cluster.local
        podSubnet: 10.244.0.0/16
        serviceSubnet: 10.96.0.0/16
      scheduler: {}
  kind: ConfigMap
  metadata:
    creationTimestamp: "2024-03-09T04:14:51Z"
    name: kubeadm-config
    namespace: kube-system
    resourceVersion: "233"
    uid: 4b54f248-23fa-4137-8bb4-3f3d2b4b9526
- apiVersion: v1
  data:
    kubelet: |
      apiVersion: kubelet.config.k8s.io/v1beta1
      authentication:
        anonymous:
          enabled: false
        webhook:
          cacheTTL: 0s
          enabled: true
        x509:
          clientCAFile: /etc/kubernetes/pki/ca.crt
      authorization:
        mode: Webhook
        webhook:
          cacheAuthorizedTTL: 0s
          cacheUnauthorizedTTL: 0s
      cgroupDriver: systemd
      cgroupRoot: /kubelet
      clusterDNS:
      - 10.96.0.10
      clusterDomain: cluster.local
      containerRuntimeEndpoint: ""
      cpuManagerReconcilePeriod: 0s
      evictionHard:
        imagefs.available: 0%
        nodefs.available: 0%
        nodefs.inodesFree: 0%
      evictionPressureTransitionPeriod: 0s
      failSwapOn: false
      fileCheckFrequency: 0s
      healthzBindAddress: 127.0.0.1
      healthzPort: 10248
      httpCheckFrequency: 0s
      imageGCHighThresholdPercent: 100
      imageMinimumGCAge: 0s
      kind: KubeletConfiguration
      logging:
        flushFrequency: 0
        options:
          json:
            infoBufferSize: "0"
        verbosity: 0
      memorySwap: {}
      nodeStatusReportFrequency: 0s
      nodeStatusUpdateFrequency: 0s
      rotateCertificates: true
      runtimeRequestTimeout: 0s
      shutdownGracePeriod: 0s
      shutdownGracePeriodCriticalPods: 0s
      staticPodPath: /etc/kubernetes/manifests
      streamingConnectionIdleTimeout: 0s
      syncFrequency: 0s
      volumeStatsAggPeriod: 0s
  kind: ConfigMap
  metadata:
    creationTimestamp: "2024-03-09T04:14:51Z"
    name: kubelet-config
    namespace: kube-system
    resourceVersion: "236"
    uid: 12e11c9b-9452-42ba-9cf2-37665f575c42
- apiVersion: v1
  data:
    ca.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDBDCCAeygAwIBAgIHMGnw4gJmvzANBgkqhkiG9w0BAQsFADAVMRMwEQYDVQQD
      EwprdWJlcm5ldGVzMB4XDTI0MDMwOTA0MDk0NFoXDTM0MDMwNzA0MTQ0NFowFTET
      MBEGA1UEAxMKa3ViZXJuZXRlczCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC
      ggEBAMQ01D4M87cu5+Oqa7/YnFnVuM4wFbToFi76xRE2O5kMVkKhLzGfwAKaXcPZ
      hhiuYr/KZD3BUU+RSxTs4zPCtuLVkDQm75nX9KUB8HtB5iPWuJEDk/4FGUqV5xh3
      iCfNS3GLLLynngxuUK8G8wQoOxFORdaGo+XWg5jNy2NRqMf3e1K6nlW9oiJi/lJK
      2FVeswS8CzE3ABZkZkJW8iUSPQFf3zpPIJyedU2YZMPxaDDfr//6nCFFk2djfMRt
      ySRBnxpRuDqvqWcpFtlGtr2z2LDP2xPQwBlHJWgwvlQb8ynrqysRFkF5H94naTf3
      cY4syO4Od7t1Nen+iw7QSPZBQ6UCAwEAAaNZMFcwDgYDVR0PAQH/BAQDAgKkMA8G
      A1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFHyPwD/kRrWbDvgD19g1QlLiuYPlMBUG
      A1UdEQQOMAyCCmt1YmVybmV0ZXMwDQYJKoZIhvcNAQELBQADggEBAEFYuOtbuowo
      JzKpEEQtGWc/8xE5ur9CumsSINAz8GB6Zvj4ojaj8NgX4vw9L63T4pRk/P9XnE6y
      F88VFofzax4PZNgbXG5fwN1O+d7xEjYsDZQX6YPqa2ypwyQBF4vjJiYI4qMzjSbG
      6sf7vkVcNkxtvA1uZqTeL3pnp2A0uv1hOeE9b6833glG8tcPZQOad6a3uPa+9oVq
      f3guuBePxqSlTjjwYzIqtHXVFPv3U7XnP7LwKud/7c+ikU4WwuiNH2sMgYVrvHmU
      YgnniAnLA+gR7HpdRS9VieivHcazm/qAWr2+gEzUYImsUe3dxW2hZVap3tbiPlYU
      6u7srgTYl70=
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    annotations:
      kubernetes.io/description: Contains a CA bundle that can be used to verify the
        kube-apiserver when using internal endpoints such as the internal service
        IP or kubernetes.default.svc. No other usage is guaranteed across distributions
        of Kubernetes clusters.
    creationTimestamp: "2024-03-09T04:15:06Z"
    name: kube-root-ca.crt
    namespace: local-path-storage
    resourceVersion: "442"
    uid: 9686cfa3-0b46-4e4d-a33d-8ae79d2759ab
- apiVersion: v1
  data:
    config.json: |-
      {
              "nodePathMap":[
              {
                      "node":"DEFAULT_PATH_FOR_NON_LISTED_NODES",
                      "paths":["/var/local-path-provisioner"]
              }
              ]
      }
    helperPod.yaml: |-
      apiVersion: v1
      kind: Pod
      metadata:
        name: helper-pod
      spec:
        containers:
        - name: helper-pod
          image: docker.io/kindest/local-path-helper:v20230510-486859a6
          imagePullPolicy: IfNotPresent
    setup: |-
      #!/bin/sh
      set -eu
      mkdir -m 0777 -p "$VOL_DIR"
    teardown: |-
      #!/bin/sh
      set -eu
      rm -rf "$VOL_DIR"
  kind: ConfigMap
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","data":{"config.json":"{\n        \"nodePathMap\":[\n        {\n                \"node\":\"DEFAULT_PATH_FOR_NON_LISTED_NODES\",\n                \"paths\":[\"/var/local-path-provisioner\"]\n        }\n        ]\n}","helperPod.yaml":"apiVersion: v1\nkind: Pod\nmetadata:\n  name: helper-pod\nspec:\n  containers:\n  - name: helper-pod\n    image: docker.io/kindest/local-path-helper:v20230510-486859a6\n    imagePullPolicy: IfNotPresent","setup":"#!/bin/sh\nset -eu\nmkdir -m 0777 -p \"$VOL_DIR\"","teardown":"#!/bin/sh\nset -eu\nrm -rf \"$VOL_DIR\""},"kind":"ConfigMap","metadata":{"annotations":{},"name":"local-path-config","namespace":"local-path-storage"}}
    creationTimestamp: "2024-03-09T04:14:54Z"
    name: local-path-config
    namespace: local-path-storage
    resourceVersion: "312"
    uid: 3d7fc79c-cfab-4265-9215-f5bdf5734538
- apiVersion: v1
  data:
    root-cert.pem: |
      -----BEGIN CERTIFICATE-----
      MIIFFDCCAvygAwIBAgIUKEe8c0ey0MATKC7wmSWfTGenYrwwDQYJKoZIhvcNAQEL
      BQAwIjEOMAwGA1UECgwFSXN0aW8xEDAOBgNVBAMMB1Jvb3QgQ0EwHhcNMjQwMzEw
      MTUxNjQwWhcNMzQwMzA4MTUxNjQwWjAiMQ4wDAYDVQQKDAVJc3RpbzEQMA4GA1UE
      AwwHUm9vdCBDQTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBANqYIhL8
      A/a2r1cWTuXHlaRF8mZkPTeLAWuJ/QndEbjc5HSoSGEFUWohf8c7TjC85EEFwsxY
      JsqgER2iVFXwz5zIgSuPhY/8vG73qBBBQ4Caov+FTFhN4Yi3BnWJLoOktYnwztTF
      j0Saed1aDUxnO2SrXU8Urbc37q2SiczBb10YyVMsGJmeOrQy4VNoU/E50+O4LTwZ
      GwN1Ehz7x8X3GZN3R2PmHeAUdQ7jDnppkkFELEKLTOBg5YSEudAkqrvSDV5eXXM5
      Ef3gPwH4491ItFbGOgzWpxiNQcXrT9ronotDFXUXnZ8fjnGmsJzK4R1pmivkWha4
      9OUIAuGUbGKuJII01PI7qEntkP9atyVdUazVgX32QsInWBCA5rXDKHvulSStI2d3
      zd+j+b2BaVImeAwxjvXs/JMhpL3oHYs8E46rahKRMctyvxRJmcUI1sMk4Ya/c2an
      48zpKSOrL/nqc2PmDV1zXMCGRwMDghzBL7DzI8zBkMV7B3vsm56q6JqvnkrXchfS
      ScFXJr5Wr5V1d2ij/Wrs542aQuNsnBQR7NADy+ti45Z8tNegG11+GcFYdsGUWFeO
      xSxjOdBzxK8e/6VRTqKPWA7MngBCGxRFhf0+Kv5tRZGUiHXHm0a3WcNUi8ifzBKa
      1vOVgVNhCDAI/M1pih5/HGhd7aFFckoVmaG3AgMBAAGjQjBAMB0GA1UdDgQWBBR6
      FuyGMgTWi+AxP9k0BD4AcLtQkTAPBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB/wQE
      AwIC5DANBgkqhkiG9w0BAQsFAAOCAgEANG5aKWbM2fvO2mtUenuyFbLROkzwuIFi
      6I4DdL1J64WeDWMF1NzLCpEolon4hDhoULBmh1YCTvVfkw5vS9V+9dTOiyprz4fY
      ikXz0F6rk+Vgk0Mtk9mLwnlx1vkfFDfBaWg2+1oKs6D3jO+oI8GDrOIrSyxPnNES
      5XQ7nrlaMCzhQzM1JL8tLNG9qGaw6/TTVnTyzatVeLvCQqDpxT87mWPcRV/RDRt0
      8aLQC46u9DTZsjKi1DUSmuvnD8b4NvPSf6WyaEZrVG0KFJITMIJCpDBVsBoG4Pg+
      GkwlYAi0sbjL4Uj/sthY6s3acaPa5gdHDNbcVqaWjyk15goebtboaLZjDZXIhXsD
      tlGG5F/2pQI1dlsOwoKPsbn16pOieRnH8IQJAfXSO3+/U8+05lx8LM70iUqw094Q
      vCk4o0Pp7ilst/0jtvJwu/vWv+0JqUxtMW3982YEamURXLEX7UY2TeI6P7EB0zsN
      qjfTNQ3isTOUDyhcZJdI+y6oU7dKVofP6RCWZIL/MAJKWSP3vw+cp4U+cWOu6PNg
      WhCYcjAeE72MoTNNxGF3JR6UZGtS5+lmaK+qEdDZ8sbW6nDtk8RXpJdxwkP8rvQ0
      IXM/JUTXbXtBlU8bELbvunMgQsBJy6syzrwjSqirjB7cgA2ij2/XJ0iWljoaZDUJ
      qujJD9MN08U=
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2024-03-14T05:46:24Z"
    labels:
      istio.io/config: "true"
    name: istio-ca-root-cert
    namespace: mesh-external
    resourceVersion: "502300"
    uid: a4f9bea4-6358-4416-a568-43953b635c32
- apiVersion: v1
  data:
    ca.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDBDCCAeygAwIBAgIHMGnw4gJmvzANBgkqhkiG9w0BAQsFADAVMRMwEQYDVQQD
      EwprdWJlcm5ldGVzMB4XDTI0MDMwOTA0MDk0NFoXDTM0MDMwNzA0MTQ0NFowFTET
      MBEGA1UEAxMKa3ViZXJuZXRlczCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC
      ggEBAMQ01D4M87cu5+Oqa7/YnFnVuM4wFbToFi76xRE2O5kMVkKhLzGfwAKaXcPZ
      hhiuYr/KZD3BUU+RSxTs4zPCtuLVkDQm75nX9KUB8HtB5iPWuJEDk/4FGUqV5xh3
      iCfNS3GLLLynngxuUK8G8wQoOxFORdaGo+XWg5jNy2NRqMf3e1K6nlW9oiJi/lJK
      2FVeswS8CzE3ABZkZkJW8iUSPQFf3zpPIJyedU2YZMPxaDDfr//6nCFFk2djfMRt
      ySRBnxpRuDqvqWcpFtlGtr2z2LDP2xPQwBlHJWgwvlQb8ynrqysRFkF5H94naTf3
      cY4syO4Od7t1Nen+iw7QSPZBQ6UCAwEAAaNZMFcwDgYDVR0PAQH/BAQDAgKkMA8G
      A1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFHyPwD/kRrWbDvgD19g1QlLiuYPlMBUG
      A1UdEQQOMAyCCmt1YmVybmV0ZXMwDQYJKoZIhvcNAQELBQADggEBAEFYuOtbuowo
      JzKpEEQtGWc/8xE5ur9CumsSINAz8GB6Zvj4ojaj8NgX4vw9L63T4pRk/P9XnE6y
      F88VFofzax4PZNgbXG5fwN1O+d7xEjYsDZQX6YPqa2ypwyQBF4vjJiYI4qMzjSbG
      6sf7vkVcNkxtvA1uZqTeL3pnp2A0uv1hOeE9b6833glG8tcPZQOad6a3uPa+9oVq
      f3guuBePxqSlTjjwYzIqtHXVFPv3U7XnP7LwKud/7c+ikU4WwuiNH2sMgYVrvHmU
      YgnniAnLA+gR7HpdRS9VieivHcazm/qAWr2+gEzUYImsUe3dxW2hZVap3tbiPlYU
      6u7srgTYl70=
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    annotations:
      kubernetes.io/description: Contains a CA bundle that can be used to verify the
        kube-apiserver when using internal endpoints such as the internal service
        IP or kubernetes.default.svc. No other usage is guaranteed across distributions
        of Kubernetes clusters.
    creationTimestamp: "2024-03-14T05:45:57Z"
    name: kube-root-ca.crt
    namespace: mesh-external
    resourceVersion: "418154"
    uid: dec15332-bddc-425d-9f39-de6dd1cd576f
- apiVersion: v1
  data:
    nginx.conf: |
      events {
      }

      http {
        log_format main '$remote_addr - $remote_user [$time_local]  $status '
        '"$request" $body_bytes_sent "$http_referer" '
        '"$http_user_agent" "$http_x_forwarded_for"';
        access_log /var/log/nginx/access.log main;
        error_log  /var/log/nginx/error.log;

        server {
          listen 443 ssl;

          root /usr/share/nginx/html;
          index index.html;

          server_name my-nginx.mesh-external.svc.cluster.local;
          ssl_certificate /etc/nginx-server-certs/tls.crt;
          ssl_certificate_key /etc/nginx-server-certs/tls.key;
          ssl_client_certificate /etc/nginx-ca-certs/example.com.crt;
          ssl_verify_client on;
        }
      }
  kind: ConfigMap
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","data":{"nginx.conf":"events {\n}\n\nhttp {\n  log_format main '$remote_addr - $remote_user [$time_local]  $status '\n  '\"$request\" $body_bytes_sent \"$http_referer\" '\n  '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n  access_log /var/log/nginx/access.log main;\n  error_log  /var/log/nginx/error.log;\n\n  server {\n    listen 443 ssl;\n\n    root /usr/share/nginx/html;\n    index index.html;\n\n    server_name my-nginx.mesh-external.svc.cluster.local;\n    ssl_certificate /etc/nginx-server-certs/tls.crt;\n    ssl_certificate_key /etc/nginx-server-certs/tls.key;\n    ssl_client_certificate /etc/nginx-ca-certs/example.com.crt;\n    ssl_verify_client on;\n  }\n}\n"},"kind":"ConfigMap","metadata":{"annotations":{},"name":"nginx-configmap","namespace":"mesh-external"}}
    creationTimestamp: "2024-03-14T05:47:37Z"
    name: nginx-configmap
    namespace: mesh-external
    resourceVersion: "420023"
    uid: b688e50e-4e6a-453f-af6a-a46427bdbc10
- apiVersion: v1
  data:
    root-cert.pem: |
      -----BEGIN CERTIFICATE-----
      MIIFFDCCAvygAwIBAgIUKEe8c0ey0MATKC7wmSWfTGenYrwwDQYJKoZIhvcNAQEL
      BQAwIjEOMAwGA1UECgwFSXN0aW8xEDAOBgNVBAMMB1Jvb3QgQ0EwHhcNMjQwMzEw
      MTUxNjQwWhcNMzQwMzA4MTUxNjQwWjAiMQ4wDAYDVQQKDAVJc3RpbzEQMA4GA1UE
      AwwHUm9vdCBDQTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBANqYIhL8
      A/a2r1cWTuXHlaRF8mZkPTeLAWuJ/QndEbjc5HSoSGEFUWohf8c7TjC85EEFwsxY
      JsqgER2iVFXwz5zIgSuPhY/8vG73qBBBQ4Caov+FTFhN4Yi3BnWJLoOktYnwztTF
      j0Saed1aDUxnO2SrXU8Urbc37q2SiczBb10YyVMsGJmeOrQy4VNoU/E50+O4LTwZ
      GwN1Ehz7x8X3GZN3R2PmHeAUdQ7jDnppkkFELEKLTOBg5YSEudAkqrvSDV5eXXM5
      Ef3gPwH4491ItFbGOgzWpxiNQcXrT9ronotDFXUXnZ8fjnGmsJzK4R1pmivkWha4
      9OUIAuGUbGKuJII01PI7qEntkP9atyVdUazVgX32QsInWBCA5rXDKHvulSStI2d3
      zd+j+b2BaVImeAwxjvXs/JMhpL3oHYs8E46rahKRMctyvxRJmcUI1sMk4Ya/c2an
      48zpKSOrL/nqc2PmDV1zXMCGRwMDghzBL7DzI8zBkMV7B3vsm56q6JqvnkrXchfS
      ScFXJr5Wr5V1d2ij/Wrs542aQuNsnBQR7NADy+ti45Z8tNegG11+GcFYdsGUWFeO
      xSxjOdBzxK8e/6VRTqKPWA7MngBCGxRFhf0+Kv5tRZGUiHXHm0a3WcNUi8ifzBKa
      1vOVgVNhCDAI/M1pih5/HGhd7aFFckoVmaG3AgMBAAGjQjBAMB0GA1UdDgQWBBR6
      FuyGMgTWi+AxP9k0BD4AcLtQkTAPBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB/wQE
      AwIC5DANBgkqhkiG9w0BAQsFAAOCAgEANG5aKWbM2fvO2mtUenuyFbLROkzwuIFi
      6I4DdL1J64WeDWMF1NzLCpEolon4hDhoULBmh1YCTvVfkw5vS9V+9dTOiyprz4fY
      ikXz0F6rk+Vgk0Mtk9mLwnlx1vkfFDfBaWg2+1oKs6D3jO+oI8GDrOIrSyxPnNES
      5XQ7nrlaMCzhQzM1JL8tLNG9qGaw6/TTVnTyzatVeLvCQqDpxT87mWPcRV/RDRt0
      8aLQC46u9DTZsjKi1DUSmuvnD8b4NvPSf6WyaEZrVG0KFJITMIJCpDBVsBoG4Pg+
      GkwlYAi0sbjL4Uj/sthY6s3acaPa5gdHDNbcVqaWjyk15goebtboaLZjDZXIhXsD
      tlGG5F/2pQI1dlsOwoKPsbn16pOieRnH8IQJAfXSO3+/U8+05lx8LM70iUqw094Q
      vCk4o0Pp7ilst/0jtvJwu/vWv+0JqUxtMW3982YEamURXLEX7UY2TeI6P7EB0zsN
      qjfTNQ3isTOUDyhcZJdI+y6oU7dKVofP6RCWZIL/MAJKWSP3vw+cp4U+cWOu6PNg
      WhCYcjAeE72MoTNNxGF3JR6UZGtS5+lmaK+qEdDZ8sbW6nDtk8RXpJdxwkP8rvQ0
      IXM/JUTXbXtBlU8bELbvunMgQsBJy6syzrwjSqirjB7cgA2ij2/XJ0iWljoaZDUJ
      qujJD9MN08U=
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2024-03-10T13:08:56Z"
    labels:
      istio.io/config: "true"
    name: istio-ca-root-cert
    namespace: metallb-system
    resourceVersion: "502297"
    uid: 98bcdabe-8beb-4f6f-83ff-d554183073aa
- apiVersion: v1
  data:
    ca.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDBDCCAeygAwIBAgIHMGnw4gJmvzANBgkqhkiG9w0BAQsFADAVMRMwEQYDVQQD
      EwprdWJlcm5ldGVzMB4XDTI0MDMwOTA0MDk0NFoXDTM0MDMwNzA0MTQ0NFowFTET
      MBEGA1UEAxMKa3ViZXJuZXRlczCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC
      ggEBAMQ01D4M87cu5+Oqa7/YnFnVuM4wFbToFi76xRE2O5kMVkKhLzGfwAKaXcPZ
      hhiuYr/KZD3BUU+RSxTs4zPCtuLVkDQm75nX9KUB8HtB5iPWuJEDk/4FGUqV5xh3
      iCfNS3GLLLynngxuUK8G8wQoOxFORdaGo+XWg5jNy2NRqMf3e1K6nlW9oiJi/lJK
      2FVeswS8CzE3ABZkZkJW8iUSPQFf3zpPIJyedU2YZMPxaDDfr//6nCFFk2djfMRt
      ySRBnxpRuDqvqWcpFtlGtr2z2LDP2xPQwBlHJWgwvlQb8ynrqysRFkF5H94naTf3
      cY4syO4Od7t1Nen+iw7QSPZBQ6UCAwEAAaNZMFcwDgYDVR0PAQH/BAQDAgKkMA8G
      A1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFHyPwD/kRrWbDvgD19g1QlLiuYPlMBUG
      A1UdEQQOMAyCCmt1YmVybmV0ZXMwDQYJKoZIhvcNAQELBQADggEBAEFYuOtbuowo
      JzKpEEQtGWc/8xE5ur9CumsSINAz8GB6Zvj4ojaj8NgX4vw9L63T4pRk/P9XnE6y
      F88VFofzax4PZNgbXG5fwN1O+d7xEjYsDZQX6YPqa2ypwyQBF4vjJiYI4qMzjSbG
      6sf7vkVcNkxtvA1uZqTeL3pnp2A0uv1hOeE9b6833glG8tcPZQOad6a3uPa+9oVq
      f3guuBePxqSlTjjwYzIqtHXVFPv3U7XnP7LwKud/7c+ikU4WwuiNH2sMgYVrvHmU
      YgnniAnLA+gR7HpdRS9VieivHcazm/qAWr2+gEzUYImsUe3dxW2hZVap3tbiPlYU
      6u7srgTYl70=
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    annotations:
      kubernetes.io/description: Contains a CA bundle that can be used to verify the
        kube-apiserver when using internal endpoints such as the internal service
        IP or kubernetes.default.svc. No other usage is guaranteed across distributions
        of Kubernetes clusters.
    creationTimestamp: "2024-03-09T04:15:06Z"
    name: kube-root-ca.crt
    namespace: metallb-system
    resourceVersion: "443"
    uid: 33c2f5c6-a36e-4d06-9e71-df815508eba4
- apiVersion: v1
  data:
    excludel2.yaml: |
      announcedInterfacesToExclude: ["docker.*", "cbr.*", "dummy.*", "virbr.*", "lxcbr.*", "veth.*", "lo", "^cali.*", "^tunl.*", "flannel.*", "kube-ipvs.*", "cni.*", "^nodelocaldns.*"]
  kind: ConfigMap
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","data":{"excludel2.yaml":"announcedInterfacesToExclude: [\"docker.*\", \"cbr.*\", \"dummy.*\", \"virbr.*\", \"lxcbr.*\", \"veth.*\", \"lo\", \"^cali.*\", \"^tunl.*\", \"flannel.*\", \"kube-ipvs.*\", \"cni.*\", \"^nodelocaldns.*\"]\n"},"kind":"ConfigMap","metadata":{"annotations":{},"name":"metallb-excludel2","namespace":"metallb-system"}}
    creationTimestamp: "2024-03-09T04:14:55Z"
    name: metallb-excludel2
    namespace: metallb-system
    resourceVersion: "349"
    uid: 061b0d37-5dd6-4b48-bcc5-87724d5a4609
- apiVersion: v1
  data:
    root-cert.pem: |
      -----BEGIN CERTIFICATE-----
      MIIFFDCCAvygAwIBAgIUKEe8c0ey0MATKC7wmSWfTGenYrwwDQYJKoZIhvcNAQEL
      BQAwIjEOMAwGA1UECgwFSXN0aW8xEDAOBgNVBAMMB1Jvb3QgQ0EwHhcNMjQwMzEw
      MTUxNjQwWhcNMzQwMzA4MTUxNjQwWjAiMQ4wDAYDVQQKDAVJc3RpbzEQMA4GA1UE
      AwwHUm9vdCBDQTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBANqYIhL8
      A/a2r1cWTuXHlaRF8mZkPTeLAWuJ/QndEbjc5HSoSGEFUWohf8c7TjC85EEFwsxY
      JsqgER2iVFXwz5zIgSuPhY/8vG73qBBBQ4Caov+FTFhN4Yi3BnWJLoOktYnwztTF
      j0Saed1aDUxnO2SrXU8Urbc37q2SiczBb10YyVMsGJmeOrQy4VNoU/E50+O4LTwZ
      GwN1Ehz7x8X3GZN3R2PmHeAUdQ7jDnppkkFELEKLTOBg5YSEudAkqrvSDV5eXXM5
      Ef3gPwH4491ItFbGOgzWpxiNQcXrT9ronotDFXUXnZ8fjnGmsJzK4R1pmivkWha4
      9OUIAuGUbGKuJII01PI7qEntkP9atyVdUazVgX32QsInWBCA5rXDKHvulSStI2d3
      zd+j+b2BaVImeAwxjvXs/JMhpL3oHYs8E46rahKRMctyvxRJmcUI1sMk4Ya/c2an
      48zpKSOrL/nqc2PmDV1zXMCGRwMDghzBL7DzI8zBkMV7B3vsm56q6JqvnkrXchfS
      ScFXJr5Wr5V1d2ij/Wrs542aQuNsnBQR7NADy+ti45Z8tNegG11+GcFYdsGUWFeO
      xSxjOdBzxK8e/6VRTqKPWA7MngBCGxRFhf0+Kv5tRZGUiHXHm0a3WcNUi8ifzBKa
      1vOVgVNhCDAI/M1pih5/HGhd7aFFckoVmaG3AgMBAAGjQjBAMB0GA1UdDgQWBBR6
      FuyGMgTWi+AxP9k0BD4AcLtQkTAPBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB/wQE
      AwIC5DANBgkqhkiG9w0BAQsFAAOCAgEANG5aKWbM2fvO2mtUenuyFbLROkzwuIFi
      6I4DdL1J64WeDWMF1NzLCpEolon4hDhoULBmh1YCTvVfkw5vS9V+9dTOiyprz4fY
      ikXz0F6rk+Vgk0Mtk9mLwnlx1vkfFDfBaWg2+1oKs6D3jO+oI8GDrOIrSyxPnNES
      5XQ7nrlaMCzhQzM1JL8tLNG9qGaw6/TTVnTyzatVeLvCQqDpxT87mWPcRV/RDRt0
      8aLQC46u9DTZsjKi1DUSmuvnD8b4NvPSf6WyaEZrVG0KFJITMIJCpDBVsBoG4Pg+
      GkwlYAi0sbjL4Uj/sthY6s3acaPa5gdHDNbcVqaWjyk15goebtboaLZjDZXIhXsD
      tlGG5F/2pQI1dlsOwoKPsbn16pOieRnH8IQJAfXSO3+/U8+05lx8LM70iUqw094Q
      vCk4o0Pp7ilst/0jtvJwu/vWv+0JqUxtMW3982YEamURXLEX7UY2TeI6P7EB0zsN
      qjfTNQ3isTOUDyhcZJdI+y6oU7dKVofP6RCWZIL/MAJKWSP3vw+cp4U+cWOu6PNg
      WhCYcjAeE72MoTNNxGF3JR6UZGtS5+lmaK+qEdDZ8sbW6nDtk8RXpJdxwkP8rvQ0
      IXM/JUTXbXtBlU8bELbvunMgQsBJy6syzrwjSqirjB7cgA2ij2/XJ0iWljoaZDUJ
      qujJD9MN08U=
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2024-04-02T05:03:29Z"
    labels:
      istio.io/config: "true"
    name: istio-ca-root-cert
    namespace: monitoring
    resourceVersion: "1561831"
    uid: 5f061886-99a3-4f23-a32e-c47e82f7703b
- apiVersion: v1
  data:
    ca.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDBDCCAeygAwIBAgIHMGnw4gJmvzANBgkqhkiG9w0BAQsFADAVMRMwEQYDVQQD
      EwprdWJlcm5ldGVzMB4XDTI0MDMwOTA0MDk0NFoXDTM0MDMwNzA0MTQ0NFowFTET
      MBEGA1UEAxMKa3ViZXJuZXRlczCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC
      ggEBAMQ01D4M87cu5+Oqa7/YnFnVuM4wFbToFi76xRE2O5kMVkKhLzGfwAKaXcPZ
      hhiuYr/KZD3BUU+RSxTs4zPCtuLVkDQm75nX9KUB8HtB5iPWuJEDk/4FGUqV5xh3
      iCfNS3GLLLynngxuUK8G8wQoOxFORdaGo+XWg5jNy2NRqMf3e1K6nlW9oiJi/lJK
      2FVeswS8CzE3ABZkZkJW8iUSPQFf3zpPIJyedU2YZMPxaDDfr//6nCFFk2djfMRt
      ySRBnxpRuDqvqWcpFtlGtr2z2LDP2xPQwBlHJWgwvlQb8ynrqysRFkF5H94naTf3
      cY4syO4Od7t1Nen+iw7QSPZBQ6UCAwEAAaNZMFcwDgYDVR0PAQH/BAQDAgKkMA8G
      A1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFHyPwD/kRrWbDvgD19g1QlLiuYPlMBUG
      A1UdEQQOMAyCCmt1YmVybmV0ZXMwDQYJKoZIhvcNAQELBQADggEBAEFYuOtbuowo
      JzKpEEQtGWc/8xE5ur9CumsSINAz8GB6Zvj4ojaj8NgX4vw9L63T4pRk/P9XnE6y
      F88VFofzax4PZNgbXG5fwN1O+d7xEjYsDZQX6YPqa2ypwyQBF4vjJiYI4qMzjSbG
      6sf7vkVcNkxtvA1uZqTeL3pnp2A0uv1hOeE9b6833glG8tcPZQOad6a3uPa+9oVq
      f3guuBePxqSlTjjwYzIqtHXVFPv3U7XnP7LwKud/7c+ikU4WwuiNH2sMgYVrvHmU
      YgnniAnLA+gR7HpdRS9VieivHcazm/qAWr2+gEzUYImsUe3dxW2hZVap3tbiPlYU
      6u7srgTYl70=
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    annotations:
      kubernetes.io/description: Contains a CA bundle that can be used to verify the
        kube-apiserver when using internal endpoints such as the internal service
        IP or kubernetes.default.svc. No other usage is guaranteed across distributions
        of Kubernetes clusters.
    creationTimestamp: "2024-04-02T05:03:29Z"
    name: kube-root-ca.crt
    namespace: monitoring
    resourceVersion: "1561830"
    uid: fd83249d-98aa-43ac-8822-89bce991c7cc
- apiVersion: v1
  data:
    relay: |
      exporters:
        debug: {}
        logging:
          verbosity: detailed
        loki:
          endpoint: http://loki.monitoring.svc:3100/loki/api/v1/push
        otlp:
          endpoint: tempo.monitoring.svc:4317
          tls:
            insecure: true
        prometheus:
          endpoint: 0.0.0.0:19001
      extensions:
        health_check:
          endpoint: ${env:MY_POD_IP}:13133
      processors:
        attributes:
          actions:
          - action: insert
            key: loki.attribute.labels
            value: k8s.pod.name, k8s.namespace.name
        batch: {}
        memory_limiter:
          check_interval: 5s
          limit_percentage: 80
          spike_limit_percentage: 25
      receivers:
        jaeger:
          protocols:
            grpc:
              endpoint: ${env:MY_POD_IP}:14250
            thrift_compact:
              endpoint: ${env:MY_POD_IP}:6831
            thrift_http:
              endpoint: ${env:MY_POD_IP}:14268
        otlp:
          protocols:
            grpc:
              endpoint: ${env:MY_POD_IP}:4317
            http:
              endpoint: ${env:MY_POD_IP}:4318
        prometheus:
          config:
            scrape_configs:
            - job_name: opentelemetry-collector
              scrape_interval: 10s
              static_configs:
              - targets:
                - ${env:MY_POD_IP}:8888
        zipkin:
          endpoint: ${env:MY_POD_IP}:9411
      service:
        extensions:
        - health_check
        pipelines:
          logs:
            exporters:
            - loki
            processors:
            - attributes
            receivers:
            - otlp
          metrics:
            exporters:
            - prometheus
            processors:
            - memory_limiter
            - batch
            receivers:
            - otlp
          traces:
            exporters:
            - logging
            processors:
            - memory_limiter
            - batch
            receivers:
            - otlp
        telemetry:
          metrics:
            address: ${env:MY_POD_IP}:8888
  kind: ConfigMap
  metadata:
    annotations:
      meta.helm.sh/release-name: otel-collector
      meta.helm.sh/release-namespace: monitoring
    creationTimestamp: "2024-04-06T07:43:36Z"
    labels:
      app.kubernetes.io/instance: otel-collector
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: opentelemetry-collector
      app.kubernetes.io/version: 0.97.0
      helm.sh/chart: opentelemetry-collector-0.86.0
    name: otel-collector
    namespace: monitoring
    resourceVersion: "1761174"
    uid: 4040f755-c79c-4ade-aa8c-b1ae3ff31577
- apiVersion: v1
  data:
    datasources.yaml: |
      apiVersion: 1
      datasources:
      - access: proxy
        isDefault: true
        name: Prometheus
        type: prometheus
        url: http://prometheus:9090
    grafana.ini: |
      [analytics]
      check_for_updates = true
      [grafana_net]
      url = https://grafana.net
      [log]
      mode = console
      [paths]
      data = /var/lib/grafana/
      logs = /var/log/grafana
      plugins = /var/lib/grafana/plugins
      provisioning = /etc/grafana/provisioning
      [server]
      domain = ''
  kind: ConfigMap
  metadata:
    annotations:
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T13:10:01Z"
    labels:
      app.kubernetes.io/instance: istio-monitoring-demo
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: grafana
      app.kubernetes.io/version: 10.0.2
      helm.sh/chart: grafana-6.58.4
    name: grafana
    namespace: tis
    resourceVersion: "1906711"
    uid: 96fea692-6d69-4c8c-b22e-bc1f5417d83c
- apiVersion: v1
  data:
    root-cert.pem: |
      -----BEGIN CERTIFICATE-----
      MIIFFDCCAvygAwIBAgIUKEe8c0ey0MATKC7wmSWfTGenYrwwDQYJKoZIhvcNAQEL
      BQAwIjEOMAwGA1UECgwFSXN0aW8xEDAOBgNVBAMMB1Jvb3QgQ0EwHhcNMjQwMzEw
      MTUxNjQwWhcNMzQwMzA4MTUxNjQwWjAiMQ4wDAYDVQQKDAVJc3RpbzEQMA4GA1UE
      AwwHUm9vdCBDQTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBANqYIhL8
      A/a2r1cWTuXHlaRF8mZkPTeLAWuJ/QndEbjc5HSoSGEFUWohf8c7TjC85EEFwsxY
      JsqgER2iVFXwz5zIgSuPhY/8vG73qBBBQ4Caov+FTFhN4Yi3BnWJLoOktYnwztTF
      j0Saed1aDUxnO2SrXU8Urbc37q2SiczBb10YyVMsGJmeOrQy4VNoU/E50+O4LTwZ
      GwN1Ehz7x8X3GZN3R2PmHeAUdQ7jDnppkkFELEKLTOBg5YSEudAkqrvSDV5eXXM5
      Ef3gPwH4491ItFbGOgzWpxiNQcXrT9ronotDFXUXnZ8fjnGmsJzK4R1pmivkWha4
      9OUIAuGUbGKuJII01PI7qEntkP9atyVdUazVgX32QsInWBCA5rXDKHvulSStI2d3
      zd+j+b2BaVImeAwxjvXs/JMhpL3oHYs8E46rahKRMctyvxRJmcUI1sMk4Ya/c2an
      48zpKSOrL/nqc2PmDV1zXMCGRwMDghzBL7DzI8zBkMV7B3vsm56q6JqvnkrXchfS
      ScFXJr5Wr5V1d2ij/Wrs542aQuNsnBQR7NADy+ti45Z8tNegG11+GcFYdsGUWFeO
      xSxjOdBzxK8e/6VRTqKPWA7MngBCGxRFhf0+Kv5tRZGUiHXHm0a3WcNUi8ifzBKa
      1vOVgVNhCDAI/M1pih5/HGhd7aFFckoVmaG3AgMBAAGjQjBAMB0GA1UdDgQWBBR6
      FuyGMgTWi+AxP9k0BD4AcLtQkTAPBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB/wQE
      AwIC5DANBgkqhkiG9w0BAQsFAAOCAgEANG5aKWbM2fvO2mtUenuyFbLROkzwuIFi
      6I4DdL1J64WeDWMF1NzLCpEolon4hDhoULBmh1YCTvVfkw5vS9V+9dTOiyprz4fY
      ikXz0F6rk+Vgk0Mtk9mLwnlx1vkfFDfBaWg2+1oKs6D3jO+oI8GDrOIrSyxPnNES
      5XQ7nrlaMCzhQzM1JL8tLNG9qGaw6/TTVnTyzatVeLvCQqDpxT87mWPcRV/RDRt0
      8aLQC46u9DTZsjKi1DUSmuvnD8b4NvPSf6WyaEZrVG0KFJITMIJCpDBVsBoG4Pg+
      GkwlYAi0sbjL4Uj/sthY6s3acaPa5gdHDNbcVqaWjyk15goebtboaLZjDZXIhXsD
      tlGG5F/2pQI1dlsOwoKPsbn16pOieRnH8IQJAfXSO3+/U8+05lx8LM70iUqw094Q
      vCk4o0Pp7ilst/0jtvJwu/vWv+0JqUxtMW3982YEamURXLEX7UY2TeI6P7EB0zsN
      qjfTNQ3isTOUDyhcZJdI+y6oU7dKVofP6RCWZIL/MAJKWSP3vw+cp4U+cWOu6PNg
      WhCYcjAeE72MoTNNxGF3JR6UZGtS5+lmaK+qEdDZ8sbW6nDtk8RXpJdxwkP8rvQ0
      IXM/JUTXbXtBlU8bELbvunMgQsBJy6syzrwjSqirjB7cgA2ij2/XJ0iWljoaZDUJ
      qujJD9MN08U=
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    creationTimestamp: "2024-04-07T13:10:01Z"
    labels:
      istio.io/config: "true"
    name: istio-ca-root-cert
    namespace: tis
    resourceVersion: "1906704"
    uid: 3459caef-91fb-4f6b-b06e-ee5641bf220b
- apiVersion: v1
  data:
    ca.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDBDCCAeygAwIBAgIHMGnw4gJmvzANBgkqhkiG9w0BAQsFADAVMRMwEQYDVQQD
      EwprdWJlcm5ldGVzMB4XDTI0MDMwOTA0MDk0NFoXDTM0MDMwNzA0MTQ0NFowFTET
      MBEGA1UEAxMKa3ViZXJuZXRlczCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC
      ggEBAMQ01D4M87cu5+Oqa7/YnFnVuM4wFbToFi76xRE2O5kMVkKhLzGfwAKaXcPZ
      hhiuYr/KZD3BUU+RSxTs4zPCtuLVkDQm75nX9KUB8HtB5iPWuJEDk/4FGUqV5xh3
      iCfNS3GLLLynngxuUK8G8wQoOxFORdaGo+XWg5jNy2NRqMf3e1K6nlW9oiJi/lJK
      2FVeswS8CzE3ABZkZkJW8iUSPQFf3zpPIJyedU2YZMPxaDDfr//6nCFFk2djfMRt
      ySRBnxpRuDqvqWcpFtlGtr2z2LDP2xPQwBlHJWgwvlQb8ynrqysRFkF5H94naTf3
      cY4syO4Od7t1Nen+iw7QSPZBQ6UCAwEAAaNZMFcwDgYDVR0PAQH/BAQDAgKkMA8G
      A1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFHyPwD/kRrWbDvgD19g1QlLiuYPlMBUG
      A1UdEQQOMAyCCmt1YmVybmV0ZXMwDQYJKoZIhvcNAQELBQADggEBAEFYuOtbuowo
      JzKpEEQtGWc/8xE5ur9CumsSINAz8GB6Zvj4ojaj8NgX4vw9L63T4pRk/P9XnE6y
      F88VFofzax4PZNgbXG5fwN1O+d7xEjYsDZQX6YPqa2ypwyQBF4vjJiYI4qMzjSbG
      6sf7vkVcNkxtvA1uZqTeL3pnp2A0uv1hOeE9b6833glG8tcPZQOad6a3uPa+9oVq
      f3guuBePxqSlTjjwYzIqtHXVFPv3U7XnP7LwKud/7c+ikU4WwuiNH2sMgYVrvHmU
      YgnniAnLA+gR7HpdRS9VieivHcazm/qAWr2+gEzUYImsUe3dxW2hZVap3tbiPlYU
      6u7srgTYl70=
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    annotations:
      kubernetes.io/description: Contains a CA bundle that can be used to verify the
        kube-apiserver when using internal endpoints such as the internal service
        IP or kubernetes.default.svc. No other usage is guaranteed across distributions
        of Kubernetes clusters.
    creationTimestamp: "2024-04-07T13:10:01Z"
    name: kube-root-ca.crt
    namespace: tis
    resourceVersion: "1906706"
    uid: 2a60d11f-71d9-49b9-9f64-3585962c73ef
- apiVersion: v1
  data:
    alerting_rules.yml: |
      {}
    alerts: |
      {}
    allow-snippet-annotations: "false"
    prometheus.yml: |
      global:
        evaluation_interval: 1m
        external_labels:
          cluster_id: Kubernetes
          mesh_id: cluster.local
        scrape_interval: 15s
        scrape_timeout: 10s
      rule_files:
      - /etc/config/recording_rules.yml
      - /etc/config/alerting_rules.yml
      - /etc/config/rules
      - /etc/config/alerts
      scrape_configs:
      - job_name: prometheus
        static_configs:
        - targets:
          - localhost:9090
      - bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token
        job_name: kubernetes-apiservers
        kubernetes_sd_configs:
        - role: endpoints
        relabel_configs:
        - action: keep
          regex: default;kubernetes;https
          source_labels:
          - __meta_kubernetes_namespace
          - __meta_kubernetes_service_name
          - __meta_kubernetes_endpoint_port_name
        scheme: https
        tls_config:
          ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt
          insecure_skip_verify: true
      - bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token
        job_name: kubernetes-nodes
        kubernetes_sd_configs:
        - role: node
        relabel_configs:
        - action: labelmap
          regex: __meta_kubernetes_node_label_(.+)
        - replacement: kubernetes.default.svc:443
          target_label: __address__
        - regex: (.+)
          replacement: /api/v1/nodes/$1/proxy/metrics
          source_labels:
          - __meta_kubernetes_node_name
          target_label: __metrics_path__
        scheme: https
        tls_config:
          ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt
          insecure_skip_verify: true
      - bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token
        job_name: kubernetes-nodes-cadvisor
        kubernetes_sd_configs:
        - role: node
        relabel_configs:
        - action: labelmap
          regex: __meta_kubernetes_node_label_(.+)
        - replacement: kubernetes.default.svc:443
          target_label: __address__
        - regex: (.+)
          replacement: /api/v1/nodes/$1/proxy/metrics/cadvisor
          source_labels:
          - __meta_kubernetes_node_name
          target_label: __metrics_path__
        scheme: https
        tls_config:
          ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt
          insecure_skip_verify: true
      - honor_labels: true
        job_name: kubernetes-service-endpoints
        kubernetes_sd_configs:
        - role: endpoints
        relabel_configs:
        - action: keep
          regex: true
          source_labels:
          - __meta_kubernetes_service_annotation_prometheus_io_scrape
        - action: drop
          regex: true
          source_labels:
          - __meta_kubernetes_service_annotation_prometheus_io_scrape_slow
        - action: replace
          regex: (https?)
          source_labels:
          - __meta_kubernetes_service_annotation_prometheus_io_scheme
          target_label: __scheme__
        - action: replace
          regex: (.+)
          source_labels:
          - __meta_kubernetes_service_annotation_prometheus_io_path
          target_label: __metrics_path__
        - action: replace
          regex: (.+?)(?::\d+)?;(\d+)
          replacement: $1:$2
          source_labels:
          - __address__
          - __meta_kubernetes_service_annotation_prometheus_io_port
          target_label: __address__
        - action: labelmap
          regex: __meta_kubernetes_service_annotation_prometheus_io_param_(.+)
          replacement: __param_$1
        - action: labelmap
          regex: __meta_kubernetes_service_label_(.+)
        - action: replace
          source_labels:
          - __meta_kubernetes_namespace
          target_label: namespace
        - action: replace
          source_labels:
          - __meta_kubernetes_service_name
          target_label: service
        - action: replace
          source_labels:
          - __meta_kubernetes_pod_node_name
          target_label: node
      - honor_labels: true
        job_name: kubernetes-service-endpoints-slow
        kubernetes_sd_configs:
        - role: endpoints
        relabel_configs:
        - action: keep
          regex: true
          source_labels:
          - __meta_kubernetes_service_annotation_prometheus_io_scrape_slow
        - action: replace
          regex: (https?)
          source_labels:
          - __meta_kubernetes_service_annotation_prometheus_io_scheme
          target_label: __scheme__
        - action: replace
          regex: (.+)
          source_labels:
          - __meta_kubernetes_service_annotation_prometheus_io_path
          target_label: __metrics_path__
        - action: replace
          regex: (.+?)(?::\d+)?;(\d+)
          replacement: $1:$2
          source_labels:
          - __address__
          - __meta_kubernetes_service_annotation_prometheus_io_port
          target_label: __address__
        - action: labelmap
          regex: __meta_kubernetes_service_annotation_prometheus_io_param_(.+)
          replacement: __param_$1
        - action: labelmap
          regex: __meta_kubernetes_service_label_(.+)
        - action: replace
          source_labels:
          - __meta_kubernetes_namespace
          target_label: namespace
        - action: replace
          source_labels:
          - __meta_kubernetes_service_name
          target_label: service
        - action: replace
          source_labels:
          - __meta_kubernetes_pod_node_name
          target_label: node
        scrape_interval: 5m
        scrape_timeout: 30s
      - honor_labels: true
        job_name: prometheus-pushgateway
        kubernetes_sd_configs:
        - role: service
        relabel_configs:
        - action: keep
          regex: pushgateway
          source_labels:
          - __meta_kubernetes_service_annotation_prometheus_io_probe
      - honor_labels: true
        job_name: kubernetes-services
        kubernetes_sd_configs:
        - role: service
        metrics_path: /probe
        params:
          module:
          - http_2xx
        relabel_configs:
        - action: keep
          regex: true
          source_labels:
          - __meta_kubernetes_service_annotation_prometheus_io_probe
        - source_labels:
          - __address__
          target_label: __param_target
        - replacement: blackbox
          target_label: __address__
        - source_labels:
          - __param_target
          target_label: instance
        - action: labelmap
          regex: __meta_kubernetes_service_label_(.+)
        - source_labels:
          - __meta_kubernetes_namespace
          target_label: namespace
        - source_labels:
          - __meta_kubernetes_service_name
          target_label: service
      - honor_labels: true
        job_name: kubernetes-pods
        kubernetes_sd_configs:
        - role: pod
        relabel_configs:
        - action: replace
          regex: .*
          replacement: cluster.local
          source_labels:
          - __address__
          target_label: mesh_id
        - action: replace
          regex: .*
          replacement: Kubernetes
          source_labels:
          - __address__
          target_label: cluster_id
        - action: keep
          regex: true
          source_labels:
          - __meta_kubernetes_pod_annotation_prometheus_io_scrape
        - action: drop
          regex: true
          source_labels:
          - __meta_kubernetes_pod_annotation_prometheus_io_scrape_slow
        - action: replace
          regex: (https?)
          source_labels:
          - __meta_kubernetes_pod_annotation_prometheus_io_scheme
          target_label: __scheme__
        - action: replace
          regex: (.+)
          source_labels:
          - __meta_kubernetes_pod_annotation_prometheus_io_path
          target_label: __metrics_path__
        - action: replace
          regex: (\d+);(([A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})
          replacement: '[$2]:$1'
          source_labels:
          - __meta_kubernetes_pod_annotation_prometheus_io_port
          - __meta_kubernetes_pod_ip
          target_label: __address__
        - action: replace
          regex: (\d+);((([0-9]+?)(\.|$)){4})
          replacement: $2:$1
          source_labels:
          - __meta_kubernetes_pod_annotation_prometheus_io_port
          - __meta_kubernetes_pod_ip
          target_label: __address__
        - action: labelmap
          regex: __meta_kubernetes_pod_annotation_prometheus_io_param_(.+)
          replacement: __param_$1
        - action: labelmap
          regex: __meta_kubernetes_pod_label_(.+)
        - action: replace
          source_labels:
          - __meta_kubernetes_namespace
          target_label: namespace
        - action: replace
          source_labels:
          - __meta_kubernetes_pod_name
          target_label: pod
        - action: drop
          regex: Pending|Succeeded|Failed|Completed
          source_labels:
          - __meta_kubernetes_pod_phase
        - action: replace
          source_labels:
          - __meta_kubernetes_pod_node_name
          target_label: node
      - honor_labels: true
        job_name: kubernetes-pods-slow
        kubernetes_sd_configs:
        - role: pod
        relabel_configs:
        - replacement: cluster.local
          target_label: mesh_id
        - replacement: Kubernetes
          target_label: cluster_id
        - action: keep
          regex: true
          source_labels:
          - __meta_kubernetes_pod_annotation_prometheus_io_scrape_slow
        - action: replace
          regex: (https?)
          source_labels:
          - __meta_kubernetes_pod_annotation_prometheus_io_scheme
          target_label: __scheme__
        - action: replace
          regex: (.+)
          source_labels:
          - __meta_kubernetes_pod_annotation_prometheus_io_path
          target_label: __metrics_path__
        - action: replace
          regex: (\d+);(([A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})
          replacement: '[$2]:$1'
          source_labels:
          - __meta_kubernetes_pod_annotation_prometheus_io_port
          - __meta_kubernetes_pod_ip
          target_label: __address__
        - action: replace
          regex: (\d+);((([0-9]+?)(\.|$)){4})
          replacement: $2:$1
          source_labels:
          - __meta_kubernetes_pod_annotation_prometheus_io_port
          - __meta_kubernetes_pod_ip
          target_label: __address__
        - action: labelmap
          regex: __meta_kubernetes_pod_annotation_prometheus_io_param_(.+)
          replacement: __param_$1
        - action: labelmap
          regex: __meta_kubernetes_pod_label_(.+)
        - action: replace
          source_labels:
          - __meta_kubernetes_namespace
          target_label: namespace
        - action: replace
          source_labels:
          - __meta_kubernetes_pod_name
          target_label: pod
        - action: drop
          regex: Pending|Succeeded|Failed|Completed
          source_labels:
          - __meta_kubernetes_pod_phase
        - action: replace
          source_labels:
          - __meta_kubernetes_pod_node_name
          target_label: node
        scrape_interval: 5m
        scrape_timeout: 30s
    recording_rules.yml: |
      {}
    rules: |
      {}
  kind: ConfigMap
  metadata:
    annotations:
      meta.helm.sh/release-name: istio-monitoring-demo
      meta.helm.sh/release-namespace: tis
    creationTimestamp: "2024-04-07T13:10:01Z"
    labels:
      app: prometheus
      app.kubernetes.io/managed-by: Helm
      chart: prometheus-19.6.1
      component: server
      heritage: Helm
      release: istio-monitoring-demo
    name: prometheus
    namespace: tis
    resourceVersion: "1919907"
    uid: dc9949a1-0058-4040-a297-080e0c590583
- apiVersion: v1
  count: 6697
  eventTime: null
  firstTimestamp: "2024-04-10T09:30:30Z"
  involvedObject:
    apiVersion: autoscaling/v2
    kind: HorizontalPodAutoscaler
    name: istio-ingressgateway
    namespace: istio-system
    resourceVersion: "2158179"
    uid: c28a2408-14d4-42a5-a43b-3ae1c531d8d6
  kind: Event
  lastTimestamp: "2024-04-12T09:22:14Z"
  message: 'failed to get cpu utilization: unable to get metrics for resource cpu:
    unable to fetch metrics from resource metrics API: the server could not find the
    requested resource (get pods.metrics.k8s.io)'
  metadata:
    creationTimestamp: "2024-04-10T09:30:30Z"
    name: istio-ingressgateway.17c4e141c7eef8c2
    namespace: istio-system
    resourceVersion: "2393550"
    uid: 57f18a5e-89fc-42b8-9e49-0d7f22847ceb
  reason: FailedGetResourceMetric
  reportingComponent: horizontal-pod-autoscaler
  reportingInstance: ""
  source:
    component: horizontal-pod-autoscaler
  type: Warning
- apiVersion: v1
  count: 6698
  eventTime: null
  firstTimestamp: "2024-04-10T09:30:30Z"
  involvedObject:
    apiVersion: autoscaling/v2
    kind: HorizontalPodAutoscaler
    name: istiod
    namespace: istio-system
    resourceVersion: "2158180"
    uid: 80f6fe64-48ad-4bf9-a250-b94f0c134fa4
  kind: Event
  lastTimestamp: "2024-04-12T09:22:14Z"
  message: 'failed to get cpu utilization: unable to get metrics for resource cpu:
    unable to fetch metrics from resource metrics API: the server could not find the
    requested resource (get pods.metrics.k8s.io)'
  metadata:
    creationTimestamp: "2024-04-10T09:30:30Z"
    name: istiod.17c4e141c7ea147b
    namespace: istio-system
    resourceVersion: "2393551"
    uid: 35461608-ab33-408b-af11-86e66d196ae0
  reason: FailedGetResourceMetric
  reportingComponent: horizontal-pod-autoscaler
  reportingInstance: ""
  source:
    component: horizontal-pod-autoscaler
  type: Warning
- apiVersion: admissionregistration.k8s.io/v1
  kind: MutatingWebhookConfiguration
  metadata:
    creationTimestamp: "2024-04-07T12:57:04Z"
    generation: 1
    labels:
      app: sidecar-injector
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      install.operator.istio.io/owning-resource-not-pruned: "true"
      istio.io/rev: default
      istio.io/tag: default
      operator.istio.io/component: Pilot
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: istio-revision-tag-default
    resourceVersion: "1904655"
    uid: 9b3c510e-1852-45e7-943f-996c294d0df7
  webhooks:
  - admissionReviewVersions:
    - v1beta1
    - v1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZGRENDQXZ5Z0F3SUJBZ0lVS0VlOGMwZXkwTUFUS0M3d21TV2ZUR2VuWXJ3d0RRWUpLb1pJaHZjTkFRRUwKQlFBd0lqRU9NQXdHQTFVRUNnd0ZTWE4wYVc4eEVEQU9CZ05WQkFNTUIxSnZiM1FnUTBFd0hoY05NalF3TXpFdwpNVFV4TmpRd1doY05NelF3TXpBNE1UVXhOalF3V2pBaU1RNHdEQVlEVlFRS0RBVkpjM1JwYnpFUU1BNEdBMVVFCkF3d0hVbTl2ZENCRFFUQ0NBaUl3RFFZSktvWklodmNOQVFFQkJRQURnZ0lQQURDQ0Fnb0NnZ0lCQU5xWUloTDgKQS9hMnIxY1dUdVhIbGFSRjhtWmtQVGVMQVd1Si9RbmRFYmpjNUhTb1NHRUZVV29oZjhjN1RqQzg1RUVGd3N4WQpKc3FnRVIyaVZGWHd6NXpJZ1N1UGhZLzh2RzczcUJCQlE0Q2FvditGVEZoTjRZaTNCbldKTG9Pa3RZbnd6dFRGCmowU2FlZDFhRFV4bk8yU3JYVThVcmJjMzdxMlNpY3pCYjEwWXlWTXNHSm1lT3JReTRWTm9VL0U1MCtPNExUd1oKR3dOMUVoejd4OFgzR1pOM1IyUG1IZUFVZFE3akRucHBra0ZFTEVLTFRPQmc1WVNFdWRBa3FydlNEVjVlWFhNNQpFZjNnUHdINDQ5MUl0RmJHT2d6V3B4aU5RY1hyVDlyb25vdERGWFVYblo4ZmpuR21zSnpLNFIxcG1pdmtXaGE0CjlPVUlBdUdVYkdLdUpJSTAxUEk3cUVudGtQOWF0eVZkVWF6VmdYMzJRc0luV0JDQTVyWERLSHZ1bFNTdEkyZDMKemQraitiMkJhVkltZUF3eGp2WHMvSk1ocEwzb0hZczhFNDZyYWhLUk1jdHl2eFJKbWNVSTFzTWs0WWEvYzJhbgo0OHpwS1NPckwvbnFjMlBtRFYxelhNQ0dSd01EZ2h6Qkw3RHpJOHpCa01WN0IzdnNtNTZxNkpxdm5rclhjaGZTClNjRlhKcjVXcjVWMWQyaWovV3JzNTQyYVF1TnNuQlFSN05BRHkrdGk0NVo4dE5lZ0cxMStHY0ZZZHNHVVdGZU8KeFN4ak9kQnp4SzhlLzZWUlRxS1BXQTdNbmdCQ0d4UkZoZjArS3Y1dFJaR1VpSFhIbTBhM1djTlVpOGlmekJLYQoxdk9WZ1ZOaENEQUkvTTFwaWg1L0hHaGQ3YUZGY2tvVm1hRzNBZ01CQUFHalFqQkFNQjBHQTFVZERnUVdCQlI2CkZ1eUdNZ1RXaStBeFA5azBCRDRBY0x0UWtUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01BNEdBMVVkRHdFQi93UUUKQXdJQzVEQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FnRUFORzVhS1diTTJmdk8ybXRVZW51eUZiTFJPa3p3dUlGaQo2STREZEwxSjY0V2VEV01GMU56TENwRW9sb240aERob1VMQm1oMVlDVHZWZmt3NXZTOVYrOWRUT2l5cHJ6NGZZCmlrWHowRjZyaytWZ2swTXRrOW1Md25seDF2a2ZGRGZCYVdnMisxb0tzNkQzak8rb0k4R0RyT0lyU3l4UG5ORVMKNVhRN25ybGFNQ3poUXpNMUpMOHRMTkc5cUdhdzYvVFRWblR5emF0VmVMdkNRcURweFQ4N21XUGNSVi9SRFJ0MAo4YUxRQzQ2dTlEVFpzaktpMURVU211dm5EOGI0TnZQU2Y2V3lhRVpyVkcwS0ZKSVRNSUpDcERCVnNCb0c0UGcrCkdrd2xZQWkwc2JqTDRVai9zdGhZNnMzYWNhUGE1Z2RIRE5iY1ZxYVdqeWsxNWdvZWJ0Ym9hTFpqRFpYSWhYc0QKdGxHRzVGLzJwUUkxZGxzT3dvS1BzYm4xNnBPaWVSbkg4SVFKQWZYU08zKy9VOCswNWx4OExNNzBpVXF3MDk0UQp2Q2s0bzBQcDdpbHN0LzBqdHZKd3Uvdld2KzBKcVV4dE1XMzk4MllFYW1VUlhMRVg3VVkyVGVJNlA3RUIwenNOCnFqZlROUTNpc1RPVUR5aGNaSmRJK3k2b1U3ZEtWb2ZQNlJDV1pJTC9NQUpLV1NQM3Z3K2NwNFUrY1dPdTZQTmcKV2hDWWNqQWVFNzJNb1ROTnhHRjNKUjZVWkd0UzUrbG1hSytxRWREWjhzYlc2bkR0azhSWHBKZHh3a1A4cnZRMApJWE0vSlVUWGJYdEJsVThiRUxidnVuTWdRc0JKeTZzeXpyd2pTcWlyakI3Y2dBMmlqMi9YSjBpV2xqb2FaRFVKCnF1akpEOU1OMDhVPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
        name: istiod
        namespace: istio-system
        path: /inject
        port: 443
    failurePolicy: Fail
    matchPolicy: Equivalent
    name: rev.namespace.sidecar-injector.istio.io
    namespaceSelector:
      matchExpressions:
      - key: istio.io/rev
        operator: In
        values:
        - default
      - key: istio-injection
        operator: DoesNotExist
    objectSelector:
      matchExpressions:
      - key: sidecar.istio.io/inject
        operator: NotIn
        values:
        - "false"
    reinvocationPolicy: Never
    rules:
    - apiGroups:
      - ""
      apiVersions:
      - v1
      operations:
      - CREATE
      resources:
      - pods
      scope: '*'
    sideEffects: None
    timeoutSeconds: 10
  - admissionReviewVersions:
    - v1beta1
    - v1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZGRENDQXZ5Z0F3SUJBZ0lVS0VlOGMwZXkwTUFUS0M3d21TV2ZUR2VuWXJ3d0RRWUpLb1pJaHZjTkFRRUwKQlFBd0lqRU9NQXdHQTFVRUNnd0ZTWE4wYVc4eEVEQU9CZ05WQkFNTUIxSnZiM1FnUTBFd0hoY05NalF3TXpFdwpNVFV4TmpRd1doY05NelF3TXpBNE1UVXhOalF3V2pBaU1RNHdEQVlEVlFRS0RBVkpjM1JwYnpFUU1BNEdBMVVFCkF3d0hVbTl2ZENCRFFUQ0NBaUl3RFFZSktvWklodmNOQVFFQkJRQURnZ0lQQURDQ0Fnb0NnZ0lCQU5xWUloTDgKQS9hMnIxY1dUdVhIbGFSRjhtWmtQVGVMQVd1Si9RbmRFYmpjNUhTb1NHRUZVV29oZjhjN1RqQzg1RUVGd3N4WQpKc3FnRVIyaVZGWHd6NXpJZ1N1UGhZLzh2RzczcUJCQlE0Q2FvditGVEZoTjRZaTNCbldKTG9Pa3RZbnd6dFRGCmowU2FlZDFhRFV4bk8yU3JYVThVcmJjMzdxMlNpY3pCYjEwWXlWTXNHSm1lT3JReTRWTm9VL0U1MCtPNExUd1oKR3dOMUVoejd4OFgzR1pOM1IyUG1IZUFVZFE3akRucHBra0ZFTEVLTFRPQmc1WVNFdWRBa3FydlNEVjVlWFhNNQpFZjNnUHdINDQ5MUl0RmJHT2d6V3B4aU5RY1hyVDlyb25vdERGWFVYblo4ZmpuR21zSnpLNFIxcG1pdmtXaGE0CjlPVUlBdUdVYkdLdUpJSTAxUEk3cUVudGtQOWF0eVZkVWF6VmdYMzJRc0luV0JDQTVyWERLSHZ1bFNTdEkyZDMKemQraitiMkJhVkltZUF3eGp2WHMvSk1ocEwzb0hZczhFNDZyYWhLUk1jdHl2eFJKbWNVSTFzTWs0WWEvYzJhbgo0OHpwS1NPckwvbnFjMlBtRFYxelhNQ0dSd01EZ2h6Qkw3RHpJOHpCa01WN0IzdnNtNTZxNkpxdm5rclhjaGZTClNjRlhKcjVXcjVWMWQyaWovV3JzNTQyYVF1TnNuQlFSN05BRHkrdGk0NVo4dE5lZ0cxMStHY0ZZZHNHVVdGZU8KeFN4ak9kQnp4SzhlLzZWUlRxS1BXQTdNbmdCQ0d4UkZoZjArS3Y1dFJaR1VpSFhIbTBhM1djTlVpOGlmekJLYQoxdk9WZ1ZOaENEQUkvTTFwaWg1L0hHaGQ3YUZGY2tvVm1hRzNBZ01CQUFHalFqQkFNQjBHQTFVZERnUVdCQlI2CkZ1eUdNZ1RXaStBeFA5azBCRDRBY0x0UWtUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01BNEdBMVVkRHdFQi93UUUKQXdJQzVEQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FnRUFORzVhS1diTTJmdk8ybXRVZW51eUZiTFJPa3p3dUlGaQo2STREZEwxSjY0V2VEV01GMU56TENwRW9sb240aERob1VMQm1oMVlDVHZWZmt3NXZTOVYrOWRUT2l5cHJ6NGZZCmlrWHowRjZyaytWZ2swTXRrOW1Md25seDF2a2ZGRGZCYVdnMisxb0tzNkQzak8rb0k4R0RyT0lyU3l4UG5ORVMKNVhRN25ybGFNQ3poUXpNMUpMOHRMTkc5cUdhdzYvVFRWblR5emF0VmVMdkNRcURweFQ4N21XUGNSVi9SRFJ0MAo4YUxRQzQ2dTlEVFpzaktpMURVU211dm5EOGI0TnZQU2Y2V3lhRVpyVkcwS0ZKSVRNSUpDcERCVnNCb0c0UGcrCkdrd2xZQWkwc2JqTDRVai9zdGhZNnMzYWNhUGE1Z2RIRE5iY1ZxYVdqeWsxNWdvZWJ0Ym9hTFpqRFpYSWhYc0QKdGxHRzVGLzJwUUkxZGxzT3dvS1BzYm4xNnBPaWVSbkg4SVFKQWZYU08zKy9VOCswNWx4OExNNzBpVXF3MDk0UQp2Q2s0bzBQcDdpbHN0LzBqdHZKd3Uvdld2KzBKcVV4dE1XMzk4MllFYW1VUlhMRVg3VVkyVGVJNlA3RUIwenNOCnFqZlROUTNpc1RPVUR5aGNaSmRJK3k2b1U3ZEtWb2ZQNlJDV1pJTC9NQUpLV1NQM3Z3K2NwNFUrY1dPdTZQTmcKV2hDWWNqQWVFNzJNb1ROTnhHRjNKUjZVWkd0UzUrbG1hSytxRWREWjhzYlc2bkR0azhSWHBKZHh3a1A4cnZRMApJWE0vSlVUWGJYdEJsVThiRUxidnVuTWdRc0JKeTZzeXpyd2pTcWlyakI3Y2dBMmlqMi9YSjBpV2xqb2FaRFVKCnF1akpEOU1OMDhVPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
        name: istiod
        namespace: istio-system
        path: /inject
        port: 443
    failurePolicy: Fail
    matchPolicy: Equivalent
    name: rev.object.sidecar-injector.istio.io
    namespaceSelector:
      matchExpressions:
      - key: istio.io/rev
        operator: DoesNotExist
      - key: istio-injection
        operator: DoesNotExist
    objectSelector:
      matchExpressions:
      - key: sidecar.istio.io/inject
        operator: NotIn
        values:
        - "false"
      - key: istio.io/rev
        operator: In
        values:
        - default
    reinvocationPolicy: Never
    rules:
    - apiGroups:
      - ""
      apiVersions:
      - v1
      operations:
      - CREATE
      resources:
      - pods
      scope: '*'
    sideEffects: None
    timeoutSeconds: 10
  - admissionReviewVersions:
    - v1beta1
    - v1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZGRENDQXZ5Z0F3SUJBZ0lVS0VlOGMwZXkwTUFUS0M3d21TV2ZUR2VuWXJ3d0RRWUpLb1pJaHZjTkFRRUwKQlFBd0lqRU9NQXdHQTFVRUNnd0ZTWE4wYVc4eEVEQU9CZ05WQkFNTUIxSnZiM1FnUTBFd0hoY05NalF3TXpFdwpNVFV4TmpRd1doY05NelF3TXpBNE1UVXhOalF3V2pBaU1RNHdEQVlEVlFRS0RBVkpjM1JwYnpFUU1BNEdBMVVFCkF3d0hVbTl2ZENCRFFUQ0NBaUl3RFFZSktvWklodmNOQVFFQkJRQURnZ0lQQURDQ0Fnb0NnZ0lCQU5xWUloTDgKQS9hMnIxY1dUdVhIbGFSRjhtWmtQVGVMQVd1Si9RbmRFYmpjNUhTb1NHRUZVV29oZjhjN1RqQzg1RUVGd3N4WQpKc3FnRVIyaVZGWHd6NXpJZ1N1UGhZLzh2RzczcUJCQlE0Q2FvditGVEZoTjRZaTNCbldKTG9Pa3RZbnd6dFRGCmowU2FlZDFhRFV4bk8yU3JYVThVcmJjMzdxMlNpY3pCYjEwWXlWTXNHSm1lT3JReTRWTm9VL0U1MCtPNExUd1oKR3dOMUVoejd4OFgzR1pOM1IyUG1IZUFVZFE3akRucHBra0ZFTEVLTFRPQmc1WVNFdWRBa3FydlNEVjVlWFhNNQpFZjNnUHdINDQ5MUl0RmJHT2d6V3B4aU5RY1hyVDlyb25vdERGWFVYblo4ZmpuR21zSnpLNFIxcG1pdmtXaGE0CjlPVUlBdUdVYkdLdUpJSTAxUEk3cUVudGtQOWF0eVZkVWF6VmdYMzJRc0luV0JDQTVyWERLSHZ1bFNTdEkyZDMKemQraitiMkJhVkltZUF3eGp2WHMvSk1ocEwzb0hZczhFNDZyYWhLUk1jdHl2eFJKbWNVSTFzTWs0WWEvYzJhbgo0OHpwS1NPckwvbnFjMlBtRFYxelhNQ0dSd01EZ2h6Qkw3RHpJOHpCa01WN0IzdnNtNTZxNkpxdm5rclhjaGZTClNjRlhKcjVXcjVWMWQyaWovV3JzNTQyYVF1TnNuQlFSN05BRHkrdGk0NVo4dE5lZ0cxMStHY0ZZZHNHVVdGZU8KeFN4ak9kQnp4SzhlLzZWUlRxS1BXQTdNbmdCQ0d4UkZoZjArS3Y1dFJaR1VpSFhIbTBhM1djTlVpOGlmekJLYQoxdk9WZ1ZOaENEQUkvTTFwaWg1L0hHaGQ3YUZGY2tvVm1hRzNBZ01CQUFHalFqQkFNQjBHQTFVZERnUVdCQlI2CkZ1eUdNZ1RXaStBeFA5azBCRDRBY0x0UWtUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01BNEdBMVVkRHdFQi93UUUKQXdJQzVEQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FnRUFORzVhS1diTTJmdk8ybXRVZW51eUZiTFJPa3p3dUlGaQo2STREZEwxSjY0V2VEV01GMU56TENwRW9sb240aERob1VMQm1oMVlDVHZWZmt3NXZTOVYrOWRUT2l5cHJ6NGZZCmlrWHowRjZyaytWZ2swTXRrOW1Md25seDF2a2ZGRGZCYVdnMisxb0tzNkQzak8rb0k4R0RyT0lyU3l4UG5ORVMKNVhRN25ybGFNQ3poUXpNMUpMOHRMTkc5cUdhdzYvVFRWblR5emF0VmVMdkNRcURweFQ4N21XUGNSVi9SRFJ0MAo4YUxRQzQ2dTlEVFpzaktpMURVU211dm5EOGI0TnZQU2Y2V3lhRVpyVkcwS0ZKSVRNSUpDcERCVnNCb0c0UGcrCkdrd2xZQWkwc2JqTDRVai9zdGhZNnMzYWNhUGE1Z2RIRE5iY1ZxYVdqeWsxNWdvZWJ0Ym9hTFpqRFpYSWhYc0QKdGxHRzVGLzJwUUkxZGxzT3dvS1BzYm4xNnBPaWVSbkg4SVFKQWZYU08zKy9VOCswNWx4OExNNzBpVXF3MDk0UQp2Q2s0bzBQcDdpbHN0LzBqdHZKd3Uvdld2KzBKcVV4dE1XMzk4MllFYW1VUlhMRVg3VVkyVGVJNlA3RUIwenNOCnFqZlROUTNpc1RPVUR5aGNaSmRJK3k2b1U3ZEtWb2ZQNlJDV1pJTC9NQUpLV1NQM3Z3K2NwNFUrY1dPdTZQTmcKV2hDWWNqQWVFNzJNb1ROTnhHRjNKUjZVWkd0UzUrbG1hSytxRWREWjhzYlc2bkR0azhSWHBKZHh3a1A4cnZRMApJWE0vSlVUWGJYdEJsVThiRUxidnVuTWdRc0JKeTZzeXpyd2pTcWlyakI3Y2dBMmlqMi9YSjBpV2xqb2FaRFVKCnF1akpEOU1OMDhVPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
        name: istiod
        namespace: istio-system
        path: /inject
        port: 443
    failurePolicy: Fail
    matchPolicy: Equivalent
    name: namespace.sidecar-injector.istio.io
    namespaceSelector:
      matchExpressions:
      - key: istio-injection
        operator: In
        values:
        - enabled
    objectSelector:
      matchExpressions:
      - key: sidecar.istio.io/inject
        operator: NotIn
        values:
        - "false"
    reinvocationPolicy: Never
    rules:
    - apiGroups:
      - ""
      apiVersions:
      - v1
      operations:
      - CREATE
      resources:
      - pods
      scope: '*'
    sideEffects: None
    timeoutSeconds: 10
  - admissionReviewVersions:
    - v1beta1
    - v1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZGRENDQXZ5Z0F3SUJBZ0lVS0VlOGMwZXkwTUFUS0M3d21TV2ZUR2VuWXJ3d0RRWUpLb1pJaHZjTkFRRUwKQlFBd0lqRU9NQXdHQTFVRUNnd0ZTWE4wYVc4eEVEQU9CZ05WQkFNTUIxSnZiM1FnUTBFd0hoY05NalF3TXpFdwpNVFV4TmpRd1doY05NelF3TXpBNE1UVXhOalF3V2pBaU1RNHdEQVlEVlFRS0RBVkpjM1JwYnpFUU1BNEdBMVVFCkF3d0hVbTl2ZENCRFFUQ0NBaUl3RFFZSktvWklodmNOQVFFQkJRQURnZ0lQQURDQ0Fnb0NnZ0lCQU5xWUloTDgKQS9hMnIxY1dUdVhIbGFSRjhtWmtQVGVMQVd1Si9RbmRFYmpjNUhTb1NHRUZVV29oZjhjN1RqQzg1RUVGd3N4WQpKc3FnRVIyaVZGWHd6NXpJZ1N1UGhZLzh2RzczcUJCQlE0Q2FvditGVEZoTjRZaTNCbldKTG9Pa3RZbnd6dFRGCmowU2FlZDFhRFV4bk8yU3JYVThVcmJjMzdxMlNpY3pCYjEwWXlWTXNHSm1lT3JReTRWTm9VL0U1MCtPNExUd1oKR3dOMUVoejd4OFgzR1pOM1IyUG1IZUFVZFE3akRucHBra0ZFTEVLTFRPQmc1WVNFdWRBa3FydlNEVjVlWFhNNQpFZjNnUHdINDQ5MUl0RmJHT2d6V3B4aU5RY1hyVDlyb25vdERGWFVYblo4ZmpuR21zSnpLNFIxcG1pdmtXaGE0CjlPVUlBdUdVYkdLdUpJSTAxUEk3cUVudGtQOWF0eVZkVWF6VmdYMzJRc0luV0JDQTVyWERLSHZ1bFNTdEkyZDMKemQraitiMkJhVkltZUF3eGp2WHMvSk1ocEwzb0hZczhFNDZyYWhLUk1jdHl2eFJKbWNVSTFzTWs0WWEvYzJhbgo0OHpwS1NPckwvbnFjMlBtRFYxelhNQ0dSd01EZ2h6Qkw3RHpJOHpCa01WN0IzdnNtNTZxNkpxdm5rclhjaGZTClNjRlhKcjVXcjVWMWQyaWovV3JzNTQyYVF1TnNuQlFSN05BRHkrdGk0NVo4dE5lZ0cxMStHY0ZZZHNHVVdGZU8KeFN4ak9kQnp4SzhlLzZWUlRxS1BXQTdNbmdCQ0d4UkZoZjArS3Y1dFJaR1VpSFhIbTBhM1djTlVpOGlmekJLYQoxdk9WZ1ZOaENEQUkvTTFwaWg1L0hHaGQ3YUZGY2tvVm1hRzNBZ01CQUFHalFqQkFNQjBHQTFVZERnUVdCQlI2CkZ1eUdNZ1RXaStBeFA5azBCRDRBY0x0UWtUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01BNEdBMVVkRHdFQi93UUUKQXdJQzVEQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FnRUFORzVhS1diTTJmdk8ybXRVZW51eUZiTFJPa3p3dUlGaQo2STREZEwxSjY0V2VEV01GMU56TENwRW9sb240aERob1VMQm1oMVlDVHZWZmt3NXZTOVYrOWRUT2l5cHJ6NGZZCmlrWHowRjZyaytWZ2swTXRrOW1Md25seDF2a2ZGRGZCYVdnMisxb0tzNkQzak8rb0k4R0RyT0lyU3l4UG5ORVMKNVhRN25ybGFNQ3poUXpNMUpMOHRMTkc5cUdhdzYvVFRWblR5emF0VmVMdkNRcURweFQ4N21XUGNSVi9SRFJ0MAo4YUxRQzQ2dTlEVFpzaktpMURVU211dm5EOGI0TnZQU2Y2V3lhRVpyVkcwS0ZKSVRNSUpDcERCVnNCb0c0UGcrCkdrd2xZQWkwc2JqTDRVai9zdGhZNnMzYWNhUGE1Z2RIRE5iY1ZxYVdqeWsxNWdvZWJ0Ym9hTFpqRFpYSWhYc0QKdGxHRzVGLzJwUUkxZGxzT3dvS1BzYm4xNnBPaWVSbkg4SVFKQWZYU08zKy9VOCswNWx4OExNNzBpVXF3MDk0UQp2Q2s0bzBQcDdpbHN0LzBqdHZKd3Uvdld2KzBKcVV4dE1XMzk4MllFYW1VUlhMRVg3VVkyVGVJNlA3RUIwenNOCnFqZlROUTNpc1RPVUR5aGNaSmRJK3k2b1U3ZEtWb2ZQNlJDV1pJTC9NQUpLV1NQM3Z3K2NwNFUrY1dPdTZQTmcKV2hDWWNqQWVFNzJNb1ROTnhHRjNKUjZVWkd0UzUrbG1hSytxRWREWjhzYlc2bkR0azhSWHBKZHh3a1A4cnZRMApJWE0vSlVUWGJYdEJsVThiRUxidnVuTWdRc0JKeTZzeXpyd2pTcWlyakI3Y2dBMmlqMi9YSjBpV2xqb2FaRFVKCnF1akpEOU1OMDhVPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
        name: istiod
        namespace: istio-system
        path: /inject
        port: 443
    failurePolicy: Fail
    matchPolicy: Equivalent
    name: object.sidecar-injector.istio.io
    namespaceSelector:
      matchExpressions:
      - key: istio-injection
        operator: DoesNotExist
      - key: istio.io/rev
        operator: DoesNotExist
    objectSelector:
      matchExpressions:
      - key: sidecar.istio.io/inject
        operator: In
        values:
        - "true"
      - key: istio.io/rev
        operator: DoesNotExist
    reinvocationPolicy: Never
    rules:
    - apiGroups:
      - ""
      apiVersions:
      - v1
      operations:
      - CREATE
      resources:
      - pods
      scope: '*'
    sideEffects: None
    timeoutSeconds: 10
- apiVersion: admissionregistration.k8s.io/v1
  kind: MutatingWebhookConfiguration
  metadata:
    creationTimestamp: "2024-04-07T12:56:57Z"
    generation: 3
    labels:
      app: sidecar-injector
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio.io/rev: default
      operator.istio.io/component: Pilot
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: istio-sidecar-injector
    resourceVersion: "1904654"
    uid: 096aeb22-f223-49d0-95de-c364f308bbdf
  webhooks:
  - admissionReviewVersions:
    - v1beta1
    - v1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZGRENDQXZ5Z0F3SUJBZ0lVS0VlOGMwZXkwTUFUS0M3d21TV2ZUR2VuWXJ3d0RRWUpLb1pJaHZjTkFRRUwKQlFBd0lqRU9NQXdHQTFVRUNnd0ZTWE4wYVc4eEVEQU9CZ05WQkFNTUIxSnZiM1FnUTBFd0hoY05NalF3TXpFdwpNVFV4TmpRd1doY05NelF3TXpBNE1UVXhOalF3V2pBaU1RNHdEQVlEVlFRS0RBVkpjM1JwYnpFUU1BNEdBMVVFCkF3d0hVbTl2ZENCRFFUQ0NBaUl3RFFZSktvWklodmNOQVFFQkJRQURnZ0lQQURDQ0Fnb0NnZ0lCQU5xWUloTDgKQS9hMnIxY1dUdVhIbGFSRjhtWmtQVGVMQVd1Si9RbmRFYmpjNUhTb1NHRUZVV29oZjhjN1RqQzg1RUVGd3N4WQpKc3FnRVIyaVZGWHd6NXpJZ1N1UGhZLzh2RzczcUJCQlE0Q2FvditGVEZoTjRZaTNCbldKTG9Pa3RZbnd6dFRGCmowU2FlZDFhRFV4bk8yU3JYVThVcmJjMzdxMlNpY3pCYjEwWXlWTXNHSm1lT3JReTRWTm9VL0U1MCtPNExUd1oKR3dOMUVoejd4OFgzR1pOM1IyUG1IZUFVZFE3akRucHBra0ZFTEVLTFRPQmc1WVNFdWRBa3FydlNEVjVlWFhNNQpFZjNnUHdINDQ5MUl0RmJHT2d6V3B4aU5RY1hyVDlyb25vdERGWFVYblo4ZmpuR21zSnpLNFIxcG1pdmtXaGE0CjlPVUlBdUdVYkdLdUpJSTAxUEk3cUVudGtQOWF0eVZkVWF6VmdYMzJRc0luV0JDQTVyWERLSHZ1bFNTdEkyZDMKemQraitiMkJhVkltZUF3eGp2WHMvSk1ocEwzb0hZczhFNDZyYWhLUk1jdHl2eFJKbWNVSTFzTWs0WWEvYzJhbgo0OHpwS1NPckwvbnFjMlBtRFYxelhNQ0dSd01EZ2h6Qkw3RHpJOHpCa01WN0IzdnNtNTZxNkpxdm5rclhjaGZTClNjRlhKcjVXcjVWMWQyaWovV3JzNTQyYVF1TnNuQlFSN05BRHkrdGk0NVo4dE5lZ0cxMStHY0ZZZHNHVVdGZU8KeFN4ak9kQnp4SzhlLzZWUlRxS1BXQTdNbmdCQ0d4UkZoZjArS3Y1dFJaR1VpSFhIbTBhM1djTlVpOGlmekJLYQoxdk9WZ1ZOaENEQUkvTTFwaWg1L0hHaGQ3YUZGY2tvVm1hRzNBZ01CQUFHalFqQkFNQjBHQTFVZERnUVdCQlI2CkZ1eUdNZ1RXaStBeFA5azBCRDRBY0x0UWtUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01BNEdBMVVkRHdFQi93UUUKQXdJQzVEQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FnRUFORzVhS1diTTJmdk8ybXRVZW51eUZiTFJPa3p3dUlGaQo2STREZEwxSjY0V2VEV01GMU56TENwRW9sb240aERob1VMQm1oMVlDVHZWZmt3NXZTOVYrOWRUT2l5cHJ6NGZZCmlrWHowRjZyaytWZ2swTXRrOW1Md25seDF2a2ZGRGZCYVdnMisxb0tzNkQzak8rb0k4R0RyT0lyU3l4UG5ORVMKNVhRN25ybGFNQ3poUXpNMUpMOHRMTkc5cUdhdzYvVFRWblR5emF0VmVMdkNRcURweFQ4N21XUGNSVi9SRFJ0MAo4YUxRQzQ2dTlEVFpzaktpMURVU211dm5EOGI0TnZQU2Y2V3lhRVpyVkcwS0ZKSVRNSUpDcERCVnNCb0c0UGcrCkdrd2xZQWkwc2JqTDRVai9zdGhZNnMzYWNhUGE1Z2RIRE5iY1ZxYVdqeWsxNWdvZWJ0Ym9hTFpqRFpYSWhYc0QKdGxHRzVGLzJwUUkxZGxzT3dvS1BzYm4xNnBPaWVSbkg4SVFKQWZYU08zKy9VOCswNWx4OExNNzBpVXF3MDk0UQp2Q2s0bzBQcDdpbHN0LzBqdHZKd3Uvdld2KzBKcVV4dE1XMzk4MllFYW1VUlhMRVg3VVkyVGVJNlA3RUIwenNOCnFqZlROUTNpc1RPVUR5aGNaSmRJK3k2b1U3ZEtWb2ZQNlJDV1pJTC9NQUpLV1NQM3Z3K2NwNFUrY1dPdTZQTmcKV2hDWWNqQWVFNzJNb1ROTnhHRjNKUjZVWkd0UzUrbG1hSytxRWREWjhzYlc2bkR0azhSWHBKZHh3a1A4cnZRMApJWE0vSlVUWGJYdEJsVThiRUxidnVuTWdRc0JKeTZzeXpyd2pTcWlyakI3Y2dBMmlqMi9YSjBpV2xqb2FaRFVKCnF1akpEOU1OMDhVPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
        name: istiod
        namespace: istio-system
        path: /inject
        port: 443
    failurePolicy: Fail
    matchPolicy: Equivalent
    name: rev.namespace.sidecar-injector.istio.io
    namespaceSelector:
      matchLabels:
        istio.io/deactivated: never-match
    objectSelector:
      matchLabels:
        istio.io/deactivated: never-match
    reinvocationPolicy: Never
    rules:
    - apiGroups:
      - ""
      apiVersions:
      - v1
      operations:
      - CREATE
      resources:
      - pods
      scope: '*'
    sideEffects: None
    timeoutSeconds: 10
  - admissionReviewVersions:
    - v1beta1
    - v1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZGRENDQXZ5Z0F3SUJBZ0lVS0VlOGMwZXkwTUFUS0M3d21TV2ZUR2VuWXJ3d0RRWUpLb1pJaHZjTkFRRUwKQlFBd0lqRU9NQXdHQTFVRUNnd0ZTWE4wYVc4eEVEQU9CZ05WQkFNTUIxSnZiM1FnUTBFd0hoY05NalF3TXpFdwpNVFV4TmpRd1doY05NelF3TXpBNE1UVXhOalF3V2pBaU1RNHdEQVlEVlFRS0RBVkpjM1JwYnpFUU1BNEdBMVVFCkF3d0hVbTl2ZENCRFFUQ0NBaUl3RFFZSktvWklodmNOQVFFQkJRQURnZ0lQQURDQ0Fnb0NnZ0lCQU5xWUloTDgKQS9hMnIxY1dUdVhIbGFSRjhtWmtQVGVMQVd1Si9RbmRFYmpjNUhTb1NHRUZVV29oZjhjN1RqQzg1RUVGd3N4WQpKc3FnRVIyaVZGWHd6NXpJZ1N1UGhZLzh2RzczcUJCQlE0Q2FvditGVEZoTjRZaTNCbldKTG9Pa3RZbnd6dFRGCmowU2FlZDFhRFV4bk8yU3JYVThVcmJjMzdxMlNpY3pCYjEwWXlWTXNHSm1lT3JReTRWTm9VL0U1MCtPNExUd1oKR3dOMUVoejd4OFgzR1pOM1IyUG1IZUFVZFE3akRucHBra0ZFTEVLTFRPQmc1WVNFdWRBa3FydlNEVjVlWFhNNQpFZjNnUHdINDQ5MUl0RmJHT2d6V3B4aU5RY1hyVDlyb25vdERGWFVYblo4ZmpuR21zSnpLNFIxcG1pdmtXaGE0CjlPVUlBdUdVYkdLdUpJSTAxUEk3cUVudGtQOWF0eVZkVWF6VmdYMzJRc0luV0JDQTVyWERLSHZ1bFNTdEkyZDMKemQraitiMkJhVkltZUF3eGp2WHMvSk1ocEwzb0hZczhFNDZyYWhLUk1jdHl2eFJKbWNVSTFzTWs0WWEvYzJhbgo0OHpwS1NPckwvbnFjMlBtRFYxelhNQ0dSd01EZ2h6Qkw3RHpJOHpCa01WN0IzdnNtNTZxNkpxdm5rclhjaGZTClNjRlhKcjVXcjVWMWQyaWovV3JzNTQyYVF1TnNuQlFSN05BRHkrdGk0NVo4dE5lZ0cxMStHY0ZZZHNHVVdGZU8KeFN4ak9kQnp4SzhlLzZWUlRxS1BXQTdNbmdCQ0d4UkZoZjArS3Y1dFJaR1VpSFhIbTBhM1djTlVpOGlmekJLYQoxdk9WZ1ZOaENEQUkvTTFwaWg1L0hHaGQ3YUZGY2tvVm1hRzNBZ01CQUFHalFqQkFNQjBHQTFVZERnUVdCQlI2CkZ1eUdNZ1RXaStBeFA5azBCRDRBY0x0UWtUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01BNEdBMVVkRHdFQi93UUUKQXdJQzVEQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FnRUFORzVhS1diTTJmdk8ybXRVZW51eUZiTFJPa3p3dUlGaQo2STREZEwxSjY0V2VEV01GMU56TENwRW9sb240aERob1VMQm1oMVlDVHZWZmt3NXZTOVYrOWRUT2l5cHJ6NGZZCmlrWHowRjZyaytWZ2swTXRrOW1Md25seDF2a2ZGRGZCYVdnMisxb0tzNkQzak8rb0k4R0RyT0lyU3l4UG5ORVMKNVhRN25ybGFNQ3poUXpNMUpMOHRMTkc5cUdhdzYvVFRWblR5emF0VmVMdkNRcURweFQ4N21XUGNSVi9SRFJ0MAo4YUxRQzQ2dTlEVFpzaktpMURVU211dm5EOGI0TnZQU2Y2V3lhRVpyVkcwS0ZKSVRNSUpDcERCVnNCb0c0UGcrCkdrd2xZQWkwc2JqTDRVai9zdGhZNnMzYWNhUGE1Z2RIRE5iY1ZxYVdqeWsxNWdvZWJ0Ym9hTFpqRFpYSWhYc0QKdGxHRzVGLzJwUUkxZGxzT3dvS1BzYm4xNnBPaWVSbkg4SVFKQWZYU08zKy9VOCswNWx4OExNNzBpVXF3MDk0UQp2Q2s0bzBQcDdpbHN0LzBqdHZKd3Uvdld2KzBKcVV4dE1XMzk4MllFYW1VUlhMRVg3VVkyVGVJNlA3RUIwenNOCnFqZlROUTNpc1RPVUR5aGNaSmRJK3k2b1U3ZEtWb2ZQNlJDV1pJTC9NQUpLV1NQM3Z3K2NwNFUrY1dPdTZQTmcKV2hDWWNqQWVFNzJNb1ROTnhHRjNKUjZVWkd0UzUrbG1hSytxRWREWjhzYlc2bkR0azhSWHBKZHh3a1A4cnZRMApJWE0vSlVUWGJYdEJsVThiRUxidnVuTWdRc0JKeTZzeXpyd2pTcWlyakI3Y2dBMmlqMi9YSjBpV2xqb2FaRFVKCnF1akpEOU1OMDhVPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
        name: istiod
        namespace: istio-system
        path: /inject
        port: 443
    failurePolicy: Fail
    matchPolicy: Equivalent
    name: rev.object.sidecar-injector.istio.io
    namespaceSelector:
      matchLabels:
        istio.io/deactivated: never-match
    objectSelector:
      matchLabels:
        istio.io/deactivated: never-match
    reinvocationPolicy: Never
    rules:
    - apiGroups:
      - ""
      apiVersions:
      - v1
      operations:
      - CREATE
      resources:
      - pods
      scope: '*'
    sideEffects: None
    timeoutSeconds: 10
  - admissionReviewVersions:
    - v1beta1
    - v1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZGRENDQXZ5Z0F3SUJBZ0lVS0VlOGMwZXkwTUFUS0M3d21TV2ZUR2VuWXJ3d0RRWUpLb1pJaHZjTkFRRUwKQlFBd0lqRU9NQXdHQTFVRUNnd0ZTWE4wYVc4eEVEQU9CZ05WQkFNTUIxSnZiM1FnUTBFd0hoY05NalF3TXpFdwpNVFV4TmpRd1doY05NelF3TXpBNE1UVXhOalF3V2pBaU1RNHdEQVlEVlFRS0RBVkpjM1JwYnpFUU1BNEdBMVVFCkF3d0hVbTl2ZENCRFFUQ0NBaUl3RFFZSktvWklodmNOQVFFQkJRQURnZ0lQQURDQ0Fnb0NnZ0lCQU5xWUloTDgKQS9hMnIxY1dUdVhIbGFSRjhtWmtQVGVMQVd1Si9RbmRFYmpjNUhTb1NHRUZVV29oZjhjN1RqQzg1RUVGd3N4WQpKc3FnRVIyaVZGWHd6NXpJZ1N1UGhZLzh2RzczcUJCQlE0Q2FvditGVEZoTjRZaTNCbldKTG9Pa3RZbnd6dFRGCmowU2FlZDFhRFV4bk8yU3JYVThVcmJjMzdxMlNpY3pCYjEwWXlWTXNHSm1lT3JReTRWTm9VL0U1MCtPNExUd1oKR3dOMUVoejd4OFgzR1pOM1IyUG1IZUFVZFE3akRucHBra0ZFTEVLTFRPQmc1WVNFdWRBa3FydlNEVjVlWFhNNQpFZjNnUHdINDQ5MUl0RmJHT2d6V3B4aU5RY1hyVDlyb25vdERGWFVYblo4ZmpuR21zSnpLNFIxcG1pdmtXaGE0CjlPVUlBdUdVYkdLdUpJSTAxUEk3cUVudGtQOWF0eVZkVWF6VmdYMzJRc0luV0JDQTVyWERLSHZ1bFNTdEkyZDMKemQraitiMkJhVkltZUF3eGp2WHMvSk1ocEwzb0hZczhFNDZyYWhLUk1jdHl2eFJKbWNVSTFzTWs0WWEvYzJhbgo0OHpwS1NPckwvbnFjMlBtRFYxelhNQ0dSd01EZ2h6Qkw3RHpJOHpCa01WN0IzdnNtNTZxNkpxdm5rclhjaGZTClNjRlhKcjVXcjVWMWQyaWovV3JzNTQyYVF1TnNuQlFSN05BRHkrdGk0NVo4dE5lZ0cxMStHY0ZZZHNHVVdGZU8KeFN4ak9kQnp4SzhlLzZWUlRxS1BXQTdNbmdCQ0d4UkZoZjArS3Y1dFJaR1VpSFhIbTBhM1djTlVpOGlmekJLYQoxdk9WZ1ZOaENEQUkvTTFwaWg1L0hHaGQ3YUZGY2tvVm1hRzNBZ01CQUFHalFqQkFNQjBHQTFVZERnUVdCQlI2CkZ1eUdNZ1RXaStBeFA5azBCRDRBY0x0UWtUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01BNEdBMVVkRHdFQi93UUUKQXdJQzVEQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FnRUFORzVhS1diTTJmdk8ybXRVZW51eUZiTFJPa3p3dUlGaQo2STREZEwxSjY0V2VEV01GMU56TENwRW9sb240aERob1VMQm1oMVlDVHZWZmt3NXZTOVYrOWRUT2l5cHJ6NGZZCmlrWHowRjZyaytWZ2swTXRrOW1Md25seDF2a2ZGRGZCYVdnMisxb0tzNkQzak8rb0k4R0RyT0lyU3l4UG5ORVMKNVhRN25ybGFNQ3poUXpNMUpMOHRMTkc5cUdhdzYvVFRWblR5emF0VmVMdkNRcURweFQ4N21XUGNSVi9SRFJ0MAo4YUxRQzQ2dTlEVFpzaktpMURVU211dm5EOGI0TnZQU2Y2V3lhRVpyVkcwS0ZKSVRNSUpDcERCVnNCb0c0UGcrCkdrd2xZQWkwc2JqTDRVai9zdGhZNnMzYWNhUGE1Z2RIRE5iY1ZxYVdqeWsxNWdvZWJ0Ym9hTFpqRFpYSWhYc0QKdGxHRzVGLzJwUUkxZGxzT3dvS1BzYm4xNnBPaWVSbkg4SVFKQWZYU08zKy9VOCswNWx4OExNNzBpVXF3MDk0UQp2Q2s0bzBQcDdpbHN0LzBqdHZKd3Uvdld2KzBKcVV4dE1XMzk4MllFYW1VUlhMRVg3VVkyVGVJNlA3RUIwenNOCnFqZlROUTNpc1RPVUR5aGNaSmRJK3k2b1U3ZEtWb2ZQNlJDV1pJTC9NQUpLV1NQM3Z3K2NwNFUrY1dPdTZQTmcKV2hDWWNqQWVFNzJNb1ROTnhHRjNKUjZVWkd0UzUrbG1hSytxRWREWjhzYlc2bkR0azhSWHBKZHh3a1A4cnZRMApJWE0vSlVUWGJYdEJsVThiRUxidnVuTWdRc0JKeTZzeXpyd2pTcWlyakI3Y2dBMmlqMi9YSjBpV2xqb2FaRFVKCnF1akpEOU1OMDhVPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
        name: istiod
        namespace: istio-system
        path: /inject
        port: 443
    failurePolicy: Fail
    matchPolicy: Equivalent
    name: namespace.sidecar-injector.istio.io
    namespaceSelector:
      matchLabels:
        istio.io/deactivated: never-match
    objectSelector:
      matchLabels:
        istio.io/deactivated: never-match
    reinvocationPolicy: Never
    rules:
    - apiGroups:
      - ""
      apiVersions:
      - v1
      operations:
      - CREATE
      resources:
      - pods
      scope: '*'
    sideEffects: None
    timeoutSeconds: 10
  - admissionReviewVersions:
    - v1beta1
    - v1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZGRENDQXZ5Z0F3SUJBZ0lVS0VlOGMwZXkwTUFUS0M3d21TV2ZUR2VuWXJ3d0RRWUpLb1pJaHZjTkFRRUwKQlFBd0lqRU9NQXdHQTFVRUNnd0ZTWE4wYVc4eEVEQU9CZ05WQkFNTUIxSnZiM1FnUTBFd0hoY05NalF3TXpFdwpNVFV4TmpRd1doY05NelF3TXpBNE1UVXhOalF3V2pBaU1RNHdEQVlEVlFRS0RBVkpjM1JwYnpFUU1BNEdBMVVFCkF3d0hVbTl2ZENCRFFUQ0NBaUl3RFFZSktvWklodmNOQVFFQkJRQURnZ0lQQURDQ0Fnb0NnZ0lCQU5xWUloTDgKQS9hMnIxY1dUdVhIbGFSRjhtWmtQVGVMQVd1Si9RbmRFYmpjNUhTb1NHRUZVV29oZjhjN1RqQzg1RUVGd3N4WQpKc3FnRVIyaVZGWHd6NXpJZ1N1UGhZLzh2RzczcUJCQlE0Q2FvditGVEZoTjRZaTNCbldKTG9Pa3RZbnd6dFRGCmowU2FlZDFhRFV4bk8yU3JYVThVcmJjMzdxMlNpY3pCYjEwWXlWTXNHSm1lT3JReTRWTm9VL0U1MCtPNExUd1oKR3dOMUVoejd4OFgzR1pOM1IyUG1IZUFVZFE3akRucHBra0ZFTEVLTFRPQmc1WVNFdWRBa3FydlNEVjVlWFhNNQpFZjNnUHdINDQ5MUl0RmJHT2d6V3B4aU5RY1hyVDlyb25vdERGWFVYblo4ZmpuR21zSnpLNFIxcG1pdmtXaGE0CjlPVUlBdUdVYkdLdUpJSTAxUEk3cUVudGtQOWF0eVZkVWF6VmdYMzJRc0luV0JDQTVyWERLSHZ1bFNTdEkyZDMKemQraitiMkJhVkltZUF3eGp2WHMvSk1ocEwzb0hZczhFNDZyYWhLUk1jdHl2eFJKbWNVSTFzTWs0WWEvYzJhbgo0OHpwS1NPckwvbnFjMlBtRFYxelhNQ0dSd01EZ2h6Qkw3RHpJOHpCa01WN0IzdnNtNTZxNkpxdm5rclhjaGZTClNjRlhKcjVXcjVWMWQyaWovV3JzNTQyYVF1TnNuQlFSN05BRHkrdGk0NVo4dE5lZ0cxMStHY0ZZZHNHVVdGZU8KeFN4ak9kQnp4SzhlLzZWUlRxS1BXQTdNbmdCQ0d4UkZoZjArS3Y1dFJaR1VpSFhIbTBhM1djTlVpOGlmekJLYQoxdk9WZ1ZOaENEQUkvTTFwaWg1L0hHaGQ3YUZGY2tvVm1hRzNBZ01CQUFHalFqQkFNQjBHQTFVZERnUVdCQlI2CkZ1eUdNZ1RXaStBeFA5azBCRDRBY0x0UWtUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01BNEdBMVVkRHdFQi93UUUKQXdJQzVEQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FnRUFORzVhS1diTTJmdk8ybXRVZW51eUZiTFJPa3p3dUlGaQo2STREZEwxSjY0V2VEV01GMU56TENwRW9sb240aERob1VMQm1oMVlDVHZWZmt3NXZTOVYrOWRUT2l5cHJ6NGZZCmlrWHowRjZyaytWZ2swTXRrOW1Md25seDF2a2ZGRGZCYVdnMisxb0tzNkQzak8rb0k4R0RyT0lyU3l4UG5ORVMKNVhRN25ybGFNQ3poUXpNMUpMOHRMTkc5cUdhdzYvVFRWblR5emF0VmVMdkNRcURweFQ4N21XUGNSVi9SRFJ0MAo4YUxRQzQ2dTlEVFpzaktpMURVU211dm5EOGI0TnZQU2Y2V3lhRVpyVkcwS0ZKSVRNSUpDcERCVnNCb0c0UGcrCkdrd2xZQWkwc2JqTDRVai9zdGhZNnMzYWNhUGE1Z2RIRE5iY1ZxYVdqeWsxNWdvZWJ0Ym9hTFpqRFpYSWhYc0QKdGxHRzVGLzJwUUkxZGxzT3dvS1BzYm4xNnBPaWVSbkg4SVFKQWZYU08zKy9VOCswNWx4OExNNzBpVXF3MDk0UQp2Q2s0bzBQcDdpbHN0LzBqdHZKd3Uvdld2KzBKcVV4dE1XMzk4MllFYW1VUlhMRVg3VVkyVGVJNlA3RUIwenNOCnFqZlROUTNpc1RPVUR5aGNaSmRJK3k2b1U3ZEtWb2ZQNlJDV1pJTC9NQUpLV1NQM3Z3K2NwNFUrY1dPdTZQTmcKV2hDWWNqQWVFNzJNb1ROTnhHRjNKUjZVWkd0UzUrbG1hSytxRWREWjhzYlc2bkR0azhSWHBKZHh3a1A4cnZRMApJWE0vSlVUWGJYdEJsVThiRUxidnVuTWdRc0JKeTZzeXpyd2pTcWlyakI3Y2dBMmlqMi9YSjBpV2xqb2FaRFVKCnF1akpEOU1OMDhVPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
        name: istiod
        namespace: istio-system
        path: /inject
        port: 443
    failurePolicy: Fail
    matchPolicy: Equivalent
    name: object.sidecar-injector.istio.io
    namespaceSelector:
      matchLabels:
        istio.io/deactivated: never-match
    objectSelector:
      matchLabels:
        istio.io/deactivated: never-match
    reinvocationPolicy: Never
    rules:
    - apiGroups:
      - ""
      apiVersions:
      - v1
      operations:
      - CREATE
      resources:
      - pods
      scope: '*'
    sideEffects: None
    timeoutSeconds: 10
- apiVersion: admissionregistration.k8s.io/v1
  kind: ValidatingWebhookConfiguration
  metadata:
    creationTimestamp: "2024-04-07T12:56:57Z"
    generation: 3
    labels:
      app: istiod
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      istio: istiod
      istio.io/rev: default
      operator.istio.io/component: Pilot
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: istio-validator-istio-system
    resourceVersion: "1904603"
    uid: 020ba2e7-d613-45d8-ae07-d69f065c72da
  webhooks:
  - admissionReviewVersions:
    - v1beta1
    - v1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZGRENDQXZ5Z0F3SUJBZ0lVS0VlOGMwZXkwTUFUS0M3d21TV2ZUR2VuWXJ3d0RRWUpLb1pJaHZjTkFRRUwKQlFBd0lqRU9NQXdHQTFVRUNnd0ZTWE4wYVc4eEVEQU9CZ05WQkFNTUIxSnZiM1FnUTBFd0hoY05NalF3TXpFdwpNVFV4TmpRd1doY05NelF3TXpBNE1UVXhOalF3V2pBaU1RNHdEQVlEVlFRS0RBVkpjM1JwYnpFUU1BNEdBMVVFCkF3d0hVbTl2ZENCRFFUQ0NBaUl3RFFZSktvWklodmNOQVFFQkJRQURnZ0lQQURDQ0Fnb0NnZ0lCQU5xWUloTDgKQS9hMnIxY1dUdVhIbGFSRjhtWmtQVGVMQVd1Si9RbmRFYmpjNUhTb1NHRUZVV29oZjhjN1RqQzg1RUVGd3N4WQpKc3FnRVIyaVZGWHd6NXpJZ1N1UGhZLzh2RzczcUJCQlE0Q2FvditGVEZoTjRZaTNCbldKTG9Pa3RZbnd6dFRGCmowU2FlZDFhRFV4bk8yU3JYVThVcmJjMzdxMlNpY3pCYjEwWXlWTXNHSm1lT3JReTRWTm9VL0U1MCtPNExUd1oKR3dOMUVoejd4OFgzR1pOM1IyUG1IZUFVZFE3akRucHBra0ZFTEVLTFRPQmc1WVNFdWRBa3FydlNEVjVlWFhNNQpFZjNnUHdINDQ5MUl0RmJHT2d6V3B4aU5RY1hyVDlyb25vdERGWFVYblo4ZmpuR21zSnpLNFIxcG1pdmtXaGE0CjlPVUlBdUdVYkdLdUpJSTAxUEk3cUVudGtQOWF0eVZkVWF6VmdYMzJRc0luV0JDQTVyWERLSHZ1bFNTdEkyZDMKemQraitiMkJhVkltZUF3eGp2WHMvSk1ocEwzb0hZczhFNDZyYWhLUk1jdHl2eFJKbWNVSTFzTWs0WWEvYzJhbgo0OHpwS1NPckwvbnFjMlBtRFYxelhNQ0dSd01EZ2h6Qkw3RHpJOHpCa01WN0IzdnNtNTZxNkpxdm5rclhjaGZTClNjRlhKcjVXcjVWMWQyaWovV3JzNTQyYVF1TnNuQlFSN05BRHkrdGk0NVo4dE5lZ0cxMStHY0ZZZHNHVVdGZU8KeFN4ak9kQnp4SzhlLzZWUlRxS1BXQTdNbmdCQ0d4UkZoZjArS3Y1dFJaR1VpSFhIbTBhM1djTlVpOGlmekJLYQoxdk9WZ1ZOaENEQUkvTTFwaWg1L0hHaGQ3YUZGY2tvVm1hRzNBZ01CQUFHalFqQkFNQjBHQTFVZERnUVdCQlI2CkZ1eUdNZ1RXaStBeFA5azBCRDRBY0x0UWtUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01BNEdBMVVkRHdFQi93UUUKQXdJQzVEQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FnRUFORzVhS1diTTJmdk8ybXRVZW51eUZiTFJPa3p3dUlGaQo2STREZEwxSjY0V2VEV01GMU56TENwRW9sb240aERob1VMQm1oMVlDVHZWZmt3NXZTOVYrOWRUT2l5cHJ6NGZZCmlrWHowRjZyaytWZ2swTXRrOW1Md25seDF2a2ZGRGZCYVdnMisxb0tzNkQzak8rb0k4R0RyT0lyU3l4UG5ORVMKNVhRN25ybGFNQ3poUXpNMUpMOHRMTkc5cUdhdzYvVFRWblR5emF0VmVMdkNRcURweFQ4N21XUGNSVi9SRFJ0MAo4YUxRQzQ2dTlEVFpzaktpMURVU211dm5EOGI0TnZQU2Y2V3lhRVpyVkcwS0ZKSVRNSUpDcERCVnNCb0c0UGcrCkdrd2xZQWkwc2JqTDRVai9zdGhZNnMzYWNhUGE1Z2RIRE5iY1ZxYVdqeWsxNWdvZWJ0Ym9hTFpqRFpYSWhYc0QKdGxHRzVGLzJwUUkxZGxzT3dvS1BzYm4xNnBPaWVSbkg4SVFKQWZYU08zKy9VOCswNWx4OExNNzBpVXF3MDk0UQp2Q2s0bzBQcDdpbHN0LzBqdHZKd3Uvdld2KzBKcVV4dE1XMzk4MllFYW1VUlhMRVg3VVkyVGVJNlA3RUIwenNOCnFqZlROUTNpc1RPVUR5aGNaSmRJK3k2b1U3ZEtWb2ZQNlJDV1pJTC9NQUpLV1NQM3Z3K2NwNFUrY1dPdTZQTmcKV2hDWWNqQWVFNzJNb1ROTnhHRjNKUjZVWkd0UzUrbG1hSytxRWREWjhzYlc2bkR0azhSWHBKZHh3a1A4cnZRMApJWE0vSlVUWGJYdEJsVThiRUxidnVuTWdRc0JKeTZzeXpyd2pTcWlyakI3Y2dBMmlqMi9YSjBpV2xqb2FaRFVKCnF1akpEOU1OMDhVPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
        name: istiod
        namespace: istio-system
        path: /validate
        port: 443
    failurePolicy: Fail
    matchPolicy: Equivalent
    name: rev.validation.istio.io
    namespaceSelector: {}
    objectSelector:
      matchExpressions:
      - key: istio.io/rev
        operator: In
        values:
        - default
    rules:
    - apiGroups:
      - security.istio.io
      - networking.istio.io
      - telemetry.istio.io
      - extensions.istio.io
      apiVersions:
      - '*'
      operations:
      - CREATE
      - UPDATE
      resources:
      - '*'
      scope: '*'
    sideEffects: None
    timeoutSeconds: 10
- apiVersion: admissionregistration.k8s.io/v1
  kind: ValidatingWebhookConfiguration
  metadata:
    creationTimestamp: "2024-04-07T12:57:04Z"
    generation: 2
    labels:
      app: istiod
      install.operator.istio.io/owning-resource: installed-state
      install.operator.istio.io/owning-resource-namespace: istio-system
      install.operator.istio.io/owning-resource-not-pruned: "true"
      istio: istiod
      istio.io/rev: default
      istio.io/tag: default
      operator.istio.io/component: Pilot
      operator.istio.io/managed: Reconcile
      operator.istio.io/version: 1.21.0
      release: istio
    name: istiod-default-validator
    resourceVersion: "1904657"
    uid: 14a82273-6227-4cab-803d-605e347ec588
  webhooks:
  - admissionReviewVersions:
    - v1beta1
    - v1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZGRENDQXZ5Z0F3SUJBZ0lVS0VlOGMwZXkwTUFUS0M3d21TV2ZUR2VuWXJ3d0RRWUpLb1pJaHZjTkFRRUwKQlFBd0lqRU9NQXdHQTFVRUNnd0ZTWE4wYVc4eEVEQU9CZ05WQkFNTUIxSnZiM1FnUTBFd0hoY05NalF3TXpFdwpNVFV4TmpRd1doY05NelF3TXpBNE1UVXhOalF3V2pBaU1RNHdEQVlEVlFRS0RBVkpjM1JwYnpFUU1BNEdBMVVFCkF3d0hVbTl2ZENCRFFUQ0NBaUl3RFFZSktvWklodmNOQVFFQkJRQURnZ0lQQURDQ0Fnb0NnZ0lCQU5xWUloTDgKQS9hMnIxY1dUdVhIbGFSRjhtWmtQVGVMQVd1Si9RbmRFYmpjNUhTb1NHRUZVV29oZjhjN1RqQzg1RUVGd3N4WQpKc3FnRVIyaVZGWHd6NXpJZ1N1UGhZLzh2RzczcUJCQlE0Q2FvditGVEZoTjRZaTNCbldKTG9Pa3RZbnd6dFRGCmowU2FlZDFhRFV4bk8yU3JYVThVcmJjMzdxMlNpY3pCYjEwWXlWTXNHSm1lT3JReTRWTm9VL0U1MCtPNExUd1oKR3dOMUVoejd4OFgzR1pOM1IyUG1IZUFVZFE3akRucHBra0ZFTEVLTFRPQmc1WVNFdWRBa3FydlNEVjVlWFhNNQpFZjNnUHdINDQ5MUl0RmJHT2d6V3B4aU5RY1hyVDlyb25vdERGWFVYblo4ZmpuR21zSnpLNFIxcG1pdmtXaGE0CjlPVUlBdUdVYkdLdUpJSTAxUEk3cUVudGtQOWF0eVZkVWF6VmdYMzJRc0luV0JDQTVyWERLSHZ1bFNTdEkyZDMKemQraitiMkJhVkltZUF3eGp2WHMvSk1ocEwzb0hZczhFNDZyYWhLUk1jdHl2eFJKbWNVSTFzTWs0WWEvYzJhbgo0OHpwS1NPckwvbnFjMlBtRFYxelhNQ0dSd01EZ2h6Qkw3RHpJOHpCa01WN0IzdnNtNTZxNkpxdm5rclhjaGZTClNjRlhKcjVXcjVWMWQyaWovV3JzNTQyYVF1TnNuQlFSN05BRHkrdGk0NVo4dE5lZ0cxMStHY0ZZZHNHVVdGZU8KeFN4ak9kQnp4SzhlLzZWUlRxS1BXQTdNbmdCQ0d4UkZoZjArS3Y1dFJaR1VpSFhIbTBhM1djTlVpOGlmekJLYQoxdk9WZ1ZOaENEQUkvTTFwaWg1L0hHaGQ3YUZGY2tvVm1hRzNBZ01CQUFHalFqQkFNQjBHQTFVZERnUVdCQlI2CkZ1eUdNZ1RXaStBeFA5azBCRDRBY0x0UWtUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01BNEdBMVVkRHdFQi93UUUKQXdJQzVEQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FnRUFORzVhS1diTTJmdk8ybXRVZW51eUZiTFJPa3p3dUlGaQo2STREZEwxSjY0V2VEV01GMU56TENwRW9sb240aERob1VMQm1oMVlDVHZWZmt3NXZTOVYrOWRUT2l5cHJ6NGZZCmlrWHowRjZyaytWZ2swTXRrOW1Md25seDF2a2ZGRGZCYVdnMisxb0tzNkQzak8rb0k4R0RyT0lyU3l4UG5ORVMKNVhRN25ybGFNQ3poUXpNMUpMOHRMTkc5cUdhdzYvVFRWblR5emF0VmVMdkNRcURweFQ4N21XUGNSVi9SRFJ0MAo4YUxRQzQ2dTlEVFpzaktpMURVU211dm5EOGI0TnZQU2Y2V3lhRVpyVkcwS0ZKSVRNSUpDcERCVnNCb0c0UGcrCkdrd2xZQWkwc2JqTDRVai9zdGhZNnMzYWNhUGE1Z2RIRE5iY1ZxYVdqeWsxNWdvZWJ0Ym9hTFpqRFpYSWhYc0QKdGxHRzVGLzJwUUkxZGxzT3dvS1BzYm4xNnBPaWVSbkg4SVFKQWZYU08zKy9VOCswNWx4OExNNzBpVXF3MDk0UQp2Q2s0bzBQcDdpbHN0LzBqdHZKd3Uvdld2KzBKcVV4dE1XMzk4MllFYW1VUlhMRVg3VVkyVGVJNlA3RUIwenNOCnFqZlROUTNpc1RPVUR5aGNaSmRJK3k2b1U3ZEtWb2ZQNlJDV1pJTC9NQUpLV1NQM3Z3K2NwNFUrY1dPdTZQTmcKV2hDWWNqQWVFNzJNb1ROTnhHRjNKUjZVWkd0UzUrbG1hSytxRWREWjhzYlc2bkR0azhSWHBKZHh3a1A4cnZRMApJWE0vSlVUWGJYdEJsVThiRUxidnVuTWdRc0JKeTZzeXpyd2pTcWlyakI3Y2dBMmlqMi9YSjBpV2xqb2FaRFVKCnF1akpEOU1OMDhVPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
        name: istiod
        namespace: istio-system
        path: /validate
        port: 443
    failurePolicy: Fail
    matchPolicy: Equivalent
    name: validation.istio.io
    namespaceSelector: {}
    objectSelector:
      matchExpressions:
      - key: istio.io/rev
        operator: DoesNotExist
    rules:
    - apiGroups:
      - security.istio.io
      - networking.istio.io
      - telemetry.istio.io
      - extensions.istio.io
      apiVersions:
      - '*'
      operations:
      - CREATE
      - UPDATE
      resources:
      - '*'
      scope: '*'
    sideEffects: None
    timeoutSeconds: 10
- apiVersion: admissionregistration.k8s.io/v1
  kind: ValidatingWebhookConfiguration
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"admissionregistration.k8s.io/v1","kind":"ValidatingWebhookConfiguration","metadata":{"annotations":{},"creationTimestamp":null,"name":"metallb-webhook-configuration"},"webhooks":[{"admissionReviewVersions":["v1"],"clientConfig":{"service":{"name":"webhook-service","namespace":"metallb-system","path":"/validate-metallb-io-v1beta2-bgppeer"}},"failurePolicy":"Fail","name":"bgppeersvalidationwebhook.metallb.io","rules":[{"apiGroups":["metallb.io"],"apiVersions":["v1beta2"],"operations":["CREATE","UPDATE"],"resources":["bgppeers"]}],"sideEffects":"None"},{"admissionReviewVersions":["v1"],"clientConfig":{"service":{"name":"webhook-service","namespace":"metallb-system","path":"/validate-metallb-io-v1beta1-addresspool"}},"failurePolicy":"Fail","name":"addresspoolvalidationwebhook.metallb.io","rules":[{"apiGroups":["metallb.io"],"apiVersions":["v1beta1"],"operations":["CREATE","UPDATE"],"resources":["addresspools"]}],"sideEffects":"None"},{"admissionReviewVersions":["v1"],"clientConfig":{"service":{"name":"webhook-service","namespace":"metallb-system","path":"/validate-metallb-io-v1beta1-bfdprofile"}},"failurePolicy":"Fail","name":"bfdprofilevalidationwebhook.metallb.io","rules":[{"apiGroups":["metallb.io"],"apiVersions":["v1beta1"],"operations":["CREATE","DELETE"],"resources":["bfdprofiles"]}],"sideEffects":"None"},{"admissionReviewVersions":["v1"],"clientConfig":{"service":{"name":"webhook-service","namespace":"metallb-system","path":"/validate-metallb-io-v1beta1-bgpadvertisement"}},"failurePolicy":"Fail","name":"bgpadvertisementvalidationwebhook.metallb.io","rules":[{"apiGroups":["metallb.io"],"apiVersions":["v1beta1"],"operations":["CREATE","UPDATE"],"resources":["bgpadvertisements"]}],"sideEffects":"None"},{"admissionReviewVersions":["v1"],"clientConfig":{"service":{"name":"webhook-service","namespace":"metallb-system","path":"/validate-metallb-io-v1beta1-community"}},"failurePolicy":"Fail","name":"communityvalidationwebhook.metallb.io","rules":[{"apiGroups":["metallb.io"],"apiVersions":["v1beta1"],"operations":["CREATE","UPDATE"],"resources":["communities"]}],"sideEffects":"None"},{"admissionReviewVersions":["v1"],"clientConfig":{"service":{"name":"webhook-service","namespace":"metallb-system","path":"/validate-metallb-io-v1beta1-ipaddresspool"}},"failurePolicy":"Fail","name":"ipaddresspoolvalidationwebhook.metallb.io","rules":[{"apiGroups":["metallb.io"],"apiVersions":["v1beta1"],"operations":["CREATE","UPDATE"],"resources":["ipaddresspools"]}],"sideEffects":"None"},{"admissionReviewVersions":["v1"],"clientConfig":{"service":{"name":"webhook-service","namespace":"metallb-system","path":"/validate-metallb-io-v1beta1-l2advertisement"}},"failurePolicy":"Fail","name":"l2advertisementvalidationwebhook.metallb.io","rules":[{"apiGroups":["metallb.io"],"apiVersions":["v1beta1"],"operations":["CREATE","UPDATE"],"resources":["l2advertisements"]}],"sideEffects":"None"}]}
    creationTimestamp: "2024-03-09T04:14:55Z"
    generation: 2
    name: metallb-webhook-configuration
    resourceVersion: "719"
    uid: 7f973bcb-3815-406b-8ffc-c1edb27b7cad
  webhooks:
  - admissionReviewVersions:
    - v1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURFRENDQWZpZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFoTVJBd0RnWURWUVFLRXdkdFpYUmgKYkd4aU1RMHdDd1lEVlFRREV3UmpaWEowTUI0WERUSTBNRE13T1RBek1UY3hObG9YRFRNME1ETXdOekEwTVRjeApObG93SVRFUU1BNEdBMVVFQ2hNSGJXVjBZV3hzWWpFTk1Bc0dBMVVFQXhNRVkyVnlkRENDQVNJd0RRWUpLb1pJCmh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTnRzbzZwa1dacERMNHYyVFN4RU44MTZFb0paRDZwaHNGUDEKQ08wYnhrbWRQQzFYTjdObURjYWcrVWhReWZZK3ZxVEtYUmxSMjJ1YU9CWFJzMitOZFhrbVllekI4VGVKa2VIZQpTN3NFbWh4bUtGQ3ZyQXVRK1JiVmU3L093K0JmYW45QWxNUEFLQ041a2o4N3JPUGZHV1FzSDllL00vVytBN1d6CkF0eFFaaElhcjhzU04zSGFSWkJUMEhLT29XUTRkRlluMlZCNXNzVlNtT2tPNUJiL0xYRVZ1REx4TXErM0ZuSWYKN095ZnRiVnJ5eVl2Y3VSMGwwR3ArRHlpcDRnamdLNlpoZmlNY1NYSk1VL3UzZm50K1hrcGMwQWRSRzlaWHlERwpIZC8yL2o4YXZucU5zYS90Q1NZUDIycXVKMzgyKzFYb3VWeTR1TGNtNjZLUkZjUmZTdjBDQXdFQUFhTlRNRkV3CkRnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkg2OEEzVmoKVUVDMTEyaG5raG9kTXdRMS94RkNNQThHQTFVZEVRUUlNQWFDQkdObGNuUXdEUVlKS29aSWh2Y05BUUVMQlFBRApnZ0VCQUw1L2tJUU1hTGk2NnhTSHErTUtEQnJtUUw0YXRCd0o0ZEQzNEJDSVVEM21pU1d6RFZ6QTRFdzJaTmFyCkNlamFrVDk3Qjh0Y3hTeitKQzljcVlBS1JYZU42ejdzMVNZdElpQTUvNEFCNGRZdU96QytlRjFMOVhaeWpvd2YKVGtBb0d4LzQ4cE0rVThJSlN6NVRKelJqWG5ZOHBQYllIdVBDVDdRSVZKcVh6djJXeXNQUjl2OUQxZmhHbXBNSApKZ1BJa3o2Vzk3b1JZNFVZOTRJVlovUTJCUEtQS3M3T1BQN3ZhMnczU0RvWkk0WUJ0b2NlZkRSWmgwTFVMREVyCmNuQng1K01QaFo5ZXdHeFVDNHFHdzBCZlYyRFRFZ2w3eGtQd1Jndk5PQWt6SzQ4NXRGeWxWWUZUdktFSDVPcm4KUURoTlpGT0hOdm9TSjhLWVpJV1VKdGMyYUlBPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
        name: webhook-service
        namespace: metallb-system
        path: /validate-metallb-io-v1beta2-bgppeer
        port: 443
    failurePolicy: Fail
    matchPolicy: Equivalent
    name: bgppeersvalidationwebhook.metallb.io
    namespaceSelector: {}
    objectSelector: {}
    rules:
    - apiGroups:
      - metallb.io
      apiVersions:
      - v1beta2
      operations:
      - CREATE
      - UPDATE
      resources:
      - bgppeers
      scope: '*'
    sideEffects: None
    timeoutSeconds: 10
  - admissionReviewVersions:
    - v1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURFRENDQWZpZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFoTVJBd0RnWURWUVFLRXdkdFpYUmgKYkd4aU1RMHdDd1lEVlFRREV3UmpaWEowTUI0WERUSTBNRE13T1RBek1UY3hObG9YRFRNME1ETXdOekEwTVRjeApObG93SVRFUU1BNEdBMVVFQ2hNSGJXVjBZV3hzWWpFTk1Bc0dBMVVFQXhNRVkyVnlkRENDQVNJd0RRWUpLb1pJCmh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTnRzbzZwa1dacERMNHYyVFN4RU44MTZFb0paRDZwaHNGUDEKQ08wYnhrbWRQQzFYTjdObURjYWcrVWhReWZZK3ZxVEtYUmxSMjJ1YU9CWFJzMitOZFhrbVllekI4VGVKa2VIZQpTN3NFbWh4bUtGQ3ZyQXVRK1JiVmU3L093K0JmYW45QWxNUEFLQ041a2o4N3JPUGZHV1FzSDllL00vVytBN1d6CkF0eFFaaElhcjhzU04zSGFSWkJUMEhLT29XUTRkRlluMlZCNXNzVlNtT2tPNUJiL0xYRVZ1REx4TXErM0ZuSWYKN095ZnRiVnJ5eVl2Y3VSMGwwR3ArRHlpcDRnamdLNlpoZmlNY1NYSk1VL3UzZm50K1hrcGMwQWRSRzlaWHlERwpIZC8yL2o4YXZucU5zYS90Q1NZUDIycXVKMzgyKzFYb3VWeTR1TGNtNjZLUkZjUmZTdjBDQXdFQUFhTlRNRkV3CkRnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkg2OEEzVmoKVUVDMTEyaG5raG9kTXdRMS94RkNNQThHQTFVZEVRUUlNQWFDQkdObGNuUXdEUVlKS29aSWh2Y05BUUVMQlFBRApnZ0VCQUw1L2tJUU1hTGk2NnhTSHErTUtEQnJtUUw0YXRCd0o0ZEQzNEJDSVVEM21pU1d6RFZ6QTRFdzJaTmFyCkNlamFrVDk3Qjh0Y3hTeitKQzljcVlBS1JYZU42ejdzMVNZdElpQTUvNEFCNGRZdU96QytlRjFMOVhaeWpvd2YKVGtBb0d4LzQ4cE0rVThJSlN6NVRKelJqWG5ZOHBQYllIdVBDVDdRSVZKcVh6djJXeXNQUjl2OUQxZmhHbXBNSApKZ1BJa3o2Vzk3b1JZNFVZOTRJVlovUTJCUEtQS3M3T1BQN3ZhMnczU0RvWkk0WUJ0b2NlZkRSWmgwTFVMREVyCmNuQng1K01QaFo5ZXdHeFVDNHFHdzBCZlYyRFRFZ2w3eGtQd1Jndk5PQWt6SzQ4NXRGeWxWWUZUdktFSDVPcm4KUURoTlpGT0hOdm9TSjhLWVpJV1VKdGMyYUlBPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
        name: webhook-service
        namespace: metallb-system
        path: /validate-metallb-io-v1beta1-addresspool
        port: 443
    failurePolicy: Fail
    matchPolicy: Equivalent
    name: addresspoolvalidationwebhook.metallb.io
    namespaceSelector: {}
    objectSelector: {}
    rules:
    - apiGroups:
      - metallb.io
      apiVersions:
      - v1beta1
      operations:
      - CREATE
      - UPDATE
      resources:
      - addresspools
      scope: '*'
    sideEffects: None
    timeoutSeconds: 10
  - admissionReviewVersions:
    - v1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURFRENDQWZpZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFoTVJBd0RnWURWUVFLRXdkdFpYUmgKYkd4aU1RMHdDd1lEVlFRREV3UmpaWEowTUI0WERUSTBNRE13T1RBek1UY3hObG9YRFRNME1ETXdOekEwTVRjeApObG93SVRFUU1BNEdBMVVFQ2hNSGJXVjBZV3hzWWpFTk1Bc0dBMVVFQXhNRVkyVnlkRENDQVNJd0RRWUpLb1pJCmh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTnRzbzZwa1dacERMNHYyVFN4RU44MTZFb0paRDZwaHNGUDEKQ08wYnhrbWRQQzFYTjdObURjYWcrVWhReWZZK3ZxVEtYUmxSMjJ1YU9CWFJzMitOZFhrbVllekI4VGVKa2VIZQpTN3NFbWh4bUtGQ3ZyQXVRK1JiVmU3L093K0JmYW45QWxNUEFLQ041a2o4N3JPUGZHV1FzSDllL00vVytBN1d6CkF0eFFaaElhcjhzU04zSGFSWkJUMEhLT29XUTRkRlluMlZCNXNzVlNtT2tPNUJiL0xYRVZ1REx4TXErM0ZuSWYKN095ZnRiVnJ5eVl2Y3VSMGwwR3ArRHlpcDRnamdLNlpoZmlNY1NYSk1VL3UzZm50K1hrcGMwQWRSRzlaWHlERwpIZC8yL2o4YXZucU5zYS90Q1NZUDIycXVKMzgyKzFYb3VWeTR1TGNtNjZLUkZjUmZTdjBDQXdFQUFhTlRNRkV3CkRnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkg2OEEzVmoKVUVDMTEyaG5raG9kTXdRMS94RkNNQThHQTFVZEVRUUlNQWFDQkdObGNuUXdEUVlKS29aSWh2Y05BUUVMQlFBRApnZ0VCQUw1L2tJUU1hTGk2NnhTSHErTUtEQnJtUUw0YXRCd0o0ZEQzNEJDSVVEM21pU1d6RFZ6QTRFdzJaTmFyCkNlamFrVDk3Qjh0Y3hTeitKQzljcVlBS1JYZU42ejdzMVNZdElpQTUvNEFCNGRZdU96QytlRjFMOVhaeWpvd2YKVGtBb0d4LzQ4cE0rVThJSlN6NVRKelJqWG5ZOHBQYllIdVBDVDdRSVZKcVh6djJXeXNQUjl2OUQxZmhHbXBNSApKZ1BJa3o2Vzk3b1JZNFVZOTRJVlovUTJCUEtQS3M3T1BQN3ZhMnczU0RvWkk0WUJ0b2NlZkRSWmgwTFVMREVyCmNuQng1K01QaFo5ZXdHeFVDNHFHdzBCZlYyRFRFZ2w3eGtQd1Jndk5PQWt6SzQ4NXRGeWxWWUZUdktFSDVPcm4KUURoTlpGT0hOdm9TSjhLWVpJV1VKdGMyYUlBPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
        name: webhook-service
        namespace: metallb-system
        path: /validate-metallb-io-v1beta1-bfdprofile
        port: 443
    failurePolicy: Fail
    matchPolicy: Equivalent
    name: bfdprofilevalidationwebhook.metallb.io
    namespaceSelector: {}
    objectSelector: {}
    rules:
    - apiGroups:
      - metallb.io
      apiVersions:
      - v1beta1
      operations:
      - CREATE
      - DELETE
      resources:
      - bfdprofiles
      scope: '*'
    sideEffects: None
    timeoutSeconds: 10
  - admissionReviewVersions:
    - v1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURFRENDQWZpZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFoTVJBd0RnWURWUVFLRXdkdFpYUmgKYkd4aU1RMHdDd1lEVlFRREV3UmpaWEowTUI0WERUSTBNRE13T1RBek1UY3hObG9YRFRNME1ETXdOekEwTVRjeApObG93SVRFUU1BNEdBMVVFQ2hNSGJXVjBZV3hzWWpFTk1Bc0dBMVVFQXhNRVkyVnlkRENDQVNJd0RRWUpLb1pJCmh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTnRzbzZwa1dacERMNHYyVFN4RU44MTZFb0paRDZwaHNGUDEKQ08wYnhrbWRQQzFYTjdObURjYWcrVWhReWZZK3ZxVEtYUmxSMjJ1YU9CWFJzMitOZFhrbVllekI4VGVKa2VIZQpTN3NFbWh4bUtGQ3ZyQXVRK1JiVmU3L093K0JmYW45QWxNUEFLQ041a2o4N3JPUGZHV1FzSDllL00vVytBN1d6CkF0eFFaaElhcjhzU04zSGFSWkJUMEhLT29XUTRkRlluMlZCNXNzVlNtT2tPNUJiL0xYRVZ1REx4TXErM0ZuSWYKN095ZnRiVnJ5eVl2Y3VSMGwwR3ArRHlpcDRnamdLNlpoZmlNY1NYSk1VL3UzZm50K1hrcGMwQWRSRzlaWHlERwpIZC8yL2o4YXZucU5zYS90Q1NZUDIycXVKMzgyKzFYb3VWeTR1TGNtNjZLUkZjUmZTdjBDQXdFQUFhTlRNRkV3CkRnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkg2OEEzVmoKVUVDMTEyaG5raG9kTXdRMS94RkNNQThHQTFVZEVRUUlNQWFDQkdObGNuUXdEUVlKS29aSWh2Y05BUUVMQlFBRApnZ0VCQUw1L2tJUU1hTGk2NnhTSHErTUtEQnJtUUw0YXRCd0o0ZEQzNEJDSVVEM21pU1d6RFZ6QTRFdzJaTmFyCkNlamFrVDk3Qjh0Y3hTeitKQzljcVlBS1JYZU42ejdzMVNZdElpQTUvNEFCNGRZdU96QytlRjFMOVhaeWpvd2YKVGtBb0d4LzQ4cE0rVThJSlN6NVRKelJqWG5ZOHBQYllIdVBDVDdRSVZKcVh6djJXeXNQUjl2OUQxZmhHbXBNSApKZ1BJa3o2Vzk3b1JZNFVZOTRJVlovUTJCUEtQS3M3T1BQN3ZhMnczU0RvWkk0WUJ0b2NlZkRSWmgwTFVMREVyCmNuQng1K01QaFo5ZXdHeFVDNHFHdzBCZlYyRFRFZ2w3eGtQd1Jndk5PQWt6SzQ4NXRGeWxWWUZUdktFSDVPcm4KUURoTlpGT0hOdm9TSjhLWVpJV1VKdGMyYUlBPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
        name: webhook-service
        namespace: metallb-system
        path: /validate-metallb-io-v1beta1-bgpadvertisement
        port: 443
    failurePolicy: Fail
    matchPolicy: Equivalent
    name: bgpadvertisementvalidationwebhook.metallb.io
    namespaceSelector: {}
    objectSelector: {}
    rules:
    - apiGroups:
      - metallb.io
      apiVersions:
      - v1beta1
      operations:
      - CREATE
      - UPDATE
      resources:
      - bgpadvertisements
      scope: '*'
    sideEffects: None
    timeoutSeconds: 10
  - admissionReviewVersions:
    - v1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURFRENDQWZpZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFoTVJBd0RnWURWUVFLRXdkdFpYUmgKYkd4aU1RMHdDd1lEVlFRREV3UmpaWEowTUI0WERUSTBNRE13T1RBek1UY3hObG9YRFRNME1ETXdOekEwTVRjeApObG93SVRFUU1BNEdBMVVFQ2hNSGJXVjBZV3hzWWpFTk1Bc0dBMVVFQXhNRVkyVnlkRENDQVNJd0RRWUpLb1pJCmh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTnRzbzZwa1dacERMNHYyVFN4RU44MTZFb0paRDZwaHNGUDEKQ08wYnhrbWRQQzFYTjdObURjYWcrVWhReWZZK3ZxVEtYUmxSMjJ1YU9CWFJzMitOZFhrbVllekI4VGVKa2VIZQpTN3NFbWh4bUtGQ3ZyQXVRK1JiVmU3L093K0JmYW45QWxNUEFLQ041a2o4N3JPUGZHV1FzSDllL00vVytBN1d6CkF0eFFaaElhcjhzU04zSGFSWkJUMEhLT29XUTRkRlluMlZCNXNzVlNtT2tPNUJiL0xYRVZ1REx4TXErM0ZuSWYKN095ZnRiVnJ5eVl2Y3VSMGwwR3ArRHlpcDRnamdLNlpoZmlNY1NYSk1VL3UzZm50K1hrcGMwQWRSRzlaWHlERwpIZC8yL2o4YXZucU5zYS90Q1NZUDIycXVKMzgyKzFYb3VWeTR1TGNtNjZLUkZjUmZTdjBDQXdFQUFhTlRNRkV3CkRnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkg2OEEzVmoKVUVDMTEyaG5raG9kTXdRMS94RkNNQThHQTFVZEVRUUlNQWFDQkdObGNuUXdEUVlKS29aSWh2Y05BUUVMQlFBRApnZ0VCQUw1L2tJUU1hTGk2NnhTSHErTUtEQnJtUUw0YXRCd0o0ZEQzNEJDSVVEM21pU1d6RFZ6QTRFdzJaTmFyCkNlamFrVDk3Qjh0Y3hTeitKQzljcVlBS1JYZU42ejdzMVNZdElpQTUvNEFCNGRZdU96QytlRjFMOVhaeWpvd2YKVGtBb0d4LzQ4cE0rVThJSlN6NVRKelJqWG5ZOHBQYllIdVBDVDdRSVZKcVh6djJXeXNQUjl2OUQxZmhHbXBNSApKZ1BJa3o2Vzk3b1JZNFVZOTRJVlovUTJCUEtQS3M3T1BQN3ZhMnczU0RvWkk0WUJ0b2NlZkRSWmgwTFVMREVyCmNuQng1K01QaFo5ZXdHeFVDNHFHdzBCZlYyRFRFZ2w3eGtQd1Jndk5PQWt6SzQ4NXRGeWxWWUZUdktFSDVPcm4KUURoTlpGT0hOdm9TSjhLWVpJV1VKdGMyYUlBPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
        name: webhook-service
        namespace: metallb-system
        path: /validate-metallb-io-v1beta1-community
        port: 443
    failurePolicy: Fail
    matchPolicy: Equivalent
    name: communityvalidationwebhook.metallb.io
    namespaceSelector: {}
    objectSelector: {}
    rules:
    - apiGroups:
      - metallb.io
      apiVersions:
      - v1beta1
      operations:
      - CREATE
      - UPDATE
      resources:
      - communities
      scope: '*'
    sideEffects: None
    timeoutSeconds: 10
  - admissionReviewVersions:
    - v1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURFRENDQWZpZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFoTVJBd0RnWURWUVFLRXdkdFpYUmgKYkd4aU1RMHdDd1lEVlFRREV3UmpaWEowTUI0WERUSTBNRE13T1RBek1UY3hObG9YRFRNME1ETXdOekEwTVRjeApObG93SVRFUU1BNEdBMVVFQ2hNSGJXVjBZV3hzWWpFTk1Bc0dBMVVFQXhNRVkyVnlkRENDQVNJd0RRWUpLb1pJCmh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTnRzbzZwa1dacERMNHYyVFN4RU44MTZFb0paRDZwaHNGUDEKQ08wYnhrbWRQQzFYTjdObURjYWcrVWhReWZZK3ZxVEtYUmxSMjJ1YU9CWFJzMitOZFhrbVllekI4VGVKa2VIZQpTN3NFbWh4bUtGQ3ZyQXVRK1JiVmU3L093K0JmYW45QWxNUEFLQ041a2o4N3JPUGZHV1FzSDllL00vVytBN1d6CkF0eFFaaElhcjhzU04zSGFSWkJUMEhLT29XUTRkRlluMlZCNXNzVlNtT2tPNUJiL0xYRVZ1REx4TXErM0ZuSWYKN095ZnRiVnJ5eVl2Y3VSMGwwR3ArRHlpcDRnamdLNlpoZmlNY1NYSk1VL3UzZm50K1hrcGMwQWRSRzlaWHlERwpIZC8yL2o4YXZucU5zYS90Q1NZUDIycXVKMzgyKzFYb3VWeTR1TGNtNjZLUkZjUmZTdjBDQXdFQUFhTlRNRkV3CkRnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkg2OEEzVmoKVUVDMTEyaG5raG9kTXdRMS94RkNNQThHQTFVZEVRUUlNQWFDQkdObGNuUXdEUVlKS29aSWh2Y05BUUVMQlFBRApnZ0VCQUw1L2tJUU1hTGk2NnhTSHErTUtEQnJtUUw0YXRCd0o0ZEQzNEJDSVVEM21pU1d6RFZ6QTRFdzJaTmFyCkNlamFrVDk3Qjh0Y3hTeitKQzljcVlBS1JYZU42ejdzMVNZdElpQTUvNEFCNGRZdU96QytlRjFMOVhaeWpvd2YKVGtBb0d4LzQ4cE0rVThJSlN6NVRKelJqWG5ZOHBQYllIdVBDVDdRSVZKcVh6djJXeXNQUjl2OUQxZmhHbXBNSApKZ1BJa3o2Vzk3b1JZNFVZOTRJVlovUTJCUEtQS3M3T1BQN3ZhMnczU0RvWkk0WUJ0b2NlZkRSWmgwTFVMREVyCmNuQng1K01QaFo5ZXdHeFVDNHFHdzBCZlYyRFRFZ2w3eGtQd1Jndk5PQWt6SzQ4NXRGeWxWWUZUdktFSDVPcm4KUURoTlpGT0hOdm9TSjhLWVpJV1VKdGMyYUlBPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
        name: webhook-service
        namespace: metallb-system
        path: /validate-metallb-io-v1beta1-ipaddresspool
        port: 443
    failurePolicy: Fail
    matchPolicy: Equivalent
    name: ipaddresspoolvalidationwebhook.metallb.io
    namespaceSelector: {}
    objectSelector: {}
    rules:
    - apiGroups:
      - metallb.io
      apiVersions:
      - v1beta1
      operations:
      - CREATE
      - UPDATE
      resources:
      - ipaddresspools
      scope: '*'
    sideEffects: None
    timeoutSeconds: 10
  - admissionReviewVersions:
    - v1
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURFRENDQWZpZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFoTVJBd0RnWURWUVFLRXdkdFpYUmgKYkd4aU1RMHdDd1lEVlFRREV3UmpaWEowTUI0WERUSTBNRE13T1RBek1UY3hObG9YRFRNME1ETXdOekEwTVRjeApObG93SVRFUU1BNEdBMVVFQ2hNSGJXVjBZV3hzWWpFTk1Bc0dBMVVFQXhNRVkyVnlkRENDQVNJd0RRWUpLb1pJCmh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTnRzbzZwa1dacERMNHYyVFN4RU44MTZFb0paRDZwaHNGUDEKQ08wYnhrbWRQQzFYTjdObURjYWcrVWhReWZZK3ZxVEtYUmxSMjJ1YU9CWFJzMitOZFhrbVllekI4VGVKa2VIZQpTN3NFbWh4bUtGQ3ZyQXVRK1JiVmU3L093K0JmYW45QWxNUEFLQ041a2o4N3JPUGZHV1FzSDllL00vVytBN1d6CkF0eFFaaElhcjhzU04zSGFSWkJUMEhLT29XUTRkRlluMlZCNXNzVlNtT2tPNUJiL0xYRVZ1REx4TXErM0ZuSWYKN095ZnRiVnJ5eVl2Y3VSMGwwR3ArRHlpcDRnamdLNlpoZmlNY1NYSk1VL3UzZm50K1hrcGMwQWRSRzlaWHlERwpIZC8yL2o4YXZucU5zYS90Q1NZUDIycXVKMzgyKzFYb3VWeTR1TGNtNjZLUkZjUmZTdjBDQXdFQUFhTlRNRkV3CkRnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkg2OEEzVmoKVUVDMTEyaG5raG9kTXdRMS94RkNNQThHQTFVZEVRUUlNQWFDQkdObGNuUXdEUVlKS29aSWh2Y05BUUVMQlFBRApnZ0VCQUw1L2tJUU1hTGk2NnhTSHErTUtEQnJtUUw0YXRCd0o0ZEQzNEJDSVVEM21pU1d6RFZ6QTRFdzJaTmFyCkNlamFrVDk3Qjh0Y3hTeitKQzljcVlBS1JYZU42ejdzMVNZdElpQTUvNEFCNGRZdU96QytlRjFMOVhaeWpvd2YKVGtBb0d4LzQ4cE0rVThJSlN6NVRKelJqWG5ZOHBQYllIdVBDVDdRSVZKcVh6djJXeXNQUjl2OUQxZmhHbXBNSApKZ1BJa3o2Vzk3b1JZNFVZOTRJVlovUTJCUEtQS3M3T1BQN3ZhMnczU0RvWkk0WUJ0b2NlZkRSWmgwTFVMREVyCmNuQng1K01QaFo5ZXdHeFVDNHFHdzBCZlYyRFRFZ2w3eGtQd1Jndk5PQWt6SzQ4NXRGeWxWWUZUdktFSDVPcm4KUURoTlpGT0hOdm9TSjhLWVpJV1VKdGMyYUlBPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      service:
        name: webhook-service
        namespace: metallb-system
        path: /validate-metallb-io-v1beta1-l2advertisement
        port: 443
    failurePolicy: Fail
    matchPolicy: Equivalent
    name: l2advertisementvalidationwebhook.metallb.io
    namespaceSelector: {}
    objectSelector: {}
    rules:
    - apiGroups:
      - metallb.io
      apiVersions:
      - v1beta1
      operations:
      - CREATE
      - UPDATE
      resources:
      - l2advertisements
      scope: '*'
    sideEffects: None
    timeoutSeconds: 10
kind: List
metadata:
  resourceVersion: ""
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: istio
  namespace: istio-system
data:
  mesh: |-
    defaultConfig:
      discoveryAddress: istiod.istio-system.svc:15012
    defaultProviders:
      metrics:
      - prometheus
    enablePrometheusMerge: true
    rootNamespace: istio-system
    trustDomain: cluster.local
  meshNetworks: 'networks: {}'
